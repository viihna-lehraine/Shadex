import{d as B}from"./index-Bu01b8jX.js";const K=B.colors.cmyk,L=B.colors.hex,y=B.colors.hsl,T=B.colors.rgb;function F(O,o,H,E,c,Y,g){const{color:{hueToRGB:m},data:{deepClone:i}}=E,{errors:a,log:s}=Y;function G(e){return a.handleSync(()=>g.colorValue(e)?h(C(i(e))):(s.info(`Invalid CMYK value ${JSON.stringify(e)}. Returning default HSL`,"utils.color.cmykToHSL"),y),"Error converting CMYK to HSL")}function C(e){return a.handleSync(()=>{if(!g.colorValue(e))return s.info(`Invalid CMYK value ${JSON.stringify(e)}. Returning default RGB.`,"utils.color.cmykToRGB"),T;const n=i(e),r=255*(1-n.value.cyan/100)*(1-n.value.key/100),l=255*(1-n.value.magenta/100)*(1-n.value.key/100),u=255*(1-n.value.yellow/100)*(1-n.value.key/100),t={value:{red:o.asByteRange(c.percentile(r)),green:o.asByteRange(c.percentile(l)),blue:o.asByteRange(c.percentile(u))},format:"rgb"};return O.clampRGB(t)},"Error converting CMYK to RGB")}function k(e,n){return a.handleSync(()=>{if(!g.colorValue(e))return s.info(`Invalid color value ${JSON.stringify(e)}. Returning default HSL.`,"utils.color.convertHSL"),y;const r=i(e);switch(n){case"cmyk":return M(r);case"hex":return N(r);case"hsl":return i(r);case"rgb":return R(r);default:throw new Error("Invalid color format")}},"Error converting HSL to color")}function P(e){return a.handleSync(()=>{if(!g.colorValue(e))return s.info(`Invalid color value ${JSON.stringify(e)}. Returning default HSL`,"utils.color.convertToHSL"),y;const n=i(e);switch(e.format){case"cmyk":return G(n);case"hex":return p(n);case"hsl":return i(n);case"rgb":return h(n);default:throw new Error("Invalid color format")}},"Error converting color to HSL")}function p(e){return a.handleSync(()=>g.colorValue(e)?h($(i(e))):(s.info(`Invalid Hex value ${JSON.stringify(e)}. Returning default HSL`,"utils.color.hexToHSL"),y),"Error converting Hex to HSL")}function V(e){return a.handleSync(()=>{const n=i(e),r=typeof n=="string"?{value:{hex:o.asHexSet(n)},format:"hex"}:{value:{hex:o.asHexSet(n.value.hex)},format:"hex"};return p(r)},"Error converting Hex to HSL")}function $(e){return a.handleSync(()=>{if(!g.colorValue(e))return s.info(`Invalid Hex value ${JSON.stringify(e)}. Returning default RGB`,"utils.color.hexToRGB"),T;const n=i(e),r=H.stripHashFromHex(n).value.hex,l=parseInt(r,16);return{value:{red:o.asByteRange(c.percentile(l>>16&255)),green:o.asByteRange(c.percentile(l>>8&255)),blue:o.asByteRange(c.percentile(l&255))},format:"rgb"}},"Error converting Hex to RGB")}function M(e){return a.handleSync(()=>g.colorValue(e)?I(R(i(e))):(s.info(`Invalid HSL value ${JSON.stringify(e)}. Returning default CMYK.`,"utils.color.hslToCMYK"),K),"Error converting HSL to CMYK")}function N(e){return a.handleSync(()=>g.colorValue(e)?J(R(i(e))):(s.info(`Invalid HSL value ${JSON.stringify(e)}. Returning default Hex`,"utils.color.hslToHex"),L),"Error converting HSL to Hex")}function R(e){return a.handleSync(()=>{if(!g.colorValue(e))return s.info(`Invalid HSL value ${JSON.stringify(e)}. Returning default RGB`,"utils.color.hslToRGB"),T;const n=i(e),r=n.value.hue/360,l=n.value.saturation/100,u=n.value.lightness/100,t=u<.5?u*(1+l):u+l-u*l,f=2*u-t;return{value:{red:o.asByteRange(c.percentile(m(f,t,r+1/3)*255)),green:o.asByteRange(c.percentile(m(f,t,r)*255)),blue:o.asByteRange(c.percentile(m(f,t,r-1/3)*255))},format:"rgb"}},"Error converting HSL to RGB")}function I(e){return a.handleSync(()=>{if(!g.colorValue(e))return s.info(`Invalid RGB value ${JSON.stringify(e)}.. Returning default CMYK`,"utils.color.rgbToCMYK"),K;const n=i(e),r=n.value.red/255,l=n.value.green/255,u=n.value.blue/255,t=1-Math.max(r,l,u);if(t===1)return{value:{cyan:o.asPercentile(0),magenta:o.asPercentile(0),yellow:o.asPercentile(0),key:o.asPercentile(1)},format:"cmyk"};const f=1-t,S=(1-r-t)/f,d=(1-l-t)/f,x=(1-u-t)/f,v={value:{cyan:c.percentile(o.asPercentile(S)),magenta:c.percentile(o.asPercentile(d)),yellow:c.percentile(o.asPercentile(x)),key:c.percentile(o.asPercentile(t))},format:"cmyk"};return s.info(`Converted RGB ${JSON.stringify(n)} to CMYK: ${JSON.stringify(i(v))}`,"utils.color.rgbToCMYK"),v},"Error converting RGB to CMYK")}function J(e){return a.handleSync(()=>{if(!g.colorValue(e))return s.info(`Invalid RGB value ${JSON.stringify(e)}. . Returning default Hex.`,"utils.color.rgbToHex"),L;const n=i(e);return[n.value.red,n.value.green,n.value.blue].some(r=>isNaN(r)||r<0||r>255)?(s.info(`Invalid RGB values:
R=${JSON.stringify(n.value.red)}
G=${JSON.stringify(n.value.green)}
B=${JSON.stringify(n.value.blue)}
Returning default Hex.`,"utils.color.rgbToHex"),L):{value:{hex:o.asHexSet(`#${H.componentToHex(n.value.red)}${H.componentToHex(n.value.green)}${H.componentToHex(n.value.blue)}`)},format:"hex"}},"Error converting RGB to Hex")}function h(e){return a.handleSync(()=>{if(!g.colorValue(e))return s.info(`Invalid RGB value ${JSON.stringify(e)}. Returning default HSL.`,"utils.color.rgbToHSL"),y;const n=i(e),r=n.value.red/255,l=n.value.green/255,u=n.value.blue/255,t=Math.max(r,l,u),f=Math.min(r,l,u);let S=0,d=0,x=(t+f)/2;if(t!==f){const v=t-f;switch(d=x>.5?v/(2-t-f):v/(t+f),t){case r:S=(l-u)/v+(l<u?6:0);break;case l:S=(u-r)/v+2;break;case u:S=(r-l)/v+4;break}S*=60}return{value:{hue:o.asRadial(c.percentile(S)),saturation:o.asPercentile(c.percentile(d*100)),lightness:o.asPercentile(c.percentile(x*100))},format:"hsl"}},"Error converting RGB to HSL")}const w={cmykToHSL:G,cmykToRGB:C,convertHSL:k,convertToHSL:P,hexToHSL:p,hexToHSLWrapper:V,hexToRGB:$,hslToCMYK:M,hslToHex:N,hslToRGB:R,rgbToCMYK:I,rgbToHex:J,rgbToHSL:h};return a.handleSync(()=>w,"Error creating color conversion utilities sub-group.")}export{F as colorConversionUtilitiesFactory};
