import{e as F}from"./index-Bu01b8jX.js";import{d as H}from"./dom-RIiXtj4p.js";import{p as y}from"./paletteConfig-DkWxuv4B.js";const m=H.ids,C=F.app.maxColumns;function N(g,o,I,d,k,c){const{data:{deepClone:s},dom:{getElement:u}}=d,{errors:a,log:i}=k;function p(e,r){return a.handleSync(()=>{const t=s(e);return{itemID:r,colors:{cmyk:o.convertHSL(t,"cmyk").value,hex:o.convertHSL(t,"hex").value,hsl:t.value,rgb:o.convertHSL(t,"rgb").value},css:{cmyk:o.formatColorAsCSS(o.convertHSL(t,"cmyk")),hex:o.formatColorAsCSS(o.convertHSL(t,"hex")),hsl:o.formatColorAsCSS(t),rgb:o.formatColorAsCSS(o.convertHSL(t,"rgb"))}}},"Error occurred while creating palette item")}function T(e,r){return a.handleSync(()=>{const t=[];t.push(p(e,1));for(const[n,l]of r.slice(0,C-1).entries()){const h={value:{hue:g.asRadial(l),saturation:g.asPercentile(Math.random()*100),lightness:g.asPercentile(Math.random()*100)},format:"hsl"},f=p(h,n+2);t.push(f),I.updateColorBox(h,String(n+2))}for(;t.length<C;)t.push(p(e,t.length+1));return t},"Error occurred while creating palette item array")}function w(e,r){return a.handleSync(()=>({id:`${e.paletteType}_${crypto.randomUUID()}`,items:r,metadata:{columnCount:e.columnCount,limitDark:e.limitDark,limitGray:e.limitGray,limitLight:e.limitLight,timestamp:d.data.getFormattedTimestamp(),type:e.paletteType}}),"Error occurred while creating palette object")}function O(e){return a.handleSync(()=>{const r=s(e);if(!c.colorValue(r))throw i.error(`Invalid color: ${JSON.stringify(r)}`,"utils.palette.generateAllColorValues"),new Error("Invalid HSL color provided");const t=n=>o.convertHSL(r,n);return{cmyk:t("cmyk"),hex:t("hex"),hsl:r,rgb:t("rgb")}},"Error occurred while generating all color values")}function E(){return a.handleSync(()=>{const e=u(m.inputs.columnCount),r=u(m.inputs.paletteType),t=u(m.inputs.limitDarkChkbx),n=u(m.inputs.limitGrayChkbx),l=u(m.inputs.limitLightChkbx);return r||i.warn("paletteTypeOptions DOM element not found","utils.palette.getPaletteOptionsFromUI"),e||i.warn("columnCount DOM element not found","utils.palette.getPaletteOptionsFromUI"),(!t||!n||!l)&&i.warn("One or more checkboxes not found","utils.palette.getPaletteOptionsFromUI"),d.typeGuards.isPaletteType(r.value)||i.warn(`Invalid palette type: ${r.value}.`,"utils.palette.getPaletteOptionsFromUI"),{columnCount:e?parseInt(e.value,10):0,distributionType:"soft",limitDark:(t==null?void 0:t.checked)||!1,limitGray:(n==null?void 0:n.checked)||!1,limitLight:(l==null?void 0:l.checked)||!1,paletteType:r.value}},"Error occurred while getting palette options from UI")}function x(){return a.handleSync(()=>{const e={0:"analogous",1:"complementary",2:"diadic",3:"hexadic",4:"monochromatic",5:"random",6:"splitComplementary",7:"tetradic",8:"triadic"},r={0:"base",1:"chaotic",2:"soft",3:"strong"},t=Math.floor(Math.random()*Object.values(e).length),n=Math.floor(Math.random()*Object.values(r).length),l=e[t],h=r[n],f=Math.floor(Math.random()*6)+1,D=Math.random()<.5,$=Math.random()<.5,A=Math.random()<.5;return{columnCount:f,distributionType:h,limitDark:D,limitGray:$,limitLight:A,paletteType:l}},"Error occurred while getting randomized palette options")}function M(e){return a.handleSync(()=>c.colorValue(e)?S(e)||v(e)||L(e):(i.error(`Invalid HSL value ${JSON.stringify(e)}`,"utils.palette.isHSLInBounds"),!1),"Error occurred while checking if HSL is in bounds")}function S(e){return a.handleSync(()=>c.colorValue(e)?s(e).value.lightness<y.thresholds.dark:(i.error(`Invalid HSL value ${JSON.stringify(e)}`,"utils.palette.isHSLTooDark"),!1),"Error occurred while checking if HSL is too dark")}function v(e){return a.handleSync(()=>c.colorValue(e)?s(e).value.saturation<y.thresholds.gray:(i.error(`Invalid HSL value ${JSON.stringify(e)}`,"utils.palette.isHSLTooGray"),!1),"Error occurred while checking if HSL is too gray")}function L(e){return a.handleSync(()=>c.colorValue(e)?s(e).value.lightness>y.thresholds.light:(i.error("Invalid HSL value ${JSON.stringify(hsl)}","utils.palette.isHSLTooLight"),!1),"Error occurred while checking if HSL is too light")}function P(e){d.dom.getAllElements(`.${H.classes.paletteColumn}`).forEach((t,n)=>{n<e?t.classList.remove("hidden"):t.classList.add("hidden")})}const b={createPaletteItem:p,createPaletteItemArray:T,createPaletteObject:w,generateAllColorValues:O,getPaletteOptionsFromUI:E,getRandomizedPaleteOptions:x,isHSLInBounds:M,isHSLTooDark:S,isHSLTooGray:v,isHSLTooLight:L,showPaletteColumns:P};return a.handleSync(()=>b,"Error creating palette utilities group group.")}export{N as paletteUtilitiesFactory};
