import{d as w}from"./index-Bu01b8jX.js";const E=w.colors;function F(o,u,h){const{errors:s,log:c}=u,m=(r,e)=>s.handleSync(()=>{switch(r){case"cmyk":{const[t,n,a,l]=i(e,5);return{value:{cyan:o.asPercentile(t),magenta:o.asPercentile(n),yellow:o.asPercentile(a),key:o.asPercentile(l)},format:"cmyk"}}case"hex":{const t=e.startsWith("#")?e:`#${e}`;return{value:{hex:o.asHexSet(t)},format:"hex"}}case"hsl":{const[t,n,a]=i(e,4);return{value:{hue:o.asRadial(t),saturation:o.asPercentile(n),lightness:o.asPercentile(a)},format:"hsl"}}case"rgb":{const t=e.split(",").map(Number);if(t.some(isNaN))throw new Error(`Invalid RGB format for value: ${e}`);const[n,a,l]=t;return{value:{red:o.asByteRange(n),green:o.asByteRange(a),blue:o.asByteRange(l)},format:"rgb"}}default:{const t=`Unsupported color format: ${r}`;return c.error(`Failed to parse color: ${t}`,"utils.format.parseColor"),null}}},"Error parsing color",{context:{colorSpace:r,value:e},fallback:null});function f(r){return s.handleSync(()=>r.value.hex.startsWith("#")?r:{value:{hex:o.asHexSet(`#${r.value}}`)},format:"hex"},"Error occurred while adding hash to hex color.")}function g(r){return s.handleSync(()=>{const e=Math.max(0,Math.min(255,r)).toString(16);return e.length===1?"0"+e:e},"Error occurred while converting component to hex partial.")}function p(r){return s.handleSync(()=>r.length!==4?r:`#${r[1]}${r[1]}${r[2]}${r[2]}${r[3]}${r[3]}`,"Error occurred while converting short hex to long hex.")}function d(r){return s.handleSync(()=>Object.entries(r).reduce((e,[t,n])=>(e[t]=["saturation","lightness","value","cyan","magenta","yellow","key"].includes(t)?`${n}%`:n,e),{}),"Error formatting percentage values",{context:{value:r}})}function y(r){return s.handleSync(()=>h.colorValue({value:r,format:"hsl"})?{value:r,format:"hsl"}:(c.error(`Invalid HSL value ${JSON.stringify(r)}`,"utils.format.hslAddFormat"),E.hsl),"Error occurred while adding format to HSL value.")}function i(r,e){return s.handleSync(()=>{const t=r.split(",").map(n=>n.trim().endsWith("%")?parseFloat(n):parseFloat(n)*100);return t.length!==e?(c.error(`Expected ${e} components.`,"utils.format.parseComponents"),[]):t},"Error occurred while parsing components.")}function x(r){return s.handleSync(()=>{const e=`${r.value.hex}`;return r.value.hex.startsWith("#")?{value:{hex:o.asHexSet(e.slice(1))},format:"hex"}:r},"Error occurred while stripping hash from hex color.")}function S(r){return s.handleSync(()=>Object.entries(r).reduce((e,[t,n])=>{const a=typeof n=="string"&&n.endsWith("%")?parseFloat(n.slice(0,-1)):n;return e[t]=a,e},{}),"Error occurred while stripping percent from values.",{context:r})}const $={addHashToHex:f,componentToHex:g,convertShortHexToLong:p,formatPercentageValues:d,hslAddFormat:y,parseColor:m,parseComponents:i,stripHashFromHex:x,stripPercentFromValues:S};return s.handleSync(()=>$,"Error occurred while creating formatting utilities group.")}export{F as formattingUtilitiesFactory};
