import { defaults } from './defaults.js';
function randomCMYK() {
    try {
        return {
            value: {
                cyan: Math.floor(Math.random() * 101),
                magenta: Math.floor(Math.random() * 101),
                yellow: Math.floor(Math.random() * 101),
                key: Math.floor(Math.random() * 101)
            },
            format: 'cmyk'
        };
    }
    catch (error) {
        console.error(`Error generating random CMYK color: ${error}`);
        return defaults.defaultCMYK();
    }
}
function randomHex() {
    try {
        const hexDigits = '0123456789ABCDEF';
        const hexCodeArray = Array.from({ length: 6 }, () => hexDigits[Math.floor(Math.random() * hexDigits.length)]);
        return {
            value: { hex: `#${hexCodeArray.join('')}` },
            format: 'hex'
        };
    }
    catch (error) {
        console.error(`Error generating random hex color: ${error}`);
        return defaults.defaultHex();
    }
}
function randomHSL() {
    try {
        return {
            value: {
                hue: Math.floor(Math.random() * 360),
                saturation: Math.floor(Math.random() * 101),
                lightness: Math.floor(Math.random() * 101)
            },
            format: 'hsl'
        };
    }
    catch (error) {
        console.error(`Error generating random HSL color: ${error}`);
        return defaults.defaultHSL();
    }
}
function randomHSV() {
    try {
        return {
            value: {
                hue: Math.floor(Math.random() * 360),
                saturation: Math.floor(Math.random() * 101),
                value: Math.floor(Math.random() * 101)
            },
            format: 'hsv'
        };
    }
    catch (error) {
        console.error(`Error generating random HSV color: ${error}`);
        return defaults.defaultHSV();
    }
}
function randomLAB() {
    try {
        return {
            value: {
                l: Math.random() * 100,
                a: Math.random() * 256 - 128,
                b: Math.random() * 256 - 128
            },
            format: 'lab'
        };
    }
    catch (error) {
        console.error(`Error generating random LAB color: ${error}`);
        return defaults.defaultLAB();
    }
}
function randomRGB() {
    try {
        return {
            value: {
                red: Math.floor(Math.random() * 256),
                green: Math.floor(Math.random() * 256),
                blue: Math.floor(Math.random() * 256)
            },
            format: 'rgb'
        };
    }
    catch (error) {
        console.error(`Error generating random RGB color: ${error}`);
        return defaults.defaultRGB();
    }
}
function randomSL() {
    try {
        let saturation = Math.floor(Math.random() * 101);
        let lightness = Math.floor(Math.random() * 101);
        let format = 'sl';
        if (saturation > 100)
            saturation = 100;
        if (saturation < 0)
            saturation = 0;
        if (lightness > 100)
            lightness = 100;
        if (lightness < 0)
            lightness = 0;
        return { value: { saturation, lightness }, format };
    }
    catch (error) {
        console.error(`Error generating random SL color: ${error}`);
        return defaults.defaultSL();
    }
}
function randomSV() {
    try {
        let saturation = Math.floor(Math.random() * 101);
        let value = Math.floor(Math.random() * 101);
        let format = 'sv';
        if (saturation > 100)
            saturation = 100;
        if (saturation < 0)
            saturation = 0;
        if (value > 100)
            value = 100;
        if (value < 0)
            value = 0;
        return { value: { saturation, value }, format };
    }
    catch (error) {
        console.error(`Error generating random SV color: ${error}`);
        return defaults.defaultSV();
    }
}
function randomColor(initialColorSpace) {
    try {
        switch (initialColorSpace) {
            case 'cmyk':
                return random.randomCMYK();
            case 'hex':
                return random.randomHex();
            case 'hsl':
                return random.randomHSL();
            case 'hsv':
                return random.randomHSV();
            case 'lab':
                return random.randomLAB();
            case 'rgb':
                return random.randomRGB();
            default:
                return random.randomHex();
        }
    }
    catch (error) {
        console.error(`Error generating random color: ${error}`);
        return random.randomHex();
    }
}
export const random = {
    randomCMYK,
    randomHex,
    randomHSL,
    randomHSV,
    randomLAB,
    randomRGB,
    randomSL,
    randomSV,
    randomColor
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29sb3ItcmFuZG9taXplci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy91dGlscy9jb2xvci1yYW5kb21pemVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxZQUFZLENBQUM7QUFJdEMsU0FBUyxVQUFVO0lBQ2xCLElBQUksQ0FBQztRQUNKLE9BQU87WUFDTixLQUFLLEVBQUU7Z0JBQ04sSUFBSSxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxHQUFHLEdBQUcsQ0FBQztnQkFDckMsT0FBTyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxHQUFHLEdBQUcsQ0FBQztnQkFDeEMsTUFBTSxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxHQUFHLEdBQUcsQ0FBQztnQkFDdkMsR0FBRyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxHQUFHLEdBQUcsQ0FBQzthQUNwQztZQUNELE1BQU0sRUFBRSxNQUFNO1NBQ2QsQ0FBQztJQUNILENBQUM7SUFBQyxPQUFPLEtBQUssRUFBRSxDQUFDO1FBQ2hCLE9BQU8sQ0FBQyxLQUFLLENBQUMsdUNBQXVDLEtBQUssRUFBRSxDQUFDLENBQUM7UUFDOUQsT0FBTyxRQUFRLENBQUMsV0FBVyxFQUFFLENBQUM7SUFDL0IsQ0FBQztBQUNGLENBQUM7QUFFRCxTQUFTLFNBQVM7SUFDakIsSUFBSSxDQUFDO1FBQ0osTUFBTSxTQUFTLEdBQUcsa0JBQWtCLENBQUM7UUFDckMsTUFBTSxZQUFZLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FDOUIsRUFBRSxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQ2IsR0FBRyxFQUFFLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxH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Q0FBQyxTQUFTLEVBQUUsQ0FBQztZQUMzQixLQUFLLEtBQUs7Z0JBQ1QsT0FBTyxNQUFNLENBQUMsU0FBUyxFQUFFLENBQUM7WUFDM0IsS0FBSyxLQUFLO2dCQUNULE9BQU8sTUFBTSxDQUFDLFNBQVMsRUFBRSxDQUFDO1lBQzNCO2dCQUNDLE9BQU8sTUFBTSxDQUFDLFNBQVMsRUFBRSxDQUFDO1FBQzVCLENBQUM7SUFDRixDQUFDO0lBQUMsT0FBTyxLQUFLLEVBQUUsQ0FBQztRQUNoQixPQUFPLENBQUMsS0FBSyxDQUFDLGtDQUFrQyxLQUFLLEVBQUUsQ0FBQyxDQUFDO1FBQ3pELE9BQU8sTUFBTSxDQUFDLFNBQVMsRUFBRSxDQUFDO0lBQzNCLENBQUM7QUFDRixDQUFDO0FBRUQsTUFBTSxDQUFDLE1BQU0sTUFBTSxHQUFxQjtJQUN2QyxVQUFVO0lBQ1YsU0FBUztJQUNULFNBQVM7SUFDVCxTQUFTO0lBQ1QsU0FBUztJQUNULFNBQVM7SUFDVCxRQUFRO0lBQ1IsUUFBUTtJQUNSLFdBQVc7Q0FDWCxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZGVmYXVsdHMgfSBmcm9tICcuL2RlZmF1bHRzJztcbmltcG9ydCAqIGFzIGZuT2JqZWN0cyBmcm9tICcuLi9pbmRleC9mbi1vYmplY3RzJztcbmltcG9ydCAqIGFzIHR5cGVzIGZyb20gJy4uL2luZGV4L3R5cGVzJztcblxuZnVuY3Rpb24gcmFuZG9tQ01ZSygpOiB0eXBlcy5DTVlLIHtcblx0dHJ5IHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0dmFsdWU6IHtcblx0XHRcdFx0Y3lhbjogTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAxKSxcblx0XHRcdFx0bWFnZW50YTogTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAxKSxcblx0XHRcdFx0eWVsbG93OiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDEpLFxuXHRcdFx0XHRrZXk6IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMSlcblx0XHRcdH0sXG5cdFx0XHRmb3JtYXQ6ICdjbXlrJ1xuXHRcdH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0Y29uc29sZS5lcnJvcihgRXJyb3IgZ2VuZXJhdGluZyByYW5kb20gQ01ZSyBjb2xvcjogJHtlcnJvcn1gKTtcblx0XHRyZXR1cm4gZGVmYXVsdHMuZGVmYXVsdENNWUsoKTtcblx0fVxufVxuXG5mdW5jdGlvbiByYW5kb21IZXgoKTogdHlwZXMuSGV4IHtcblx0dHJ5IHtcblx0XHRjb25zdCBoZXhEaWdpdHMgPSAnMDEyMzQ1Njc4OUFCQ0RFRic7XG5cdFx0Y29uc3QgaGV4Q29kZUFycmF5ID0gQXJyYXkuZnJvbShcblx0XHRcdHsgbGVuZ3RoOiA2IH0sXG5cdFx0XHQoKSA9PiBoZXhEaWdpdHNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogaGV4RGlnaXRzLmxlbmd0aCldXG5cdFx0KTtcblxuXHRcdHJldHVybiB7XG5cdFx0XHR2YWx1ZTogeyBoZXg6IGAjJHtoZXhDb2RlQXJyYXkuam9pbignJyl9YCB9LFxuXHRcdFx0Zm9ybWF0OiAnaGV4J1xuXHRcdH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0Y29uc29sZS5lcnJvcihgRXJyb3IgZ2VuZXJhdGluZyByYW5kb20gaGV4IGNvbG9yOiAke2Vycm9yfWApO1xuXHRcdHJldHVybiBkZWZhdWx0cy5kZWZhdWx0SGV4KCk7XG5cdH1cbn1cblxuZnVuY3Rpb24gcmFuZG9tSFNMKCk6IHR5cGVzLkhTTCB7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHZhbHVlOiB7XG5cdFx0XHRcdGh1ZTogTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMzYwKSxcblx0XHRcdFx0c2F0dXJhdGlvbjogTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAxKSxcblx0XHRcdFx0bGlnaHRuZXNzOiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDEpXG5cdFx0XHR9LFxuXHRcdFx0Zm9ybWF0OiAnaHNsJ1xuXHRcdH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0Y29uc29sZS5lcnJvcihgRXJyb3IgZ2VuZXJhdGluZyByYW5kb20gSFNMIGNvbG9yOiAke2Vycm9yfWApO1xuXHRcdHJldHVybiBkZWZhdWx0cy5kZWZhdWx0SFNMKCk7XG5cdH1cbn1cblxuZnVuY3Rpb24gcmFuZG9tSFNWKCk6IHR5cGVzLkhTViB7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHZhbHVlOiB7XG5cdFx0XHRcdGh1ZTogTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMzYwKSxcblx0XHRcdFx0c2F0dXJhdGlvbjogTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAxKSxcblx0XHRcdFx0dmFsdWU6IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMSlcblx0XHRcdH0sXG5cdFx0XHRmb3JtYXQ6ICdoc3YnXG5cdFx0fTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRjb25zb2xlLmVycm9yKGBFcnJvciBnZW5lcmF0aW5nIHJhbmRvbSBIU1YgY29sb3I6ICR7ZXJyb3J9YCk7XG5cdFx0cmV0dXJuIGRlZmF1bHRzLmRlZmF1bHRIU1YoKTtcblx0fVxufVxuXG5mdW5jdGlvbiByYW5kb21MQUIoKTogdHlwZXMuTEFCIHtcblx0dHJ5IHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0dmFsdWU6IHtcblx0XHRcdFx0bDogTWF0aC5yYW5kb20oKSAqIDEwMCxcblx0XHRcdFx0YTogTWF0aC5yYW5kb20oKSAqIDI1NiAtIDEyOCxcblx0XHRcdFx0YjogTWF0aC5yYW5kb20oKSAqIDI1NiAtIDEyOFxuXHRcdFx0fSxcblx0XHRcdGZvcm1hdDogJ2xhYidcblx0XHR9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdGNvbnNvbGUuZXJyb3IoYEVycm9yIGdlbmVyYXRpbmcgcmFuZG9tIExBQiBjb2xvcjogJHtlcnJvcn1gKTtcblx0XHRyZXR1cm4gZGVmYXVsdHMuZGVmYXVsdExBQigpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIHJhbmRvbVJHQigpOiB0eXBlcy5SR0Ige1xuXHR0cnkge1xuXHRcdHJldHVybiB7XG5cdFx0XHR2YWx1ZToge1xuXHRcdFx0XHRyZWQ6IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDI1NiksXG5cdFx0XHRcdGdyZWVuOiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAyNTYpLFxuXHRcdFx0XHRibHVlOiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAyNTYpXG5cdFx0XHR9LFxuXHRcdFx0Zm9ybWF0OiAncmdiJ1xuXHRcdH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0Y29uc29sZS5lcnJvcihgRXJyb3IgZ2VuZXJhdGluZyByYW5kb20gUkdCIGNvbG9yOiAke2Vycm9yfWApO1xuXHRcdHJldHVybiBkZWZhdWx0cy5kZWZhdWx0UkdCKCk7XG5cdH1cbn1cblxuZnVuY3Rpb24gcmFuZG9tU0woKTogdHlwZXMuU0wge1xuXHR0cnkge1xuXHRcdGxldCBzYXR1cmF0aW9uID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAxKTtcblx0XHRsZXQgbGlnaHRuZXNzID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAxKTtcblx0XHRsZXQgZm9ybWF0OiAnc2wnID0gJ3NsJztcblxuXHRcdGlmIChzYXR1cmF0aW9uID4gMTAwKSBzYXR1cmF0aW9uID0gMTAwO1xuXHRcdGlmIChzYXR1cmF0aW9uIDwgMCkgc2F0dXJhdGlvbiA9IDA7XG5cdFx0aWYgKGxpZ2h0bmVzcyA+IDEwMCkgbGlnaHRuZXNzID0gMTAwO1xuXHRcdGlmIChsaWdodG5lc3MgPCAwKSBsaWdodG5lc3MgPSAwO1xuXG5cdFx0cmV0dXJuIHsgdmFsdWU6IHsgc2F0dXJhdGlvbiwgbGlnaHRuZXNzIH0sIGZvcm1hdCB9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdGNvbnNvbGUuZXJyb3IoYEVycm9yIGdlbmVyYXRpbmcgcmFuZG9tIFNMIGNvbG9yOiAke2Vycm9yfWApO1xuXHRcdHJldHVybiBkZWZhdWx0cy5kZWZhdWx0U0woKTtcblx0fVxufVxuXG5mdW5jdGlvbiByYW5kb21TVigpOiB0eXBlcy5TViB7XG5cdHRyeSB7XG5cdFx0bGV0IHNhdHVyYXRpb24gPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDEpO1xuXHRcdGxldCB2YWx1ZSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMSk7XG5cdFx0bGV0IGZvcm1hdDogJ3N2JyA9ICdzdic7XG5cblx0XHRpZiAoc2F0dXJhdGlvbiA+IDEwMCkgc2F0dXJhdGlvbiA9IDEwMDtcblx0XHRpZiAoc2F0dXJhdGlvbiA8IDApIHNhdHVyYXRpb24gPSAwO1xuXHRcdGlmICh2YWx1ZSA+IDEwMCkgdmFsdWUgPSAxMDA7XG5cdFx0aWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAwO1xuXG5cdFx0cmV0dXJuIHsgdmFsdWU6IHsgc2F0dXJhdGlvbiwgdmFsdWUgfSwgZm9ybWF0IH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0Y29uc29sZS5lcnJvcihgRXJyb3IgZ2VuZXJhdGluZyByYW5kb20gU1YgY29sb3I6ICR7ZXJyb3J9YCk7XG5cdFx0cmV0dXJuIGRlZmF1bHRzLmRlZmF1bHRTVigpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIHJhbmRvbUNvbG9yKGluaXRpYWxDb2xvclNwYWNlOiB0eXBlcy5Db2xvclNwYWNlKTogdHlwZXMuQ29sb3Ige1xuXHR0cnkge1xuXHRcdHN3aXRjaCAoaW5pdGlhbENvbG9yU3BhY2UpIHtcblx0XHRcdGNhc2UgJ2NteWsnOlxuXHRcdFx0XHRyZXR1cm4gcmFuZG9tLnJhbmRvbUNNWUsoKTtcblx0XHRcdGNhc2UgJ2hleCc6XG5cdFx0XHRcdHJldHVybiByYW5kb20ucmFuZG9tSGV4KCk7XG5cdFx0XHRjYXNlICdoc2wnOlxuXHRcdFx0XHRyZXR1cm4gcmFuZG9tLnJhbmRvbUhTTCgpO1xuXHRcdFx0Y2FzZSAnaHN2Jzpcblx0XHRcdFx0cmV0dXJuIHJhbmRvbS5yYW5kb21IU1YoKTtcblx0XHRcdGNhc2UgJ2xhYic6XG5cdFx0XHRcdHJldHVybiByYW5kb20ucmFuZG9tTEFCKCk7XG5cdFx0XHRjYXNlICdyZ2InOlxuXHRcdFx0XHRyZXR1cm4gcmFuZG9tLnJhbmRvbVJHQigpO1xuXHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0cmV0dXJuIHJhbmRvbS5yYW5kb21IZXgoKTtcblx0XHR9XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0Y29uc29sZS5lcnJvcihgRXJyb3IgZ2VuZXJhdGluZyByYW5kb20gY29sb3I6ICR7ZXJyb3J9YCk7XG5cdFx0cmV0dXJuIHJhbmRvbS5yYW5kb21IZXgoKTtcblx0fVxufVxuXG5leHBvcnQgY29uc3QgcmFuZG9tOiBmbk9iamVjdHMuUmFuZG9tID0ge1xuXHRyYW5kb21DTVlLLFxuXHRyYW5kb21IZXgsXG5cdHJhbmRvbUhTTCxcblx0cmFuZG9tSFNWLFxuXHRyYW5kb21MQUIsXG5cdHJhbmRvbVJHQixcblx0cmFuZG9tU0wsXG5cdHJhbmRvbVNWLFxuXHRyYW5kb21Db2xvclxufTtcbiJdfQ==