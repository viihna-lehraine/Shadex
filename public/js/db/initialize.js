// File: src/db/initialize.ts
import { openDB } from 'idb';
import { config } from '../config/index.js';
const dbConfig = config.db;
export async function initializeDB() {
    return openDB('paletteDB', 1, {
        upgrade: db => {
            const storeNames = Object.values(dbConfig.STORE_NAMES);
            storeNames.forEach(storeName => {
                if (!db.objectStoreNames.contains(storeName)) {
                    db.createObjectStore(storeName, { keyPath: 'key' });
                }
            });
        }
    });
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5pdGlhbGl6ZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9kYi9pbml0aWFsaXplLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLDZCQUE2QjtBQUU3QixPQUFPLEVBQUUsTUFBTSxFQUFnQixNQUFNLEtBQUssQ0FBQztBQUUzQyxPQUFPLEVBQUUsTUFBTSxFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFFNUMsTUFBTSxRQUFRLEdBQUcsTUFBTSxDQUFDLEVBQUUsQ0FBQztBQUUzQixNQUFNLENBQUMsS0FBSyxVQUFVLFlBQVk7SUFDakMsT0FBTyxNQUFNLENBQWdCLFdBQVcsRUFBRSxDQUFDLEVBQUU7UUFDNUMsT0FBTyxFQUFFLEVBQUUsQ0FBQyxFQUFFO1lBQ2IsTUFBTSxVQUFVLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsV0FBVyxDQUFDLENBQUM7WUFFdkQsVUFBVSxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsRUFBRTtnQkFDOUIsSUFBSSxDQUFDLEVBQUUsQ0FBQyxnQkFBZ0IsQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQztvQkFDOUMsRUFBRSxDQUFDLGlCQUFpQixDQUFDLFNBQVMsRUFBRSxFQUFFLE9BQU8sRUFBRSxLQUFLLEVBQUUsQ0FBQyxDQUFDO2dCQUNyRCxDQUFDO1lBQ0YsQ0FBQyxDQUFDLENBQUM7UUFDSixDQUFDO0tBQ0QsQ0FBQyxDQUFDO0FBQ0osQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8vIEZpbGU6IHNyYy9kYi9pbml0aWFsaXplLnRzXG5cbmltcG9ydCB7IG9wZW5EQiwgSURCUERhdGFiYXNlIH0gZnJvbSAnaWRiJztcbmltcG9ydCB7IFBhbGV0dGVTY2hlbWEgfSBmcm9tICcuLi9pbmRleC9pbmRleC5qcyc7XG5pbXBvcnQgeyBjb25maWcgfSBmcm9tICcuLi9jb25maWcvaW5kZXguanMnO1xuXG5jb25zdCBkYkNvbmZpZyA9IGNvbmZpZy5kYjtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGluaXRpYWxpemVEQigpOiBQcm9taXNlPElEQlBEYXRhYmFzZTxQYWxldHRlU2NoZW1hPj4ge1xuXHRyZXR1cm4gb3BlbkRCPFBhbGV0dGVTY2hlbWE+KCdwYWxldHRlREInLCAxLCB7XG5cdFx0dXBncmFkZTogZGIgPT4ge1xuXHRcdFx0Y29uc3Qgc3RvcmVOYW1lcyA9IE9iamVjdC52YWx1ZXMoZGJDb25maWcuU1RPUkVfTkFNRVMpO1xuXG5cdFx0XHRzdG9yZU5hbWVzLmZvckVhY2goc3RvcmVOYW1lID0+IHtcblx0XHRcdFx0aWYgKCFkYi5vYmplY3RTdG9yZU5hbWVzLmNvbnRhaW5zKHN0b3JlTmFtZSkpIHtcblx0XHRcdFx0XHRkYi5jcmVhdGVPYmplY3RTdG9yZShzdG9yZU5hbWUsIHsga2V5UGF0aDogJ2tleScgfSk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH1cblx0fSk7XG59XG4iXX0=