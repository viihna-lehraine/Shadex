import { genAllColorValues } from '../color-conversion/conversion.js';
import { dom } from '../dom/dom-main.js';
import { paletteHelpers } from '../helpers/palette.js';
import { random } from '../utils/color-randomizer.js';
import { core } from '../utils/core.js';
export function genDiadicHues(baseHue) {
    try {
        const clonedBaseHue = core.clone(baseHue);
        const diadicHues = [];
        const randomDistance = paletteHelpers.getWeightedRandomInterval();
        const hue1 = clonedBaseHue;
        const hue2 = (hue1 + randomDistance) % 360;
        diadicHues.push(hue1, hue2);
        return diadicHues;
    }
    catch (error) {
        console.error(`Error generating diadic hues: ${error}`);
        return [];
    }
}
export function genDiadicPalette(numBoxes, customColor = null, colorSpace = 'hex') {
    try {
        let clonedCustomColor = null;
        if (customColor) {
            if (!paletteHelpers.validateColorValues(customColor)) {
                console.error(`Invalid custom color value ${JSON.stringify(customColor)}`);
                return [];
            }
            clonedCustomColor = core.clone(customColor);
        }
        if (numBoxes < 2) {
            window.alert('To generate a diadic palette, please select a number of swatches greater than 1');
            return [];
        }
        const colors = [];
        const baseColorValues = genAllColorValues(clonedCustomColor ?? random.randomColor(colorSpace));
        const baseColor = baseColorValues[colorSpace];
        if (!baseColor) {
            throw new Error('Base color is missing in the generated values');
        }
        colors.push(baseColor);
        const baseHSL = baseColorValues.hsl;
        const diadicHues = baseHSL
            ? genDiadicHues(baseHSL.value.hue)
            : [0, 180];
        const hue = diadicHues[1];
        const sl = random.randomSL();
        const diadicColorValues = genAllColorValues({
            value: {
                hue,
                saturation: sl.value.saturation,
                lightness: sl.value.lightness
            },
            format: 'hsl'
        });
        const diadicColor = diadicColorValues[colorSpace];
        if (diadicColor) {
            colors.push(diadicColor);
        }
        while (colors.length < numBoxes) {
            const baseColorIndex = Math.floor(Math.random() * 2);
            const baseHue = diadicHues[baseColorIndex];
            const newHue = (baseHue + Math.floor(Math.random() * 11) - 5 + 360) % 360;
            const { value: { saturation, lightness } } = random.randomSL();
            const newClonedHSL = core.clone({
                value: { hue: newHue, saturation, lightness },
                format: 'hsl'
            });
            const newColorValues = genAllColorValues(newClonedHSL);
            const newColor = newColorValues[colorSpace];
            if (newColor) {
                colors.push(newColor);
            }
        }
        colors.forEach((color, index) => {
            const colorBox = document.getElementById(`color-box-${index + 1}`);
            const colorValues = genAllColorValues(color);
            const hexColor = colorValues.hex;
            if (colorBox && hexColor) {
                colorBox.style.backgroundColor = hexColor.value.hex;
                dom.populateColorTextOutputBox(color, index + 1);
            }
        });
        console.log(`Generated diadic palette: ${JSON.stringify(colors)}`);
        return colors;
    }
    catch (error) {
        console.error(`Error generating diadic palette: ${error}`);
        return [];
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGlhZGljLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL3BhbGV0dGUtZ2VuL2RpYWRpYy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSxnQ0FBZ0MsQ0FBQztBQUNuRSxPQUFPLEVBQUUsR0FBRyxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFFdEMsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBQ3BELE9BQU8sRUFBRSxNQUFNLEVBQUUsTUFBTSwyQkFBMkIsQ0FBQztBQUNuRCxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBRXJDLE1BQU0sVUFBVSxhQUFhLENBQUMsT0FBZTtJQUM1QyxJQUFJLENBQUM7UUFDSixNQUFNLGFBQWEsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQzFDLE1BQU0sVUFBVSxHQUFHLEVBQUUsQ0FBQztRQUN0QixNQUFNLGNBQWMsR0FBRyxjQUFjLENBQUMseUJBQXlCLEVBQUUsQ0FBQztRQUNsRSxNQUFNLElBQUksR0FBRyxhQUFhLENBQUM7UUFDM0IsTUFBTSxJQUFJLEdBQUcsQ0FBQyxJQUFJLEdBQUcsY0FBYyxDQUFDLEdBQUcsR0FBRyxDQUFDO1FBRTNDLFVBQVUsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBRTVCLE9BQU8sVUFBVSxDQUFDO0lBQ25CLENBQUM7SUFBQyxPQUFPLEtBQUssRUFBRSxDQUFDO1FBQ2hCLE9BQU8sQ0FBQyxLQUFLLENBQUMsaUNBQWlDLEtBQUssRUFBRSxDQUFDLENBQUM7UUFDeEQsT0FBTyxFQUFFLENBQUM7SUFDWCxDQUFDO0FBQ0YsQ0FBQztBQUVELE1BQU0sVUFBVSxnQkFBZ0IsQ0FDL0IsUUFBZ0IsRUFDaEIsY0FBa0MsSUFBSSxFQUN0QyxhQUErQixLQUFLO0lBRXBDLElBQUksQ0FBQztRQUNKLElB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R0FBRyxpQkFBaUIsQ0FBQyxZQUFZLENBQUMsQ0FBQztZQUN2RCxNQUFNLFFBQVEsR0FBRyxjQUFjLENBQUMsVUFBVSxDQUFnQixDQUFDO1lBRTNELElBQUksUUFBUSxFQUFFLENBQUM7Z0JBQ2QsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUN2QixDQUFDO1FBQ0YsQ0FBQztRQUVELE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLEVBQUU7WUFDL0IsTUFBTSxRQUFRLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxhQUFhLEtBQUssR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1lBQ25FLE1BQU0sV0FBVyxHQUFHLGlCQUFpQixDQUFDLEtBQUssQ0FBQyxDQUFDO1lBRTdDLE1BQU0sUUFBUSxHQUFHLFdBQVcsQ0FBQyxHQUFnQixDQUFDO1lBQzlDLElBQUksUUFBUSxJQUFJLFFBQVEsRUFBRSxDQUFDO2dCQUMxQixRQUFRLENBQUMsS0FBSyxDQUFDLGVBQWUsR0FBRyxRQUFRLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQztnQkFDcEQsR0FBRyxDQUFDLDBCQUEwQixDQUFDLEtBQUssRUFBRSxLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUM7WUFDbEQsQ0FBQztRQUNGLENBQUMsQ0FBQyxDQUFDO1FBRUgsT0FBTyxDQUFDLEdBQUcsQ0FBQyw2QkFBNkIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLENBQUM7UUFFbkUsT0FBTyxNQUFNLENBQUM7SUFDZixDQUFDO0lBQUMsT0FBTyxLQUFLLEVBQUUsQ0FBQztRQUNoQixPQUFPLENBQUMsS0FBSyxDQUFDLG9DQUFvQyxLQUFLLEVBQUUsQ0FBQyxDQUFDO1FBRTNELE9BQU8sRUFBRSxDQUFDO0lBQ1gsQ0FBQztBQUNGLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZW5BbGxDb2xvclZhbHVlcyB9IGZyb20gJy4uL2NvbG9yLWNvbnZlcnNpb24vY29udmVyc2lvbic7XG5pbXBvcnQgeyBkb20gfSBmcm9tICcuLi9kb20vZG9tLW1haW4nO1xuaW1wb3J0ICogYXMgdHlwZXMgZnJvbSAnLi4vaW5kZXgvdHlwZXMnO1xuaW1wb3J0IHsgcGFsZXR0ZUhlbHBlcnMgfSBmcm9tICcuLi9oZWxwZXJzL3BhbGV0dGUnO1xuaW1wb3J0IHsgcmFuZG9tIH0gZnJvbSAnLi4vdXRpbHMvY29sb3ItcmFuZG9taXplcic7XG5pbXBvcnQgeyBjb3JlIH0gZnJvbSAnLi4vdXRpbHMvY29yZSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZW5EaWFkaWNIdWVzKGJhc2VIdWU6IG51bWJlcik6IG51bWJlcltdIHtcblx0dHJ5IHtcblx0XHRjb25zdCBjbG9uZWRCYXNlSHVlID0gY29yZS5jbG9uZShiYXNlSHVlKTtcblx0XHRjb25zdCBkaWFkaWNIdWVzID0gW107XG5cdFx0Y29uc3QgcmFuZG9tRGlzdGFuY2UgPSBwYWxldHRlSGVscGVycy5nZXRXZWlnaHRlZFJhbmRvbUludGVydmFsKCk7XG5cdFx0Y29uc3QgaHVlMSA9IGNsb25lZEJhc2VIdWU7XG5cdFx0Y29uc3QgaHVlMiA9IChodWUxICsgcmFuZG9tRGlzdGFuY2UpICUgMzYwO1xuXG5cdFx0ZGlhZGljSHVlcy5wdXNoKGh1ZTEsIGh1ZTIpO1xuXG5cdFx0cmV0dXJuIGRpYWRpY0h1ZXM7XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0Y29uc29sZS5lcnJvcihgRXJyb3IgZ2VuZXJhdGluZyBkaWFkaWMgaHVlczogJHtlcnJvcn1gKTtcblx0XHRyZXR1cm4gW107XG5cdH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdlbkRpYWRpY1BhbGV0dGUoXG5cdG51bUJveGVzOiBudW1iZXIsXG5cdGN1c3RvbUNvbG9yOiB0eXBlcy5Db2xvciB8IG51bGwgPSBudWxsLFxuXHRjb2xvclNwYWNlOiB0eXBlcy5Db2xvclNwYWNlID0gJ2hleCdcbik6IHR5cGVzLkNvbG9yW10ge1xuXHR0cnkge1xuXHRcdGxldCBjbG9uZWRDdXN0b21Db2xvcjogdHlwZXMuQ29sb3IgfCBudWxsID0gbnVsbDtcblxuXHRcdGlmIChjdXN0b21Db2xvcikge1xuXHRcdFx0aWYgKCFwYWxldHRlSGVscGVycy52YWxpZGF0ZUNvbG9yVmFsdWVzKGN1c3RvbUNvbG9yKSkge1xuXHRcdFx0XHRjb25zb2xlLmVycm9yKFxuXHRcdFx0XHRcdGBJbnZhbGlkIGN1c3RvbSBjb2xvciB2YWx1ZSAke0pTT04uc3RyaW5naWZ5KGN1c3RvbUNvbG9yKX1gXG5cdFx0XHRcdCk7XG5cblx0XHRcdFx0cmV0dXJuIFtdO1xuXHRcdFx0fVxuXG5cdFx0XHRjbG9uZWRDdXN0b21Db2xvciA9IGNvcmUuY2xvbmUoY3VzdG9tQ29sb3IpO1xuXHRcdH1cblxuXHRcdGlmIChudW1Cb3hlcyA8IDIpIHtcblx0XHRcdHdpbmRvdy5hbGVydChcblx0XHRcdFx0J1RvIGdlbmVyYXRlIGEgZGlhZGljIHBhbGV0dGUsIHBsZWFzZSBzZWxlY3QgYSBudW1iZXIgb2Ygc3dhdGNoZXMgZ3JlYXRlciB0aGFuIDEnXG5cdFx0XHQpO1xuXHRcdFx0cmV0dXJuIFtdO1xuXHRcdH1cblxuXHRcdGNvbnN0IGNvbG9yczogdHlwZXMuQ29sb3JbXSA9IFtdO1xuXG5cdFx0Y29uc3QgYmFzZUNvbG9yVmFsdWVzID0gZ2VuQWxsQ29sb3JWYWx1ZXMoXG5cdFx0XHRjbG9uZWRDdXN0b21Db2xvciA/PyByYW5kb20ucmFuZG9tQ29sb3IoY29sb3JTcGFjZSlcblx0XHQpO1xuXHRcdGNvbnN0IGJhc2VDb2xvciA9IGJhc2VDb2xvclZhbHVlc1tjb2xvclNwYWNlXSBhcyB0eXBlcy5Db2xvcjtcblxuXHRcdGlmICghYmFzZUNvbG9yKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ0Jhc2UgY29sb3IgaXMgbWlzc2luZyBpbiB0aGUgZ2VuZXJhdGVkIHZhbHVlcycpO1xuXHRcdH1cblxuXHRcdGNvbG9ycy5wdXNoKGJhc2VDb2xvcik7XG5cblx0XHRjb25zdCBiYXNlSFNMID0gYmFzZUNvbG9yVmFsdWVzLmhzbCBhcyB0eXBlcy5IU0w7XG5cdFx0Y29uc3QgZGlhZGljSHVlcyA9IGJhc2VIU0xcblx0XHRcdD8gZ2VuRGlhZGljSHVlcyhiYXNlSFNMLnZhbHVlLmh1ZSlcblx0XHRcdDogWzAsIDE4MF07XG5cdFx0Y29uc3QgaHVlID0gZGlhZGljSHVlc1sxXTtcblx0XHRjb25zdCBzbCA9IHJhbmRvbS5yYW5kb21TTCgpO1xuXHRcdGNvbnN0IGRpYWRpY0NvbG9yVmFsdWVzID0gZ2VuQWxsQ29sb3JWYWx1ZXMoe1xuXHRcdFx0dmFsdWU6IHtcblx0XHRcdFx0aHVlLFxuXHRcdFx0XHRzYXR1cmF0aW9uOiBzbC52YWx1ZS5zYXR1cmF0aW9uLFxuXHRcdFx0XHRsaWdodG5lc3M6IHNsLnZhbHVlLmxpZ2h0bmVzc1xuXHRcdFx0fSxcblx0XHRcdGZvcm1hdDogJ2hzbCdcblx0XHR9KTtcblx0XHRjb25zdCBkaWFkaWNDb2xvciA9IGRpYWRpY0NvbG9yVmFsdWVzW2NvbG9yU3BhY2VdIGFzIHR5cGVzLkNvbG9yO1xuXG5cdFx0aWYgKGRpYWRpY0NvbG9yKSB7XG5cdFx0XHRjb2xvcnMucHVzaChkaWFkaWNDb2xvcik7XG5cdFx0fVxuXG5cdFx0d2hpbGUgKGNvbG9ycy5sZW5ndGggPCBudW1Cb3hlcykge1xuXHRcdFx0Y29uc3QgYmFzZUNvbG9ySW5kZXggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAyKTtcblx0XHRcdGNvbnN0IGJhc2VIdWUgPSBkaWFkaWNIdWVzW2Jhc2VDb2xvckluZGV4XTtcblx0XHRcdGNvbnN0IG5ld0h1ZSA9XG5cdFx0XHRcdChiYXNlSHVlICsgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTEpIC0gNSArIDM2MCkgJSAzNjA7XG5cdFx0XHRjb25zdCB7XG5cdFx0XHRcdHZhbHVlOiB7IHNhdHVyYXRpb24sIGxpZ2h0bmVzcyB9XG5cdFx0XHR9ID0gcmFuZG9tLnJhbmRvbVNMKCk7XG5cdFx0XHRjb25zdCBuZXdDbG9uZWRIU0w6IHR5cGVzLkhTTCA9IGNvcmUuY2xvbmUoe1xuXHRcdFx0XHR2YWx1ZTogeyBodWU6IG5ld0h1ZSwgc2F0dXJhdGlvbiwgbGlnaHRuZXNzIH0sXG5cdFx0XHRcdGZvcm1hdDogJ2hzbCdcblx0XHRcdH0pO1xuXHRcdFx0Y29uc3QgbmV3Q29sb3JWYWx1ZXMgPSBnZW5BbGxDb2xvclZhbHVlcyhuZXdDbG9uZWRIU0wpO1xuXHRcdFx0Y29uc3QgbmV3Q29sb3IgPSBuZXdDb2xvclZhbHVlc1tjb2xvclNwYWNlXSBhcyB0eXBlcy5Db2xvcjtcblxuXHRcdFx0aWYgKG5ld0NvbG9yKSB7XG5cdFx0XHRcdGNvbG9ycy5wdXNoKG5ld0NvbG9yKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRjb2xvcnMuZm9yRWFjaCgoY29sb3IsIGluZGV4KSA9PiB7XG5cdFx0XHRjb25zdCBjb2xvckJveCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBjb2xvci1ib3gtJHtpbmRleCArIDF9YCk7XG5cdFx0XHRjb25zdCBjb2xvclZhbHVlcyA9IGdlbkFsbENvbG9yVmFsdWVzKGNvbG9yKTtcblxuXHRcdFx0Y29uc3QgaGV4Q29sb3IgPSBjb2xvclZhbHVlcy5oZXggYXMgdHlwZXMuSGV4O1xuXHRcdFx0aWYgKGNvbG9yQm94ICYmIGhleENvbG9yKSB7XG5cdFx0XHRcdGNvbG9yQm94LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGhleENvbG9yLnZhbHVlLmhleDtcblx0XHRcdFx0ZG9tLnBvcHVsYXRlQ29sb3JUZXh0T3V0cHV0Qm94KGNvbG9yLCBpbmRleCArIDEpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0Y29uc29sZS5sb2coYEdlbmVyYXRlZCBkaWFkaWMgcGFsZXR0ZTogJHtKU09OLnN0cmluZ2lmeShjb2xvcnMpfWApO1xuXG5cdFx0cmV0dXJuIGNvbG9ycztcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRjb25zb2xlLmVycm9yKGBFcnJvciBnZW5lcmF0aW5nIGRpYWRpYyBwYWxldHRlOiAke2Vycm9yfWApO1xuXG5cdFx0cmV0dXJuIFtdO1xuXHR9XG59XG4iXX0=