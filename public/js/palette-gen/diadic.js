import { genAllColorValues } from '../color-conversion/conversion.js';
import { dom } from '../dom/dom-main.js';
import { paletteHelpers } from '../helpers/palette.js';
import { random } from '../utils/color-randomizer.js';
export function genDiadicHues(baseHue) {
    try {
        const diadicHues = [];
        const randomDistance = paletteHelpers.getWeightedRandomInterval();
        const hue1 = baseHue;
        const hue2 = (hue1 + randomDistance) % 360;
        diadicHues.push(hue1, hue2);
        return diadicHues;
    }
    catch (error) {
        console.error(`Error generating diadic hues: ${error}`);
        return [];
    }
}
export function genDiadicPalette(numBoxes, customColor = null, initialColorSpace = 'hex') {
    try {
        if (numBoxes < 2) {
            window.alert('To generate a diadic palette, please select a number of swatches greater than 1');
            return [];
        }
        const colors = [];
        // generate or retrieve base color
        const baseColorValues = genAllColorValues(customColor ?? random.randomColor(initialColorSpace));
        const baseColor = baseColorValues[initialColorSpace];
        if (!baseColor) {
            throw new Error('Base color is missing in the generated values');
        }
        // add base color to the palette
        colors.push(baseColor);
        // generate diadic hues based on the base hue
        const baseHSL = baseColorValues.hsl;
        const diadicHues = baseHSL
            ? genDiadicHues(baseHSL.value.hue)
            : [0, 180];
        // generate the second diadic color
        const hue = diadicHues[1];
        const sl = random.randomSL();
        const diadicColorValues = genAllColorValues({
            value: {
                hue,
                saturation: sl.value.saturation,
                lightness: sl.value.lightness
            },
            format: 'hsl'
        });
        const diadicColor = diadicColorValues[initialColorSpace];
        if (diadicColor) {
            colors.push(diadicColor);
        }
        // if additional boxes are needed, generate variations
        while (colors.length < numBoxes) {
            const baseColorIndex = Math.floor(Math.random() * 2); // select base or diadic color
            const baseHue = diadicHues[baseColorIndex];
            const newHue = (baseHue + Math.floor(Math.random() * 11) - 5 + 360) % 360;
            const { value: { saturation, lightness } } = random.randomSL();
            const newColorValues = genAllColorValues({
                value: { hue: newHue, saturation, lightness },
                format: 'hsl'
            });
            const newColor = newColorValues[initialColorSpace];
            if (newColor) {
                colors.push(newColor);
            }
        }
        // update the DOM with generated colors
        colors.forEach((color, index) => {
            const colorBox = document.getElementById(`color-box-${index + 1}`);
            const colorValues = genAllColorValues(color);
            const hexColor = colorValues.hex;
            if (colorBox && hexColor) {
                colorBox.style.backgroundColor = hexColor.value.hex;
                dom.populateColorTextOutputBox(color, index + 1);
            }
        });
        return colors;
    }
    catch (error) {
        console.error(`Error generating diadic palette: ${error}`);
        return [];
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGlhZGljLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL3BhbGV0dGUtZ2VuL2RpYWRpYy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSxnQ0FBZ0MsQ0FBQztBQUNuRSxPQUFPLEVBQUUsR0FBRyxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFFdEMsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBQ3BELE9BQU8sRUFBRSxNQUFNLEVBQUUsTUFBTSwyQkFBMkIsQ0FBQztBQUVuRCxNQUFNLFVBQVUsYUFBYSxDQUFDLE9BQWU7SUFDNUMsSUFBSSxDQUFDO1FBQ0osTUFBTSxVQUFVLEdBQUcsRUFBRSxDQUFDO1FBQ3RCLE1BQU0sY0FBYyxHQUFHLGNBQWMsQ0FBQyx5QkFBeUIsRUFBRSxDQUFDO1FBQ2xFLE1BQU0sSUFBSSxHQUFHLE9BQU8sQ0FBQztRQUNyQixNQUFNLElBQUksR0FBRyxDQUFDLElBQUksR0FBRyxjQUFjLENBQUMsR0FBRyxHQUFHLENBQUM7UUFFM0MsVUFBVSxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFFNUIsT0FBTyxVQUFVLENBQUM7SUFDbkIsQ0FBQztJQUFDLE9BQU8sS0FBSyxFQUFFLENBQUM7UUFDaEIsT0FBTyxDQUFDLEtBQUssQ0FBQyxpQ0FBaUMsS0FBSyxFQUFFLENBQUMsQ0FBQztRQUN4RCxPQUFPLEVBQUUsQ0FBQztJQUNYLENBQUM7QUFDRixDQUFDO0FBRUQsTUFBTSxVQUFVLGdCQUFnQixDQUMvQixRQUFnQixFQUNoQixjQUFrQyxJQUFJLEVBQ3RDLG9CQUFzQyxLQUFLO0lBRTNDLElBQUksQ0FBQztRQUNKLElBQUksUUFBUSxHQUFHLENBQUMsRUFBRSxDQUFDO1lBQ2xCLE1BQU0sQ0FBQyxLQUFLLENBQ1gsaUZBQWlGLENBQ2pGLENBQUM7WUFDRixPQUFPLEVBQUUsQ0FBQztRQUNY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QUU3QyxNQUFNLFFBQVEsR0FBRyxXQUFXLENBQUMsR0FBZ0IsQ0FBQztZQUM5QyxJQUFJLFFBQVEsSUFBSSxRQUFRLEVBQUUsQ0FBQztnQkFDMUIsUUFBUSxDQUFDLEtBQUssQ0FBQyxlQUFlLEdBQUcsUUFBUSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUM7Z0JBQ3BELEdBQUcsQ0FBQywwQkFBMEIsQ0FBQyxLQUFLLEVBQUUsS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDO1lBQ2xELENBQUM7UUFDRixDQUFDLENBQUMsQ0FBQztRQUVILE9BQU8sTUFBTSxDQUFDO0lBQ2YsQ0FBQztJQUFDLE9BQU8sS0FBSyxFQUFFLENBQUM7UUFDaEIsT0FBTyxDQUFDLEtBQUssQ0FBQyxvQ0FBb0MsS0FBSyxFQUFFLENBQUMsQ0FBQztRQUMzRCxPQUFPLEVBQUUsQ0FBQztJQUNYLENBQUM7QUFDRixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2VuQWxsQ29sb3JWYWx1ZXMgfSBmcm9tICcuLi9jb2xvci1jb252ZXJzaW9uL2NvbnZlcnNpb24nO1xuaW1wb3J0IHsgZG9tIH0gZnJvbSAnLi4vZG9tL2RvbS1tYWluJztcbmltcG9ydCAqIGFzIHR5cGVzIGZyb20gJy4uL2luZGV4L3R5cGVzJztcbmltcG9ydCB7IHBhbGV0dGVIZWxwZXJzIH0gZnJvbSAnLi4vaGVscGVycy9wYWxldHRlJztcbmltcG9ydCB7IHJhbmRvbSB9IGZyb20gJy4uL3V0aWxzL2NvbG9yLXJhbmRvbWl6ZXInO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2VuRGlhZGljSHVlcyhiYXNlSHVlOiBudW1iZXIpOiBudW1iZXJbXSB7XG5cdHRyeSB7XG5cdFx0Y29uc3QgZGlhZGljSHVlcyA9IFtdO1xuXHRcdGNvbnN0IHJhbmRvbURpc3RhbmNlID0gcGFsZXR0ZUhlbHBlcnMuZ2V0V2VpZ2h0ZWRSYW5kb21JbnRlcnZhbCgpO1xuXHRcdGNvbnN0IGh1ZTEgPSBiYXNlSHVlO1xuXHRcdGNvbnN0IGh1ZTIgPSAoaHVlMSArIHJhbmRvbURpc3RhbmNlKSAlIDM2MDtcblxuXHRcdGRpYWRpY0h1ZXMucHVzaChodWUxLCBodWUyKTtcblxuXHRcdHJldHVybiBkaWFkaWNIdWVzO1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdGNvbnNvbGUuZXJyb3IoYEVycm9yIGdlbmVyYXRpbmcgZGlhZGljIGh1ZXM6ICR7ZXJyb3J9YCk7XG5cdFx0cmV0dXJuIFtdO1xuXHR9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZW5EaWFkaWNQYWxldHRlKFxuXHRudW1Cb3hlczogbnVtYmVyLFxuXHRjdXN0b21Db2xvcjogdHlwZXMuQ29sb3IgfCBudWxsID0gbnVsbCxcblx0aW5pdGlhbENvbG9yU3BhY2U6IHR5cGVzLkNvbG9yU3BhY2UgPSAnaGV4J1xuKTogdHlwZXMuQ29sb3JbXSB7XG5cdHRyeSB7XG5cdFx0aWYgKG51bUJveGVzIDwgMikge1xuXHRcdFx0d2luZG93LmFsZXJ0KFxuXHRcdFx0XHQnVG8gZ2VuZXJhdGUgYSBkaWFkaWMgcGFsZXR0ZSwgcGxlYXNlIHNlbGVjdCBhIG51bWJlciBvZiBzd2F0Y2hlcyBncmVhdGVyIHRoYW4gMSdcblx0XHRcdCk7XG5cdFx0XHRyZXR1cm4gW107XG5cdFx0fVxuXG5cdFx0Y29uc3QgY29sb3JzOiB0eXBlcy5Db2xvcltdID0gW107XG5cblx0XHQvLyBnZW5lcmF0ZSBvciByZXRyaWV2ZSBiYXNlIGNvbG9yXG5cdFx0Y29uc3QgYmFzZUNvbG9yVmFsdWVzID0gZ2VuQWxsQ29sb3JWYWx1ZXMoXG5cdFx0XHRjdXN0b21Db2xvciA/PyByYW5kb20ucmFuZG9tQ29sb3IoaW5pdGlhbENvbG9yU3BhY2UpXG5cdFx0KTtcblx0XHRjb25zdCBiYXNlQ29sb3IgPSBiYXNlQ29sb3JWYWx1ZXNbaW5pdGlhbENvbG9yU3BhY2VdIGFzIHR5cGVzLkNvbG9yO1xuXG5cdFx0aWYgKCFiYXNlQ29sb3IpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcignQmFzZSBjb2xvciBpcyBtaXNzaW5nIGluIHRoZSBnZW5lcmF0ZWQgdmFsdWVzJyk7XG5cdFx0fVxuXG5cdFx0Ly8gYWRkIGJhc2UgY29sb3IgdG8gdGhlIHBhbGV0dGVcblx0XHRjb2xvcnMucHVzaChiYXNlQ29sb3IpO1xuXG5cdFx0Ly8gZ2VuZXJhdGUgZGlhZGljIGh1ZXMgYmFzZWQgb24gdGhlIGJhc2UgaHVlXG5cdFx0Y29uc3QgYmFzZUhTTCA9IGJhc2VDb2xvclZhbHVlcy5oc2wgYXMgdHlwZXMuSFNMO1xuXHRcdGNvbnN0IGRpYWRpY0h1ZXMgPSBiYXNlSFNMXG5cdFx0XHQ/IGdlbkRpYWRpY0h1ZXMoYmFzZUhTTC52YWx1ZS5odWUpXG5cdFx0XHQ6IFswLCAxODBdO1xuXG5cdFx0Ly8gZ2VuZXJhdGUgdGhlIHNlY29uZCBkaWFkaWMgY29sb3Jcblx0XHRjb25zdCBodWUgPSBkaWFkaWNIdWVzWzFdO1xuXHRcdGNvbnN0IHNsID0gcmFuZG9tLnJhbmRvbVNMKCk7XG5cdFx0Y29uc3QgZGlhZGljQ29sb3JWYWx1ZXMgPSBnZW5BbGxDb2xvclZhbHVlcyh7XG5cdFx0XHR2YWx1ZToge1xuXHRcdFx0XHRodWUsXG5cdFx0XHRcdHNhdHVyYXRpb246IHNsLnZhbHVlLnNhdHVyYXRpb24sXG5cdFx0XHRcdGxpZ2h0bmVzczogc2wudmFsdWUubGlnaHRuZXNzXG5cdFx0XHR9LFxuXHRcdFx0Zm9ybWF0OiAnaHNsJ1xuXHRcdH0pO1xuXHRcdGNvbnN0IGRpYWRpY0NvbG9yID0gZGlhZGljQ29sb3JWYWx1ZXNbaW5pdGlhbENvbG9yU3BhY2VdIGFzIHR5cGVzLkNvbG9yO1xuXG5cdFx0aWYgKGRpYWRpY0NvbG9yKSB7XG5cdFx0XHRjb2xvcnMucHVzaChkaWFkaWNDb2xvcik7XG5cdFx0fVxuXG5cdFx0Ly8gaWYgYWRkaXRpb25hbCBib3hlcyBhcmUgbmVlZGVkLCBnZW5lcmF0ZSB2YXJpYXRpb25zXG5cdFx0d2hpbGUgKGNvbG9ycy5sZW5ndGggPCBudW1Cb3hlcykge1xuXHRcdFx0Y29uc3QgYmFzZUNvbG9ySW5kZXggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAyKTsgLy8gc2VsZWN0IGJhc2Ugb3IgZGlhZGljIGNvbG9yXG5cdFx0XHRjb25zdCBiYXNlSHVlID0gZGlhZGljSHVlc1tiYXNlQ29sb3JJbmRleF07XG5cblx0XHRcdGNvbnN0IG5ld0h1ZSA9XG5cdFx0XHRcdChiYXNlSHVlICsgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTEpIC0gNSArIDM2MCkgJSAzNjA7XG5cdFx0XHRjb25zdCB7XG5cdFx0XHRcdHZhbHVlOiB7IHNhdHVyYXRpb24sIGxpZ2h0bmVzcyB9XG5cdFx0XHR9ID0gcmFuZG9tLnJhbmRvbVNMKCk7XG5cblx0XHRcdGNvbnN0IG5ld0NvbG9yVmFsdWVzID0gZ2VuQWxsQ29sb3JWYWx1ZXMoe1xuXHRcdFx0XHR2YWx1ZTogeyBodWU6IG5ld0h1ZSwgc2F0dXJhdGlvbiwgbGlnaHRuZXNzIH0sXG5cdFx0XHRcdGZvcm1hdDogJ2hzbCdcblx0XHRcdH0pO1xuXG5cdFx0XHRjb25zdCBuZXdDb2xvciA9IG5ld0NvbG9yVmFsdWVzW2luaXRpYWxDb2xvclNwYWNlXSBhcyB0eXBlcy5Db2xvcjtcblx0XHRcdGlmIChuZXdDb2xvcikge1xuXHRcdFx0XHRjb2xvcnMucHVzaChuZXdDb2xvcik7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gdXBkYXRlIHRoZSBET00gd2l0aCBnZW5lcmF0ZWQgY29sb3JzXG5cdFx0Y29sb3JzLmZvckVhY2goKGNvbG9yLCBpbmRleCkgPT4ge1xuXHRcdFx0Y29uc3QgY29sb3JCb3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgY29sb3ItYm94LSR7aW5kZXggKyAxfWApO1xuXHRcdFx0Y29uc3QgY29sb3JWYWx1ZXMgPSBnZW5BbGxDb2xvclZhbHVlcyhjb2xvcik7XG5cblx0XHRcdGNvbnN0IGhleENvbG9yID0gY29sb3JWYWx1ZXMuaGV4IGFzIHR5cGVzLkhleDtcblx0XHRcdGlmIChjb2xvckJveCAmJiBoZXhDb2xvcikge1xuXHRcdFx0XHRjb2xvckJveC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBoZXhDb2xvci52YWx1ZS5oZXg7XG5cdFx0XHRcdGRvbS5wb3B1bGF0ZUNvbG9yVGV4dE91dHB1dEJveChjb2xvciwgaW5kZXggKyAxKTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdHJldHVybiBjb2xvcnM7XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0Y29uc29sZS5lcnJvcihgRXJyb3IgZ2VuZXJhdGluZyBkaWFkaWMgcGFsZXR0ZTogJHtlcnJvcn1gKTtcblx0XHRyZXR1cm4gW107XG5cdH1cbn1cbiJdfQ==