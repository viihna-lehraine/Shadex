import { palette } from './palette-index.js';
import { random } from '../utils/color-randomizer.js';
import { guards } from '../utils/type-guards.js';
import { genAllColorValues } from '../color-conversion/conversion.js';
import { populateColorTextOutputBox } from '../dom/dom-main.js';
import { domHelpers } from '../helpers/dom.js';
export function genPaletteBox(numBoxes, colors) {
    const paletteRow = document.getElementById('palette-row');
    if (!paletteRow) {
        console.error('paletteRow is undefined');
        return;
    }
    paletteRow.innerHTML = ''; // clear the row
    let paletteBoxCount = 1;
    for (let i = 0; i < numBoxes; i++) {
        const color = colors[i];
        if (!color) {
            console.warn(`Color at index ${i} is undefined.`);
            continue;
        }
        const colorValues = genAllColorValues(color);
        const originalColorFormat = color.format;
        if (!guards.isFormat(originalColorFormat)) {
            console.warn(`Skipping unsupported color format: ${originalColorFormat}`);
            continue;
        }
        const originalColorValue = colorValues[originalColorFormat];
        if (!originalColorValue) {
            throw new Error(`Failed to generate color data for format ${originalColorFormat}`);
        }
        const { colorStripe, paletteBoxCount: newPaletteBoxCount } = domHelpers.makePaletteBox(color, paletteBoxCount);
        paletteRow.appendChild(colorStripe);
        populateColorTextOutputBox(color, paletteBoxCount);
        paletteBoxCount = newPaletteBoxCount;
    }
}
export function genSelectedPaletteType(paletteType, numBoxes, baseColor, customColor = null, initialColorSpace = 'hex') {
    switch (paletteType) {
        case 1:
            return palette.genRandomPalette(numBoxes, customColor, initialColorSpace);
        case 2:
            return palette.genComplementaryPalette(numBoxes, baseColor, initialColorSpace);
        case 3:
            return palette.genTriadicPalette(numBoxes, baseColor, initialColorSpace);
        case 4:
            return palette.genTetradicPalette(numBoxes, baseColor, initialColorSpace);
        case 5:
            return palette.genSplitComplementaryPalette(numBoxes, baseColor, initialColorSpace);
        case 6:
            return palette.genAnalogousPalette(numBoxes, baseColor, initialColorSpace);
        case 7:
            return palette.genHexadicPalette(numBoxes, baseColor, initialColorSpace);
        case 8:
            return palette.genDiadicPalette(numBoxes, baseColor, initialColorSpace);
        case 9:
            return palette.genMonochromaticPalette(numBoxes, baseColor, initialColorSpace);
        default:
            console.error('DEFAULT CASE > unable to determine color scheme');
            return [];
    }
}
export function startPaletteGen(paletteType, numBoxes, initialColorSpace = 'hex', customColor) {
    const baseColor = customColor ?? random.randomColor(initialColorSpace);
    const colors = genSelectedPaletteType(paletteType, numBoxes, baseColor, customColor, initialColorSpace);
    if (colors.length === 0) {
        console.error('Colors array is empty or undefined.');
        return;
    }
    else {
        console.log(`Colors array: ${colors}`);
    }
    genPaletteBox(numBoxes, colors);
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2VuZXJhdGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvcGFsZXR0ZS1nZW4vZ2VuZXJhdGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQzFDLE9BQU8sRUFBRSxNQUFNLEVBQUUsTUFBTSwyQkFBMkIsQ0FBQztBQUVuRCxPQUFPLEVBQUUsTUFBTSxFQUFFLE1BQU0sc0JBQXNCLENBQUM7QUFDOUMsT0FBTyxFQUFFLGlCQUFpQixFQUFFLE1BQU0sZ0NBQWdDLENBQUM7QUFDbkUsT0FBTyxFQUFFLDBCQUEwQixFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDN0QsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBRTVDLE1BQU0sVUFBVSxhQUFhLENBQUMsUUFBZ0IsRUFBRSxNQUFxQjtJQUNwRSxNQUFNLFVBQVUsR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLGFBQWEsQ0FBQyxDQUFDO0lBRTFELElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQztRQUNqQixPQUFPLENBQUMsS0FBSyxDQUFDLHlCQUF5QixDQUFDLENBQUM7UUFDekMsT0FBTztJQUNSLENBQUM7SUFFRCxVQUFVLENBQUMsU0FBUyxHQUFHLEVBQUUsQ0FBQyxDQUFDLGdCQUFnQjtJQUMzQyxJQUFJLGVBQWUsR0FBRyxDQUFDLENBQUM7SUFFeEIsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLFFBQVEsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDO1FBQ25DLE1BQU0sS0FBSyxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUV4QixJQUFJLENBQUMsS0FBSyxFQUFFLENBQUM7WUFDWixPQUFPLENBQUMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLGdCQUFnQixDQUFDLENBQUM7WUFDbEQsU0FBUztRQUNWLENBQUM7UUFFRCxNQUFNLFdBQVcsR0FBRyxpQkFBaUIsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUM3QyxNQUFNLG1CQUFtQixHQUFHLEtBQUssQ0FBQyxNQUEwQixDQUFDO1FBRTdELElBQUksQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLG1CQUFtQixDQUFDLEVBQUUsQ0FBQztZQUMzQyxPQUFPLENBQUMsSUFBSSxDQUNYLHNDQUFzQyxtQkFBbUIsRUFBRSxDQUMzRCxDQUFDO1lBQ0YsU0FBUztRQUNWLENBQUM7UUFFRCxNQUFNLGtCQUFrQixHQUFHLFdBQVcsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO1FBRTVELElBQUksQ0FBQyxrQkFBa0IsRUFBRSxDQUFDO1lBQ3pCLE1BQU0sSUFBSSxLQUFLLENBQ2QsNENBQTRDLG1CQUFtQixFQUFFLENBQ2pFLENBQUM7UUFDSCxDQUFDO1FBRUQsTUFBTSxFQUFFLFdBQVcsRUFBRSxlQUFlLEVBQUUsa0JBQWtCLEVBQUUsR0FDekQsVUFBVSxDQUFDLGNBQWMsQ0FBQyxLQUFLLEVBQUUsZUFBZSxDQUFDLENBQUM7UUFFbkQsVUFBVSxDQUFDLFdBQVcsQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUVwQywwQkFBMEIsQ0FDekIsS0FBd0MsRUFDeEMsZUFBZSxDQUNmLENBQUM7UUFFRixlQUFlLEdBQUcsa0JBQWtCLENBQUM7SUFDdEMsQ0FBQztBQUNGLENBQUM7QUFFRCxNQUFNLFVBQVUsc0JBQXNCLENBQ3JDLFdBQW1CLEVBQ25CLFFBQWdCLEVBQ2hCLFNBQXNCLEVBQ3RCLGNBQWtDLElBQUksRUFDdEMsb0JBQXNDLEtBQUs7SUFFM0MsUUFBUSxXQUFXLEVBQUUsQ0FBQztRQUNyQixLQUFLLENBQUM7WUFDTCxPQUFPLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FDOUIsUUFBUSxFQUNSLFdBQVcsRUFDWCxpQkFBaUIsQ0FDakIsQ0FBQztRQUNILEtBQUssQ0FBQztZQUNMLE9BQU8sT0FBTyxDQUFDLHVCQUF1QixDQUNyQyxRQUFRLEVBQ1IsU0FBUyxFQUNULGlCQUFpQixDQUNqQixDQUFDO1FBQ0gsS0FBSyxDQUFDO1lBQ0wsT0FBTyxPQUFPLENBQUMsaUJBQWlCLENBQy9CLFFBQVEsRUFDUixTQUFTLEVBQ1QsaUJBQWlCLENBQ2pCLENBQUM7UUFDSCxLQUFLLENBQUM7WUFDTCxPQUFPLE9BQU8sQ0FBQyxrQkFBa0IsQ0FDaEMsUUFBUSxFQUNSLFNBQVMsRUFDVCxpQkFBaUIsQ0FDakIsQ0FBQztRQUNILEtBQUssQ0FBQztZQUNMLE9BQU8sT0FBTyxDQUFDLDRCQUE0QixDQUMxQyxRQUFRLEVBQ1IsU0FBUyxFQUNULGlCQUFpQixDQUNqQixDQUFDO1FBQ0gsS0FBSyxDQUFDO1lBQ0wsT0FBTyxPQUFPLENBQUMsbUJBQW1CLENBQ2pDLFFBQVEsRUFDUixTQUFTLEVBQ1QsaUJBQWlCLENBQ2pCLENBQUM7UUFDSCxLQUFLLENBQUM7WUFDTCxPQUFPLE9BQU8sQ0FBQyxpQkFBaUIsQ0FDL0IsUUFBUSxFQUNSLFNBQVMsRUFDVCxpQkFBaUIsQ0FDakIsQ0FBQztRQUNILEtBQUssQ0FBQztZQUNMLE9BQU8sT0FBTyxDQUFDLGdCQUFnQixDQUM5QixRQUFRLEVBQ1IsU0FBUyxFQUNULGlCQUFpQixDQUNqQixDQUFDO1FBQ0gsS0FBSyxDQUFDO1lBQ0wsT0FBTyxPQUFPLENBQUMsdUJBQXVCLENBQ3JDLFFBQVEsRUFDUixTQUFTLEVBQ1QsaUJBQWlCLENBQ2pCLENBQUM7UUFDSDtZQUNDLE9BQU8sQ0FBQyxLQUFLLENBQUMsaURBQWlELENBQUMsQ0FBQztZQUNqRSxPQUFPLEVBQUUsQ0FBQztJQUNaLENBQUM7QUFDRixDQUFDO0FBRUQsTUFBTSxVQUFVLGVBQWUsQ0FDOUIsV0FBbUIsRUFDbkIsUUFBZ0IsRUFDaEIsb0JBQXNDLEtBQUssRUFDM0MsV0FBK0I7SUFFL0IsTUFBTSxTQUFTLEdBQ2QsV0FBVyxJQUFJLE1BQU0sQ0FBQyxXQUFXLENBQUMsaUJBQWlCLENBQUMsQ0FBQztJQUV0RCxNQUFNLE1BQU0sR0FBa0Isc0JBQXNCLENBQ25ELFdBQVcsRUFDWCxRQUFRLEVBQ1IsU0FBUyxFQUNULFdBQVcsRUFDWCxpQkFBaUIsQ0FDakIsQ0FBQztJQUVGLElBQUksTUFBTSxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUUsQ0FBQztRQUN6QixPQUFPLENBQUMsS0FBSyxDQUFDLHFDQUFxQyxDQUFDLENBQUM7UUFDckQsT0FBTztJQUNSLENBQUM7U0FBTSxDQUFDO1FBQ1AsT0FBTyxDQUFDLEdBQUcsQ0FBQyxpQkFBaUIsTUFBTSxFQUFFLENBQUMsQ0FBQztJQUN4QyxDQUFDO0lBRUQsYUFBYSxDQUFDLFFBQVEsRUFBRSxNQUFNLENBQUMsQ0FBQztBQUNqQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcGFsZXR0ZSB9IGZyb20gJy4vcGFsZXR0ZS1pbmRleCc7XG5pbXBvcnQgeyByYW5kb20gfSBmcm9tICcuLi91dGlscy9jb2xvci1yYW5kb21pemVyJztcbmltcG9ydCAqIGFzIHR5cGVzIGZyb20gJy4uL2luZGV4JztcbmltcG9ydCB7IGd1YXJkcyB9IGZyb20gJy4uL3V0aWxzL3R5cGUtZ3VhcmRzJztcbmltcG9ydCB7IGdlbkFsbENvbG9yVmFsdWVzIH0gZnJvbSAnLi4vY29sb3ItY29udmVyc2lvbi9jb252ZXJzaW9uJztcbmltcG9ydCB7IHBvcHVsYXRlQ29sb3JUZXh0T3V0cHV0Qm94IH0gZnJvbSAnLi4vZG9tL2RvbS1tYWluJztcbmltcG9ydCB7IGRvbUhlbHBlcnMgfSBmcm9tICcuLi9oZWxwZXJzL2RvbSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZW5QYWxldHRlQm94KG51bUJveGVzOiBudW1iZXIsIGNvbG9yczogdHlwZXMuQ29sb3JbXSk6IHZvaWQge1xuXHRjb25zdCBwYWxldHRlUm93ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BhbGV0dGUtcm93Jyk7XG5cblx0aWYgKCFwYWxldHRlUm93KSB7XG5cdFx0Y29uc29sZS5lcnJvcigncGFsZXR0ZVJvdyBpcyB1bmRlZmluZWQnKTtcblx0XHRyZXR1cm47XG5cdH1cblxuXHRwYWxldHRlUm93LmlubmVySFRNTCA9ICcnOyAvLyBjbGVhciB0aGUgcm93XG5cdGxldCBwYWxldHRlQm94Q291bnQgPSAxO1xuXG5cdGZvciAobGV0IGkgPSAwOyBpIDwgbnVtQm94ZXM7IGkrKykge1xuXHRcdGNvbnN0IGNvbG9yID0gY29sb3JzW2ldO1xuXG5cdFx0aWYgKCFjb2xvcikge1xuXHRcdFx0Y29uc29sZS53YXJuKGBDb2xvciBhdCBpbmRleCAke2l9IGlzIHVuZGVmaW5lZC5gKTtcblx0XHRcdGNvbnRpbnVlO1xuXHRcdH1cblxuXHRcdGNvbnN0IGNvbG9yVmFsdWVzID0gZ2VuQWxsQ29sb3JWYWx1ZXMoY29sb3IpO1xuXHRcdGNvbnN0IG9yaWdpbmFsQ29sb3JGb3JtYXQgPSBjb2xvci5mb3JtYXQgYXMgdHlwZXMuQ29sb3JTcGFjZTtcblxuXHRcdGlmICghZ3VhcmRzLmlzRm9ybWF0KG9yaWdpbmFsQ29sb3JGb3JtYXQpKSB7XG5cdFx0XHRjb25zb2xlLndhcm4oXG5cdFx0XHRcdGBTa2lwcGluZyB1bnN1cHBvcnRlZCBjb2xvciBmb3JtYXQ6ICR7b3JpZ2luYWxDb2xvckZvcm1hdH1gXG5cdFx0XHQpO1xuXHRcdFx0Y29udGludWU7XG5cdFx0fVxuXG5cdFx0Y29uc3Qgb3JpZ2luYWxDb2xvclZhbHVlID0gY29sb3JWYWx1ZXNbb3JpZ2luYWxDb2xvckZvcm1hdF07XG5cblx0XHRpZiAoIW9yaWdpbmFsQ29sb3JWYWx1ZSkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFxuXHRcdFx0XHRgRmFpbGVkIHRvIGdlbmVyYXRlIGNvbG9yIGRhdGEgZm9yIGZvcm1hdCAke29yaWdpbmFsQ29sb3JGb3JtYXR9YFxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHRjb25zdCB7IGNvbG9yU3RyaXBlLCBwYWxldHRlQm94Q291bnQ6IG5ld1BhbGV0dGVCb3hDb3VudCB9ID1cblx0XHRcdGRvbUhlbHBlcnMubWFrZVBhbGV0dGVCb3goY29sb3IsIHBhbGV0dGVCb3hDb3VudCk7XG5cblx0XHRwYWxldHRlUm93LmFwcGVuZENoaWxkKGNvbG9yU3RyaXBlKTtcblxuXHRcdHBvcHVsYXRlQ29sb3JUZXh0T3V0cHV0Qm94KFxuXHRcdFx0Y29sb3IgYXMgRXhjbHVkZTx0eXBlcy5Db2xvciwgdHlwZXMuWFlaPixcblx0XHRcdHBhbGV0dGVCb3hDb3VudFxuXHRcdCk7XG5cblx0XHRwYWxldHRlQm94Q291bnQgPSBuZXdQYWxldHRlQm94Q291bnQ7XG5cdH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdlblNlbGVjdGVkUGFsZXR0ZVR5cGUoXG5cdHBhbGV0dGVUeXBlOiBudW1iZXIsXG5cdG51bUJveGVzOiBudW1iZXIsXG5cdGJhc2VDb2xvcjogdHlwZXMuQ29sb3IsXG5cdGN1c3RvbUNvbG9yOiB0eXBlcy5Db2xvciB8IG51bGwgPSBudWxsLFxuXHRpbml0aWFsQ29sb3JTcGFjZTogdHlwZXMuQ29sb3JTcGFjZSA9ICdoZXgnXG4pOiB0eXBlcy5Db2xvcltdIHtcblx0c3dpdGNoIChwYWxldHRlVHlwZSkge1xuXHRcdGNhc2UgMTpcblx0XHRcdHJldHVybiBwYWxldHRlLmdlblJhbmRvbVBhbGV0dGUoXG5cdFx0XHRcdG51bUJveGVzLFxuXHRcdFx0XHRjdXN0b21Db2xvcixcblx0XHRcdFx0aW5pdGlhbENvbG9yU3BhY2Vcblx0XHRcdCk7XG5cdFx0Y2FzZSAyOlxuXHRcdFx0cmV0dXJuIHBhbGV0dGUuZ2VuQ29tcGxlbWVudGFyeVBhbGV0dGUoXG5cdFx0XHRcdG51bUJveGVzLFxuXHRcdFx0XHRiYXNlQ29sb3IsXG5cdFx0XHRcdGluaXRpYWxDb2xvclNwYWNlXG5cdFx0XHQpO1xuXHRcdGNhc2UgMzpcblx0XHRcdHJldHVybiBwYWxldHRlLmdlblRyaWFkaWNQYWxldHRlKFxuXHRcdFx0XHRudW1Cb3hlcyxcblx0XHRcdFx0YmFzZUNvbG9yLFxuXHRcdFx0XHRpbml0aWFsQ29sb3JTcGFjZVxuXHRcdFx0KTtcblx0XHRjYXNlIDQ6XG5cdFx0XHRyZXR1cm4gcGFsZXR0ZS5nZW5UZXRyYWRpY1BhbGV0dGUoXG5cdFx0XHRcdG51bUJveGVzLFxuXHRcdFx0XHRiYXNlQ29sb3IsXG5cdFx0XHRcdGluaXRpYWxDb2xvclNwYWNlXG5cdFx0XHQpO1xuXHRcdGNhc2UgNTpcblx0XHRcdHJldHVybiBwYWxldHRlLmdlblNwbGl0Q29tcGxlbWVudGFyeVBhbGV0dGUoXG5cdFx0XHRcdG51bUJveGVzLFxuXHRcdFx0XHRiYXNlQ29sb3IsXG5cdFx0XHRcdGluaXRpYWxDb2xvclNwYWNlXG5cdFx0XHQpO1xuXHRcdGNhc2UgNjpcblx0XHRcdHJldHVybiBwYWxldHRlLmdlbkFuYWxvZ291c1BhbGV0dGUoXG5cdFx0XHRcdG51bUJveGVzLFxuXHRcdFx0XHRiYXNlQ29sb3IsXG5cdFx0XHRcdGluaXRpYWxDb2xvclNwYWNlXG5cdFx0XHQpO1xuXHRcdGNhc2UgNzpcblx0XHRcdHJldHVybiBwYWxldHRlLmdlbkhleGFkaWNQYWxldHRlKFxuXHRcdFx0XHRudW1Cb3hlcyxcblx0XHRcdFx0YmFzZUNvbG9yLFxuXHRcdFx0XHRpbml0aWFsQ29sb3JTcGFjZVxuXHRcdFx0KTtcblx0XHRjYXNlIDg6XG5cdFx0XHRyZXR1cm4gcGFsZXR0ZS5nZW5EaWFkaWNQYWxldHRlKFxuXHRcdFx0XHRudW1Cb3hlcyxcblx0XHRcdFx0YmFzZUNvbG9yLFxuXHRcdFx0XHRpbml0aWFsQ29sb3JTcGFjZVxuXHRcdFx0KTtcblx0XHRjYXNlIDk6XG5cdFx0XHRyZXR1cm4gcGFsZXR0ZS5nZW5Nb25vY2hyb21hdGljUGFsZXR0ZShcblx0XHRcdFx0bnVtQm94ZXMsXG5cdFx0XHRcdGJhc2VDb2xvcixcblx0XHRcdFx0aW5pdGlhbENvbG9yU3BhY2Vcblx0XHRcdCk7XG5cdFx0ZGVmYXVsdDpcblx0XHRcdGNvbnNvbGUuZXJyb3IoJ0RFRkFVTFQgQ0FTRSA+IHVuYWJsZSB0byBkZXRlcm1pbmUgY29sb3Igc2NoZW1lJyk7XG5cdFx0XHRyZXR1cm4gW107XG5cdH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0UGFsZXR0ZUdlbihcblx0cGFsZXR0ZVR5cGU6IG51bWJlcixcblx0bnVtQm94ZXM6IG51bWJlcixcblx0aW5pdGlhbENvbG9yU3BhY2U6IHR5cGVzLkNvbG9yU3BhY2UgPSAnaGV4Jyxcblx0Y3VzdG9tQ29sb3I6IHR5cGVzLkNvbG9yIHwgbnVsbFxuKTogdm9pZCB7XG5cdGNvbnN0IGJhc2VDb2xvcjogdHlwZXMuQ29sb3IgPVxuXHRcdGN1c3RvbUNvbG9yID8/IHJhbmRvbS5yYW5kb21Db2xvcihpbml0aWFsQ29sb3JTcGFjZSk7XG5cblx0Y29uc3QgY29sb3JzOiB0eXBlcy5Db2xvcltdID0gZ2VuU2VsZWN0ZWRQYWxldHRlVHlwZShcblx0XHRwYWxldHRlVHlwZSxcblx0XHRudW1Cb3hlcyxcblx0XHRiYXNlQ29sb3IsXG5cdFx0Y3VzdG9tQ29sb3IsXG5cdFx0aW5pdGlhbENvbG9yU3BhY2Vcblx0KTtcblxuXHRpZiAoY29sb3JzLmxlbmd0aCA9PT0gMCkge1xuXHRcdGNvbnNvbGUuZXJyb3IoJ0NvbG9ycyBhcnJheSBpcyBlbXB0eSBvciB1bmRlZmluZWQuJyk7XG5cdFx0cmV0dXJuO1xuXHR9IGVsc2Uge1xuXHRcdGNvbnNvbGUubG9nKGBDb2xvcnMgYXJyYXk6ICR7Y29sb3JzfWApO1xuXHR9XG5cblx0Z2VuUGFsZXR0ZUJveChudW1Cb3hlcywgY29sb3JzKTtcbn1cbiJdfQ==