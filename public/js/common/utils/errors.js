// File: src/common/utils/errors.ts
import { data } from '../../data/index.js';
import { logger } from '../../logger/index.js';
const logMode = data.mode.logging;
async function handleAsync(action, errorMessage, context) {
    try {
        return await action();
    }
    catch (error) {
        if (logMode.errors)
            if (error instanceof Error) {
                logger.error(`${errorMessage}: ${error.message}. Context: ${context}`);
            }
            else {
                logger.error(`${errorMessage}: ${error}. Context: ${context}`);
            }
        return null;
    }
}
export const errors = {
    handleAsync
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXJyb3JzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL2NvbW1vbi91dGlscy9lcnJvcnMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsbUNBQW1DO0FBR25DLE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQUMzQyxPQUFPLEVBQUUsTUFBTSxFQUFFLE1BQU0sdUJBQXVCLENBQUM7QUFFL0MsTUFBTSxPQUFPLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUM7QUFFbEMsS0FBSyxVQUFVLFdBQVcsQ0FDekIsTUFBd0IsRUFDeEIsWUFBb0IsRUFDcEIsT0FBaUM7SUFFakMsSUFBSSxDQUFDO1FBQ0osT0FBTyxNQUFNLE1BQU0sRUFBRSxDQUFDO0lBQ3ZCLENBQUM7SUFBQyxPQUFPLEtBQUssRUFBRSxDQUFDO1FBQ2hCLElBQUksT0FBTyxDQUFDLE1BQU07WUFDakIsSUFBSSxLQUFLLFlBQVksS0FBSyxFQUFFLENBQUM7Z0JBQzVCLE1BQU0sQ0FBQyxLQUFLLENBQ1gsR0FBRyxZQUFZLEtBQUssS0FBSyxDQUFDLE9BQU8sY0FBYyxPQUFPLEVBQUUsQ0FDeEQsQ0FBQztZQUNILENBQUM7aUJBQU0sQ0FBQztnQkFDUCxNQUFNLENBQUMsS0FBSyxDQUFDLEdBQUcsWUFBWSxLQUFLLEtBQUssY0FBYyxPQUFPLEVBQUUsQ0FBQyxDQUFDO1lBQ2hFLENBQUM7UUFFRixPQUFPLElBQUksQ0FBQztJQUNiLENBQUM7QUFDRixDQUFDO0FBRUQsTUFBTSxDQUFDLE1BQU0sTUFBTSxHQUF3QjtJQUMxQyxXQUFXO0NBQ1gsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8vIEZpbGU6IHNyYy9jb21tb24vdXRpbHMvZXJyb3JzLnRzXG5cbmltcG9ydCB7IENvbW1vblV0aWxzRm5FcnJvcnMgfSBmcm9tICcuLi8uLi9pbmRleC9pbmRleC5qcyc7XG5pbXBvcnQgeyBkYXRhIH0gZnJvbSAnLi4vLi4vZGF0YS9pbmRleC5qcyc7XG5pbXBvcnQgeyBsb2dnZXIgfSBmcm9tICcuLi8uLi9sb2dnZXIvaW5kZXguanMnO1xuXG5jb25zdCBsb2dNb2RlID0gZGF0YS5tb2RlLmxvZ2dpbmc7XG5cbmFzeW5jIGZ1bmN0aW9uIGhhbmRsZUFzeW5jPFQ+KFxuXHRhY3Rpb246ICgpID0+IFByb21pc2U8VD4sXG5cdGVycm9yTWVzc2FnZTogc3RyaW5nLFxuXHRjb250ZXh0PzogUmVjb3JkPHN0cmluZywgdW5rbm93bj5cbik6IFByb21pc2U8VCB8IG51bGw+IHtcblx0dHJ5IHtcblx0XHRyZXR1cm4gYXdhaXQgYWN0aW9uKCk7XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0aWYgKGxvZ01vZGUuZXJyb3JzKVxuXHRcdFx0aWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcblx0XHRcdFx0bG9nZ2VyLmVycm9yKFxuXHRcdFx0XHRcdGAke2Vycm9yTWVzc2FnZX06ICR7ZXJyb3IubWVzc2FnZX0uIENvbnRleHQ6ICR7Y29udGV4dH1gXG5cdFx0XHRcdCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRsb2dnZXIuZXJyb3IoYCR7ZXJyb3JNZXNzYWdlfTogJHtlcnJvcn0uIENvbnRleHQ6ICR7Y29udGV4dH1gKTtcblx0XHRcdH1cblxuXHRcdHJldHVybiBudWxsO1xuXHR9XG59XG5cbmV4cG9ydCBjb25zdCBlcnJvcnM6IENvbW1vblV0aWxzRm5FcnJvcnMgPSB7XG5cdGhhbmRsZUFzeW5jXG59O1xuIl19