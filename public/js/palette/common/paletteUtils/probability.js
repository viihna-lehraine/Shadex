// File: src/paelette/common/paletteUtils/probability.ts
import { data } from '../../../data/index.js';
const mode = data.mode;
const probabilities = data.consts.probabilities;
function getWeightedRandomInterval() {
    try {
        const weights = probabilities.weights;
        const probabilityValues = probabilities.values;
        const cumulativeProbabilities = probabilityValues.reduce((acc, prob, i) => {
            acc[i] = (acc[i - 1] || 0) + prob;
            return acc;
        }, []);
        const random = Math.random();
        for (let i = 0; i < cumulativeProbabilities.length; i++) {
            if (random < cumulativeProbabilities[i]) {
                return weights[i];
            }
        }
        return weights[weights.length - 1];
    }
    catch (error) {
        if (mode.errorLogs)
            console.error(`Error generating weighted random interval: ${error}`);
        return 50;
    }
}
export const probability = {
    getWeightedRandomInterval
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvYmFiaWxpdHkuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9zcmMvcGFsZXR0ZS9jb21tb24vcGFsZXR0ZVV0aWxzL3Byb2JhYmlsaXR5LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLHdEQUF3RDtBQUd4RCxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sd0JBQXdCLENBQUM7QUFFOUMsTUFBTSxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQztBQUN2QixNQUFNLGFBQWEsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLGFBQWEsQ0FBQztBQUVoRCxTQUFTLHlCQUF5QjtJQUNqQyxJQUFJLENBQUM7UUFDSixNQUFNLE9BQU8sR0FBRyxhQUFhLENBQUMsT0FBTyxDQUFDO1FBQ3RDLE1BQU0saUJBQWlCLEdBQUcsYUFBYSxDQUFDLE1BQU0sQ0FBQztRQUMvQyxNQUFNLHVCQUF1QixHQUFhLGlCQUFpQixDQUFDLE1BQU0sQ0FDakUsQ0FBQyxHQUFhLEVBQUUsSUFBWSxFQUFFLENBQVMsRUFBRSxFQUFFO1lBQzFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDO1lBQ2xDLE9BQU8sR0FBRyxDQUFDO1FBQ1osQ0FBQyxFQUNELEVBQUUsQ0FDRixDQUFDO1FBQ0YsTUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO1FBRTdCLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyx1QkFBdUIsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQztZQUN6RCxJQUFJLE1BQU0sR0FBRyx1QkFBdUIsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO2dCQUN6QyxPQUFPLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNuQixDQUFDO1FBQ0YsQ0FBQztRQUVELE9BQU8sT0FBTyxDQUFDLE9BQU8sQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUM7SUFDcEMsQ0FBQztJQUFDLE9BQU8sS0FBSyxFQUFFLENBQUM7UUFDaEIsSUFBSSxJQUFJLENBQUMsU0FBUztZQUNqQixPQUFPLENBQUMsS0FBSyxDQUNaLDhDQUE4QyxLQUFLLEVBQUUsQ0FDckQsQ0FBQztRQUVILE9BQU8sRUFBRSxDQUFDO0lBQ1gsQ0FBQztBQUNGLENBQUM7QUFFRCxNQUFNLENBQUMsTUFBTSxXQUFXLEdBQW9DO0lBQzNELHlCQUF5QjtDQUNoQixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLy8gRmlsZTogc3JjL3BhZWxldHRlL2NvbW1vbi9wYWxldHRlVXRpbHMvcHJvYmFiaWxpdHkudHNcblxuaW1wb3J0IHsgUGFsZXR0ZUNvbW1vbl9VdGlsc19Qcm9iYWJpbGl0eSB9IGZyb20gJy4uLy4uLy4uL2luZGV4L2luZGV4LmpzJztcbmltcG9ydCB7IGRhdGEgfSBmcm9tICcuLi8uLi8uLi9kYXRhL2luZGV4LmpzJztcblxuY29uc3QgbW9kZSA9IGRhdGEubW9kZTtcbmNvbnN0IHByb2JhYmlsaXRpZXMgPSBkYXRhLmNvbnN0cy5wcm9iYWJpbGl0aWVzO1xuXG5mdW5jdGlvbiBnZXRXZWlnaHRlZFJhbmRvbUludGVydmFsKCk6IG51bWJlciB7XG5cdHRyeSB7XG5cdFx0Y29uc3Qgd2VpZ2h0cyA9IHByb2JhYmlsaXRpZXMud2VpZ2h0cztcblx0XHRjb25zdCBwcm9iYWJpbGl0eVZhbHVlcyA9IHByb2JhYmlsaXRpZXMudmFsdWVzO1xuXHRcdGNvbnN0IGN1bXVsYXRpdmVQcm9iYWJpbGl0aWVzOiBudW1iZXJbXSA9IHByb2JhYmlsaXR5VmFsdWVzLnJlZHVjZShcblx0XHRcdChhY2M6IG51bWJlcltdLCBwcm9iOiBudW1iZXIsIGk6IG51bWJlcikgPT4ge1xuXHRcdFx0XHRhY2NbaV0gPSAoYWNjW2kgLSAxXSB8fCAwKSArIHByb2I7XG5cdFx0XHRcdHJldHVybiBhY2M7XG5cdFx0XHR9LFxuXHRcdFx0W11cblx0XHQpO1xuXHRcdGNvbnN0IHJhbmRvbSA9IE1hdGgucmFuZG9tKCk7XG5cblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGN1bXVsYXRpdmVQcm9iYWJpbGl0aWVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRpZiAocmFuZG9tIDwgY3VtdWxhdGl2ZVByb2JhYmlsaXRpZXNbaV0pIHtcblx0XHRcdFx0cmV0dXJuIHdlaWdodHNbaV07XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHdlaWdodHNbd2VpZ2h0cy5sZW5ndGggLSAxXTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRpZiAobW9kZS5lcnJvckxvZ3MpXG5cdFx0XHRjb25zb2xlLmVycm9yKFxuXHRcdFx0XHRgRXJyb3IgZ2VuZXJhdGluZyB3ZWlnaHRlZCByYW5kb20gaW50ZXJ2YWw6ICR7ZXJyb3J9YFxuXHRcdFx0KTtcblxuXHRcdHJldHVybiA1MDtcblx0fVxufVxuXG5leHBvcnQgY29uc3QgcHJvYmFiaWxpdHk6IFBhbGV0dGVDb21tb25fVXRpbHNfUHJvYmFiaWxpdHkgPSB7XG5cdGdldFdlaWdodGVkUmFuZG9tSW50ZXJ2YWxcbn0gYXMgY29uc3Q7XG4iXX0=