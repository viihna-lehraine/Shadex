// File: src/palette/generate.ts
import { config } from '../config';
import { genPalette } from './main';
import { paletteHelpers } from './common';
const defaultPalette = config.defaults.palette.data;
const limits = paletteHelpers.limits;
const mode = config.mode;
const isTooDark = limits.isTooDark;
const isTooGray = limits.isTooGray;
const isTooLight = limits.isTooLight;
function limitedHSL(baseHue, limitDark, limitGray, limitLight, alpha) {
    let hsl;
    do {
        hsl = {
            value: {
                hue: baseHue,
                saturation: Math.random() * 100,
                lightness: Math.random() * 100,
                alpha: alpha ?? 1
            },
            format: 'hsl'
        };
    } while ((limitGray && isTooGray(hsl)) ||
        (limitDark && isTooDark(hsl)) ||
        (limitLight && isTooLight(hsl)));
    return hsl;
}
// async function generatePalette() {}
async function selectedPalette(options) {
    try {
        const { paletteType, numBoxes, customColor, enableAlpha, limitDarkness, limitGrayness, limitLightness } = options;
        switch (paletteType) {
            case 1:
                return genPalette.random(numBoxes, customColor, enableAlpha, limitDarkness, limitGrayness, limitLightness);
            case 2:
                return genPalette.complementary(numBoxes, customColor, enableAlpha, limitDarkness, limitGrayness, limitLightness);
            case 3:
                return genPalette.triadic(numBoxes, customColor, enableAlpha, limitDarkness, limitGrayness, limitLightness);
            case 4:
                return genPalette.tetradic(numBoxes, customColor, enableAlpha, limitDarkness, limitGrayness, limitLightness);
            case 5:
                return genPalette.splitComplementary(numBoxes, customColor, enableAlpha, limitDarkness, limitGrayness, limitLightness);
            case 6:
                return genPalette.analogous(numBoxes, customColor, enableAlpha, limitDarkness, limitGrayness, limitLightness);
            case 7:
                return genPalette.hexadic(numBoxes, customColor, enableAlpha, limitDarkness, limitGrayness, limitLightness);
            case 8:
                return genPalette.diadic(numBoxes, customColor, enableAlpha, limitDarkness, limitGrayness, limitLightness);
            case 9:
                return genPalette.monochromatic(numBoxes, customColor, enableAlpha, limitDarkness, limitGrayness, limitLightness);
            default:
                if (mode.logErrors)
                    console.error('Invalid palette type.');
                return Promise.resolve(defaultPalette);
        }
    }
    catch (error) {
        if (mode.logErrors)
            console.error(`Error generating palette: ${error}`);
        return Promise.resolve(defaultPalette);
    }
}
export const generate = {
    limitedHSL,
    selectedPalette
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2VuZXJhdGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvcGFsZXR0ZS9nZW5lcmF0ZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxnQ0FBZ0M7QUFHaEMsT0FBTyxFQUFFLE1BQU0sRUFBRSxNQUFNLFdBQVcsQ0FBQztBQUNuQyxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sUUFBUSxDQUFDO0FBQ3BDLE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSxVQUFVLENBQUM7QUFFMUMsTUFBTSxjQUFjLEdBQUcsTUFBTSxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDO0FBQ3BELE1BQU0sTUFBTSxHQUFHLGNBQWMsQ0FBQyxNQUFNLENBQUM7QUFDckMsTUFBTSxJQUFJLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQztBQUV6QixNQUFNLFNBQVMsR0FBRyxNQUFNLENBQUMsU0FBUyxDQUFDO0FBQ25DLE1BQU0sU0FBUyxHQUFHLE1BQU0sQ0FBQyxTQUFTLENBQUM7QUFDbkMsTUFBTSxVQUFVLEdBQUcsTUFBTSxDQUFDLFVBQVUsQ0FBQztBQUVyQyxTQUFTLFVBQVUsQ0FDbEIsT0FBZSxFQUNmLFNBQWtCLEVBQ2xCLFNBQWtCLEVBQ2xCLFVBQW1CLEVBQ25CLEtBQW9CO0lBRXBCLElBQUksR0FBUSxDQUFDO0lBRWIsR0FBRyxDQUFDO1FBQ0gsR0FBRyxHQUFHO1lBQ0wsS0FBSyxFQUFFO2dCQUNOLEdBQUcsRUFBRSxPQUFPO2dCQUNaLFVBQVUsRUFBRSxJQUFJLENBQUMsTUFBTSxFQUFFLEdBQUcsR0FBRztnQkFDL0IsU0FBUyxFQUFFLElBQUksQ0FBQyxNQUFNLEVBQUUsR0FBRyxHQUFHO2dCQUM5QixLQUFLLEVBQUUsS0FBSyxJQUFJLENBQUM7YUFDakI7WUFDRCxNQUFNLEVBQUUsS0FBSztTQUNiLENBQUM7SUFDSCxDQUFDLFFBQ0EsQ0FBQyxTQUFTLElBQUksU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQzdCLENBQUMsU0FBUyxJQUFJLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUM3QixDQUFDLFVBQVUsSUFBSSxVQUFVLENBQUMsR0FBRyxDQUFDLENBQUMsRUFDOUI7SUFFRixPQUFPLEdBQUcsQ0FBQztBQUNaLENBQUM7QUFFRCxzQ0FBc0M7QUFFdEMsS0FBSyxVQUFVLGVBQWUsQ0FBQyxPQUF1QjtJQUNyRCxJQUFJLENBQUM7UUFDSixNQUFNLEVBQ0wsV0FBVyxFQUNYLFFBQVEsRUFDUixXQUFXLEVBQ1gsV0FBVyxFQUNYLGFBQWEsRUFDYixhQUFhLEVBQ2IsY0FBYyxFQUNkLEdBQUcsT0FBTyxDQUFDO1FBRVosUUFBUSxXQUFXLEVBQUUsQ0FBQztZQUNyQixLQUFLLENBQUM7Z0JBQ0wsT0FBTyxVQUFVLENBQUMsTUFBTSxDQUN2QixRQUFRLEVBQ1IsV0FBVyxFQUNYLFdBQVcsRUFDWCxhQUFhLEVBQ2IsYUFBYSxFQUNiLGNBQWMsQ0FDZCxDQUFDO1lBQ0gsS0FBSyxDQUFDO2dCQUNMLE9BQU8sVUFBVSxDQUFDLGFBQWEsQ0FDOUIsUUFBUSxFQUNSLFdBQVcsRUFDWCxXQUFXLEVBQ1gsYUFBYSxFQUNiLGFBQWEsRUFDYixjQUFjLENBQ2QsQ0FBQztZQUNILEtBQUssQ0FBQztnQkFDTCxPQUFPLFVBQVUsQ0FBQyxPQUFPLENBQ3hCLFFBQVEsRUFDUixXQUFXLEVBQ1gsV0FBVyxFQUNYLGFBQWEsRUFDYixhQUFhLEVBQ2IsY0FBYyxDQUNkLENBQUM7WUFDSCxLQUFLLENBQUM7Z0JBQ0wsT0FBTyxVQUFVLENBQUMsUUFBUSxDQUN6QixRQUFRLEVBQ1IsV0FBVyxFQUNYLFdBQVcsRUFDWCxhQUFhLEVBQ2IsYUFBYSxFQUNiLGNBQWMsQ0FDZCxDQUFDO1lBQ0gsS0FBSyxDQUFDO2dCQUNMLE9BQU8sVUFBVSxDQUFDLGtCQUFrQixDQUNuQyxRQUFRLEVBQ1IsV0FBVyxFQUNYLFdBQVcsRUFDWCxhQUFhLEVBQ2IsYUFBYSxFQUNiLGNBQWMsQ0FDZCxDQUFDO1lBQ0gsS0FBSyxDQUFDO2dCQUNMLE9BQU8sVUFBVSxDQUFDLFNBQVMsQ0FDMUIsUUFBUSxFQUNSLFdBQVcsRUFDWCxXQUFXLEVBQ1gsYUFBYSxFQUNiLGFBQWEsRUFDYixjQUFjLENBQ2QsQ0FBQztZQUNILEtBQUssQ0FBQztnQkFDTCxPQUFPLFVBQVUsQ0FBQyxPQUFPLENBQ3hCLFFBQVEsRUFDUixXQUFXLEVBQ1gsV0FBVyxFQUNYLGFBQWEsRUFDYixhQUFhLEVBQ2IsY0FBYyxDQUNkLENBQUM7WUFDSCxLQUFLLENBQUM7Z0JBQ0wsT0FBTyxVQUFVLENBQUMsTUFBTSxDQUN2QixRQUFRLEVBQ1IsV0FBVyxFQUNYLFdBQVcsRUFDWCxhQUFhLEVBQ2IsYUFBYSxFQUNiLGNBQWMsQ0FDZCxDQUFDO1lBQ0gsS0FBSyxDQUFDO2dCQUNMLE9BQU8sVUFBVSxDQUFDLGFBQWEsQ0FDOUIsUUFBUSxFQUNSLFdBQVcsRUFDWCxXQUFXLEVBQ1gsYUFBYSxFQUNiLGFBQWEsRUFDYixjQUFjLENBQ2QsQ0FBQztZQUNIO2dCQUNDLElBQUksSUFBSSxDQUFDLFNBQVM7b0JBQUUsT0FBTyxDQUFDLEtBQUssQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDO2dCQUUzRCxPQUFPLE9BQU8sQ0FBQyxPQUFPLENBQUMsY0FBYyxDQUFDLENBQUM7UUFDekMsQ0FBQztJQUNGLENBQUM7SUFBQyxPQUFPLEtBQUssRUFBRSxDQUFDO1FBQ2hCLElBQUksSUFBSSxDQUFDLFNBQVM7WUFBRSxPQUFPLENBQUMsS0FBSyxDQUFDLDZCQUE2QixLQUFLLEVBQUUsQ0FBQyxDQUFDO1FBRXhFLE9BQU8sT0FBTyxDQUFDLE9BQU8sQ0FBQyxjQUFjLENBQUMsQ0FBQztJQUN4QyxDQUFDO0FBQ0YsQ0FBQztBQUVELE1BQU0sQ0FBQyxNQUFNLFFBQVEsR0FBRztJQUN2QixVQUFVO0lBQ1YsZUFBZTtDQUNmLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBGaWxlOiBzcmMvcGFsZXR0ZS9nZW5lcmF0ZS50c1xuXG5pbXBvcnQgeyBIU0wsIFBhbGV0dGUsIFBhbGV0dGVPcHRpb25zIH0gZnJvbSAnLi4vaW5kZXgnO1xuaW1wb3J0IHsgY29uZmlnIH0gZnJvbSAnLi4vY29uZmlnJztcbmltcG9ydCB7IGdlblBhbGV0dGUgfSBmcm9tICcuL21haW4nO1xuaW1wb3J0IHsgcGFsZXR0ZUhlbHBlcnMgfSBmcm9tICcuL2NvbW1vbic7XG5cbmNvbnN0IGRlZmF1bHRQYWxldHRlID0gY29uZmlnLmRlZmF1bHRzLnBhbGV0dGUuZGF0YTtcbmNvbnN0IGxpbWl0cyA9IHBhbGV0dGVIZWxwZXJzLmxpbWl0cztcbmNvbnN0IG1vZGUgPSBjb25maWcubW9kZTtcblxuY29uc3QgaXNUb29EYXJrID0gbGltaXRzLmlzVG9vRGFyaztcbmNvbnN0IGlzVG9vR3JheSA9IGxpbWl0cy5pc1Rvb0dyYXk7XG5jb25zdCBpc1Rvb0xpZ2h0ID0gbGltaXRzLmlzVG9vTGlnaHQ7XG5cbmZ1bmN0aW9uIGxpbWl0ZWRIU0woXG5cdGJhc2VIdWU6IG51bWJlcixcblx0bGltaXREYXJrOiBib29sZWFuLFxuXHRsaW1pdEdyYXk6IGJvb2xlYW4sXG5cdGxpbWl0TGlnaHQ6IGJvb2xlYW4sXG5cdGFscGhhOiBudW1iZXIgfCBudWxsXG4pOiBIU0wge1xuXHRsZXQgaHNsOiBIU0w7XG5cblx0ZG8ge1xuXHRcdGhzbCA9IHtcblx0XHRcdHZhbHVlOiB7XG5cdFx0XHRcdGh1ZTogYmFzZUh1ZSxcblx0XHRcdFx0c2F0dXJhdGlvbjogTWF0aC5yYW5kb20oKSAqIDEwMCxcblx0XHRcdFx0bGlnaHRuZXNzOiBNYXRoLnJhbmRvbSgpICogMTAwLFxuXHRcdFx0XHRhbHBoYTogYWxwaGEgPz8gMVxuXHRcdFx0fSxcblx0XHRcdGZvcm1hdDogJ2hzbCdcblx0XHR9O1xuXHR9IHdoaWxlIChcblx0XHQobGltaXRHcmF5ICYmIGlzVG9vR3JheShoc2wpKSB8fFxuXHRcdChsaW1pdERhcmsgJiYgaXNUb29EYXJrKGhzbCkpIHx8XG5cdFx0KGxpbWl0TGlnaHQgJiYgaXNUb29MaWdodChoc2wpKVxuXHQpO1xuXG5cdHJldHVybiBoc2w7XG59XG5cbi8vIGFzeW5jIGZ1bmN0aW9uIGdlbmVyYXRlUGFsZXR0ZSgpIHt9XG5cbmFzeW5jIGZ1bmN0aW9uIHNlbGVjdGVkUGFsZXR0ZShvcHRpb25zOiBQYWxldHRlT3B0aW9ucyk6IFByb21pc2U8UGFsZXR0ZT4ge1xuXHR0cnkge1xuXHRcdGNvbnN0IHtcblx0XHRcdHBhbGV0dGVUeXBlLFxuXHRcdFx0bnVtQm94ZXMsXG5cdFx0XHRjdXN0b21Db2xvcixcblx0XHRcdGVuYWJsZUFscGhhLFxuXHRcdFx0bGltaXREYXJrbmVzcyxcblx0XHRcdGxpbWl0R3JheW5lc3MsXG5cdFx0XHRsaW1pdExpZ2h0bmVzc1xuXHRcdH0gPSBvcHRpb25zO1xuXG5cdFx0c3dpdGNoIChwYWxldHRlVHlwZSkge1xuXHRcdFx0Y2FzZSAxOlxuXHRcdFx0XHRyZXR1cm4gZ2VuUGFsZXR0ZS5yYW5kb20oXG5cdFx0XHRcdFx0bnVtQm94ZXMsXG5cdFx0XHRcdFx0Y3VzdG9tQ29sb3IsXG5cdFx0XHRcdFx0ZW5hYmxlQWxwaGEsXG5cdFx0XHRcdFx0bGltaXREYXJrbmVzcyxcblx0XHRcdFx0XHRsaW1pdEdyYXluZXNzLFxuXHRcdFx0XHRcdGxpbWl0TGlnaHRuZXNzXG5cdFx0XHRcdCk7XG5cdFx0XHRjYXNlIDI6XG5cdFx0XHRcdHJldHVybiBnZW5QYWxldHRlLmNvbXBsZW1lbnRhcnkoXG5cdFx0XHRcdFx0bnVtQm94ZXMsXG5cdFx0XHRcdFx0Y3VzdG9tQ29sb3IsXG5cdFx0XHRcdFx0ZW5hYmxlQWxwaGEsXG5cdFx0XHRcdFx0bGltaXREYXJrbmVzcyxcblx0XHRcdFx0XHRsaW1pdEdyYXluZXNzLFxuXHRcdFx0XHRcdGxpbWl0TGlnaHRuZXNzXG5cdFx0XHRcdCk7XG5cdFx0XHRjYXNlIDM6XG5cdFx0XHRcdHJldHVybiBnZW5QYWxldHRlLnRyaWFkaWMoXG5cdFx0XHRcdFx0bnVtQm94ZXMsXG5cdFx0XHRcdFx0Y3VzdG9tQ29sb3IsXG5cdFx0XHRcdFx0ZW5hYmxlQWxwaGEsXG5cdFx0XHRcdFx0bGltaXREYXJrbmVzcyxcblx0XHRcdFx0XHRsaW1pdEdyYXluZXNzLFxuXHRcdFx0XHRcdGxpbWl0TGlnaHRuZXNzXG5cdFx0XHRcdCk7XG5cdFx0XHRjYXNlIDQ6XG5cdFx0XHRcdHJldHVybiBnZW5QYWxldHRlLnRldHJhZGljKFxuXHRcdFx0XHRcdG51bUJveGVzLFxuXHRcdFx0XHRcdGN1c3RvbUNvbG9yLFxuXHRcdFx0XHRcdGVuYWJsZUFscGhhLFxuXHRcdFx0XHRcdGxpbWl0RGFya25lc3MsXG5cdFx0XHRcdFx0bGltaXRHcmF5bmVzcyxcblx0XHRcdFx0XHRsaW1pdExpZ2h0bmVzc1xuXHRcdFx0XHQpO1xuXHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRyZXR1cm4gZ2VuUGFsZXR0ZS5zcGxpdENvbXBsZW1lbnRhcnkoXG5cdFx0XHRcdFx0bnVtQm94ZXMsXG5cdFx0XHRcdFx0Y3VzdG9tQ29sb3IsXG5cdFx0XHRcdFx0ZW5hYmxlQWxwaGEsXG5cdFx0XHRcdFx0bGltaXREYXJrbmVzcyxcblx0XHRcdFx0XHRsaW1pdEdyYXluZXNzLFxuXHRcdFx0XHRcdGxpbWl0TGlnaHRuZXNzXG5cdFx0XHRcdCk7XG5cdFx0XHRjYXNlIDY6XG5cdFx0XHRcdHJldHVybiBnZW5QYWxldHRlLmFuYWxvZ291cyhcblx0XHRcdFx0XHRudW1Cb3hlcyxcblx0XHRcdFx0XHRjdXN0b21Db2xvcixcblx0XHRcdFx0XHRlbmFibGVBbHBoYSxcblx0XHRcdFx0XHRsaW1pdERhcmtuZXNzLFxuXHRcdFx0XHRcdGxpbWl0R3JheW5lc3MsXG5cdFx0XHRcdFx0bGltaXRMaWdodG5lc3Ncblx0XHRcdFx0KTtcblx0XHRcdGNhc2UgNzpcblx0XHRcdFx0cmV0dXJuIGdlblBhbGV0dGUuaGV4YWRpYyhcblx0XHRcdFx0XHRudW1Cb3hlcyxcblx0XHRcdFx0XHRjdXN0b21Db2xvcixcblx0XHRcdFx0XHRlbmFibGVBbHBoYSxcblx0XHRcdFx0XHRsaW1pdERhcmtuZXNzLFxuXHRcdFx0XHRcdGxpbWl0R3JheW5lc3MsXG5cdFx0XHRcdFx0bGltaXRMaWdodG5lc3Ncblx0XHRcdFx0KTtcblx0XHRcdGNhc2UgODpcblx0XHRcdFx0cmV0dXJuIGdlblBhbGV0dGUuZGlhZGljKFxuXHRcdFx0XHRcdG51bUJveGVzLFxuXHRcdFx0XHRcdGN1c3RvbUNvbG9yLFxuXHRcdFx0XHRcdGVuYWJsZUFscGhhLFxuXHRcdFx0XHRcdGxpbWl0RGFya25lc3MsXG5cdFx0XHRcdFx0bGltaXRHcmF5bmVzcyxcblx0XHRcdFx0XHRsaW1pdExpZ2h0bmVzc1xuXHRcdFx0XHQpO1xuXHRcdFx0Y2FzZSA5OlxuXHRcdFx0XHRyZXR1cm4gZ2VuUGFsZXR0ZS5tb25vY2hyb21hdGljKFxuXHRcdFx0XHRcdG51bUJveGVzLFxuXHRcdFx0XHRcdGN1c3RvbUNvbG9yLFxuXHRcdFx0XHRcdGVuYWJsZUFscGhhLFxuXHRcdFx0XHRcdGxpbWl0RGFya25lc3MsXG5cdFx0XHRcdFx0bGltaXRHcmF5bmVzcyxcblx0XHRcdFx0XHRsaW1pdExpZ2h0bmVzc1xuXHRcdFx0XHQpO1xuXHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0aWYgKG1vZGUubG9nRXJyb3JzKSBjb25zb2xlLmVycm9yKCdJbnZhbGlkIHBhbGV0dGUgdHlwZS4nKTtcblxuXHRcdFx0XHRyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGRlZmF1bHRQYWxldHRlKTtcblx0XHR9XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0aWYgKG1vZGUubG9nRXJyb3JzKSBjb25zb2xlLmVycm9yKGBFcnJvciBnZW5lcmF0aW5nIHBhbGV0dGU6ICR7ZXJyb3J9YCk7XG5cblx0XHRyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGRlZmF1bHRQYWxldHRlKTtcblx0fVxufVxuXG5leHBvcnQgY29uc3QgZ2VuZXJhdGUgPSB7XG5cdGxpbWl0ZWRIU0wsXG5cdHNlbGVjdGVkUGFsZXR0ZVxufTtcbiJdfQ==