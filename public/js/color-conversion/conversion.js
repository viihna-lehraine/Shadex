import { convert } from './conversion-index.js';
import { paletteHelpers } from '../helpers/palette.js';
import { wrappers } from '../helpers/wrappers.js';
import { core } from '../utils/core.js';
export function getConversionFn(from, to) {
    try {
        const fromMap = conversionMap[from];
        if (!fromMap || !(to in fromMap))
            return undefined;
        const conversionFn = fromMap[to];
        return (value) => structuredClone(conversionFn(value));
    }
    catch (error) {
        console.error(`Error getting conversion function: ${error}`);
        return undefined;
    }
}
export const conversionMap = core.clone({
    cmyk: {
        hex: convert.cmykToHex,
        hsl: convert.cmykToHSL,
        hsv: convert.cmykToHSV,
        lab: convert.cmykToLAB,
        rgb: convert.cmykToRGB,
        xyz: convert.cmykToXYZ
    },
    hex: {
        cmyk: wrappers.hexToCMYKWrapper,
        hsl: wrappers.hexToHSLWrapper,
        hsv: wrappers.hexToHSVWrapper,
        lab: wrappers.hexToLABWrapper,
        rgb: wrappers.hexToRGBWrapper,
        xyz: wrappers.hexToXYZWrapper
    },
    hsl: {
        cmyk: convert.hslToCMYK,
        hex: convert.hslToHex,
        hsv: convert.hslToHSV,
        lab: convert.hslToLAB,
        rgb: convert.hslToRGB,
        xyz: convert.hslToXYZ
    },
    hsv: {
        cmyk: convert.hsvToCMYK,
        hex: convert.hsvToHex,
        hsl: convert.hsvToHSL,
        lab: convert.hsvToLAB,
        rgb: convert.hsvToRGB,
        xyz: convert.hsvToXYZ
    },
    lab: {
        cmyk: convert.labToCMYK,
        hex: convert.labToHex,
        hsl: convert.labToHSL,
        hsv: convert.labToHSV,
        rgb: convert.labToRGB,
        xyz: convert.labToXYZ
    },
    rgb: {
        cmyk: convert.rgbToCMYK,
        hex: convert.rgbToHex,
        hsl: convert.rgbToHSL,
        hsv: convert.rgbToHSV,
        lab: convert.rgbToLAB,
        xyz: convert.rgbToXYZ
    },
    xyz: {
        cmyk: convert.xyzToCMYK,
        hex: convert.xyzToHex,
        hsl: convert.xyzToHSL,
        hsv: convert.xyzToHSV,
        lab: convert.xyzToLAB,
        rgb: convert.xyzToRGB
    }
});
export function genAllColorValues(color) {
    const result = {};
    try {
        const clonedColor = core.clone(color);
        if (!paletteHelpers.validateColorValues(clonedColor)) {
            console.error(`Invalid color: ${JSON.stringify(clonedColor)}`);
            return {};
        }
        switch (clonedColor.format) {
            case 'cmyk':
                result.cmyk = clonedColor;
                result.hex = convert.cmykToHex(clonedColor);
                result.hsl = convert.cmykToHSL(clonedColor);
                result.hsv = convert.cmykToHSV(clonedColor);
                result.lab = convert.cmykToLAB(clonedColor);
                result.rgb = convert.cmykToRGB(clonedColor);
                break;
            case 'hex':
                result.hex = clonedColor;
                result.cmyk = convert.hexToCMYK(clonedColor);
                result.hsl = convert.hexToHSL(clonedColor);
                result.hsv = convert.hexToHSV(clonedColor);
                result.lab = convert.hexToLAB(clonedColor);
                result.rgb = convert.hexToRGB(clonedColor);
                break;
            case 'hsl':
                result.hsl = clonedColor;
                result.cmyk = convert.hslToCMYK(clonedColor);
                result.hex = convert.hslToHex(clonedColor);
                result.hsv = convert.hslToHSV(clonedColor);
                result.lab = convert.hslToLAB(clonedColor);
                result.rgb = convert.hslToRGB(clonedColor);
                break;
            case 'hsv':
                result.hsv = clonedColor;
                result.cmyk = convert.hsvToCMYK(clonedColor);
                result.hex = convert.hsvToHex(clonedColor);
                result.hsl = convert.hsvToHSL(clonedColor);
                result.lab = convert.hsvToLAB(clonedColor);
                result.rgb = convert.hsvToRGB(clonedColor);
                break;
            case 'lab':
                result.lab = clonedColor;
                result.cmyk = convert.labToCMYK(clonedColor);
                result.hex = convert.labToHex(clonedColor);
                result.hsl = convert.labToHSL(clonedColor);
                result.hsv = convert.labToHSV(clonedColor);
                result.rgb = convert.labToRGB(clonedColor);
                break;
            case 'rgb':
                result.rgb = clonedColor;
                result.cmyk = convert.rgbToCMYK(clonedColor);
                result.hex = convert.rgbToHex(clonedColor);
                result.hsl = convert.rgbToHSL(clonedColor);
                result.hsv = convert.rgbToHSV(clonedColor);
                result.lab = convert.rgbToLAB(clonedColor);
                break;
        }
        return core.clone(result);
    }
    catch (error) {
        console.error(`Error generating all color values: ${error}`);
        return {};
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29udmVyc2lvbi5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9jb2xvci1jb252ZXJzaW9uL2NvbnZlcnNpb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBQzdDLE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUNwRCxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0scUJBQXFCLENBQUM7QUFHL0MsT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUVyQyxNQUFNLFVBQVUsZUFBZSxDQUk5QixJQUFVLEVBQ1YsRUFBTTtJQU1OLElBQUksQ0FBQztRQUNKLE1BQU0sT0FBTyxHQUFHLGFBQWEsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUVwQyxJQUFJLENBQUMsT0FBTyxJQUFJLENBQUMsQ0FBQyxFQUFFLElBQUksT0FBTyxDQUFDO1lBQUUsT0FBTyxTQUFTLENBQUM7UUFFbkQsTUFBTSxZQUFZLEdBQUcsT0FBTyxDQUFDLEVBQUUsQ0FFRyxDQUFDO1FBRW5DLE9BQU8sQ0FDTixLQUFzQyxFQUNOLEVBQUUsQ0FDbEMsZUFBZSxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO0lBQ3ZDLENBQUM7SUFBQyxPQUFPLEtBQUssRUFBRSxDQUFDO1FBQ2hCLE9BQU8sQ0FBQyxLQUFLLENBQUMsc0NBQXNDLEtBQUssRUFBRSxDQUFDLENBQUM7UUFDN0QsT0FBTyxTQUFTLENBQUM7SUFDbEIsQ0FBQztBQUNGLENBQUM7QUFFRCxNQUFNLENBQUMsTUFBTSxhQUFhLEdBQXdCLElBQUksQ0FBQyxLQUFLLENBQUM7SUFDNUQsSUFBSSxFQUFFO1FBQ0wsR0FBRyxFQUFFLE9BQU8sQ0FBQyxTQUFTO1FBQ3RCLEdBQUcsRUFBRSxPQUFPLENBQUMsU0FBUztRQUN0QixHQUFHLEVBQUUsT0FBTyxDQUFDLFNBQVM7UUFDdEIs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QztnQkFDekIsTUFBTSxDQUFDLElBQUksR0FBRyxPQUFPLENBQUMsU0FBUyxDQUFDLFdBQVcsQ0FBQyxDQUFDO2dCQUM3QyxNQUFNLENBQUMsR0FBRyxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUMsV0FBVyxDQUFDLENBQUM7Z0JBQzNDLE1BQU0sQ0FBQyxHQUFHLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxXQUFXLENBQUMsQ0FBQztnQkFDM0MsTUFBTSxDQUFDLEdBQUcsR0FBRyxPQUFPLENBQUMsUUFBUSxDQUFDLFdBQVcsQ0FBQyxDQUFDO2dCQUMzQyxNQUFNLENBQUMsR0FBRyxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUMsV0FBVyxDQUFDLENBQUM7Z0JBQzNDLE1BQU07UUFDUixDQUFDO1FBRUQsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQzNCLENBQUM7SUFBQyxPQUFPLEtBQUssRUFBRSxDQUFDO1FBQ2hCLE9BQU8sQ0FBQyxLQUFLLENBQUMsc0NBQXNDLEtBQUssRUFBRSxDQUFDLENBQUM7UUFDN0QsT0FBTyxFQUFFLENBQUM7SUFDWCxDQUFDO0FBQ0YsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNvbnZlcnQgfSBmcm9tICcuL2NvbnZlcnNpb24taW5kZXgnO1xuaW1wb3J0IHsgcGFsZXR0ZUhlbHBlcnMgfSBmcm9tICcuLi9oZWxwZXJzL3BhbGV0dGUnO1xuaW1wb3J0IHsgd3JhcHBlcnMgfSBmcm9tICcuLi9oZWxwZXJzL3dyYXBwZXJzJztcbmltcG9ydCAqIGFzIGludGVyZmFjZXMgZnJvbSAnLi4vaW5kZXgvaW50ZXJmYWNlcyc7XG5pbXBvcnQgKiBhcyB0eXBlcyBmcm9tICcuLi9pbmRleC90eXBlcyc7XG5pbXBvcnQgeyBjb3JlIH0gZnJvbSAnLi4vdXRpbHMvY29yZSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRDb252ZXJzaW9uRm48XG5cdEZyb20gZXh0ZW5kcyBrZXlvZiBpbnRlcmZhY2VzLkNvbnZlcnNpb25EYXRhLFxuXHRUbyBleHRlbmRzIGtleW9mIGludGVyZmFjZXMuQ29udmVyc2lvbkRhdGFcbj4oXG5cdGZyb206IEZyb20sXG5cdHRvOiBUb1xuKTpcblx0fCAoKFxuXHRcdFx0dmFsdWU6IGludGVyZmFjZXMuQ29udmVyc2lvbkRhdGFbRnJvbV1cblx0ICApID0+IGludGVyZmFjZXMuQ29udmVyc2lvbkRhdGFbVG9dKVxuXHR8IHVuZGVmaW5lZCB7XG5cdHRyeSB7XG5cdFx0Y29uc3QgZnJvbU1hcCA9IGNvbnZlcnNpb25NYXBbZnJvbV07XG5cblx0XHRpZiAoIWZyb21NYXAgfHwgISh0byBpbiBmcm9tTWFwKSkgcmV0dXJuIHVuZGVmaW5lZDtcblxuXHRcdGNvbnN0IGNvbnZlcnNpb25GbiA9IGZyb21NYXBbdG9dIGFzIHVua25vd24gYXMgKFxuXHRcdFx0aW5wdXQ6IGludGVyZmFjZXMuQ29udmVyc2lvbkRhdGFbRnJvbV1cblx0XHQpID0+IGludGVyZmFjZXMuQ29udmVyc2lvbkRhdGFbVG9dO1xuXG5cdFx0cmV0dXJuIChcblx0XHRcdHZhbHVlOiBpbnRlcmZhY2VzLkNvbnZlcnNpb25EYXRhW0Zyb21dXG5cdFx0KTogaW50ZXJmYWNlcy5Db252ZXJzaW9uRGF0YVtUb10gPT5cblx0XHRcdHN0cnVjdHVyZWRDbG9uZShjb252ZXJzaW9uRm4odmFsdWUpKTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRjb25zb2xlLmVycm9yKGBFcnJvciBnZXR0aW5nIGNvbnZlcnNpb24gZnVuY3Rpb246ICR7ZXJyb3J9YCk7XG5cdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0fVxufVxuXG5leHBvcnQgY29uc3QgY29udmVyc2lvbk1hcDogdHlwZXMuQ29udmVyc2lvbk1hcCA9IGNvcmUuY2xvbmUoe1xuXHRjbXlrOiB7XG5cdFx0aGV4OiBjb252ZXJ0LmNteWtUb0hleCxcblx0XHRoc2w6IGNvbnZlcnQuY215a1RvSFNMLFxuXHRcdGhzdjogY29udmVydC5jbXlrVG9IU1YsXG5cdFx0bGFiOiBjb252ZXJ0LmNteWtUb0xBQixcblx0XHRyZ2I6IGNvbnZlcnQuY215a1RvUkdCLFxuXHRcdHh5ejogY29udmVydC5jbXlrVG9YWVpcblx0fSxcblx0aGV4OiB7XG5cdFx0Y215azogd3JhcHBlcnMuaGV4VG9DTVlLV3JhcHBlcixcblx0XHRoc2w6IHdyYXBwZXJzLmhleFRvSFNMV3JhcHBlcixcblx0XHRoc3Y6IHdyYXBwZXJzLmhleFRvSFNWV3JhcHBlcixcblx0XHRsYWI6IHdyYXBwZXJzLmhleFRvTEFCV3JhcHBlcixcblx0XHRyZ2I6IHdyYXBwZXJzLmhleFRvUkdCV3JhcHBlcixcblx0XHR4eXo6IHdyYXBwZXJzLmhleFRvWFlaV3JhcHBlclxuXHR9LFxuXHRoc2w6IHtcblx0XHRjbXlrOiBjb252ZXJ0LmhzbFRvQ01ZSyxcblx0XHRoZXg6IGNvbnZlcnQuaHNsVG9IZXgsXG5cdFx0aHN2OiBjb252ZXJ0LmhzbFRvSFNWLFxuXHRcdGxhYjogY29udmVydC5oc2xUb0xBQixcblx0XHRyZ2I6IGNvbnZlcnQuaHNsVG9SR0IsXG5cdFx0eHl6OiBjb252ZXJ0LmhzbFRvWFlaXG5cdH0sXG5cdGhzdjoge1xuXHRcdGNteWs6IGNvbnZlcnQuaHN2VG9DTVlLLFxuXHRcdGhleDogY29udmVydC5oc3ZUb0hleCxcblx0XHRoc2w6IGNvbnZlcnQuaHN2VG9IU0wsXG5cdFx0bGFiOiBjb252ZXJ0LmhzdlRvTEFCLFxuXHRcdHJnYjogY29udmVydC5oc3ZUb1JHQixcblx0XHR4eXo6IGNvbnZlcnQuaHN2VG9YWVpcblx0fSxcblx0bGFiOiB7XG5cdFx0Y215azogY29udmVydC5sYWJUb0NNWUssXG5cdFx0aGV4OiBjb252ZXJ0LmxhYlRvSGV4LFxuXHRcdGhzbDogY29udmVydC5sYWJUb0hTTCxcblx0XHRoc3Y6IGNvbnZlcnQubGFiVG9IU1YsXG5cdFx0cmdiOiBjb252ZXJ0LmxhYlRvUkdCLFxuXHRcdHh5ejogY29udmVydC5sYWJUb1hZWlxuXHR9LFxuXHRyZ2I6IHtcblx0XHRjbXlrOiBjb252ZXJ0LnJnYlRvQ01ZSyxcblx0XHRoZXg6IGNvbnZlcnQucmdiVG9IZXgsXG5cdFx0aHNsOiBjb252ZXJ0LnJnYlRvSFNMLFxuXHRcdGhzdjogY29udmVydC5yZ2JUb0hTVixcblx0XHRsYWI6IGNvbnZlcnQucmdiVG9MQUIsXG5cdFx0eHl6OiBjb252ZXJ0LnJnYlRvWFlaXG5cdH0sXG5cdHh5ejoge1xuXHRcdGNteWs6IGNvbnZlcnQueHl6VG9DTVlLLFxuXHRcdGhleDogY29udmVydC54eXpUb0hleCxcblx0XHRoc2w6IGNvbnZlcnQueHl6VG9IU0wsXG5cdFx0aHN2OiBjb252ZXJ0Lnh5elRvSFNWLFxuXHRcdGxhYjogY29udmVydC54eXpUb0xBQixcblx0XHRyZ2I6IGNvbnZlcnQueHl6VG9SR0Jcblx0fVxufSk7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZW5BbGxDb2xvclZhbHVlcyhcblx0Y29sb3I6IHR5cGVzLkNvbG9yXG4pOiBQYXJ0aWFsPGludGVyZmFjZXMuQ29sb3JEYXRhPiB7XG5cdGNvbnN0IHJlc3VsdDogUGFydGlhbDxpbnRlcmZhY2VzLkNvbG9yRGF0YT4gPSB7fTtcblxuXHR0cnkge1xuXHRcdGNvbnN0IGNsb25lZENvbG9yID0gY29yZS5jbG9uZShjb2xvcik7XG5cblx0XHRpZiAoIXBhbGV0dGVIZWxwZXJzLnZhbGlkYXRlQ29sb3JWYWx1ZXMoY2xvbmVkQ29sb3IpKSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKGBJbnZhbGlkIGNvbG9yOiAke0pTT04uc3RyaW5naWZ5KGNsb25lZENvbG9yKX1gKTtcblxuXHRcdFx0cmV0dXJuIHt9O1xuXHRcdH1cblxuXHRcdHN3aXRjaCAoY2xvbmVkQ29sb3IuZm9ybWF0KSB7XG5cdFx0XHRjYXNlICdjbXlrJzpcblx0XHRcdFx0cmVzdWx0LmNteWsgPSBjbG9uZWRDb2xvcjtcblx0XHRcdFx0cmVzdWx0LmhleCA9IGNvbnZlcnQuY215a1RvSGV4KGNsb25lZENvbG9yKTtcblx0XHRcdFx0cmVzdWx0LmhzbCA9IGNvbnZlcnQuY215a1RvSFNMKGNsb25lZENvbG9yKTtcblx0XHRcdFx0cmVzdWx0LmhzdiA9IGNvbnZlcnQuY215a1RvSFNWKGNsb25lZENvbG9yKTtcblx0XHRcdFx0cmVzdWx0LmxhYiA9IGNvbnZlcnQuY215a1RvTEFCKGNsb25lZENvbG9yKTtcblx0XHRcdFx0cmVzdWx0LnJnYiA9IGNvbnZlcnQuY215a1RvUkdCKGNsb25lZENvbG9yKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlICdoZXgnOlxuXHRcdFx0XHRyZXN1bHQuaGV4ID0gY2xvbmVkQ29sb3I7XG5cdFx0XHRcdHJlc3VsdC5jbXlrID0gY29udmVydC5oZXhUb0NNWUsoY2xvbmVkQ29sb3IpO1xuXHRcdFx0XHRyZXN1bHQuaHNsID0gY29udmVydC5oZXhUb0hTTChjbG9uZWRDb2xvcik7XG5cdFx0XHRcdHJlc3VsdC5oc3YgPSBjb252ZXJ0LmhleFRvSFNWKGNsb25lZENvbG9yKTtcblx0XHRcdFx0cmVzdWx0LmxhYiA9IGNvbnZlcnQuaGV4VG9MQUIoY2xvbmVkQ29sb3IpO1xuXHRcdFx0XHRyZXN1bHQucmdiID0gY29udmVydC5oZXhUb1JHQihjbG9uZWRDb2xvcik7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAnaHNsJzpcblx0XHRcdFx0cmVzdWx0LmhzbCA9IGNsb25lZENvbG9yO1xuXHRcdFx0XHRyZXN1bHQuY215ayA9IGNvbnZlcnQuaHNsVG9DTVlLKGNsb25lZENvbG9yKTtcblx0XHRcdFx0cmVzdWx0LmhleCA9IGNvbnZlcnQuaHNsVG9IZXgoY2xvbmVkQ29sb3IpO1xuXHRcdFx0XHRyZXN1bHQuaHN2ID0gY29udmVydC5oc2xUb0hTVihjbG9uZWRDb2xvcik7XG5cdFx0XHRcdHJlc3VsdC5sYWIgPSBjb252ZXJ0LmhzbFRvTEFCKGNsb25lZENvbG9yKTtcblx0XHRcdFx0cmVzdWx0LnJnYiA9IGNvbnZlcnQuaHNsVG9SR0IoY2xvbmVkQ29sb3IpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgJ2hzdic6XG5cdFx0XHRcdHJlc3VsdC5oc3YgPSBjbG9uZWRDb2xvcjtcblx0XHRcdFx0cmVzdWx0LmNteWsgPSBjb252ZXJ0LmhzdlRvQ01ZSyhjbG9uZWRDb2xvcik7XG5cdFx0XHRcdHJlc3VsdC5oZXggPSBjb252ZXJ0LmhzdlRvSGV4KGNsb25lZENvbG9yKTtcblx0XHRcdFx0cmVzdWx0LmhzbCA9IGNvbnZlcnQuaHN2VG9IU0woY2xvbmVkQ29sb3IpO1xuXHRcdFx0XHRyZXN1bHQubGFiID0gY29udmVydC5oc3ZUb0xBQihjbG9uZWRDb2xvcik7XG5cdFx0XHRcdHJlc3VsdC5yZ2IgPSBjb252ZXJ0LmhzdlRvUkdCKGNsb25lZENvbG9yKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlICdsYWInOlxuXHRcdFx0XHRyZXN1bHQubGFiID0gY2xvbmVkQ29sb3I7XG5cdFx0XHRcdHJlc3VsdC5jbXlrID0gY29udmVydC5sYWJUb0NNWUsoY2xvbmVkQ29sb3IpO1xuXHRcdFx0XHRyZXN1bHQuaGV4ID0gY29udmVydC5sYWJUb0hleChjbG9uZWRDb2xvcik7XG5cdFx0XHRcdHJlc3VsdC5oc2wgPSBjb252ZXJ0LmxhYlRvSFNMKGNsb25lZENvbG9yKTtcblx0XHRcdFx0cmVzdWx0LmhzdiA9IGNvbnZlcnQubGFiVG9IU1YoY2xvbmVkQ29sb3IpO1xuXHRcdFx0XHRyZXN1bHQucmdiID0gY29udmVydC5sYWJUb1JHQihjbG9uZWRDb2xvcik7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAncmdiJzpcblx0XHRcdFx0cmVzdWx0LnJnYiA9IGNsb25lZENvbG9yO1xuXHRcdFx0XHRyZXN1bHQuY215ayA9IGNvbnZlcnQucmdiVG9DTVlLKGNsb25lZENvbG9yKTtcblx0XHRcdFx0cmVzdWx0LmhleCA9IGNvbnZlcnQucmdiVG9IZXgoY2xvbmVkQ29sb3IpO1xuXHRcdFx0XHRyZXN1bHQuaHNsID0gY29udmVydC5yZ2JUb0hTTChjbG9uZWRDb2xvcik7XG5cdFx0XHRcdHJlc3VsdC5oc3YgPSBjb252ZXJ0LnJnYlRvSFNWKGNsb25lZENvbG9yKTtcblx0XHRcdFx0cmVzdWx0LmxhYiA9IGNvbnZlcnQucmdiVG9MQUIoY2xvbmVkQ29sb3IpO1xuXHRcdFx0XHRicmVhaztcblx0XHR9XG5cblx0XHRyZXR1cm4gY29yZS5jbG9uZShyZXN1bHQpO1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdGNvbnNvbGUuZXJyb3IoYEVycm9yIGdlbmVyYXRpbmcgYWxsIGNvbG9yIHZhbHVlczogJHtlcnJvcn1gKTtcblx0XHRyZXR1cm4ge307XG5cdH1cbn1cbiJdfQ==