import { convert } from './conversion-index.js';
import { defaults } from '../utils/defaults.js';
function cmykToLAB(cmyk) {
    try {
        const rgb = convert.cmykToRGB(cmyk);
        const xyz = convert.rgbToXYZ(rgb);
        return xyzToLAB(xyz);
    }
    catch (error) {
        console.error(`cmykToLab() error: ${error}`);
        return defaults.defaultLAB();
    }
}
function hexToLAB(hex) {
    try {
        const rgb = convert.hexToRGB(hex);
        const xyz = convert.rgbToXYZ(rgb);
        return xyzToLAB(xyz);
    }
    catch (error) {
        console.error(`hexToLAB() error: ${error}`);
        return defaults.defaultLAB();
    }
}
function hslToLAB(hsl) {
    try {
        const rgb = convert.hslToRGB(hsl);
        const xyz = convert.rgbToXYZ(rgb);
        return xyzToLAB(xyz);
    }
    catch (error) {
        console.error(`hslToLab() error: ${error}`);
        return defaults.defaultLAB();
    }
}
function hsvToLAB(hsv) {
    try {
        const rgb = convert.hsvToRGB(hsv);
        const xyz = convert.rgbToXYZ(rgb);
        return xyzToLAB(xyz);
    }
    catch (error) {
        console.error(`hsvToLab() error: ${error}`);
        return defaults.defaultLAB();
    }
}
function rgbToLAB(rgb) {
    try {
        const xyz = convert.rgbToXYZ(rgb);
        return xyzToLAB(xyz);
    }
    catch (error) {
        console.error(`rgbToLab() error: ${error}`);
        return defaults.defaultLAB();
    }
}
function xyzToLAB(xyz) {
    try {
        const refX = 95.047, refY = 100.0, refZ = 108.883;
        xyz.value.x = xyz.value.x / refX;
        xyz.value.y = xyz.value.y / refY;
        xyz.value.z = xyz.value.z / refZ;
        xyz.value.x =
            xyz.value.x > 0.008856
                ? Math.pow(xyz.value.x, 1 / 3)
                : 7.787 * xyz.value.x + 16 / 116;
        xyz.value.y =
            xyz.value.y > 0.008856
                ? Math.pow(xyz.value.y, 1 / 3)
                : 7.787 * xyz.value.y + 16 / 116;
        xyz.value.z =
            xyz.value.z > 0.008856
                ? Math.pow(xyz.value.z, 1 / 3)
                : 7.787 * xyz.value.z + 16 / 116;
        let l = parseFloat((116 * xyz.value.y - 16).toFixed(2));
        let a = parseFloat((500 * (xyz.value.x - xyz.value.y)).toFixed(2));
        let b = parseFloat((200 * (xyz.value.y - xyz.value.z)).toFixed(2));
        return { value: { l, a, b }, format: 'lab' };
    }
    catch (error) {
        console.error(`xyzToLab() error: ${error}`);
        return defaults.defaultLAB();
    }
}
export const toLAB = {
    cmykToLAB,
    hexToLAB,
    hslToLAB,
    hsvToLAB,
    rgbToLAB,
    xyzToLAB
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidG9MQUIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvY29sb3ItY29udmVyc2lvbi90b0xBQi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFHN0MsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBRTdDLFNBQVMsU0FBUyxDQUFDLElBQWdCO0lBQ2xDLElBQUksQ0FBQztRQUNKLE1BQU0sR0FBRyxHQUFHLE9BQU8sQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDcEMsTUFBTSxHQUFHLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUVsQyxPQUFPLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUN0QixDQUFDO0lBQUMsT0FBTyxLQUFLLEVBQUUsQ0FBQztRQUNoQixPQUFPLENBQUMsS0FBSyxDQUFDLHNCQUFzQixLQUFLLEVBQUUsQ0FBQyxDQUFDO1FBQzdDLE9BQU8sUUFBUSxDQUFDLFVBQVUsRUFBRSxDQUFDO0lBQzlCLENBQUM7QUFDRixDQUFDO0FBRUQsU0FBUyxRQUFRLENBQUMsR0FBYztJQUMvQixJQUFJLENBQUM7UUFDSixNQUFNLEdBQUcsR0FBRyxPQUFPLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ2xDLE1BQU0sR0FBRyxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUM7UUFFbEMsT0FBTyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDdEIsQ0FBQztJQUFDLE9BQU8sS0FBSyxFQUFFLENBQUM7UUFDaEIsT0FBTyxDQUFDLEtBQUssQ0FBQyxxQkFBcUIsS0FBSyxFQUFFLENBQUMsQ0FBQztRQUM1QyxPQUFPLFFBQVEsQ0FBQyxVQUFVLEVBQUUsQ0FBQztJQUM5QixDQUFDO0FBQ0YsQ0FBQztBQUVELFNBQVMsUUFBUSxDQUFDLEdBQWM7SUFDL0IsSUFBSSxDQUFDO1FBQ0osTUFBTSxHQUFHLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNsQyxNQUFNLEdBQUcsR0FBRyxPQUFPLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBRWxDLE9BQU8sUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ3RCLENBQUM7SUFBQyxPQUFPLEtBQUssRUFBRSxDQUFDO1FBQ2hCLE9BQU8sQ0FBQyxLQUFLLENBQUMscUJBQXFCLEtBQUssRUFBRSxDQUFDLENBQUM7UUFDNUMsT0FBTyxRQUFRLENBQUMsVUFBVSxFQUFFLENBQUM7SUFDOUIsQ0FBQztBQUNGLENBQUM7QUFFRCxTQUFTLFFBQVEsQ0FBQyxHQUFjO0lBQy9CLElBQUksQ0FBQztRQUNKLE1BQU0sR0FBRyxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDbEMsTUFBTSxHQUFHLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUVsQyxPQUFPLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUN0QixDQUFDO0lBQUMsT0FBTyxLQUFLLEVBQUUsQ0FBQztRQUNoQixPQUFPLENBQUMsS0FBSyxDQUFDLHFCQUFxQixLQUFLLEVBQUUsQ0FBQyxDQUFDO1FBQzVDLE9BQU8sUUFBUSxDQUFDLFVBQVUsRUFBRSxDQUFDO0lBQzlCLENBQUM7QUFDRixDQUFDO0FBRUQsU0FBUyxRQUFRLENBQUMsR0FBYztJQUMvQixJQUFJLENBQUM7UUFDSixNQUFNLEdBQUcsR0FBRyxPQUFPLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ2xDLE9BQU8sUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ3RCLENBQUM7SUFBQyxPQUFPLEtBQUssRUFBRSxDQUFDO1FBQ2hCLE9BQU8sQ0FBQyxLQUFLLENBQUMscUJBQXFCLEtBQUssRUFBRSxDQUFDLENBQUM7UUFDNUMsT0FBTyxRQUFRLENBQUMsVUFBVSxFQUFFLENBQUM7SUFDOUIsQ0FBQztBQUNGLENBQUM7QUFFRCxTQUFTLFFBQVEsQ0FBQyxHQUFjO0lBQy9CLElBQUksQ0FBQztRQUNKLE1BQU0sSUFBSSxHQUFHLE1BQU0sRUFDbEIsSUFBSSxHQUFHLEtBQUssRUFDWixJQUFJLEdBQUcsT0FBTyxDQUFDO1FBRWhCLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQztRQUNqQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUM7UUFDakMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDO1FBRWpDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUNWLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLFFBQVE7Z0JBQ3JCLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQzlCLENBQUMsQ0FBQyxLQUFLLEdBQUcsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUcsRUFBRSxHQUFHLEdBQUcsQ0FBQztRQUNuQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDVixHQUFHLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxRQUFRO2dCQUNyQixDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUM5QixDQUFDLENBQUMsS0FBSyxHQUFHLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLEVBQUUsR0FBRyxHQUFHLENBQUM7UUFDbkMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ1YsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUcsUUFBUTtnQkFDckIsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQztnQkFDOUIsQ0FBQyxDQUFDLEtBQUssR0FBRyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxFQUFFLEdBQUcsR0FBRyxDQUFDO1FBRW5DLElBQUksQ0FBQyxHQUFHLFVBQVUsQ0FBQyxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN4RCxJQUFJLENBQUMsR0FBRyxVQUFVLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDbkUsSUFBSSxDQUFDLEdBQUcsVUFBVSxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBRW5FLE9BQU8sRUFBRSxLQUFLLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUUsQ0FBQztJQUM5QyxDQUFDO0lBQUMsT0FBTyxLQUFLLEVBQUUsQ0FBQztRQUNoQixPQUFPLENBQUMsS0FBSyxDQUFDLHFCQUFxQixLQUFLLEVBQUUsQ0FBQyxDQUFDO1FBQzVDLE9BQU8sUUFBUSxDQUFDLFVBQVUsRUFBRSxDQUFDO0lBQzlCLENBQUM7QUFDRixDQUFDO0FBRUQsTUFBTSxDQUFDLE1BQU0sS0FBSyxHQUFvQjtJQUNyQyxTQUFTO0lBQ1QsUUFBUTtJQUNSLFFBQVE7SUFDUixRQUFRO0lBQ1IsUUFBUTtJQUNSLFFBQVE7Q0FDUixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY29udmVydCB9IGZyb20gJy4vY29udmVyc2lvbi1pbmRleCc7XG5pbXBvcnQgKiBhcyBmbk9iamVjdHMgZnJvbSAnLi4vaW5kZXgvZm4tb2JqZWN0cyc7XG5pbXBvcnQgKiBhcyB0eXBlcyBmcm9tICcuLi9pbmRleC90eXBlcyc7XG5pbXBvcnQgeyBkZWZhdWx0cyB9IGZyb20gJy4uL3V0aWxzL2RlZmF1bHRzJztcblxuZnVuY3Rpb24gY215a1RvTEFCKGNteWs6IHR5cGVzLkNNWUspOiB0eXBlcy5MQUIge1xuXHR0cnkge1xuXHRcdGNvbnN0IHJnYiA9IGNvbnZlcnQuY215a1RvUkdCKGNteWspO1xuXHRcdGNvbnN0IHh5eiA9IGNvbnZlcnQucmdiVG9YWVoocmdiKTtcblxuXHRcdHJldHVybiB4eXpUb0xBQih4eXopO1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdGNvbnNvbGUuZXJyb3IoYGNteWtUb0xhYigpIGVycm9yOiAke2Vycm9yfWApO1xuXHRcdHJldHVybiBkZWZhdWx0cy5kZWZhdWx0TEFCKCk7XG5cdH1cbn1cblxuZnVuY3Rpb24gaGV4VG9MQUIoaGV4OiB0eXBlcy5IZXgpOiB0eXBlcy5MQUIge1xuXHR0cnkge1xuXHRcdGNvbnN0IHJnYiA9IGNvbnZlcnQuaGV4VG9SR0IoaGV4KTtcblx0XHRjb25zdCB4eXogPSBjb252ZXJ0LnJnYlRvWFlaKHJnYik7XG5cblx0XHRyZXR1cm4geHl6VG9MQUIoeHl6KTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRjb25zb2xlLmVycm9yKGBoZXhUb0xBQigpIGVycm9yOiAke2Vycm9yfWApO1xuXHRcdHJldHVybiBkZWZhdWx0cy5kZWZhdWx0TEFCKCk7XG5cdH1cbn1cblxuZnVuY3Rpb24gaHNsVG9MQUIoaHNsOiB0eXBlcy5IU0wpOiB0eXBlcy5MQUIge1xuXHR0cnkge1xuXHRcdGNvbnN0IHJnYiA9IGNvbnZlcnQuaHNsVG9SR0IoaHNsKTtcblx0XHRjb25zdCB4eXogPSBjb252ZXJ0LnJnYlRvWFlaKHJnYik7XG5cblx0XHRyZXR1cm4geHl6VG9MQUIoeHl6KTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRjb25zb2xlLmVycm9yKGBoc2xUb0xhYigpIGVycm9yOiAke2Vycm9yfWApO1xuXHRcdHJldHVybiBkZWZhdWx0cy5kZWZhdWx0TEFCKCk7XG5cdH1cbn1cblxuZnVuY3Rpb24gaHN2VG9MQUIoaHN2OiB0eXBlcy5IU1YpOiB0eXBlcy5MQUIge1xuXHR0cnkge1xuXHRcdGNvbnN0IHJnYiA9IGNvbnZlcnQuaHN2VG9SR0IoaHN2KTtcblx0XHRjb25zdCB4eXogPSBjb252ZXJ0LnJnYlRvWFlaKHJnYik7XG5cblx0XHRyZXR1cm4geHl6VG9MQUIoeHl6KTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRjb25zb2xlLmVycm9yKGBoc3ZUb0xhYigpIGVycm9yOiAke2Vycm9yfWApO1xuXHRcdHJldHVybiBkZWZhdWx0cy5kZWZhdWx0TEFCKCk7XG5cdH1cbn1cblxuZnVuY3Rpb24gcmdiVG9MQUIocmdiOiB0eXBlcy5SR0IpOiB0eXBlcy5MQUIge1xuXHR0cnkge1xuXHRcdGNvbnN0IHh5eiA9IGNvbnZlcnQucmdiVG9YWVoocmdiKTtcblx0XHRyZXR1cm4geHl6VG9MQUIoeHl6KTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRjb25zb2xlLmVycm9yKGByZ2JUb0xhYigpIGVycm9yOiAke2Vycm9yfWApO1xuXHRcdHJldHVybiBkZWZhdWx0cy5kZWZhdWx0TEFCKCk7XG5cdH1cbn1cblxuZnVuY3Rpb24geHl6VG9MQUIoeHl6OiB0eXBlcy5YWVopOiB0eXBlcy5MQUIge1xuXHR0cnkge1xuXHRcdGNvbnN0IHJlZlggPSA5NS4wNDcsXG5cdFx0XHRyZWZZID0gMTAwLjAsXG5cdFx0XHRyZWZaID0gMTA4Ljg4MztcblxuXHRcdHh5ei52YWx1ZS54ID0geHl6LnZhbHVlLnggLyByZWZYO1xuXHRcdHh5ei52YWx1ZS55ID0geHl6LnZhbHVlLnkgLyByZWZZO1xuXHRcdHh5ei52YWx1ZS56ID0geHl6LnZhbHVlLnogLyByZWZaO1xuXG5cdFx0eHl6LnZhbHVlLnggPVxuXHRcdFx0eHl6LnZhbHVlLnggPiAwLjAwODg1NlxuXHRcdFx0XHQ/IE1hdGgucG93KHh5ei52YWx1ZS54LCAxIC8gMylcblx0XHRcdFx0OiA3Ljc4NyAqIHh5ei52YWx1ZS54ICsgMTYgLyAxMTY7XG5cdFx0eHl6LnZhbHVlLnkgPVxuXHRcdFx0eHl6LnZhbHVlLnkgPiAwLjAwODg1NlxuXHRcdFx0XHQ/IE1hdGgucG93KHh5ei52YWx1ZS55LCAxIC8gMylcblx0XHRcdFx0OiA3Ljc4NyAqIHh5ei52YWx1ZS55ICsgMTYgLyAxMTY7XG5cdFx0eHl6LnZhbHVlLnogPVxuXHRcdFx0eHl6LnZhbHVlLnogPiAwLjAwODg1NlxuXHRcdFx0XHQ/IE1hdGgucG93KHh5ei52YWx1ZS56LCAxIC8gMylcblx0XHRcdFx0OiA3Ljc4NyAqIHh5ei52YWx1ZS56ICsgMTYgLyAxMTY7XG5cblx0XHRsZXQgbCA9IHBhcnNlRmxvYXQoKDExNiAqIHh5ei52YWx1ZS55IC0gMTYpLnRvRml4ZWQoMikpO1xuXHRcdGxldCBhID0gcGFyc2VGbG9hdCgoNTAwICogKHh5ei52YWx1ZS54IC0geHl6LnZhbHVlLnkpKS50b0ZpeGVkKDIpKTtcblx0XHRsZXQgYiA9IHBhcnNlRmxvYXQoKDIwMCAqICh4eXoudmFsdWUueSAtIHh5ei52YWx1ZS56KSkudG9GaXhlZCgyKSk7XG5cblx0XHRyZXR1cm4geyB2YWx1ZTogeyBsLCBhLCBiIH0sIGZvcm1hdDogJ2xhYicgfTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRjb25zb2xlLmVycm9yKGB4eXpUb0xhYigpIGVycm9yOiAke2Vycm9yfWApO1xuXHRcdHJldHVybiBkZWZhdWx0cy5kZWZhdWx0TEFCKCk7XG5cdH1cbn1cblxuZXhwb3J0IGNvbnN0IHRvTEFCOiBmbk9iamVjdHMuVG9MQUIgPSB7XG5cdGNteWtUb0xBQixcblx0aGV4VG9MQUIsXG5cdGhzbFRvTEFCLFxuXHRoc3ZUb0xBQixcblx0cmdiVG9MQUIsXG5cdHh5elRvTEFCXG59O1xuIl19