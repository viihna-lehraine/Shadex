import { conversionHelpers } from '../helpers/conversion.js';
import { defaults } from '../utils/defaults.js';
function cmykToXYZ(cmyk) {
    try {
        return conversionHelpers.cmykToXYZHelper(cmyk);
    }
    catch (error) {
        console.error(`cmykToXYZ error: ${error}`);
        return defaults.defaultXYZ();
    }
}
function hexToXYZ(hex) {
    try {
        return conversionHelpers.hexToXYZHelper(hex);
    }
    catch (error) {
        console.error(`hexToXYZ error: ${error}`);
        return defaults.defaultXYZ();
    }
}
function hslToXYZ(hsl) {
    try {
        return conversionHelpers.hslToXYZHelper(hsl);
    }
    catch (error) {
        console.error(`hslToXYZ error: ${error}`);
        return defaults.defaultXYZ();
    }
}
function hsvToXYZ(hsv) {
    try {
        return conversionHelpers.hsvToXYZHelper(hsv);
    }
    catch (error) {
        console.error(`hsvToXYZ error: ${error}`);
        return defaults.defaultXYZ();
    }
}
function labToXYZ(lab) {
    try {
        const refX = 95.047, refY = 100.0, refZ = 108.883;
        let y = (lab.value.l + 16) / 116;
        let x = lab.value.a / 500 + y;
        let z = y - lab.value.b / 200;
        const pow = Math.pow;
        return {
            value: {
                x: refX *
                    (pow(x, 3) > 0.008856 ? pow(x, 3) : (x - 16 / 116) / 7.787),
                y: refY *
                    (pow(y, 3) > 0.008856 ? pow(y, 3) : (y - 16 / 116) / 7.787),
                z: refZ *
                    (pow(z, 3) > 0.008856 ? pow(z, 3) : (z - 16 / 116) / 7.787)
            },
            format: 'xyz'
        };
    }
    catch (error) {
        console.error(`labToXYZ error: ${error}`);
        return defaults.defaultXYZ();
    }
}
function rgbToXYZ(rgb) {
    try {
        rgb.value.red = rgb.value.red / 255;
        rgb.value.green = rgb.value.green / 255;
        rgb.value.blue = rgb.value.blue / 255;
        rgb.value.red =
            rgb.value.red > 0.04045
                ? Math.pow((rgb.value.red + 0.055) / 1.055, 2.4)
                : rgb.value.red / 12.92;
        rgb.value.green =
            rgb.value.green > 0.04045
                ? Math.pow((rgb.value.green + 0.055) / 1.055, 2.4)
                : rgb.value.green / 12.92;
        rgb.value.blue =
            rgb.value.blue > 0.04045
                ? Math.pow((rgb.value.blue + 0.055) / 1.055, 2.4)
                : rgb.value.blue / 12.92;
        rgb.value.red = rgb.value.red * 100;
        rgb.value.green = rgb.value.green * 100;
        rgb.value.blue = rgb.value.blue * 100;
        return {
            value: {
                x: rgb.value.red * 0.4124 +
                    rgb.value.green * 0.3576 +
                    rgb.value.blue * 0.1805,
                y: rgb.value.red * 0.2126 +
                    rgb.value.green * 0.7152 +
                    rgb.value.blue * 0.0722,
                z: rgb.value.red * 0.0193 +
                    rgb.value.green * 0.1192 +
                    rgb.value.blue * 0.9505
            },
            format: 'xyz'
        };
    }
    catch (error) {
        console.error(`rgbToXYZ error: ${error}`);
        return defaults.defaultXYZ();
    }
}
export const toXYZ = {
    cmykToXYZ,
    hexToXYZ,
    hslToXYZ,
    hsvToXYZ,
    labToXYZ,
    rgbToXYZ
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidG9YWVouanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvY29sb3ItY29udmVyc2lvbi90b1hZWi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQztBQUcxRCxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFFN0MsU0FBUyxTQUFTLENBQUMsSUFBZ0I7SUFDbEMsSUFBSSxDQUFDO1FBQ0osT0FBTyxpQkFBaUIsQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDaEQsQ0FBQztJQUFDLE9BQU8sS0FBSyxFQUFFLENBQUM7UUFDaEIsT0FBTyxDQUFDLEtBQUssQ0FBQyxvQkFBb0IsS0FBSyxFQUFFLENBQUMsQ0FBQztRQUMzQyxPQUFPLFFBQVEsQ0FBQyxVQUFVLEVBQUUsQ0FBQztJQUM5QixDQUFDO0FBQ0YsQ0FBQztBQUVELFNBQVMsUUFBUSxDQUFDLEdBQWM7SUFDL0IsSUFBSSxDQUFDO1FBQ0osT0FBTyxpQkFBaUIsQ0FBQyxjQUFjLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDOUMsQ0FBQztJQUFDLE9BQU8sS0FBSyxFQUFFLENBQUM7UUFDaEIsT0FBTyxDQUFDLEtBQUssQ0FBQyxtQkFBbUIsS0FBSyxFQUFFLENBQUMsQ0FBQztRQUMxQyxPQUFPLFFBQVEsQ0FBQyxVQUFVLEVBQUUsQ0FBQztJQUM5QixDQUFDO0FBQ0YsQ0FBQztBQUVELFNBQVMsUUFBUSxDQUFDLEdBQWM7SUFDL0IsSUFBSSxDQUFDO1FBQ0osT0FBTyxpQkFBaUIsQ0FBQyxjQUFjLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDOUMsQ0FBQztJQUFDLE9BQU8sS0FBSyxFQUFFLENBQUM7UUFDaEIsT0FBTyxDQUFDLEtBQUssQ0FBQyxtQkFBbUIsS0FBSyxFQUFFLENBQUMsQ0FBQztRQUMxQyxPQUFPLFFBQVEsQ0FBQyxVQUFVLEVBQUUsQ0FBQztJQUM5QixD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QkFDeEIsR0FBRyxDQUFDLEtBQUssQ0FBQyxJQUFJLEdBQUcsTUFBTTtnQkFDeEIsQ0FBQyxFQUNBLEdBQUcsQ0FBQyxLQUFLLENBQUMsR0FBRyxHQUFHLE1BQU07b0JBQ3RCLEdBQUcsQ0FBQyxLQUFLLENBQUMsS0FBSyxHQUFHLE1BQU07b0JBQ3hCLEdBQUcsQ0FBQyxLQUFLLENBQUMsSUFBSSxHQUFHLE1BQU07Z0JBQ3hCLENBQUMsRUFDQSxHQUFHLENBQUMsS0FBSyxDQUFDLEdBQUcsR0FBRyxNQUFNO29CQUN0QixHQUFHLENBQUMsS0FBSyxDQUFDLEtBQUssR0FBRyxNQUFNO29CQUN4QixHQUFHLENBQUMsS0FBSyxDQUFDLElBQUksR0FBRyxNQUFNO2FBQ3hCO1lBQ0QsTUFBTSxFQUFFLEtBQUs7U0FDYixDQUFDO0lBQ0gsQ0FBQztJQUFDLE9BQU8sS0FBSyxFQUFFLENBQUM7UUFDaEIsT0FBTyxDQUFDLEtBQUssQ0FBQyxtQkFBbUIsS0FBSyxFQUFFLENBQUMsQ0FBQztRQUMxQyxPQUFPLFFBQVEsQ0FBQyxVQUFVLEVBQUUsQ0FBQztJQUM5QixDQUFDO0FBQ0YsQ0FBQztBQUVELE1BQU0sQ0FBQyxNQUFNLEtBQUssR0FBb0I7SUFDckMsU0FBUztJQUNULFFBQVE7SUFDUixRQUFRO0lBQ1IsUUFBUTtJQUNSLFFBQVE7SUFDUixRQUFRO0NBQ1IsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNvbnZlcnNpb25IZWxwZXJzIH0gZnJvbSAnLi4vaGVscGVycy9jb252ZXJzaW9uJztcbmltcG9ydCAqIGFzIGZuT2JqZWN0cyBmcm9tICcuLi9pbmRleC9mbi1vYmplY3RzJztcbmltcG9ydCAqIGFzIHR5cGVzIGZyb20gJy4uL2luZGV4L3R5cGVzJztcbmltcG9ydCB7IGRlZmF1bHRzIH0gZnJvbSAnLi4vdXRpbHMvZGVmYXVsdHMnO1xuXG5mdW5jdGlvbiBjbXlrVG9YWVooY215azogdHlwZXMuQ01ZSyk6IHR5cGVzLlhZWiB7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIGNvbnZlcnNpb25IZWxwZXJzLmNteWtUb1hZWkhlbHBlcihjbXlrKTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRjb25zb2xlLmVycm9yKGBjbXlrVG9YWVogZXJyb3I6ICR7ZXJyb3J9YCk7XG5cdFx0cmV0dXJuIGRlZmF1bHRzLmRlZmF1bHRYWVooKTtcblx0fVxufVxuXG5mdW5jdGlvbiBoZXhUb1hZWihoZXg6IHR5cGVzLkhleCk6IHR5cGVzLlhZWiB7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIGNvbnZlcnNpb25IZWxwZXJzLmhleFRvWFlaSGVscGVyKGhleCk7XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0Y29uc29sZS5lcnJvcihgaGV4VG9YWVogZXJyb3I6ICR7ZXJyb3J9YCk7XG5cdFx0cmV0dXJuIGRlZmF1bHRzLmRlZmF1bHRYWVooKTtcblx0fVxufVxuXG5mdW5jdGlvbiBoc2xUb1hZWihoc2w6IHR5cGVzLkhTTCk6IHR5cGVzLlhZWiB7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIGNvbnZlcnNpb25IZWxwZXJzLmhzbFRvWFlaSGVscGVyKGhzbCk7XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0Y29uc29sZS5lcnJvcihgaHNsVG9YWVogZXJyb3I6ICR7ZXJyb3J9YCk7XG5cdFx0cmV0dXJuIGRlZmF1bHRzLmRlZmF1bHRYWVooKTtcblx0fVxufVxuXG5mdW5jdGlvbiBoc3ZUb1hZWihoc3Y6IHR5cGVzLkhTVik6IHR5cGVzLlhZWiB7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIGNvbnZlcnNpb25IZWxwZXJzLmhzdlRvWFlaSGVscGVyKGhzdik7XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0Y29uc29sZS5lcnJvcihgaHN2VG9YWVogZXJyb3I6ICR7ZXJyb3J9YCk7XG5cdFx0cmV0dXJuIGRlZmF1bHRzLmRlZmF1bHRYWVooKTtcblx0fVxufVxuXG5mdW5jdGlvbiBsYWJUb1hZWihsYWI6IHR5cGVzLkxBQik6IHR5cGVzLlhZWiB7XG5cdHRyeSB7XG5cdFx0Y29uc3QgcmVmWCA9IDk1LjA0Nyxcblx0XHRcdHJlZlkgPSAxMDAuMCxcblx0XHRcdHJlZlogPSAxMDguODgzO1xuXG5cdFx0bGV0IHkgPSAobGFiLnZhbHVlLmwgKyAxNikgLyAxMTY7XG5cdFx0bGV0IHggPSBsYWIudmFsdWUuYSAvIDUwMCArIHk7XG5cdFx0bGV0IHogPSB5IC0gbGFiLnZhbHVlLmIgLyAyMDA7XG5cblx0XHRjb25zdCBwb3cgPSBNYXRoLnBvdztcblxuXHRcdHJldHVybiB7XG5cdFx0XHR2YWx1ZToge1xuXHRcdFx0XHR4OlxuXHRcdFx0XHRcdHJlZlggKlxuXHRcdFx0XHRcdChwb3coeCwgMykgPiAwLjAwODg1NiA/IHBvdyh4LCAzKSA6ICh4IC0gMTYgLyAxMTYpIC8gNy43ODcpLFxuXHRcdFx0XHR5OlxuXHRcdFx0XHRcdHJlZlkgKlxuXHRcdFx0XHRcdChwb3coeSwgMykgPiAwLjAwODg1NiA/IHBvdyh5LCAzKSA6ICh5IC0gMTYgLyAxMTYpIC8gNy43ODcpLFxuXHRcdFx0XHR6OlxuXHRcdFx0XHRcdHJlZlogKlxuXHRcdFx0XHRcdChwb3coeiwgMykgPiAwLjAwODg1NiA/IHBvdyh6LCAzKSA6ICh6IC0gMTYgLyAxMTYpIC8gNy43ODcpXG5cdFx0XHR9LFxuXHRcdFx0Zm9ybWF0OiAneHl6J1xuXHRcdH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0Y29uc29sZS5lcnJvcihgbGFiVG9YWVogZXJyb3I6ICR7ZXJyb3J9YCk7XG5cdFx0cmV0dXJuIGRlZmF1bHRzLmRlZmF1bHRYWVooKTtcblx0fVxufVxuXG5mdW5jdGlvbiByZ2JUb1hZWihyZ2I6IHR5cGVzLlJHQik6IHR5cGVzLlhZWiB7XG5cdHRyeSB7XG5cdFx0cmdiLnZhbHVlLnJlZCA9IHJnYi52YWx1ZS5yZWQgLyAyNTU7XG5cdFx0cmdiLnZhbHVlLmdyZWVuID0gcmdiLnZhbHVlLmdyZWVuIC8gMjU1O1xuXHRcdHJnYi52YWx1ZS5ibHVlID0gcmdiLnZhbHVlLmJsdWUgLyAyNTU7XG5cblx0XHRyZ2IudmFsdWUucmVkID1cblx0XHRcdHJnYi52YWx1ZS5yZWQgPiAwLjA0MDQ1XG5cdFx0XHRcdD8gTWF0aC5wb3coKHJnYi52YWx1ZS5yZWQgKyAwLjA1NSkgLyAxLjA1NSwgMi40KVxuXHRcdFx0XHQ6IHJnYi52YWx1ZS5yZWQgLyAxMi45Mjtcblx0XHRyZ2IudmFsdWUuZ3JlZW4gPVxuXHRcdFx0cmdiLnZhbHVlLmdyZWVuID4gMC4wNDA0NVxuXHRcdFx0XHQ/IE1hdGgucG93KChyZ2IudmFsdWUuZ3JlZW4gKyAwLjA1NSkgLyAxLjA1NSwgMi40KVxuXHRcdFx0XHQ6IHJnYi52YWx1ZS5ncmVlbiAvIDEyLjkyO1xuXHRcdHJnYi52YWx1ZS5ibHVlID1cblx0XHRcdHJnYi52YWx1ZS5ibHVlID4gMC4wNDA0NVxuXHRcdFx0XHQ/IE1hdGgucG93KChyZ2IudmFsdWUuYmx1ZSArIDAuMDU1KSAvIDEuMDU1LCAyLjQpXG5cdFx0XHRcdDogcmdiLnZhbHVlLmJsdWUgLyAxMi45MjtcblxuXHRcdHJnYi52YWx1ZS5yZWQgPSByZ2IudmFsdWUucmVkICogMTAwO1xuXHRcdHJnYi52YWx1ZS5ncmVlbiA9IHJnYi52YWx1ZS5ncmVlbiAqIDEwMDtcblx0XHRyZ2IudmFsdWUuYmx1ZSA9IHJnYi52YWx1ZS5ibHVlICogMTAwO1xuXG5cdFx0cmV0dXJuIHtcblx0XHRcdHZhbHVlOiB7XG5cdFx0XHRcdHg6XG5cdFx0XHRcdFx0cmdiLnZhbHVlLnJlZCAqIDAuNDEyNCArXG5cdFx0XHRcdFx0cmdiLnZhbHVlLmdyZWVuICogMC4zNTc2ICtcblx0XHRcdFx0XHRyZ2IudmFsdWUuYmx1ZSAqIDAuMTgwNSxcblx0XHRcdFx0eTpcblx0XHRcdFx0XHRyZ2IudmFsdWUucmVkICogMC4yMTI2ICtcblx0XHRcdFx0XHRyZ2IudmFsdWUuZ3JlZW4gKiAwLjcxNTIgK1xuXHRcdFx0XHRcdHJnYi52YWx1ZS5ibHVlICogMC4wNzIyLFxuXHRcdFx0XHR6OlxuXHRcdFx0XHRcdHJnYi52YWx1ZS5yZWQgKiAwLjAxOTMgK1xuXHRcdFx0XHRcdHJnYi52YWx1ZS5ncmVlbiAqIDAuMTE5MiArXG5cdFx0XHRcdFx0cmdiLnZhbHVlLmJsdWUgKiAwLjk1MDVcblx0XHRcdH0sXG5cdFx0XHRmb3JtYXQ6ICd4eXonXG5cdFx0fTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRjb25zb2xlLmVycm9yKGByZ2JUb1hZWiBlcnJvcjogJHtlcnJvcn1gKTtcblx0XHRyZXR1cm4gZGVmYXVsdHMuZGVmYXVsdFhZWigpO1xuXHR9XG59XG5cbmV4cG9ydCBjb25zdCB0b1hZWjogZm5PYmplY3RzLlRvWFlaID0ge1xuXHRjbXlrVG9YWVosXG5cdGhleFRvWFlaLFxuXHRoc2xUb1hZWixcblx0aHN2VG9YWVosXG5cdGxhYlRvWFlaLFxuXHRyZ2JUb1hZWlxufTtcbiJdfQ==