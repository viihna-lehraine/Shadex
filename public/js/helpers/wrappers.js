import { convert } from '../color-spaces/color-space-index.js';
import { core } from '../utils/core.js';
import { defaults } from '../config/defaults.js';
function hexToCMYKWrapper(input) {
    try {
        const clonedInput = core.clone(input);
        const hex = typeof clonedInput === 'string'
            ? { value: { hex: clonedInput }, format: 'hex' }
            : clonedInput;
        return convert.hexToCMYK(hex);
    }
    catch (error) {
        console.error(`Error converting hex to CMYK: ${error}`);
        return defaults.defaultCMYK;
    }
}
function hexToHSLWrapper(input) {
    try {
        const clonedInput = core.clone(input);
        const hex = typeof clonedInput === 'string'
            ? { value: { hex: clonedInput }, format: 'hex' }
            : clonedInput;
        return convert.hexToHSL(hex);
    }
    catch (error) {
        console.error(`Error converting hex to HSL: ${error}`);
        return defaults.defaultHSL;
    }
}
function hexToHSVWrapper(input) {
    try {
        const clonedInput = core.clone(input);
        const hex = typeof clonedInput === 'string'
            ? { value: { hex: clonedInput }, format: 'hex' }
            : clonedInput;
        return convert.hexToHSV(hex);
    }
    catch (error) {
        console.error(`Error converting hex to HSV: ${error}`);
        return defaults.defaultHSV;
    }
}
function hexToLABWrapper(input) {
    try {
        const clonedInput = core.clone(input);
        const hex = typeof clonedInput === 'string'
            ? { value: { hex: clonedInput }, format: 'hex' }
            : clonedInput;
        return convert.hexToLAB(hex);
    }
    catch (error) {
        console.error(`Error converting hex to LAB: ${error}`);
        return defaults.defaultLAB;
    }
}
function hexToRGBWrapper(input) {
    try {
        const clonedInput = core.clone(input);
        const hex = typeof clonedInput === 'string'
            ? { value: { hex: clonedInput }, format: 'hex' }
            : clonedInput;
        return convert.hexToRGB(hex);
    }
    catch (error) {
        console.error(`Error converting hex to RGB: ${error}`);
        return defaults.defaultRGB;
    }
}
function hexToSLWrapper(input) {
    try {
        const clonedInput = core.clone(input);
        const hex = typeof clonedInput === 'string'
            ? { value: { hex: clonedInput }, format: 'hex' }
            : clonedInput;
        return convert.hexToSL(hex);
    }
    catch (error) {
        console.error(`Error converting hex to SL: ${error}`);
        return defaults.defaultSL;
    }
}
function hexToSVWrapper(input) {
    try {
        const clonedInput = core.clone(input);
        const hex = typeof clonedInput === 'string'
            ? { value: { hex: clonedInput }, format: 'hex' }
            : clonedInput;
        return convert.hexToSV(hex);
    }
    catch (error) {
        console.error(`Error converting hex to SV: ${error}`);
        return defaults.defaultSV;
    }
}
function hexToXYZWrapper(input) {
    try {
        const clonedInput = core.clone(input);
        const hex = typeof clonedInput === 'string'
            ? { value: { hex: clonedInput }, format: 'hex' }
            : clonedInput;
        return convert.hexToXYZ(hex);
    }
    catch (error) {
        console.error(`Error converting hex to XYZ: ${error}`);
        return defaults.defaultXYZ;
    }
}
export const wrappers = {
    hexToCMYKWrapper,
    hexToHSLWrapper,
    hexToHSVWrapper,
    hexToLABWrapper,
    hexToRGBWrapper,
    hexToSLWrapper,
    hexToSVWrapper,
    hexToXYZWrapper
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid3JhcHBlcnMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvaGVscGVycy93cmFwcGVycy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0sbUNBQW1DLENBQUM7QUFHNUQsT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUNyQyxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFFOUMsU0FBUyxnQkFBZ0IsQ0FBQyxLQUEwQjtJQUNuRCxJQUFJLENBQUM7UUFDSixNQUFNLFdBQVcsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3RDLE1BQU0sR0FBRyxHQUNSLE9BQU8sV0FBVyxLQUFLLFFBQVE7WUFDOUIsQ0FBQyxDQUFDLEVBQUUsS0FBSyxFQUFFLEVBQUUsR0FBRyxFQUFFLFdBQVcsRUFBRSxFQUFFLE1BQU0sRUFBRSxLQUFjLEVBQUU7WUFDekQsQ0FBQyxDQUFDLFdBQVcsQ0FBQztRQUVoQixPQUFPLE9BQU8sQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDL0IsQ0FBQztJQUFDLE9BQU8sS0FBSyxFQUFFLENBQUM7UUFDaEIsT0FBTyxDQUFDLEtBQUssQ0FBQyxpQ0FBaUMsS0FBSyxFQUFFLENBQUMsQ0FBQztRQUV4RCxPQUFPLFFBQVEsQ0FBQyxXQUFXLENBQUM7SUFDN0IsQ0FBQztBQUNGLENBQUM7QUFFRCxTQUFTLGVBQWUsQ0FBQyxLQUEwQjtJQUNsRCxJQUFJLENBQUM7UUFDSixNQUFNLFdBQVcsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3RDLE1BQU0sR0FBRyxHQUNSLE9BQU8sV0FBVyxLQUFLLFFBQVE7WUFDOUIsQ0FBQyxDQUFDLEVBQUUsS0FBSyxFQUFFLEVBQUUsR0FBRyxFQUFFLFdBQVcsRUFBRSxFQUFFLE1BQU0sRUFBRSxLQUFjLEVBQUU7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UUFDaEIsT0FBTyxDQUFDLEtBQUssQ0FBQyxnQ0FBZ0MsS0FBSyxFQUFFLENBQUMsQ0FBQztRQUV2RCxPQUFPLFFBQVEsQ0FBQyxVQUFVLENBQUM7SUFDNUIsQ0FBQztBQUNGLENBQUM7QUFFRCxNQUFNLENBQUMsTUFBTSxRQUFRLEdBQXVCO0lBQzNDLGdCQUFnQjtJQUNoQixlQUFlO0lBQ2YsZUFBZTtJQUNmLGVBQWU7SUFDZixlQUFlO0lBQ2YsY0FBYztJQUNkLGNBQWM7SUFDZCxlQUFlO0NBQ2YsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNvbnZlcnQgfSBmcm9tICcuLi9jb2xvci1zcGFjZXMvY29sb3Itc3BhY2UtaW5kZXgnO1xuaW1wb3J0ICogYXMgZm5PYmplY3RzIGZyb20gJy4uL2luZGV4L2ZuLW9iamVjdHMnO1xuaW1wb3J0ICogYXMgY29sb3JzIGZyb20gJy4uL2luZGV4L2NvbG9ycyc7XG5pbXBvcnQgeyBjb3JlIH0gZnJvbSAnLi4vdXRpbHMvY29yZSc7XG5pbXBvcnQgeyBkZWZhdWx0cyB9IGZyb20gJy4uL2NvbmZpZy9kZWZhdWx0cyc7XG5cbmZ1bmN0aW9uIGhleFRvQ01ZS1dyYXBwZXIoaW5wdXQ6IHN0cmluZyB8IGNvbG9ycy5IZXgpOiBjb2xvcnMuQ01ZSyB7XG5cdHRyeSB7XG5cdFx0Y29uc3QgY2xvbmVkSW5wdXQgPSBjb3JlLmNsb25lKGlucHV0KTtcblx0XHRjb25zdCBoZXggPVxuXHRcdFx0dHlwZW9mIGNsb25lZElucHV0ID09PSAnc3RyaW5nJ1xuXHRcdFx0XHQ/IHsgdmFsdWU6IHsgaGV4OiBjbG9uZWRJbnB1dCB9LCBmb3JtYXQ6ICdoZXgnIGFzIGNvbnN0IH1cblx0XHRcdFx0OiBjbG9uZWRJbnB1dDtcblxuXHRcdHJldHVybiBjb252ZXJ0LmhleFRvQ01ZSyhoZXgpO1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdGNvbnNvbGUuZXJyb3IoYEVycm9yIGNvbnZlcnRpbmcgaGV4IHRvIENNWUs6ICR7ZXJyb3J9YCk7XG5cblx0XHRyZXR1cm4gZGVmYXVsdHMuZGVmYXVsdENNWUs7XG5cdH1cbn1cblxuZnVuY3Rpb24gaGV4VG9IU0xXcmFwcGVyKGlucHV0OiBzdHJpbmcgfCBjb2xvcnMuSGV4KTogY29sb3JzLkhTTCB7XG5cdHRyeSB7XG5cdFx0Y29uc3QgY2xvbmVkSW5wdXQgPSBjb3JlLmNsb25lKGlucHV0KTtcblx0XHRjb25zdCBoZXggPVxuXHRcdFx0dHlwZW9mIGNsb25lZElucHV0ID09PSAnc3RyaW5nJ1xuXHRcdFx0XHQ/IHsgdmFsdWU6IHsgaGV4OiBjbG9uZWRJbnB1dCB9LCBmb3JtYXQ6ICdoZXgnIGFzIGNvbnN0IH1cblx0XHRcdFx0OiBjbG9uZWRJbnB1dDtcblxuXHRcdHJldHVybiBjb252ZXJ0LmhleFRvSFNMKGhleCk7XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0Y29uc29sZS5lcnJvcihgRXJyb3IgY29udmVydGluZyBoZXggdG8gSFNMOiAke2Vycm9yfWApO1xuXG5cdFx0cmV0dXJuIGRlZmF1bHRzLmRlZmF1bHRIU0w7XG5cdH1cbn1cblxuZnVuY3Rpb24gaGV4VG9IU1ZXcmFwcGVyKGlucHV0OiBzdHJpbmcgfCBjb2xvcnMuSGV4KTogY29sb3JzLkhTViB7XG5cdHRyeSB7XG5cdFx0Y29uc3QgY2xvbmVkSW5wdXQgPSBjb3JlLmNsb25lKGlucHV0KTtcblx0XHRjb25zdCBoZXggPVxuXHRcdFx0dHlwZW9mIGNsb25lZElucHV0ID09PSAnc3RyaW5nJ1xuXHRcdFx0XHQ/IHsgdmFsdWU6IHsgaGV4OiBjbG9uZWRJbnB1dCB9LCBmb3JtYXQ6ICdoZXgnIGFzIGNvbnN0IH1cblx0XHRcdFx0OiBjbG9uZWRJbnB1dDtcblxuXHRcdHJldHVybiBjb252ZXJ0LmhleFRvSFNWKGhleCk7XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0Y29uc29sZS5lcnJvcihgRXJyb3IgY29udmVydGluZyBoZXggdG8gSFNWOiAke2Vycm9yfWApO1xuXG5cdFx0cmV0dXJuIGRlZmF1bHRzLmRlZmF1bHRIU1Y7XG5cdH1cbn1cblxuZnVuY3Rpb24gaGV4VG9MQUJXcmFwcGVyKGlucHV0OiBzdHJpbmcgfCBjb2xvcnMuSGV4KTogY29sb3JzLkxBQiB7XG5cdHRyeSB7XG5cdFx0Y29uc3QgY2xvbmVkSW5wdXQgPSBjb3JlLmNsb25lKGlucHV0KTtcblx0XHRjb25zdCBoZXggPVxuXHRcdFx0dHlwZW9mIGNsb25lZElucHV0ID09PSAnc3RyaW5nJ1xuXHRcdFx0XHQ/IHsgdmFsdWU6IHsgaGV4OiBjbG9uZWRJbnB1dCB9LCBmb3JtYXQ6ICdoZXgnIGFzIGNvbnN0IH1cblx0XHRcdFx0OiBjbG9uZWRJbnB1dDtcblxuXHRcdHJldHVybiBjb252ZXJ0LmhleFRvTEFCKGhleCk7XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0Y29uc29sZS5lcnJvcihgRXJyb3IgY29udmVydGluZyBoZXggdG8gTEFCOiAke2Vycm9yfWApO1xuXG5cdFx0cmV0dXJuIGRlZmF1bHRzLmRlZmF1bHRMQUI7XG5cdH1cbn1cblxuZnVuY3Rpb24gaGV4VG9SR0JXcmFwcGVyKGlucHV0OiBzdHJpbmcgfCBjb2xvcnMuSGV4KTogY29sb3JzLlJHQiB7XG5cdHRyeSB7XG5cdFx0Y29uc3QgY2xvbmVkSW5wdXQgPSBjb3JlLmNsb25lKGlucHV0KTtcblx0XHRjb25zdCBoZXggPVxuXHRcdFx0dHlwZW9mIGNsb25lZElucHV0ID09PSAnc3RyaW5nJ1xuXHRcdFx0XHQ/IHsgdmFsdWU6IHsgaGV4OiBjbG9uZWRJbnB1dCB9LCBmb3JtYXQ6ICdoZXgnIGFzIGNvbnN0IH1cblx0XHRcdFx0OiBjbG9uZWRJbnB1dDtcblxuXHRcdHJldHVybiBjb252ZXJ0LmhleFRvUkdCKGhleCk7XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0Y29uc29sZS5lcnJvcihgRXJyb3IgY29udmVydGluZyBoZXggdG8gUkdCOiAke2Vycm9yfWApO1xuXG5cdFx0cmV0dXJuIGRlZmF1bHRzLmRlZmF1bHRSR0I7XG5cdH1cbn1cblxuZnVuY3Rpb24gaGV4VG9TTFdyYXBwZXIoaW5wdXQ6IHN0cmluZyB8IGNvbG9ycy5IZXgpOiBjb2xvcnMuU0wge1xuXHR0cnkge1xuXHRcdGNvbnN0IGNsb25lZElucHV0ID0gY29yZS5jbG9uZShpbnB1dCk7XG5cdFx0Y29uc3QgaGV4ID1cblx0XHRcdHR5cGVvZiBjbG9uZWRJbnB1dCA9PT0gJ3N0cmluZydcblx0XHRcdFx0PyB7IHZhbHVlOiB7IGhleDogY2xvbmVkSW5wdXQgfSwgZm9ybWF0OiAnaGV4JyBhcyBjb25zdCB9XG5cdFx0XHRcdDogY2xvbmVkSW5wdXQ7XG5cblx0XHRyZXR1cm4gY29udmVydC5oZXhUb1NMKGhleCk7XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0Y29uc29sZS5lcnJvcihgRXJyb3IgY29udmVydGluZyBoZXggdG8gU0w6ICR7ZXJyb3J9YCk7XG5cblx0XHRyZXR1cm4gZGVmYXVsdHMuZGVmYXVsdFNMO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGhleFRvU1ZXcmFwcGVyKGlucHV0OiBzdHJpbmcgfCBjb2xvcnMuSGV4KTogY29sb3JzLlNWIHtcblx0dHJ5IHtcblx0XHRjb25zdCBjbG9uZWRJbnB1dCA9IGNvcmUuY2xvbmUoaW5wdXQpO1xuXHRcdGNvbnN0IGhleCA9XG5cdFx0XHR0eXBlb2YgY2xvbmVkSW5wdXQgPT09ICdzdHJpbmcnXG5cdFx0XHRcdD8geyB2YWx1ZTogeyBoZXg6IGNsb25lZElucHV0IH0sIGZvcm1hdDogJ2hleCcgYXMgY29uc3QgfVxuXHRcdFx0XHQ6IGNsb25lZElucHV0O1xuXG5cdFx0cmV0dXJuIGNvbnZlcnQuaGV4VG9TVihoZXgpO1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdGNvbnNvbGUuZXJyb3IoYEVycm9yIGNvbnZlcnRpbmcgaGV4IHRvIFNWOiAke2Vycm9yfWApO1xuXG5cdFx0cmV0dXJuIGRlZmF1bHRzLmRlZmF1bHRTVjtcblx0fVxufVxuXG5mdW5jdGlvbiBoZXhUb1hZWldyYXBwZXIoaW5wdXQ6IHN0cmluZyB8IGNvbG9ycy5IZXgpOiBjb2xvcnMuWFlaIHtcblx0dHJ5IHtcblx0XHRjb25zdCBjbG9uZWRJbnB1dCA9IGNvcmUuY2xvbmUoaW5wdXQpO1xuXHRcdGNvbnN0IGhleCA9XG5cdFx0XHR0eXBlb2YgY2xvbmVkSW5wdXQgPT09ICdzdHJpbmcnXG5cdFx0XHRcdD8geyB2YWx1ZTogeyBoZXg6IGNsb25lZElucHV0IH0sIGZvcm1hdDogJ2hleCcgYXMgY29uc3QgfVxuXHRcdFx0XHQ6IGNsb25lZElucHV0O1xuXG5cdFx0cmV0dXJuIGNvbnZlcnQuaGV4VG9YWVooaGV4KTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRjb25zb2xlLmVycm9yKGBFcnJvciBjb252ZXJ0aW5nIGhleCB0byBYWVo6ICR7ZXJyb3J9YCk7XG5cblx0XHRyZXR1cm4gZGVmYXVsdHMuZGVmYXVsdFhZWjtcblx0fVxufVxuXG5leHBvcnQgY29uc3Qgd3JhcHBlcnM6IGZuT2JqZWN0cy5XcmFwcGVycyA9IHtcblx0aGV4VG9DTVlLV3JhcHBlcixcblx0aGV4VG9IU0xXcmFwcGVyLFxuXHRoZXhUb0hTVldyYXBwZXIsXG5cdGhleFRvTEFCV3JhcHBlcixcblx0aGV4VG9SR0JXcmFwcGVyLFxuXHRoZXhUb1NMV3JhcHBlcixcblx0aGV4VG9TVldyYXBwZXIsXG5cdGhleFRvWFlaV3JhcHBlclxufTtcbiJdfQ==