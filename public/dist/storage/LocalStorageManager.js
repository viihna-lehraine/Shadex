// File: storage/LocalStorageManager.js
export class LocalStorageManager {
    log;
    constructor(services) {
        this.log = services.app.log;
    }
    async init() {
        this.log('warn', 'Using LocalStorage as a fallback.', 'LocalStorageManager.init()', 2);
        return true;
    }
    async clear() {
        localStorage.clear();
    }
    async getItem(key) {
        try {
            const value = localStorage.getItem(key);
            return value ? JSON.parse(value) : null;
        }
        catch (error) {
            this.log('error', `Failed to get item: ${key}`, 'LocalStorageManager.getItem()');
            return null;
        }
    }
    async removeItem(key) {
        localStorage.removeItem(key);
    }
    async setItem(key, value) {
        try {
            localStorage.setItem(key, JSON.stringify(value));
            this.log('info', `Stored item: ${key}`, 'LocalStorageManager.setItem()');
        }
        catch (error) {
            this.log('error', `Failed to store item: ${key}`, 'LocalStorageManager.setItem()');
        }
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTG9jYWxTdG9yYWdlTWFuYWdlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9zdG9yYWdlL0xvY2FsU3RvcmFnZU1hbmFnZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsdUNBQXVDO0FBSXZDLE1BQU0sT0FBTyxtQkFBbUI7SUFDdkIsR0FBRyxDQUFrQztJQUU3QyxZQUFZLFFBQTJCO1FBQ3RDLElBQUksQ0FBQyxHQUFHLEdBQUcsUUFBUSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUM7SUFDN0IsQ0FBQztJQUVNLEtBQUssQ0FBQyxJQUFJO1FBQ2hCLElBQUksQ0FBQyxHQUFHLENBQ1AsTUFBTSxFQUNOLG1DQUFtQyxFQUNuQyw0QkFBNEIsRUFDNUIsQ0FBQyxDQUNELENBQUM7UUFDRixPQUFPLElBQUksQ0FBQztJQUNiLENBQUM7SUFFTSxLQUFLLENBQUMsS0FBSztRQUNqQixZQUFZLENBQUMsS0FBSyxFQUFFLENBQUM7SUFDdEIsQ0FBQztJQUVNLEtBQUssQ0FBQyxPQUFPLENBQUksR0FBVztRQUNsQyxJQUFJLENBQUM7WUFDSixNQUFNLEtBQUssR0FBRyxZQUFZLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ3hDLE9BQU8sS0FBSyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7UUFDekMsQ0FBQztRQUFDLE9BQU8sS0FBSyxFQUFFLENBQUM7WUFDaEIsSUFBSSxDQUFDLEdBQUcsQ0FDUCxPQUFPLEVBQ1AsdUJBQXVCLEdBQUcsRUFBRSxFQUM1QiwrQkFBK0IsQ0FDL0IsQ0FBQztZQUNGLE9BQU8sSUFBSSxDQUFDO1FBQ2IsQ0FBQztJQUNGLENBQUM7SUFFTSxLQUFLLENBQUMsVUFBVSxDQUFDLEdBQVc7UUFDbEMsWUFBWSxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUM5QixDQUFDO0lBRU0sS0FBSyxDQUFDLE9BQU8sQ0FBQyxHQUFXLEVBQUUsS0FBYztRQUMvQyxJQUFJLENBQUM7WUFDSixZQUFZLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7WUFDakQsSUFBSSxDQUFDLEdBQUcsQ0FDUCxNQUFNLEVBQ04sZ0JBQWdCLEdBQUcsRUFBRSxFQUNyQiwrQkFBK0IsQ0FDL0IsQ0FBQztRQUNILENBQUM7UUFBQyxPQUFPLEtBQUssRUFBRSxDQUFDO1lBQ2hCLElBQUksQ0FBQyxHQUFHLENBQ1AsT0FBTyxFQUNQLHlCQUF5QixHQUFHLEVBQUUsRUFDOUIsK0JBQStCLENBQy9CLENBQUM7UUFDSCxDQUFDO0lBQ0YsQ0FBQztDQUNEIiwic291cmNlc0NvbnRlbnQiOlsiLy8gRmlsZTogc3RvcmFnZS9Mb2NhbFN0b3JhZ2VNYW5hZ2VyLmpzXG5cbmltcG9ydCB7IFNlcnZpY2VzSW50ZXJmYWNlIH0gZnJvbSAnLi4vdHlwZXMvaW5kZXguanMnO1xuXG5leHBvcnQgY2xhc3MgTG9jYWxTdG9yYWdlTWFuYWdlciB7XG5cdHByaXZhdGUgbG9nOiBTZXJ2aWNlc0ludGVyZmFjZVsnYXBwJ11bJ2xvZyddO1xuXG5cdGNvbnN0cnVjdG9yKHNlcnZpY2VzOiBTZXJ2aWNlc0ludGVyZmFjZSkge1xuXHRcdHRoaXMubG9nID0gc2VydmljZXMuYXBwLmxvZztcblx0fVxuXG5cdHB1YmxpYyBhc3luYyBpbml0KCk6IFByb21pc2U8Ym9vbGVhbj4ge1xuXHRcdHRoaXMubG9nKFxuXHRcdFx0J3dhcm4nLFxuXHRcdFx0J1VzaW5nIExvY2FsU3RvcmFnZSBhcyBhIGZhbGxiYWNrLicsXG5cdFx0XHQnTG9jYWxTdG9yYWdlTWFuYWdlci5pbml0KCknLFxuXHRcdFx0MlxuXHRcdCk7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHRwdWJsaWMgYXN5bmMgY2xlYXIoKTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0bG9jYWxTdG9yYWdlLmNsZWFyKCk7XG5cdH1cblxuXHRwdWJsaWMgYXN5bmMgZ2V0SXRlbTxUPihrZXk6IHN0cmluZyk6IFByb21pc2U8VCB8IG51bGw+IHtcblx0XHR0cnkge1xuXHRcdFx0Y29uc3QgdmFsdWUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpO1xuXHRcdFx0cmV0dXJuIHZhbHVlID8gSlNPTi5wYXJzZSh2YWx1ZSkgOiBudWxsO1xuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHR0aGlzLmxvZyhcblx0XHRcdFx0J2Vycm9yJyxcblx0XHRcdFx0YEZhaWxlZCB0byBnZXQgaXRlbTogJHtrZXl9YCxcblx0XHRcdFx0J0xvY2FsU3RvcmFnZU1hbmFnZXIuZ2V0SXRlbSgpJ1xuXHRcdFx0KTtcblx0XHRcdHJldHVybiBudWxsO1xuXHRcdH1cblx0fVxuXG5cdHB1YmxpYyBhc3luYyByZW1vdmVJdGVtKGtleTogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0bG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KTtcblx0fVxuXG5cdHB1YmxpYyBhc3luYyBzZXRJdGVtKGtleTogc3RyaW5nLCB2YWx1ZTogdW5rbm93bik6IFByb21pc2U8dm9pZD4ge1xuXHRcdHRyeSB7XG5cdFx0XHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbShrZXksIEpTT04uc3RyaW5naWZ5KHZhbHVlKSk7XG5cdFx0XHR0aGlzLmxvZyhcblx0XHRcdFx0J2luZm8nLFxuXHRcdFx0XHRgU3RvcmVkIGl0ZW06ICR7a2V5fWAsXG5cdFx0XHRcdCdMb2NhbFN0b3JhZ2VNYW5hZ2VyLnNldEl0ZW0oKSdcblx0XHRcdCk7XG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdHRoaXMubG9nKFxuXHRcdFx0XHQnZXJyb3InLFxuXHRcdFx0XHRgRmFpbGVkIHRvIHN0b3JlIGl0ZW06ICR7a2V5fWAsXG5cdFx0XHRcdCdMb2NhbFN0b3JhZ2VNYW5hZ2VyLnNldEl0ZW0oKSdcblx0XHRcdCk7XG5cdFx0fVxuXHR9XG59XG4iXX0=