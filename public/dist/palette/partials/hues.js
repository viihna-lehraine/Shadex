// File: palette/partials/hues.js
function analogous(color, options, common) {
    const { errors, log } = common.services;
    try {
        if (!common.utils.validate.colorValue(color)) {
            log(`Invalid color value ${JSON.stringify(color)}`, 'error');
            return [];
        }
        const analogousHues = [];
        const baseHue = color.value.hue;
        const maxTotalDistance = 60;
        const minTotalDistance = Math.max(20, 10 + (options.columnCount - 2) * 12);
        const totalIncrement = Math.floor(Math.random() * (maxTotalDistance - minTotalDistance + 1)) + minTotalDistance;
        const increment = Math.floor(totalIncrement / (options.columnCount - 1));
        for (let i = 1; i < options.columnCount; i++) {
            analogousHues.push((baseHue + increment * i) % 360);
        }
        return analogousHues;
    }
    catch (error) {
        errors.handle(error, 'Error generating analogous hues', {
            options
        });
        return [];
    }
}
function diadic(color, options, common) {
    const { helpers, services } = common;
    const { errors } = services;
    try {
        const baseHue = color.value.hue;
        const diadicHues = [];
        const randomDistance = helpers.palette.getWeightedRandomInterval(options.distributionType);
        const hue1 = baseHue;
        const hue2 = (hue1 + randomDistance) % 360;
        diadicHues.push(hue1, hue2);
        return diadicHues;
    }
    catch (error) {
        errors.handle(error, 'Error generating diadic hues', {
            options
        });
        return [];
    }
}
function hexadic(color, common) {
    const { errors } = common.services;
    const { utils } = common;
    try {
        const clonedBaseHSL = utils.color.convertToHSL(color);
        const hexadicHues = [];
        const baseHue = clonedBaseHSL.value.hue;
        const hue1 = baseHue;
        const hue2 = (hue1 + 180) % 360;
        const randomDistance = Math.floor(Math.random() * 61 + 30);
        const hue3 = (hue1 + randomDistance) % 360;
        const hue4 = (hue3 + 180) % 360;
        const hue5 = (hue1 + 360 - randomDistance) % 360;
        const hue6 = (hue5 + 180) % 360;
        hexadicHues.push(hue1, hue2, hue3, hue4, hue5, hue6);
        return hexadicHues;
    }
    catch (error) {
        errors.handle(error, 'Error generating hexadic hues', {
            color
        });
        return [];
    }
}
function splitComplementary(color, common) {
    const { errors } = common.services;
    try {
        const baseHue = color.value.hue;
        const modifier = Math.floor(Math.random() * 11) + 20;
        return [
            (baseHue + 180 + modifier) % 360,
            (baseHue + 180 - modifier + 360) % 360
        ];
    }
    catch (error) {
        errors.handle(error, 'Error generating split-complementary hues', {
            color
        });
        return [];
    }
}
function tetradic(color, common) {
    try {
        const baseHue = color.value.hue;
        const randomOffset = Math.floor(Math.random() * 46) + 20;
        const distance = 90 + (Math.random() < 0.5 ? -randomOffset : randomOffset);
        return [
            baseHue,
            (baseHue + 180) % 360,
            (baseHue + distance) % 360,
            (baseHue + distance + 180) % 360
        ];
    }
    catch (error) {
        common.services.errors.handle(error, 'Error generating tetradic hues', {
            color
        });
        return [];
    }
}
function triadic(color, common) {
    const { errors } = common.services;
    try {
        const baseHue = color.value.hue;
        return [120, 240].map(increment => (baseHue + increment) % 360);
    }
    catch (error) {
        errors.handle(error, 'Error generating triadic hues', {
            color
        });
        return [];
    }
}
export const generateHuesFnGroup = {
    analogous,
    diadic,
    hexadic,
    splitComplementary,
    tetradic,
    triadic
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaHVlcy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9wYWxldHRlL3BhcnRpYWxzL2h1ZXMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsaUNBQWlDO0FBU2pDLFNBQVMsU0FBUyxDQUNqQixLQUFVLEVBQ1YsT0FBK0IsRUFDL0IsTUFBdUI7SUFFdkIsTUFBTSxFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUUsR0FBRyxNQUFNLENBQUMsUUFBUSxDQUFDO0lBRXhDLElBQUksQ0FBQztRQUNKLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQztZQUM5QyxHQUFHLENBQUMsdUJBQXVCLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLEVBQUUsRUFBRSxPQUFPLENBQUMsQ0FBQztZQUU3RCxPQUFPLEVBQUUsQ0FBQztRQUNYLENBQUM7UUFFRCxNQUFNLGFBQWEsR0FBYSxFQUFFLENBQUM7UUFDbkMsTUFBTSxPQUFPLEdBQUcsS0FBSyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUM7UUFDaEMsTUFBTSxnQkFBZ0IsR0FBRyxFQUFFLENBQUM7UUFDNUIsTUFBTSxnQkFBZ0IsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUNoQyxFQUFFLEVBQ0YsRUFBRSxHQUFHLENBQUMsT0FBTyxDQUFDLFdBQVcsR0FBRyxDQUFDLENBQUMsR0FBRyxFQUFFLENBQ25DLENBQUM7UUFDRixNQUFNLGNBQWMsR0FDbkIsSUFBSSxDQUFDLEtBQUssQ0FDVCxJQUFJLENBQUMsTUFBTSxFQUFFLEdBQUcsQ0FBQyxnQkFBZ0IsR0FBRyxnQkFBZ0IsR0FBRyxDQUFDLENBQUMsQ0FDekQsR0FBRyxnQkFBZ0IsQ0FBQztRQUN0QixNQUFNLFNBQVMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUMzQixjQUFjLEdBQUcsQ0FBQyxPQUFPLENBQUMsV0FBVyxHQUFHLENBQUMsQ0FBQyxDQUMx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d0I7SUFDdkQsU0FBUztJQUNULE1BQU07SUFDTixPQUFPO0lBQ1Asa0JBQWtCO0lBQ2xCLFFBQVE7SUFDUixPQUFPO0NBQ1AsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8vIEZpbGU6IHBhbGV0dGUvcGFydGlhbHMvaHVlcy5qc1xuXG5pbXBvcnQge1xuXHRDb21tb25GdW5jdGlvbnMsXG5cdEdlbmVyYXRlSHVlc0ZuR3JvdXAsXG5cdEhTTCxcblx0U2VsZWN0ZWRQYWxldHRlT3B0aW9uc1xufSBmcm9tICcuLi8uLi90eXBlcy9pbmRleC5qcyc7XG5cbmZ1bmN0aW9uIGFuYWxvZ291cyhcblx0Y29sb3I6IEhTTCxcblx0b3B0aW9uczogU2VsZWN0ZWRQYWxldHRlT3B0aW9ucyxcblx0Y29tbW9uOiBDb21tb25GdW5jdGlvbnNcbik6IG51bWJlcltdIHtcblx0Y29uc3QgeyBlcnJvcnMsIGxvZyB9ID0gY29tbW9uLnNlcnZpY2VzO1xuXG5cdHRyeSB7XG5cdFx0aWYgKCFjb21tb24udXRpbHMudmFsaWRhdGUuY29sb3JWYWx1ZShjb2xvcikpIHtcblx0XHRcdGxvZyhgSW52YWxpZCBjb2xvciB2YWx1ZSAke0pTT04uc3RyaW5naWZ5KGNvbG9yKX1gLCAnZXJyb3InKTtcblxuXHRcdFx0cmV0dXJuIFtdO1xuXHRcdH1cblxuXHRcdGNvbnN0IGFuYWxvZ291c0h1ZXM6IG51bWJlcltdID0gW107XG5cdFx0Y29uc3QgYmFzZUh1ZSA9IGNvbG9yLnZhbHVlLmh1ZTtcblx0XHRjb25zdCBtYXhUb3RhbERpc3RhbmNlID0gNjA7XG5cdFx0Y29uc3QgbWluVG90YWxEaXN0YW5jZSA9IE1hdGgubWF4KFxuXHRcdFx0MjAsXG5cdFx0XHQxMCArIChvcHRpb25zLmNvbHVtbkNvdW50IC0gMikgKiAxMlxuXHRcdCk7XG5cdFx0Y29uc3QgdG90YWxJbmNyZW1lbnQgPVxuXHRcdFx0TWF0aC5mbG9vcihcblx0XHRcdFx0TWF0aC5yYW5kb20oKSAqIChtYXhUb3RhbERpc3RhbmNlIC0gbWluVG90YWxEaXN0YW5jZSArIDEpXG5cdFx0XHQpICsgbWluVG90YWxEaXN0YW5jZTtcblx0XHRjb25zdCBpbmNyZW1lbnQgPSBNYXRoLmZsb29yKFxuXHRcdFx0dG90YWxJbmNyZW1lbnQgLyAob3B0aW9ucy5jb2x1bW5Db3VudCAtIDEpXG5cdFx0KTtcblxuXHRcdGZvciAobGV0IGkgPSAxOyBpIDwgb3B0aW9ucy5jb2x1bW5Db3VudDsgaSsrKSB7XG5cdFx0XHRhbmFsb2dvdXNIdWVzLnB1c2goKGJhc2VIdWUgKyBpbmNyZW1lbnQgKiBpKSAlIDM2MCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGFuYWxvZ291c0h1ZXM7XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0ZXJyb3JzLmhhbmRsZShlcnJvciwgJ0Vycm9yIGdlbmVyYXRpbmcgYW5hbG9nb3VzIGh1ZXMnLCB7XG5cdFx0XHRvcHRpb25zXG5cdFx0fSk7XG5cdFx0cmV0dXJuIFtdO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGRpYWRpYyhcblx0Y29sb3I6IEhTTCxcblx0b3B0aW9uczogU2VsZWN0ZWRQYWxldHRlT3B0aW9ucyxcblx0Y29tbW9uOiBDb21tb25GdW5jdGlvbnNcbik6IG51bWJlcltdIHtcblx0Y29uc3QgeyBoZWxwZXJzLCBzZXJ2aWNlcyB9ID0gY29tbW9uO1xuXHRjb25zdCB7IGVycm9ycyB9ID0gc2VydmljZXM7XG5cblx0dHJ5IHtcblx0XHRjb25zdCBiYXNlSHVlID0gY29sb3IudmFsdWUuaHVlO1xuXHRcdGNvbnN0IGRpYWRpY0h1ZXMgPSBbXTtcblx0XHRjb25zdCByYW5kb21EaXN0YW5jZSA9IGhlbHBlcnMucGFsZXR0ZS5nZXRXZWlnaHRlZFJhbmRvbUludGVydmFsKFxuXHRcdFx0b3B0aW9ucy5kaXN0cmlidXRpb25UeXBlXG5cdFx0KTtcblx0XHRjb25zdCBodWUxID0gYmFzZUh1ZTtcblx0XHRjb25zdCBodWUyID0gKGh1ZTEgKyByYW5kb21EaXN0YW5jZSkgJSAzNjA7XG5cblx0XHRkaWFkaWNIdWVzLnB1c2goaHVlMSwgaHVlMik7XG5cblx0XHRyZXR1cm4gZGlhZGljSHVlcztcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRlcnJvcnMuaGFuZGxlKGVycm9yLCAnRXJyb3IgZ2VuZXJhdGluZyBkaWFkaWMgaHVlcycsIHtcblx0XHRcdG9wdGlvbnNcblx0XHR9KTtcblx0XHRyZXR1cm4gW107XG5cdH1cbn1cblxuZnVuY3Rpb24gaGV4YWRpYyhjb2xvcjogSFNMLCBjb21tb246IENvbW1vbkZ1bmN0aW9ucyk6IG51bWJlcltdIHtcblx0Y29uc3QgeyBlcnJvcnMgfSA9IGNvbW1vbi5zZXJ2aWNlcztcblx0Y29uc3QgeyB1dGlscyB9ID0gY29tbW9uO1xuXG5cdHRyeSB7XG5cdFx0Y29uc3QgY2xvbmVkQmFzZUhTTCA9IHV0aWxzLmNvbG9yLmNvbnZlcnRUb0hTTChjb2xvcik7XG5cblx0XHRjb25zdCBoZXhhZGljSHVlczogbnVtYmVyW10gPSBbXTtcblx0XHRjb25zdCBiYXNlSHVlID0gY2xvbmVkQmFzZUhTTC52YWx1ZS5odWU7XG5cdFx0Y29uc3QgaHVlMSA9IGJhc2VIdWU7XG5cdFx0Y29uc3QgaHVlMiA9IChodWUxICsgMTgwKSAlIDM2MDtcblx0XHRjb25zdCByYW5kb21EaXN0YW5jZSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDYxICsgMzApO1xuXHRcdGNvbnN0IGh1ZTMgPSAoaHVlMSArIHJhbmRvbURpc3RhbmNlKSAlIDM2MDtcblx0XHRjb25zdCBodWU0ID0gKGh1ZTMgKyAxODApICUgMzYwO1xuXHRcdGNvbnN0IGh1ZTUgPSAoaHVlMSArIDM2MCAtIHJhbmRvbURpc3RhbmNlKSAlIDM2MDtcblx0XHRjb25zdCBodWU2ID0gKGh1ZTUgKyAxODApICUgMzYwO1xuXG5cdFx0aGV4YWRpY0h1ZXMucHVzaChodWUxLCBodWUyLCBodWUzLCBodWU0LCBodWU1LCBodWU2KTtcblxuXHRcdHJldHVybiBoZXhhZGljSHVlcztcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRlcnJvcnMuaGFuZGxlKGVycm9yLCAnRXJyb3IgZ2VuZXJhdGluZyBoZXhhZGljIGh1ZXMnLCB7XG5cdFx0XHRjb2xvclxuXHRcdH0pO1xuXHRcdHJldHVybiBbXTtcblx0fVxufVxuXG5mdW5jdGlvbiBzcGxpdENvbXBsZW1lbnRhcnkoY29sb3I6IEhTTCwgY29tbW9uOiBDb21tb25GdW5jdGlvbnMpOiBudW1iZXJbXSB7XG5cdGNvbnN0IHsgZXJyb3JzIH0gPSBjb21tb24uc2VydmljZXM7XG5cdHRyeSB7XG5cdFx0Y29uc3QgYmFzZUh1ZSA9IGNvbG9yLnZhbHVlLmh1ZTtcblx0XHRjb25zdCBtb2RpZmllciA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDExKSArIDIwO1xuXG5cdFx0cmV0dXJuIFtcblx0XHRcdChiYXNlSHVlICsgMTgwICsgbW9kaWZpZXIpICUgMzYwLFxuXHRcdFx0KGJhc2VIdWUgKyAxODAgLSBtb2RpZmllciArIDM2MCkgJSAzNjBcblx0XHRdO1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdGVycm9ycy5oYW5kbGUoZXJyb3IsICdFcnJvciBnZW5lcmF0aW5nIHNwbGl0LWNvbXBsZW1lbnRhcnkgaHVlcycsIHtcblx0XHRcdGNvbG9yXG5cdFx0fSk7XG5cdFx0cmV0dXJuIFtdO1xuXHR9XG59XG5cbmZ1bmN0aW9uIHRldHJhZGljKGNvbG9yOiBIU0wsIGNvbW1vbjogQ29tbW9uRnVuY3Rpb25zKTogbnVtYmVyW10ge1xuXHR0cnkge1xuXHRcdGNvbnN0IGJhc2VIdWUgPSBjb2xvci52YWx1ZS5odWU7XG5cdFx0Y29uc3QgcmFuZG9tT2Zmc2V0ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogNDYpICsgMjA7XG5cdFx0Y29uc3QgZGlzdGFuY2UgPVxuXHRcdFx0OTAgKyAoTWF0aC5yYW5kb20oKSA8IDAuNSA/IC1yYW5kb21PZmZzZXQgOiByYW5kb21PZmZzZXQpO1xuXG5cdFx0cmV0dXJuIFtcblx0XHRcdGJhc2VIdWUsXG5cdFx0XHQoYmFzZUh1ZSArIDE4MCkgJSAzNjAsXG5cdFx0XHQoYmFzZUh1ZSArIGRpc3RhbmNlKSAlIDM2MCxcblx0XHRcdChiYXNlSHVlICsgZGlzdGFuY2UgKyAxODApICUgMzYwXG5cdFx0XTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRjb21tb24uc2VydmljZXMuZXJyb3JzLmhhbmRsZShlcnJvciwgJ0Vycm9yIGdlbmVyYXRpbmcgdGV0cmFkaWMgaHVlcycsIHtcblx0XHRcdGNvbG9yXG5cdFx0fSk7XG5cdFx0cmV0dXJuIFtdO1xuXHR9XG59XG5cbmZ1bmN0aW9uIHRyaWFkaWMoY29sb3I6IEhTTCwgY29tbW9uOiBDb21tb25GdW5jdGlvbnMpOiBudW1iZXJbXSB7XG5cdGNvbnN0IHsgZXJyb3JzIH0gPSBjb21tb24uc2VydmljZXM7XG5cdHRyeSB7XG5cdFx0Y29uc3QgYmFzZUh1ZSA9IGNvbG9yLnZhbHVlLmh1ZTtcblxuXHRcdHJldHVybiBbMTIwLCAyNDBdLm1hcChpbmNyZW1lbnQgPT4gKGJhc2VIdWUgKyBpbmNyZW1lbnQpICUgMzYwKTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRlcnJvcnMuaGFuZGxlKGVycm9yLCAnRXJyb3IgZ2VuZXJhdGluZyB0cmlhZGljIGh1ZXMnLCB7XG5cdFx0XHRjb2xvclxuXHRcdH0pO1xuXHRcdHJldHVybiBbXTtcblx0fVxufVxuXG5leHBvcnQgY29uc3QgZ2VuZXJhdGVIdWVzRm5Hcm91cDogR2VuZXJhdGVIdWVzRm5Hcm91cCA9IHtcblx0YW5hbG9nb3VzLFxuXHRkaWFkaWMsXG5cdGhleGFkaWMsXG5cdHNwbGl0Q29tcGxlbWVudGFyeSxcblx0dGV0cmFkaWMsXG5cdHRyaWFkaWNcbn07XG4iXX0=