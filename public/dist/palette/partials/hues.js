// File: palette/partials/hues.js
function analogous(color, options, common) {
    const log = common.services.app.log;
    try {
        if (!common.utils.validate.colorValue(color)) {
            log('error', `Invalid color value ${JSON.stringify(color)}`, 'generateAnalogousHues()');
            return [];
        }
        const analogousHues = [];
        const baseHue = color.value.hue;
        const maxTotalDistance = 60;
        const minTotalDistance = Math.max(20, 10 + (options.columnCount - 2) * 12);
        const totalIncrement = Math.floor(Math.random() * (maxTotalDistance - minTotalDistance + 1)) + minTotalDistance;
        const increment = Math.floor(totalIncrement / (options.columnCount - 1));
        for (let i = 1; i < options.columnCount; i++) {
            analogousHues.push((baseHue + increment * i) % 360);
        }
        return analogousHues;
    }
    catch (error) {
        log('error', `Error generating analogous hues: ${error}`, 'generateAnalogousHues()');
        return [];
    }
}
function diadic(color, options, common) {
    const helpers = common.helpers;
    const log = common.services.app.log;
    try {
        const baseHue = color.value.hue;
        const diadicHues = [];
        const randomDistance = helpers.palette.getWeightedRandomInterval(options.distributionType);
        const hue1 = baseHue;
        const hue2 = (hue1 + randomDistance) % 360;
        diadicHues.push(hue1, hue2);
        return diadicHues;
    }
    catch (error) {
        log('error', `Error generating diadic hues: ${error}`, 'generateDiadicHues()');
        return [];
    }
}
function hexadic(color, common) {
    const utils = common.utils;
    const log = common.services.app.log;
    try {
        const clonedBaseHSL = utils.color.convertToHSL(color);
        const hexadicHues = [];
        const baseHue = clonedBaseHSL.value.hue;
        const hue1 = baseHue;
        const hue2 = (hue1 + 180) % 360;
        const randomDistance = Math.floor(Math.random() * 61 + 30);
        const hue3 = (hue1 + randomDistance) % 360;
        const hue4 = (hue3 + 180) % 360;
        const hue5 = (hue1 + 360 - randomDistance) % 360;
        const hue6 = (hue5 + 180) % 360;
        hexadicHues.push(hue1, hue2, hue3, hue4, hue5, hue6);
        return hexadicHues;
    }
    catch (error) {
        log('error', `Error generating hexadic hues: ${error}`, 'generateHexadicHues()');
        return [];
    }
}
function splitComplementary(color, common) {
    const log = common.services.app.log;
    try {
        const baseHue = color.value.hue;
        const modifier = Math.floor(Math.random() * 11) + 20;
        return [
            (baseHue + 180 + modifier) % 360,
            (baseHue + 180 - modifier + 360) % 360
        ];
    }
    catch (error) {
        log('error', `Error generating split complementary hues: ${error}`, 'generateSplitComplementaryHues()');
        return [];
    }
}
function tetradic(color, common) {
    const log = common.services.app.log;
    try {
        const baseHue = color.value.hue;
        const randomOffset = Math.floor(Math.random() * 46) + 20;
        const distance = 90 + (Math.random() < 0.5 ? -randomOffset : randomOffset);
        return [
            baseHue,
            (baseHue + 180) % 360,
            (baseHue + distance) % 360,
            (baseHue + distance + 180) % 360
        ];
    }
    catch (error) {
        log('error', `Error generating tetradic hues: ${error}`, 'generateTetradicHues()');
        return [];
    }
}
function triadic(color, common) {
    const log = common.services.app.log;
    try {
        const baseHue = color.value.hue;
        return [120, 240].map(increment => (baseHue + increment) % 360);
    }
    catch (error) {
        log('error', `Error generating triadic hues: ${error}`, 'generateTriadicHues()');
        return [];
    }
}
export const generateHues = {
    analogous,
    diadic,
    hexadic,
    splitComplementary,
    tetradic,
    triadic
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaHVlcy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9wYWxldHRlL3BhcnRpYWxzL2h1ZXMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsaUNBQWlDO0FBU2pDLFNBQVMsU0FBUyxDQUNqQixLQUFVLEVBQ1YsT0FBK0IsRUFDL0IsTUFBZ0M7SUFFaEMsTUFBTSxHQUFHLEdBQUcsTUFBTSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDO0lBRXBDLElBQUksQ0FBQztRQUNKLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQztZQUM5QyxHQUFHLENBQ0YsT0FBTyxFQUNQLHVCQUF1QixJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxFQUFFLEVBQzlDLHlCQUF5QixDQUN6QixDQUFDO1lBRUYsT0FBTyxFQUFFLENBQUM7UUFDWCxDQUFDO1FBRUQsTUFBTSxhQUFhLEdBQWEsRUFBRSxDQUFDO1FBQ25DLE1BQU0sT0FBTyxHQUFHLEtBQUssQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDO1FBQ2hDLE1BQU0sZ0JBQWdCLEdBQUcsRUFBRSxDQUFDO1FBQzVCLE1BQU0sZ0JBQWdCLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FDaEMsRUFBRSxFQUNGLEVBQUUsR0FBRyxDQUFDLE9BQU8sQ0FBQyxXQUFXLEdBQUcsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUNuQyxDQUFDO1FBQ0YsTUFBTSxjQUFjLEdBQ25CLElBQUksQ0FBQyxLQUFLLENBQ1QsSUFBSSxDQUFDLE1BQU0sRUFBRSxHQUFHLENBQUMsZ0JBQWdCLEdBQUcsZ0JBQWdCLEdBQUcsQ0FBQyxDQUFDLENBQ3pELEdBQUcsZ0JBQWdCLENBQUM7UUFDdEIsTUFBTSxTQUFTLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FDM0IsY0FBYyxHQUFHLENBQUMsT0FBTyxDQUFDLFdBQVcsR0FBRyxD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QUM7SUFDWCxDQUFDO0FBQ0YsQ0FBQztBQUVELE1BQU0sQ0FBQyxNQUFNLFlBQVksR0FBd0I7SUFDaEQsU0FBUztJQUNULE1BQU07SUFDTixPQUFPO0lBQ1Asa0JBQWtCO0lBQ2xCLFFBQVE7SUFDUixPQUFPO0NBQ1AsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8vIEZpbGU6IHBhbGV0dGUvcGFydGlhbHMvaHVlcy5qc1xuXG5pbXBvcnQge1xuXHRDb21tb25GdW5jdGlvbnNJbnRlcmZhY2UsXG5cdEdlbmVyYXRlSHVlc0ZuR3JvdXAsXG5cdEhTTCxcblx0U2VsZWN0ZWRQYWxldHRlT3B0aW9uc1xufSBmcm9tICcuLi8uLi90eXBlcy9pbmRleC5qcyc7XG5cbmZ1bmN0aW9uIGFuYWxvZ291cyhcblx0Y29sb3I6IEhTTCxcblx0b3B0aW9uczogU2VsZWN0ZWRQYWxldHRlT3B0aW9ucyxcblx0Y29tbW9uOiBDb21tb25GdW5jdGlvbnNJbnRlcmZhY2Vcbik6IG51bWJlcltdIHtcblx0Y29uc3QgbG9nID0gY29tbW9uLnNlcnZpY2VzLmFwcC5sb2c7XG5cblx0dHJ5IHtcblx0XHRpZiAoIWNvbW1vbi51dGlscy52YWxpZGF0ZS5jb2xvclZhbHVlKGNvbG9yKSkge1xuXHRcdFx0bG9nKFxuXHRcdFx0XHQnZXJyb3InLFxuXHRcdFx0XHRgSW52YWxpZCBjb2xvciB2YWx1ZSAke0pTT04uc3RyaW5naWZ5KGNvbG9yKX1gLFxuXHRcdFx0XHQnZ2VuZXJhdGVBbmFsb2dvdXNIdWVzKCknXG5cdFx0XHQpO1xuXG5cdFx0XHRyZXR1cm4gW107XG5cdFx0fVxuXG5cdFx0Y29uc3QgYW5hbG9nb3VzSHVlczogbnVtYmVyW10gPSBbXTtcblx0XHRjb25zdCBiYXNlSHVlID0gY29sb3IudmFsdWUuaHVlO1xuXHRcdGNvbnN0IG1heFRvdGFsRGlzdGFuY2UgPSA2MDtcblx0XHRjb25zdCBtaW5Ub3RhbERpc3RhbmNlID0gTWF0aC5tYXgoXG5cdFx0XHQyMCxcblx0XHRcdDEwICsgKG9wdGlvbnMuY29sdW1uQ291bnQgLSAyKSAqIDEyXG5cdFx0KTtcblx0XHRjb25zdCB0b3RhbEluY3JlbWVudCA9XG5cdFx0XHRNYXRoLmZsb29yKFxuXHRcdFx0XHRNYXRoLnJhbmRvbSgpICogKG1heFRvdGFsRGlzdGFuY2UgLSBtaW5Ub3RhbERpc3RhbmNlICsgMSlcblx0XHRcdCkgKyBtaW5Ub3RhbERpc3RhbmNlO1xuXHRcdGNvbnN0IGluY3JlbWVudCA9IE1hdGguZmxvb3IoXG5cdFx0XHR0b3RhbEluY3JlbWVudCAvIChvcHRpb25zLmNvbHVtbkNvdW50IC0gMSlcblx0XHQpO1xuXG5cdFx0Zm9yIChsZXQgaSA9IDE7IGkgPCBvcHRpb25zLmNvbHVtbkNvdW50OyBpKyspIHtcblx0XHRcdGFuYWxvZ291c0h1ZXMucHVzaCgoYmFzZUh1ZSArIGluY3JlbWVudCAqIGkpICUgMzYwKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gYW5hbG9nb3VzSHVlcztcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRsb2coXG5cdFx0XHQnZXJyb3InLFxuXHRcdFx0YEVycm9yIGdlbmVyYXRpbmcgYW5hbG9nb3VzIGh1ZXM6ICR7ZXJyb3J9YCxcblx0XHRcdCdnZW5lcmF0ZUFuYWxvZ291c0h1ZXMoKSdcblx0XHQpO1xuXG5cdFx0cmV0dXJuIFtdO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGRpYWRpYyhcblx0Y29sb3I6IEhTTCxcblx0b3B0aW9uczogU2VsZWN0ZWRQYWxldHRlT3B0aW9ucyxcblx0Y29tbW9uOiBDb21tb25GdW5jdGlvbnNJbnRlcmZhY2Vcbik6IG51bWJlcltdIHtcblx0Y29uc3QgaGVscGVycyA9IGNvbW1vbi5oZWxwZXJzO1xuXHRjb25zdCBsb2cgPSBjb21tb24uc2VydmljZXMuYXBwLmxvZztcblxuXHR0cnkge1xuXHRcdGNvbnN0IGJhc2VIdWUgPSBjb2xvci52YWx1ZS5odWU7XG5cdFx0Y29uc3QgZGlhZGljSHVlcyA9IFtdO1xuXHRcdGNvbnN0IHJhbmRvbURpc3RhbmNlID0gaGVscGVycy5wYWxldHRlLmdldFdlaWdodGVkUmFuZG9tSW50ZXJ2YWwoXG5cdFx0XHRvcHRpb25zLmRpc3RyaWJ1dGlvblR5cGVcblx0XHQpO1xuXHRcdGNvbnN0IGh1ZTEgPSBiYXNlSHVlO1xuXHRcdGNvbnN0IGh1ZTIgPSAoaHVlMSArIHJhbmRvbURpc3RhbmNlKSAlIDM2MDtcblxuXHRcdGRpYWRpY0h1ZXMucHVzaChodWUxLCBodWUyKTtcblxuXHRcdHJldHVybiBkaWFkaWNIdWVzO1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdGxvZyhcblx0XHRcdCdlcnJvcicsXG5cdFx0XHRgRXJyb3IgZ2VuZXJhdGluZyBkaWFkaWMgaHVlczogJHtlcnJvcn1gLFxuXHRcdFx0J2dlbmVyYXRlRGlhZGljSHVlcygpJ1xuXHRcdCk7XG5cblx0XHRyZXR1cm4gW107XG5cdH1cbn1cblxuZnVuY3Rpb24gaGV4YWRpYyhjb2xvcjogSFNMLCBjb21tb246IENvbW1vbkZ1bmN0aW9uc0ludGVyZmFjZSk6IG51bWJlcltdIHtcblx0Y29uc3QgdXRpbHMgPSBjb21tb24udXRpbHM7XG5cdGNvbnN0IGxvZyA9IGNvbW1vbi5zZXJ2aWNlcy5hcHAubG9nO1xuXG5cdHRyeSB7XG5cdFx0Y29uc3QgY2xvbmVkQmFzZUhTTCA9IHV0aWxzLmNvbG9yLmNvbnZlcnRUb0hTTChjb2xvcik7XG5cblx0XHRjb25zdCBoZXhhZGljSHVlczogbnVtYmVyW10gPSBbXTtcblx0XHRjb25zdCBiYXNlSHVlID0gY2xvbmVkQmFzZUhTTC52YWx1ZS5odWU7XG5cdFx0Y29uc3QgaHVlMSA9IGJhc2VIdWU7XG5cdFx0Y29uc3QgaHVlMiA9IChodWUxICsgMTgwKSAlIDM2MDtcblx0XHRjb25zdCByYW5kb21EaXN0YW5jZSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDYxICsgMzApO1xuXHRcdGNvbnN0IGh1ZTMgPSAoaHVlMSArIHJhbmRvbURpc3RhbmNlKSAlIDM2MDtcblx0XHRjb25zdCBodWU0ID0gKGh1ZTMgKyAxODApICUgMzYwO1xuXHRcdGNvbnN0IGh1ZTUgPSAoaHVlMSArIDM2MCAtIHJhbmRvbURpc3RhbmNlKSAlIDM2MDtcblx0XHRjb25zdCBodWU2ID0gKGh1ZTUgKyAxODApICUgMzYwO1xuXG5cdFx0aGV4YWRpY0h1ZXMucHVzaChodWUxLCBodWUyLCBodWUzLCBodWU0LCBodWU1LCBodWU2KTtcblxuXHRcdHJldHVybiBoZXhhZGljSHVlcztcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRsb2coXG5cdFx0XHQnZXJyb3InLFxuXHRcdFx0YEVycm9yIGdlbmVyYXRpbmcgaGV4YWRpYyBodWVzOiAke2Vycm9yfWAsXG5cdFx0XHQnZ2VuZXJhdGVIZXhhZGljSHVlcygpJ1xuXHRcdCk7XG5cblx0XHRyZXR1cm4gW107XG5cdH1cbn1cblxuZnVuY3Rpb24gc3BsaXRDb21wbGVtZW50YXJ5KFxuXHRjb2xvcjogSFNMLFxuXHRjb21tb246IENvbW1vbkZ1bmN0aW9uc0ludGVyZmFjZVxuKTogbnVtYmVyW10ge1xuXHRjb25zdCBsb2cgPSBjb21tb24uc2VydmljZXMuYXBwLmxvZztcblxuXHR0cnkge1xuXHRcdGNvbnN0IGJhc2VIdWUgPSBjb2xvci52YWx1ZS5odWU7XG5cdFx0Y29uc3QgbW9kaWZpZXIgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMSkgKyAyMDtcblxuXHRcdHJldHVybiBbXG5cdFx0XHQoYmFzZUh1ZSArIDE4MCArIG1vZGlmaWVyKSAlIDM2MCxcblx0XHRcdChiYXNlSHVlICsgMTgwIC0gbW9kaWZpZXIgKyAzNjApICUgMzYwXG5cdFx0XTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRsb2coXG5cdFx0XHQnZXJyb3InLFxuXHRcdFx0YEVycm9yIGdlbmVyYXRpbmcgc3BsaXQgY29tcGxlbWVudGFyeSBodWVzOiAke2Vycm9yfWAsXG5cdFx0XHQnZ2VuZXJhdGVTcGxpdENvbXBsZW1lbnRhcnlIdWVzKCknXG5cdFx0KTtcblxuXHRcdHJldHVybiBbXTtcblx0fVxufVxuXG5mdW5jdGlvbiB0ZXRyYWRpYyhjb2xvcjogSFNMLCBjb21tb246IENvbW1vbkZ1bmN0aW9uc0ludGVyZmFjZSk6IG51bWJlcltdIHtcblx0Y29uc3QgbG9nID0gY29tbW9uLnNlcnZpY2VzLmFwcC5sb2c7XG5cblx0dHJ5IHtcblx0XHRjb25zdCBiYXNlSHVlID0gY29sb3IudmFsdWUuaHVlO1xuXHRcdGNvbnN0IHJhbmRvbU9mZnNldCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDQ2KSArIDIwO1xuXHRcdGNvbnN0IGRpc3RhbmNlID1cblx0XHRcdDkwICsgKE1hdGgucmFuZG9tKCkgPCAwLjUgPyAtcmFuZG9tT2Zmc2V0IDogcmFuZG9tT2Zmc2V0KTtcblxuXHRcdHJldHVybiBbXG5cdFx0XHRiYXNlSHVlLFxuXHRcdFx0KGJhc2VIdWUgKyAxODApICUgMzYwLFxuXHRcdFx0KGJhc2VIdWUgKyBkaXN0YW5jZSkgJSAzNjAsXG5cdFx0XHQoYmFzZUh1ZSArIGRpc3RhbmNlICsgMTgwKSAlIDM2MFxuXHRcdF07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0bG9nKFxuXHRcdFx0J2Vycm9yJyxcblx0XHRcdGBFcnJvciBnZW5lcmF0aW5nIHRldHJhZGljIGh1ZXM6ICR7ZXJyb3J9YCxcblx0XHRcdCdnZW5lcmF0ZVRldHJhZGljSHVlcygpJ1xuXHRcdCk7XG5cblx0XHRyZXR1cm4gW107XG5cdH1cbn1cblxuZnVuY3Rpb24gdHJpYWRpYyhjb2xvcjogSFNMLCBjb21tb246IENvbW1vbkZ1bmN0aW9uc0ludGVyZmFjZSk6IG51bWJlcltdIHtcblx0Y29uc3QgbG9nID0gY29tbW9uLnNlcnZpY2VzLmFwcC5sb2c7XG5cblx0dHJ5IHtcblx0XHRjb25zdCBiYXNlSHVlID0gY29sb3IudmFsdWUuaHVlO1xuXG5cdFx0cmV0dXJuIFsxMjAsIDI0MF0ubWFwKGluY3JlbWVudCA9PiAoYmFzZUh1ZSArIGluY3JlbWVudCkgJSAzNjApO1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdGxvZyhcblx0XHRcdCdlcnJvcicsXG5cdFx0XHRgRXJyb3IgZ2VuZXJhdGluZyB0cmlhZGljIGh1ZXM6ICR7ZXJyb3J9YCxcblx0XHRcdCdnZW5lcmF0ZVRyaWFkaWNIdWVzKCknXG5cdFx0KTtcblxuXHRcdHJldHVybiBbXTtcblx0fVxufVxuXG5leHBvcnQgY29uc3QgZ2VuZXJhdGVIdWVzOiBHZW5lcmF0ZUh1ZXNGbkdyb3VwID0ge1xuXHRhbmFsb2dvdXMsXG5cdGRpYWRpYyxcblx0aGV4YWRpYyxcblx0c3BsaXRDb21wbGVtZW50YXJ5LFxuXHR0ZXRyYWRpYyxcblx0dHJpYWRpY1xufTtcbiJdfQ==