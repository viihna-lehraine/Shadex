{"version":3,"file":"hues.js","sources":["../../../../../src/palette/partials/hues.ts"],"sourcesContent":["// File: dom/palette/partials/hues.js\n\nimport {\n\tCommonFunctions,\n\tGenerateHuesFnGroup,\n\tHSL,\n\tSelectedPaletteOptions\n} from '../../types/index.js';\nimport { paletteConfig } from '../../config/index.js';\n\n// TODO: These definiely need refinement\n\nfunction generateAnalogousHues(\n\tcolor: HSL,\n\toptions: SelectedPaletteOptions,\n\tcommon: CommonFunctions\n): number[] {\n\tconst { errors, log } = common.services;\n\n\treturn errors.handleSync(\n\t\t() => {\n\t\t\tif (!common.utils.validate.colorValue(color)) {\n\t\t\t\tlog.error(\n\t\t\t\t\t`Invalid color value ${JSON.stringify(color)}`,\n\t\t\t\t\t`generateAnalogousHues`\n\t\t\t\t);\n\n\t\t\t\treturn [];\n\t\t\t}\n\n\t\t\tconst analogousHues: number[] = [];\n\t\t\tconst baseHue = color.value.hue;\n\t\t\tconst maxTotalDistance = 60;\n\t\t\tconst minTotalDistance = Math.max(\n\t\t\t\t20,\n\t\t\t\t10 + (options.columnCount - 2) * 12\n\t\t\t);\n\t\t\tconst totalIncrement =\n\t\t\t\tMath.floor(Math.random() * (maxTotalDistance - minTotalDistance + 1)) +\n\t\t\t\tminTotalDistance;\n\t\t\tconst increment = Math.floor(totalIncrement / (options.columnCount - 1));\n\n\t\t\tfor (let i = 1; i < options.columnCount; i++) {\n\t\t\t\tanalogousHues.push((baseHue + increment * i) % 360);\n\t\t\t}\n\n\t\t\treturn analogousHues;\n\t\t},\n\t\t'Error generating analogous hues',\n\t\t{\n\t\t\tcontext: { options }\n\t\t}\n\t);\n}\n\nfunction generateDiadicHues(\n\tcolor: HSL,\n\toptions: SelectedPaletteOptions,\n\tcommon: CommonFunctions\n): number[] {\n\tconst {\n\t\thelpers,\n\t\tservices: { errors }\n\t} = common;\n\n\treturn errors.handleSync(\n\t\t() => {\n\t\t\tconst baseHue = color.value.hue;\n\t\t\tconst diadicHues = [];\n\n\t\t\tconst { weights, values } =\n\t\t\t\tpaletteConfig.probabilities[options.distributionType];\n\t\t\tconst randomDistance = helpers.random.selectRandomFromWeights({\n\t\t\t\tweights,\n\t\t\t\tvalues\n\t\t\t});\n\t\t\tconst hue1 = baseHue;\n\t\t\tconst hue2 = (hue1 + randomDistance) % 360;\n\n\t\t\tdiadicHues.push(hue1, hue2);\n\n\t\t\treturn diadicHues;\n\t\t},\n\t\t'Error generating diadic hues',\n\t\t{\n\t\t\tcontext: { options }\n\t\t}\n\t);\n}\n\nfunction generateHexadicHues(color: HSL, common: CommonFunctions): number[] {\n\tconst {\n\t\tutils,\n\t\tservices: { errors }\n\t} = common;\n\n\treturn errors.handleSync(\n\t\t() => {\n\t\t\tconst clonedBaseHSL = utils.color.convertToHSL(color);\n\n\t\t\tconst hexadicHues: number[] = [];\n\t\t\tconst baseHue = clonedBaseHSL.value.hue;\n\t\t\tconst hue1 = baseHue;\n\t\t\tconst hue2 = (hue1 + 180) % 360;\n\t\t\tconst randomDistance = Math.floor(Math.random() * 61 + 30);\n\t\t\tconst hue3 = (hue1 + randomDistance) % 360;\n\t\t\tconst hue4 = (hue3 + 180) % 360;\n\t\t\tconst hue5 = (hue1 + 360 - randomDistance) % 360;\n\t\t\tconst hue6 = (hue5 + 180) % 360;\n\n\t\t\thexadicHues.push(hue1, hue2, hue3, hue4, hue5, hue6);\n\n\t\t\treturn hexadicHues;\n\t\t},\n\t\t'Error generating hexadic hues',\n\t\t{\n\t\t\tcontext: { color }\n\t\t}\n\t);\n}\n\nfunction generateSplitComplementaryHues(\n\tcolor: HSL,\n\tcommon: CommonFunctions\n): number[] {\n\tconst { errors } = common.services;\n\n\treturn errors.handleSync(\n\t\t() => {\n\t\t\tconst baseHue = color.value.hue;\n\t\t\tconst modifier = Math.floor(Math.random() * 11) + 20;\n\n\t\t\treturn [\n\t\t\t\t(baseHue + 180 + modifier) % 360,\n\t\t\t\t(baseHue + 180 - modifier + 360) % 360\n\t\t\t];\n\t\t},\n\t\t'Error generating split-complementary hues',\n\t\t{\n\t\t\tcontext: { color }\n\t\t}\n\t);\n}\n\nfunction generateTetradicHues(color: HSL, common: CommonFunctions): number[] {\n\tconst { errors } = common.services;\n\n\treturn errors.handleSync(\n\t\t() => {\n\t\t\tconst baseHue = color.value.hue;\n\t\t\tconst randomOffset = Math.floor(Math.random() * 46) + 20;\n\t\t\tconst distance =\n\t\t\t\t90 + (Math.random() < 0.5 ? -randomOffset : randomOffset);\n\n\t\t\treturn [\n\t\t\t\tbaseHue,\n\t\t\t\t(baseHue + 180) % 360,\n\t\t\t\t(baseHue + distance) % 360,\n\t\t\t\t(baseHue + distance + 180) % 360\n\t\t\t];\n\t\t},\n\t\t'Error generating tetradic hues',\n\t\t{\n\t\t\tcontext: { color }\n\t\t}\n\t);\n}\n\nfunction generateTriadic(color: HSL, common: CommonFunctions): number[] {\n\tconst { errors } = common.services;\n\n\treturn errors.handleSync(\n\t\t() => {\n\t\t\tconst baseHue = color.value.hue;\n\n\t\t\treturn [120, 240].map(increment => (baseHue + increment) % 360);\n\t\t},\n\t\t'Error generating triadic hues',\n\t\t{\n\t\t\tcontext: { color }\n\t\t}\n\t);\n}\n\nexport const generateHuesFnGroup: GenerateHuesFnGroup = {\n\tanalogous: generateAnalogousHues,\n\tdiadic: generateDiadicHues,\n\thexadic: generateHexadicHues,\n\tsplitComplementary: generateSplitComplementaryHues,\n\ttetradic: generateTetradicHues,\n\ttriadic: generateTriadic\n} as const;\n"],"names":[],"mappings":";;;;AAAA;AAUA;AAEA,SAAS,qBAAqB,CAC7B,KAAU,EACV,OAA+B,EAC/B,MAAuB,EAAA;IAEvB,MAAM,EAAE,MAAM,EAAE,GAAG,EAAE,GAAG,MAAM,CAAC,QAAQ;AAEvC,IAAA,OAAO,MAAM,CAAC,UAAU,CACvB,MAAK;AACJ,QAAA,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,QAAQ,CAAC,UAAU,CAAC,KAAK,CAAC,EAAE;AAC7C,YAAA,GAAG,CAAC,KAAK,CACR,CAAA,oBAAA,EAAuB,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAA,CAAE,EAC9C,CAAA,qBAAA,CAAuB,CACvB;AAED,YAAA,OAAO,EAAE;;QAGV,MAAM,aAAa,GAAa,EAAE;AAClC,QAAA,MAAM,OAAO,GAAG,KAAK,CAAC,KAAK,CAAC,GAAG;QAC/B,MAAM,gBAAgB,GAAG,EAAE;QAC3B,MAAM,gBAAgB,GAAG,IAAI,CAAC,GAAG,CAChC,EAAE,EACF,EAAE,GAAG,CAAC,OAAO,CAAC,WAAW,GAAG,CAAC,IAAI,EAAE,CACnC;AACD,QAAA,MAAM,cAAc,GACnB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,gBAAgB,GAAG,gBAAgB,GAAG,CAAC,CAAC,CAAC;AACrE,YAAA,gBAAgB;AACjB,QAAA,MAAM,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,IAAI,OAAO,CAAC,WAAW,GAAG,CAAC,CAAC,CAAC;AAExE,QAAA,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,OAAO,CAAC,WAAW,EAAE,CAAC,EAAE,EAAE;AAC7C,YAAA,aAAa,CAAC,IAAI,CAAC,CAAC,OAAO,GAAG,SAAS,GAAG,CAAC,IAAI,GAAG,CAAC;;AAGpD,QAAA,OAAO,aAAa;KACpB,EACD,iCAAiC,EACjC;QACC,OAAO,EAAE,EAAE,OAAO;AAClB,KAAA,CACD;AACF;AAEA,SAAS,kBAAkB,CAC1B,KAAU,EACV,OAA+B,EAC/B,MAAuB,EAAA;IAEvB,MAAM,EACL,OAAO,EACP,QAAQ,EAAE,EAAE,MAAM,EAAE,EACpB,GAAG,MAAM;AAEV,IAAA,OAAO,MAAM,CAAC,UAAU,CACvB,MAAK;AACJ,QAAA,MAAM,OAAO,GAAG,KAAK,CAAC,KAAK,CAAC,GAAG;QAC/B,MAAM,UAAU,GAAG,EAAE;AAErB,QAAA,MAAM,EAAE,OAAO,EAAE,MAAM,EAAE,GACxB,aAAa,CAAC,aAAa,CAAC,OAAO,CAAC,gBAAgB,CAAC;AACtD,QAAA,MAAM,cAAc,GAAG,OAAO,CAAC,MAAM,CAAC,uBAAuB,CAAC;YAC7D,OAAO;YACP;AACA,SAAA,CAAC;QACF,MAAM,IAAI,GAAG,OAAO;QACpB,MAAM,IAAI,GAAG,CAAC,IAAI,GAAG,cAAc,IAAI,GAAG;AAE1C,QAAA,UAAU,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC;AAE3B,QAAA,OAAO,UAAU;KACjB,EACD,8BAA8B,EAC9B;QACC,OAAO,EAAE,EAAE,OAAO;AAClB,KAAA,CACD;AACF;AAEA,SAAS,mBAAmB,CAAC,KAAU,EAAE,MAAuB,EAAA;IAC/D,MAAM,EACL,KAAK,EACL,QAAQ,EAAE,EAAE,MAAM,EAAE,EACpB,GAAG,MAAM;AAEV,IAAA,OAAO,MAAM,CAAC,UAAU,CACvB,MAAK;QACJ,MAAM,aAAa,GAAG,KAAK,CAAC,KAAK,CAAC,YAAY,CAAC,KAAK,CAAC;QAErD,MAAM,WAAW,GAAa,EAAE;AAChC,QAAA,MAAM,OAAO,GAAG,aAAa,CAAC,KAAK,CAAC,GAAG;QACvC,MAAM,IAAI,GAAG,OAAO;QACpB,MAAM,IAAI,GAAG,CAAC,IAAI,GAAG,GAAG,IAAI,GAAG;AAC/B,QAAA,MAAM,cAAc,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC;QAC1D,MAAM,IAAI,GAAG,CAAC,IAAI,GAAG,cAAc,IAAI,GAAG;QAC1C,MAAM,IAAI,GAAG,CAAC,IAAI,GAAG,GAAG,IAAI,GAAG;QAC/B,MAAM,IAAI,GAAG,CAAC,IAAI,GAAG,GAAG,GAAG,cAAc,IAAI,GAAG;QAChD,MAAM,IAAI,GAAG,CAAC,IAAI,GAAG,GAAG,IAAI,GAAG;AAE/B,QAAA,WAAW,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC;AAEpD,QAAA,OAAO,WAAW;KAClB,EACD,+BAA+B,EAC/B;QACC,OAAO,EAAE,EAAE,KAAK;AAChB,KAAA,CACD;AACF;AAEA,SAAS,8BAA8B,CACtC,KAAU,EACV,MAAuB,EAAA;AAEvB,IAAA,MAAM,EAAE,MAAM,EAAE,GAAG,MAAM,CAAC,QAAQ;AAElC,IAAA,OAAO,MAAM,CAAC,UAAU,CACvB,MAAK;AACJ,QAAA,MAAM,OAAO,GAAG,KAAK,CAAC,KAAK,CAAC,GAAG;AAC/B,QAAA,MAAM,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,GAAG,EAAE;QAEpD,OAAO;AACN,YAAA,CAAC,OAAO,GAAG,GAAG,GAAG,QAAQ,IAAI,GAAG;YAChC,CAAC,OAAO,GAAG,GAAG,GAAG,QAAQ,GAAG,GAAG,IAAI;SACnC;KACD,EACD,2CAA2C,EAC3C;QACC,OAAO,EAAE,EAAE,KAAK;AAChB,KAAA,CACD;AACF;AAEA,SAAS,oBAAoB,CAAC,KAAU,EAAE,MAAuB,EAAA;AAChE,IAAA,MAAM,EAAE,MAAM,EAAE,GAAG,MAAM,CAAC,QAAQ;AAElC,IAAA,OAAO,MAAM,CAAC,UAAU,CACvB,MAAK;AACJ,QAAA,MAAM,OAAO,GAAG,KAAK,CAAC,KAAK,CAAC,GAAG;AAC/B,QAAA,MAAM,YAAY,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,GAAG,EAAE;QACxD,MAAM,QAAQ,GACb,EAAE,IAAI,IAAI,CAAC,MAAM,EAAE,GAAG,GAAG,GAAG,CAAC,YAAY,GAAG,YAAY,CAAC;QAE1D,OAAO;YACN,OAAO;AACP,YAAA,CAAC,OAAO,GAAG,GAAG,IAAI,GAAG;AACrB,YAAA,CAAC,OAAO,GAAG,QAAQ,IAAI,GAAG;AAC1B,YAAA,CAAC,OAAO,GAAG,QAAQ,GAAG,GAAG,IAAI;SAC7B;KACD,EACD,gCAAgC,EAChC;QACC,OAAO,EAAE,EAAE,KAAK;AAChB,KAAA,CACD;AACF;AAEA,SAAS,eAAe,CAAC,KAAU,EAAE,MAAuB,EAAA;AAC3D,IAAA,MAAM,EAAE,MAAM,EAAE,GAAG,MAAM,CAAC,QAAQ;AAElC,IAAA,OAAO,MAAM,CAAC,UAAU,CACvB,MAAK;AACJ,QAAA,MAAM,OAAO,GAAG,KAAK,CAAC,KAAK,CAAC,GAAG;QAE/B,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC,SAAS,IAAI,CAAC,OAAO,GAAG,SAAS,IAAI,GAAG,CAAC;KAC/D,EACD,+BAA+B,EAC/B;QACC,OAAO,EAAE,EAAE,KAAK;AAChB,KAAA,CACD;AACF;AAEa,MAAA,mBAAmB,GAAwB;AACvD,IAAA,SAAS,EAAE,qBAAqB;AAChC,IAAA,MAAM,EAAE,kBAAkB;AAC1B,IAAA,OAAO,EAAE,mBAAmB;AAC5B,IAAA,kBAAkB,EAAE,8BAA8B;AAClD,IAAA,QAAQ,EAAE,oBAAoB;AAC9B,IAAA,OAAO,EAAE;;;;;"}