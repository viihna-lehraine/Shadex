{"version":3,"file":"generate.js","sources":["../../../../src/palette/generate.ts"],"sourcesContent":["// File: palette/generate.js\n\nimport {\n\tCommonFunctionsInterface,\n\tGenerateHuesFnGroup,\n\tGeneratePaletteFnGroup,\n\tHSL,\n\tPalette,\n\tSelectedPaletteOptions\n} from '../types/index.js';\nimport { data } from '../data/index.js';\n\nconst defaultPalette = data.defaults.palette;\n\nexport function generatePalette(\n\toptions: SelectedPaletteOptions,\n\tcommon: CommonFunctionsInterface,\n\tgenerateHuesFns: GenerateHuesFnGroup,\n\tgeneratePaletteFns: GeneratePaletteFnGroup\n): Palette {\n\tconst log = common.services.log;\n\tconst errors = common.services.errors;\n\n\ttry {\n\t\tlog(\n\t\t\t'debug',\n\t\t\t`Generating ${options.paletteType} palette with args ${JSON.stringify(options)}`,\n\t\t\t'generatePalette()',\n\t\t\t2\n\t\t);\n\n\t\tswitch (options.paletteType) {\n\t\t\tcase 'analogous':\n\t\t\t\treturn generatePaletteFns.analogous(\n\t\t\t\t\toptions,\n\t\t\t\t\tcommon,\n\t\t\t\t\tgenerateHuesFns\n\t\t\t\t);\n\t\t\tcase 'complementary':\n\t\t\t\treturn generatePaletteFns.complementary(options, common);\n\t\t\tcase 'diadic':\n\t\t\t\treturn generatePaletteFns.diadic(\n\t\t\t\t\toptions,\n\t\t\t\t\tcommon,\n\t\t\t\t\tgenerateHuesFns\n\t\t\t\t);\n\t\t\tcase 'hexadic':\n\t\t\t\treturn generatePaletteFns.hexadic(\n\t\t\t\t\toptions,\n\t\t\t\t\tcommon,\n\t\t\t\t\tgenerateHuesFns\n\t\t\t\t);\n\t\t\tcase 'monochromatic':\n\t\t\t\treturn generatePaletteFns.monochromatic(options, common);\n\t\t\tcase 'random':\n\t\t\t\treturn generatePaletteFns.random(options, common);\n\t\t\tcase 'split-complementary':\n\t\t\t\treturn generatePaletteFns.splitComplementary(options, common);\n\t\t\tcase 'tetradic':\n\t\t\t\treturn generatePaletteFns.tetradic(\n\t\t\t\t\toptions,\n\t\t\t\t\tcommon,\n\t\t\t\t\tgenerateHuesFns\n\t\t\t\t);\n\t\t\tcase 'triadic':\n\t\t\t\treturn generatePaletteFns.triadic(\n\t\t\t\t\toptions,\n\t\t\t\t\tcommon,\n\t\t\t\t\tgenerateHuesFns\n\t\t\t\t);\n\t\t\tdefault:\n\t\t\t\tlog(\n\t\t\t\t\t'error',\n\t\t\t\t\t`Invalid palette type ${options.paletteType}`,\n\t\t\t\t\t'generatePalette()'\n\t\t\t\t);\n\t\t\t\treturn defaultPalette;\n\t\t}\n\t} catch (error) {\n\t\terrors.handle(\n\t\t\terror,\n\t\t\t'Error occurred during palette generation',\n\t\t\t'generatePalette()'\n\t\t);\n\t\treturn defaultPalette;\n\t}\n}\n\nexport function generateHues(\n\tcolor: HSL,\n\toptions: SelectedPaletteOptions,\n\tcommon: CommonFunctionsInterface,\n\tgenerateHues: GenerateHuesFnGroup\n): number[] {\n\tconst utils = common.utils;\n\tconst log = common.services.log;\n\tconst errors = common.services.errors;\n\n\ttry {\n\t\tif (!utils.validate.colorValue(color)) {\n\t\t\tlog(\n\t\t\t\t'error',\n\t\t\t\t`Invalid color value ${JSON.stringify(color)}`,\n\t\t\t\t'generateHues()'\n\t\t\t);\n\t\t\treturn [];\n\t\t}\n\n\t\tconst clonedColor = utils.core.clone(color) as HSL;\n\n\t\tswitch (options.paletteType) {\n\t\t\tcase 'analogous':\n\t\t\t\treturn generateHues.analogous(clonedColor, options, common);\n\t\t\tcase 'diadic':\n\t\t\t\treturn generateHues.diadic(clonedColor, options, common);\n\t\t\tcase 'hexadic':\n\t\t\t\treturn generateHues.hexadic(clonedColor, common);\n\t\t\tcase 'split-complementary':\n\t\t\t\treturn generateHues.splitComplementary(clonedColor, common);\n\t\t\tcase 'tetradic':\n\t\t\t\treturn generateHues.tetradic(clonedColor, common);\n\t\t\tcase 'triadic':\n\t\t\t\treturn generateHues.triadic(clonedColor, common);\n\t\t\tdefault:\n\t\t\t\tlog(\n\t\t\t\t\t'error',\n\t\t\t\t\t`Invalid hue type ${options.paletteType}`,\n\t\t\t\t\t'generateHues()'\n\t\t\t\t);\n\t\t\t\treturn [];\n\t\t}\n\t} catch (error) {\n\t\terrors.handle(error, 'Error generating hues', 'generateHues()');\n\t\treturn [];\n\t}\n}\n"],"names":[],"mappings":";;AAAA;AAYA,MAAM,cAAc,GAAG,IAAI,CAAC,QAAQ,CAAC,OAAO;AAEtC,SAAU,eAAe,CAC9B,OAA+B,EAC/B,MAAgC,EAChC,eAAoC,EACpC,kBAA0C,EAAA;AAE1C,IAAA,MAAM,GAAG,GAAG,MAAM,CAAC,QAAQ,CAAC,GAAG;AAC/B,IAAA,MAAM,MAAM,GAAG,MAAM,CAAC,QAAQ,CAAC,MAAM;AAErC,IAAA,IAAI;QACH,GAAG,CACF,OAAO,EACP,CAAA,WAAA,EAAc,OAAO,CAAC,WAAW,sBAAsB,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAE,CAAA,EAChF,mBAAmB,EACnB,CAAC,CACD;AAED,QAAA,QAAQ,OAAO,CAAC,WAAW;AAC1B,YAAA,KAAK,WAAW;gBACf,OAAO,kBAAkB,CAAC,SAAS,CAClC,OAAO,EACP,MAAM,EACN,eAAe,CACf;AACF,YAAA,KAAK,eAAe;gBACnB,OAAO,kBAAkB,CAAC,aAAa,CAAC,OAAO,EAAE,MAAM,CAAC;AACzD,YAAA,KAAK,QAAQ;gBACZ,OAAO,kBAAkB,CAAC,MAAM,CAC/B,OAAO,EACP,MAAM,EACN,eAAe,CACf;AACF,YAAA,KAAK,SAAS;gBACb,OAAO,kBAAkB,CAAC,OAAO,CAChC,OAAO,EACP,MAAM,EACN,eAAe,CACf;AACF,YAAA,KAAK,eAAe;gBACnB,OAAO,kBAAkB,CAAC,aAAa,CAAC,OAAO,EAAE,MAAM,CAAC;AACzD,YAAA,KAAK,QAAQ;gBACZ,OAAO,kBAAkB,CAAC,MAAM,CAAC,OAAO,EAAE,MAAM,CAAC;AAClD,YAAA,KAAK,qBAAqB;gBACzB,OAAO,kBAAkB,CAAC,kBAAkB,CAAC,OAAO,EAAE,MAAM,CAAC;AAC9D,YAAA,KAAK,UAAU;gBACd,OAAO,kBAAkB,CAAC,QAAQ,CACjC,OAAO,EACP,MAAM,EACN,eAAe,CACf;AACF,YAAA,KAAK,SAAS;gBACb,OAAO,kBAAkB,CAAC,OAAO,CAChC,OAAO,EACP,MAAM,EACN,eAAe,CACf;AACF,YAAA;gBACC,GAAG,CACF,OAAO,EACP,CAAwB,qBAAA,EAAA,OAAO,CAAC,WAAW,CAAE,CAAA,EAC7C,mBAAmB,CACnB;AACD,gBAAA,OAAO,cAAc;;;IAEtB,OAAO,KAAK,EAAE;QACf,MAAM,CAAC,MAAM,CACZ,KAAK,EACL,0CAA0C,EAC1C,mBAAmB,CACnB;AACD,QAAA,OAAO,cAAc;;AAEvB;;;;"}