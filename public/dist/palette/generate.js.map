{"version":3,"file":"generate.js","sources":["../../../../src/palette/generate.ts"],"sourcesContent":["// File: palette/generate.js\n\nimport {\n\tCommonFunctions,\n\tGenerateHuesFnGroup,\n\tGeneratePaletteFnGroup,\n\tHSL,\n\tPalette,\n\tSelectedPaletteOptions\n} from '../types/index.js';\nimport { defaults } from '../config/index.js';\n\nconst defaultPalette = defaults.palette;\n\nexport function generatePalette(\n\toptions: SelectedPaletteOptions,\n\tcommon: CommonFunctions,\n\tgenerateHuesFns: GenerateHuesFnGroup,\n\tgeneratePaletteFns: GeneratePaletteFnGroup\n): Palette {\n\tconst { log, errors } = common.services;\n\n\treturn errors.handleSync(\n\t\t() => {\n\t\t\tlog(\n\t\t\t\t`Generating ${options.paletteType} palette with args ${JSON.stringify(options)}`,\n\t\t\t\t{\n\t\t\t\t\tcaller: '[generatePalette]',\n\t\t\t\t\tlevel: 'debug'\n\t\t\t\t}\n\t\t\t);\n\n\t\t\tswitch (options.paletteType) {\n\t\t\t\tcase 'analogous':\n\t\t\t\t\treturn generatePaletteFns.analogous(\n\t\t\t\t\t\toptions,\n\t\t\t\t\t\tcommon,\n\t\t\t\t\t\tgenerateHuesFns\n\t\t\t\t\t);\n\t\t\t\tcase 'complementary':\n\t\t\t\t\treturn generatePaletteFns.complementary(options, common);\n\t\t\t\tcase 'diadic':\n\t\t\t\t\treturn generatePaletteFns.diadic(\n\t\t\t\t\t\toptions,\n\t\t\t\t\t\tcommon,\n\t\t\t\t\t\tgenerateHuesFns\n\t\t\t\t\t);\n\t\t\t\tcase 'hexadic':\n\t\t\t\t\treturn generatePaletteFns.hexadic(\n\t\t\t\t\t\toptions,\n\t\t\t\t\t\tcommon,\n\t\t\t\t\t\tgenerateHuesFns\n\t\t\t\t\t);\n\t\t\t\tcase 'monochromatic':\n\t\t\t\t\treturn generatePaletteFns.monochromatic(options, common);\n\t\t\t\tcase 'random':\n\t\t\t\t\treturn generatePaletteFns.random(options, common);\n\t\t\t\tcase 'splitComplementary':\n\t\t\t\t\treturn generatePaletteFns.splitComplementary(\n\t\t\t\t\t\toptions,\n\t\t\t\t\t\tcommon\n\t\t\t\t\t);\n\t\t\t\tcase 'tetradic':\n\t\t\t\t\treturn generatePaletteFns.tetradic(\n\t\t\t\t\t\toptions,\n\t\t\t\t\t\tcommon,\n\t\t\t\t\t\tgenerateHuesFns\n\t\t\t\t\t);\n\t\t\t\tcase 'triadic':\n\t\t\t\t\treturn generatePaletteFns.triadic(\n\t\t\t\t\t\toptions,\n\t\t\t\t\t\tcommon,\n\t\t\t\t\t\tgenerateHuesFns\n\t\t\t\t\t);\n\t\t\t\tdefault:\n\t\t\t\t\tlog(`Invalid palette type ${options.paletteType}`, {\n\t\t\t\t\t\tcaller: '[generatePalette]',\n\t\t\t\t\t\tlevel: 'error'\n\t\t\t\t\t});\n\t\t\t\t\treturn defaultPalette;\n\t\t\t}\n\t\t},\n\t\t'Error generating palette',\n\t\t{ context: { options } }\n\t);\n}\n\nexport function generateHues(\n\tcolor: HSL,\n\toptions: SelectedPaletteOptions,\n\tcommon: CommonFunctions,\n\tgenerateHues: GenerateHuesFnGroup\n): number[] {\n\tconst {\n\t\thelpers,\n\t\tservices: { log, errors },\n\t\tutils\n\t} = common;\n\n\treturn errors.handleSync(\n\t\t() => {\n\t\t\tif (!utils.validate.colorValue(color)) {\n\t\t\t\tlog(`Invalid color value ${JSON.stringify(color)}`, {\n\t\t\t\t\tcaller: '[generateHues]',\n\t\t\t\t\tlevel: 'error'\n\t\t\t\t});\n\t\t\t\treturn [];\n\t\t\t}\n\n\t\t\tconst clonedColor = helpers.data.clone(color) as HSL;\n\n\t\t\tswitch (options.paletteType) {\n\t\t\t\tcase 'analogous':\n\t\t\t\t\treturn generateHues.analogous(clonedColor, options, common);\n\t\t\t\tcase 'diadic':\n\t\t\t\t\treturn generateHues.diadic(clonedColor, options, common);\n\t\t\t\tcase 'hexadic':\n\t\t\t\t\treturn generateHues.hexadic(clonedColor, common);\n\t\t\t\tcase 'splitComplementary':\n\t\t\t\t\treturn generateHues.splitComplementary(clonedColor, common);\n\t\t\t\tcase 'tetradic':\n\t\t\t\t\treturn generateHues.tetradic(clonedColor, common);\n\t\t\t\tcase 'triadic':\n\t\t\t\t\treturn generateHues.triadic(clonedColor, common);\n\t\t\t\tdefault:\n\t\t\t\t\tlog(`Invalid hue type ${options.paletteType}`, {\n\t\t\t\t\t\tcaller: '[generateHues]',\n\t\t\t\t\t\tlevel: 'error'\n\t\t\t\t\t});\n\t\t\t\t\treturn [];\n\t\t\t}\n\t\t},\n\t\t'Error generating hues',\n\t\t{ context: { color, options } }\n\t);\n}\n"],"names":[],"mappings":";;AAAA;AAYA,MAAM,cAAc,GAAG,QAAQ,CAAC,OAAO;AAEjC,SAAU,eAAe,CAC9B,OAA+B,EAC/B,MAAuB,EACvB,eAAoC,EACpC,kBAA0C,EAAA;IAE1C,MAAM,EAAE,GAAG,EAAE,MAAM,EAAE,GAAG,MAAM,CAAC,QAAQ;AAEvC,IAAA,OAAO,MAAM,CAAC,UAAU,CACvB,MAAK;AACJ,QAAA,GAAG,CACF,CAAA,WAAA,EAAc,OAAO,CAAC,WAAW,CAAA,mBAAA,EAAsB,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,EAAE,EAChF;AACC,YAAA,MAAM,EAAE,mBAAmB;AAC3B,YAAA,KAAK,EAAE;AACP,SAAA,CACD;AAED,QAAA,QAAQ,OAAO,CAAC,WAAW;AAC1B,YAAA,KAAK,WAAW;gBACf,OAAO,kBAAkB,CAAC,SAAS,CAClC,OAAO,EACP,MAAM,EACN,eAAe,CACf;AACF,YAAA,KAAK,eAAe;gBACnB,OAAO,kBAAkB,CAAC,aAAa,CAAC,OAAO,EAAE,MAAM,CAAC;AACzD,YAAA,KAAK,QAAQ;gBACZ,OAAO,kBAAkB,CAAC,MAAM,CAC/B,OAAO,EACP,MAAM,EACN,eAAe,CACf;AACF,YAAA,KAAK,SAAS;gBACb,OAAO,kBAAkB,CAAC,OAAO,CAChC,OAAO,EACP,MAAM,EACN,eAAe,CACf;AACF,YAAA,KAAK,eAAe;gBACnB,OAAO,kBAAkB,CAAC,aAAa,CAAC,OAAO,EAAE,MAAM,CAAC;AACzD,YAAA,KAAK,QAAQ;gBACZ,OAAO,kBAAkB,CAAC,MAAM,CAAC,OAAO,EAAE,MAAM,CAAC;AAClD,YAAA,KAAK,oBAAoB;gBACxB,OAAO,kBAAkB,CAAC,kBAAkB,CAC3C,OAAO,EACP,MAAM,CACN;AACF,YAAA,KAAK,UAAU;gBACd,OAAO,kBAAkB,CAAC,QAAQ,CACjC,OAAO,EACP,MAAM,EACN,eAAe,CACf;AACF,YAAA,KAAK,SAAS;gBACb,OAAO,kBAAkB,CAAC,OAAO,CAChC,OAAO,EACP,MAAM,EACN,eAAe,CACf;AACF,YAAA;AACC,gBAAA,GAAG,CAAC,CAAwB,qBAAA,EAAA,OAAO,CAAC,WAAW,EAAE,EAAE;AAClD,oBAAA,MAAM,EAAE,mBAAmB;AAC3B,oBAAA,KAAK,EAAE;AACP,iBAAA,CAAC;AACF,gBAAA,OAAO,cAAc;;KAEvB,EACD,0BAA0B,EAC1B,EAAE,OAAO,EAAE,EAAE,OAAO,EAAE,EAAE,CACxB;AACF;;;;"}