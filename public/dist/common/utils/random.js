// File: common/utils/random.js
import { coreUtils } from '../core.js';
import { createLogger } from '../../logger/index.js';
import { defaultData as defaults } from '../../data/defaults.js';
import { modeData as mode } from '../../data/mode.js';
const logMode = mode.logging;
const thisModule = 'common/utils/random.js';
const logger = await createLogger();
function hsl() {
    const thisMethod = 'hsl()';
    try {
        const hsl = {
            value: {
                hue: coreUtils.sanitize.radial(Math.floor(Math.random() * 360)),
                saturation: coreUtils.sanitize.percentile(Math.floor(Math.random() * 101)),
                lightness: coreUtils.sanitize.percentile(Math.floor(Math.random() * 101))
            },
            format: 'hsl'
        };
        if (!coreUtils.validate.colorValues(hsl)) {
            if (logMode.error)
                logger.error(`Invalid random HSL color value ${JSON.stringify(hsl)}`, `${thisModule} > ${thisMethod}`);
            const unbrandedHSL = coreUtils.base.clone(defaults.colors.base.unbranded.hsl);
            return coreUtils.brandColor.asHSL(unbrandedHSL);
        }
        if (!mode.quiet && !logMode.info)
            logger.info(`Generated randomHSL: ${JSON.stringify(hsl)}`, `${thisModule} > ${thisMethod}`);
        return hsl;
    }
    catch (error) {
        if (logMode.error)
            logger.error(`Error generating random HSL color: ${error}`, `${thisModule} > ${thisMethod}`);
        const unbrandedHSL = coreUtils.base.clone(defaults.colors.base.unbranded.hsl);
        return coreUtils.brandColor.asHSL(unbrandedHSL);
    }
}
function sl() {
    const thisMethod = 'sl()';
    try {
        const sl = {
            value: {
                saturation: coreUtils.sanitize.percentile(Math.max(0, Math.min(100, Math.random() * 100))),
                lightness: coreUtils.sanitize.percentile(Math.max(0, Math.min(100, Math.random() * 100)))
            },
            format: 'sl'
        };
        if (!coreUtils.validate.colorValues(sl)) {
            if (logMode.error)
                logger.error(`Invalid random SV color value ${JSON.stringify(sl)}`, `${thisModule} > ${thisMethod}`);
            const unbrandedSL = coreUtils.base.clone(defaults.colors.base.unbranded.sl);
            return coreUtils.brandColor.asSL(unbrandedSL);
        }
        if (!mode.quiet && logMode.info)
            logger.info(`Generated randomSL: ${JSON.stringify(sl)}`, `${thisModule} > ${thisMethod}`);
        return sl;
    }
    catch (error) {
        if (logMode.error)
            logger.error(`Error generating random SL color: ${error}`, `${thisModule} > ${thisMethod}`);
        const unbrandedSL = coreUtils.base.clone(defaults.colors.base.unbranded.sl);
        return coreUtils.brandColor.asSL(unbrandedSL);
    }
}
export const randomUtils = {
    hsl,
    sl
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmFuZG9tLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL2NvbW1vbi91dGlscy9yYW5kb20udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsK0JBQStCO0FBRy9CLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxZQUFZLENBQUM7QUFDdkMsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLHVCQUF1QixDQUFDO0FBQ3JELE9BQU8sRUFBRSxXQUFXLElBQUksUUFBUSxFQUFFLE1BQU0sd0JBQXdCLENBQUM7QUFDakUsT0FBTyxFQUFFLFFBQVEsSUFBSSxJQUFJLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUV0RCxNQUFNLE9BQU8sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDO0FBRTdCLE1BQU0sVUFBVSxHQUFHLHdCQUF3QixDQUFDO0FBRTVDLE1BQU0sTUFBTSxHQUFHLE1BQU0sWUFBWSxFQUFFLENBQUM7QUFFcEMsU0FBUyxHQUFHO0lBQ1gsTUFBTSxVQUFVLEdBQUcsT0FBTyxDQUFDO0lBRTNCLElBQUksQ0FBQztRQUNKLE1BQU0sR0FBRyxHQUFRO1lBQ2hCLEtBQUssRUFBRTtnQkFDTixHQUFHLEVBQUUsU0FBUyxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLEdBQUcsR0FBRyxDQUFDLENBQUM7Z0JBQy9ELFVBQVUsRUFBRSxTQUFTLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FDeEMsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLEdBQUcsR0FBRyxDQUFDLENBQy9CO2dCQUNELFNBQVMsRUFBRSxTQUFTLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FDdkMsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLEdBQUcsR0FBRyxDQUFDLENBQy9CO2FBQ0Q7WUFDRCxNQUFNLEVBQUUsS0FBSztTQUNiLENBQUM7UUFF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LEVBQUUsQ0FBQyxFQUFFLEVBQzNDLEdBQUcsVUFBVSxNQUFNLFVBQVUsRUFBRSxDQUMvQixDQUFDO1FBRUgsT0FBTyxFQUFFLENBQUM7SUFDWCxDQUFDO0lBQUMsT0FBTyxLQUFLLEVBQUUsQ0FBQztRQUNoQixJQUFJLE9BQU8sQ0FBQyxLQUFLO1lBQ2hCLE1BQU0sQ0FBQyxLQUFLLENBQ1gscUNBQXFDLEtBQUssRUFBRSxFQUM1QyxHQUFHLFVBQVUsTUFBTSxVQUFVLEVBQUUsQ0FDL0IsQ0FBQztRQUVILE1BQU0sV0FBVyxHQUFHLFNBQVMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUN2QyxRQUFRLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUNqQyxDQUFDO1FBRUYsT0FBTyxTQUFTLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztJQUMvQyxDQUFDO0FBQ0YsQ0FBQztBQUVELE1BQU0sQ0FBQyxNQUFNLFdBQVcsR0FBZ0Q7SUFDdkUsR0FBRztJQUNILEVBQUU7Q0FDTyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLy8gRmlsZTogY29tbW9uL3V0aWxzL3JhbmRvbS5qc1xuXG5pbXBvcnQgeyBDb21tb25Gbl9NYXN0ZXJJbnRlcmZhY2UsIEhTTCwgU0wgfSBmcm9tICcuLi8uLi90eXBlcy9pbmRleC5qcyc7XG5pbXBvcnQgeyBjb3JlVXRpbHMgfSBmcm9tICcuLi9jb3JlLmpzJztcbmltcG9ydCB7IGNyZWF0ZUxvZ2dlciB9IGZyb20gJy4uLy4uL2xvZ2dlci9pbmRleC5qcyc7XG5pbXBvcnQgeyBkZWZhdWx0RGF0YSBhcyBkZWZhdWx0cyB9IGZyb20gJy4uLy4uL2RhdGEvZGVmYXVsdHMuanMnO1xuaW1wb3J0IHsgbW9kZURhdGEgYXMgbW9kZSB9IGZyb20gJy4uLy4uL2RhdGEvbW9kZS5qcyc7XG5cbmNvbnN0IGxvZ01vZGUgPSBtb2RlLmxvZ2dpbmc7XG5cbmNvbnN0IHRoaXNNb2R1bGUgPSAnY29tbW9uL3V0aWxzL3JhbmRvbS5qcyc7XG5cbmNvbnN0IGxvZ2dlciA9IGF3YWl0IGNyZWF0ZUxvZ2dlcigpO1xuXG5mdW5jdGlvbiBoc2woKTogSFNMIHtcblx0Y29uc3QgdGhpc01ldGhvZCA9ICdoc2woKSc7XG5cblx0dHJ5IHtcblx0XHRjb25zdCBoc2w6IEhTTCA9IHtcblx0XHRcdHZhbHVlOiB7XG5cdFx0XHRcdGh1ZTogY29yZVV0aWxzLnNhbml0aXplLnJhZGlhbChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAzNjApKSxcblx0XHRcdFx0c2F0dXJhdGlvbjogY29yZVV0aWxzLnNhbml0aXplLnBlcmNlbnRpbGUoXG5cdFx0XHRcdFx0TWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAxKVxuXHRcdFx0XHQpLFxuXHRcdFx0XHRsaWdodG5lc3M6IGNvcmVVdGlscy5zYW5pdGl6ZS5wZXJjZW50aWxlKFxuXHRcdFx0XHRcdE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMSlcblx0XHRcdFx0KVxuXHRcdFx0fSxcblx0XHRcdGZvcm1hdDogJ2hzbCdcblx0XHR9O1xuXG5cdFx0aWYgKCFjb3JlVXRpbHMudmFsaWRhdGUuY29sb3JWYWx1ZXMoaHNsKSkge1xuXHRcdFx0aWYgKGxvZ01vZGUuZXJyb3IpXG5cdFx0XHRcdGxvZ2dlci5lcnJvcihcblx0XHRcdFx0XHRgSW52YWxpZCByYW5kb20gSFNMIGNvbG9yIHZhbHVlICR7SlNPTi5zdHJpbmdpZnkoaHNsKX1gLFxuXHRcdFx0XHRcdGAke3RoaXNNb2R1bGV9ID4gJHt0aGlzTWV0aG9kfWBcblx0XHRcdFx0KTtcblxuXHRcdFx0Y29uc3QgdW5icmFuZGVkSFNMID0gY29yZVV0aWxzLmJhc2UuY2xvbmUoXG5cdFx0XHRcdGRlZmF1bHRzLmNvbG9ycy5iYXNlLnVuYnJhbmRlZC5oc2xcblx0XHRcdCk7XG5cblx0XHRcdHJldHVybiBjb3JlVXRpbHMuYnJhbmRDb2xvci5hc0hTTCh1bmJyYW5kZWRIU0wpO1xuXHRcdH1cblxuXHRcdGlmICghbW9kZS5xdWlldCAmJiAhbG9nTW9kZS5pbmZvKVxuXHRcdFx0bG9nZ2VyLmluZm8oXG5cdFx0XHRcdGBHZW5lcmF0ZWQgcmFuZG9tSFNMOiAke0pTT04uc3RyaW5naWZ5KGhzbCl9YCxcblx0XHRcdFx0YCR7dGhpc01vZHVsZX0gPiAke3RoaXNNZXRob2R9YFxuXHRcdFx0KTtcblxuXHRcdHJldHVybiBoc2w7XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0aWYgKGxvZ01vZGUuZXJyb3IpXG5cdFx0XHRsb2dnZXIuZXJyb3IoXG5cdFx0XHRcdGBFcnJvciBnZW5lcmF0aW5nIHJhbmRvbSBIU0wgY29sb3I6ICR7ZXJyb3J9YCxcblx0XHRcdFx0YCR7dGhpc01vZHVsZX0gPiAke3RoaXNNZXRob2R9YFxuXHRcdFx0KTtcblxuXHRcdGNvbnN0IHVuYnJhbmRlZEhTTCA9IGNvcmVVdGlscy5iYXNlLmNsb25lKFxuXHRcdFx0ZGVmYXVsdHMuY29sb3JzLmJhc2UudW5icmFuZGVkLmhzbFxuXHRcdCk7XG5cblx0XHRyZXR1cm4gY29yZVV0aWxzLmJyYW5kQ29sb3IuYXNIU0wodW5icmFuZGVkSFNMKTtcblx0fVxufVxuXG5mdW5jdGlvbiBzbCgpOiBTTCB7XG5cdGNvbnN0IHRoaXNNZXRob2QgPSAnc2woKSc7XG5cblx0dHJ5IHtcblx0XHRjb25zdCBzbDogU0wgPSB7XG5cdFx0XHR2YWx1ZToge1xuXHRcdFx0XHRzYXR1cmF0aW9uOiBjb3JlVXRpbHMuc2FuaXRpemUucGVyY2VudGlsZShcblx0XHRcdFx0XHRNYXRoLm1heCgwLCBNYXRoLm1pbigxMDAsIE1hdGgucmFuZG9tKCkgKiAxMDApKVxuXHRcdFx0XHQpLFxuXHRcdFx0XHRsaWdodG5lc3M6IGNvcmVVdGlscy5zYW5pdGl6ZS5wZXJjZW50aWxlKFxuXHRcdFx0XHRcdE1hdGgubWF4KDAsIE1hdGgubWluKDEwMCwgTWF0aC5yYW5kb20oKSAqIDEwMCkpXG5cdFx0XHRcdClcblx0XHRcdH0sXG5cdFx0XHRmb3JtYXQ6ICdzbCdcblx0XHR9O1xuXG5cdFx0aWYgKCFjb3JlVXRpbHMudmFsaWRhdGUuY29sb3JWYWx1ZXMoc2wgYXMgU0wpKSB7XG5cdFx0XHRpZiAobG9nTW9kZS5lcnJvcilcblx0XHRcdFx0bG9nZ2VyLmVycm9yKFxuXHRcdFx0XHRcdGBJbnZhbGlkIHJhbmRvbSBTViBjb2xvciB2YWx1ZSAke0pTT04uc3RyaW5naWZ5KHNsKX1gLFxuXHRcdFx0XHRcdGAke3RoaXNNb2R1bGV9ID4gJHt0aGlzTWV0aG9kfWBcblx0XHRcdFx0KTtcblxuXHRcdFx0Y29uc3QgdW5icmFuZGVkU0wgPSBjb3JlVXRpbHMuYmFzZS5jbG9uZShcblx0XHRcdFx0ZGVmYXVsdHMuY29sb3JzLmJhc2UudW5icmFuZGVkLnNsXG5cdFx0XHQpO1xuXG5cdFx0XHRyZXR1cm4gY29yZVV0aWxzLmJyYW5kQ29sb3IuYXNTTCh1bmJyYW5kZWRTTCk7XG5cdFx0fVxuXG5cdFx0aWYgKCFtb2RlLnF1aWV0ICYmIGxvZ01vZGUuaW5mbylcblx0XHRcdGxvZ2dlci5pbmZvKFxuXHRcdFx0XHRgR2VuZXJhdGVkIHJhbmRvbVNMOiAke0pTT04uc3RyaW5naWZ5KHNsKX1gLFxuXHRcdFx0XHRgJHt0aGlzTW9kdWxlfSA+ICR7dGhpc01ldGhvZH1gXG5cdFx0XHQpO1xuXG5cdFx0cmV0dXJuIHNsO1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdGlmIChsb2dNb2RlLmVycm9yKVxuXHRcdFx0bG9nZ2VyLmVycm9yKFxuXHRcdFx0XHRgRXJyb3IgZ2VuZXJhdGluZyByYW5kb20gU0wgY29sb3I6ICR7ZXJyb3J9YCxcblx0XHRcdFx0YCR7dGhpc01vZHVsZX0gPiAke3RoaXNNZXRob2R9YFxuXHRcdFx0KTtcblxuXHRcdGNvbnN0IHVuYnJhbmRlZFNMID0gY29yZVV0aWxzLmJhc2UuY2xvbmUoXG5cdFx0XHRkZWZhdWx0cy5jb2xvcnMuYmFzZS51bmJyYW5kZWQuc2xcblx0XHQpO1xuXG5cdFx0cmV0dXJuIGNvcmVVdGlscy5icmFuZENvbG9yLmFzU0wodW5icmFuZGVkU0wpO1xuXHR9XG59XG5cbmV4cG9ydCBjb25zdCByYW5kb21VdGlsczogQ29tbW9uRm5fTWFzdGVySW50ZXJmYWNlWyd1dGlscyddWydyYW5kb20nXSA9IHtcblx0aHNsLFxuXHRzbFxufSBhcyBjb25zdDtcbiJdfQ==