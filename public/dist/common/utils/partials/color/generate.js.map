{"version":3,"file":"generate.js","sources":["../../../../../../../src/common/utils/partials/color/generate.ts"],"sourcesContent":["// File: common/utils/partials/color/generate.ts\n\nimport {\n\tColorGenerationUtils,\n\tHSL,\n\tSL,\n\tSanitationUtils,\n\tServices,\n\tValidationUtils\n} from '../../../../types/index.js';\nimport { defaults } from '../../../../config/index.js';\n\nconst defaultColors = defaults.colors;\n\nexport function colorGenerationUtilsFactory(\n\tsanitize: SanitationUtils,\n\tservices: Services,\n\tvalidate: ValidationUtils\n): ColorGenerationUtils {\n\tconst { errors, log } = services;\n\n\tfunction generateRandomHSL(): HSL {\n\t\treturn errors.handleSync(() => {\n\t\t\tconst hsl: HSL = {\n\t\t\t\tvalue: {\n\t\t\t\t\thue: sanitize.radial(Math.floor(Math.random() * 360)),\n\t\t\t\t\tsaturation: sanitize.percentile(\n\t\t\t\t\t\tMath.floor(Math.random() * 101)\n\t\t\t\t\t),\n\t\t\t\t\tlightness: sanitize.percentile(\n\t\t\t\t\t\tMath.floor(Math.random() * 101)\n\t\t\t\t\t)\n\t\t\t\t},\n\t\t\t\tformat: 'hsl'\n\t\t\t};\n\n\t\t\tif (!validate.colorValue(hsl)) {\n\t\t\t\tlog(`Invalid random HSL color value ${JSON.stringify(hsl)}`, {\n\t\t\t\t\tcaller: 'generateRandomHSL',\n\t\t\t\t\tlevel: 'error'\n\t\t\t\t});\n\n\t\t\t\treturn defaultColors.hsl;\n\t\t\t}\n\n\t\t\tlog(`Generated randomHSL: ${JSON.stringify(hsl)}`, {\n\t\t\t\tcaller: 'generateRandomHSL',\n\t\t\t\tlevel: 'debug'\n\t\t\t});\n\n\t\t\treturn hsl;\n\t\t}, 'Error generating random HSL color');\n\t}\n\n\tfunction generateRandomSL(): SL {\n\t\treturn errors.handleSync(() => {\n\t\t\tconst sl: SL = {\n\t\t\t\tvalue: {\n\t\t\t\t\tsaturation: sanitize.percentile(\n\t\t\t\t\t\tMath.max(0, Math.min(100, Math.random() * 100))\n\t\t\t\t\t),\n\t\t\t\t\tlightness: sanitize.percentile(\n\t\t\t\t\t\tMath.max(0, Math.min(100, Math.random() * 100))\n\t\t\t\t\t)\n\t\t\t\t},\n\t\t\t\tformat: 'sl'\n\t\t\t};\n\n\t\t\tif (!validate.colorValue(sl as SL)) {\n\t\t\t\tlog(`Invalid random SV color value ${JSON.stringify(sl)}`, {\n\t\t\t\t\tcaller: 'generateRandomSL',\n\t\t\t\t\tlevel: 'error'\n\t\t\t\t});\n\n\t\t\t\treturn defaultColors.sl;\n\t\t\t}\n\n\t\t\tlog(`Generated randomSL: ${JSON.stringify(sl)}`, {\n\t\t\t\tcaller: 'generateRandomSL',\n\t\t\t\tlevel: 'debug'\n\t\t\t});\n\n\t\t\treturn sl;\n\t\t}, 'Error generating random SL color');\n\t}\n\n\tconst colorGenerationUtils: ColorGenerationUtils = {\n\t\tgenerateRandomHSL,\n\t\tgenerateRandomSL\n\t};\n\n\treturn errors.handleSync(\n\t\t() => colorGenerationUtils,\n\t\t'Error creating colorGenerationUtils.'\n\t);\n}\n"],"names":[],"mappings":";;;AAAA;AAYA,MAAM,aAAa,GAAG,QAAQ,CAAC,MAAM;SAErB,2BAA2B,CAC1C,QAAyB,EACzB,QAAkB,EAClB,QAAyB,EAAA;AAEzB,IAAA,MAAM,EAAE,MAAM,EAAE,GAAG,EAAE,GAAG,QAAQ;AAEhC,IAAA,SAAS,iBAAiB,GAAA;AACzB,QAAA,OAAO,MAAM,CAAC,UAAU,CAAC,MAAK;AAC7B,YAAA,MAAM,GAAG,GAAQ;AAChB,gBAAA,KAAK,EAAE;AACN,oBAAA,GAAG,EAAE,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,GAAG,CAAC,CAAC;AACrD,oBAAA,UAAU,EAAE,QAAQ,CAAC,UAAU,CAC9B,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,GAAG,CAAC,CAC/B;AACD,oBAAA,SAAS,EAAE,QAAQ,CAAC,UAAU,CAC7B,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,GAAG,CAAC;AAEhC,iBAAA;AACD,gBAAA,MAAM,EAAE;aACR;YAED,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,GAAG,CAAC,EAAE;gBAC9B,GAAG,CAAC,kCAAkC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAA,CAAE,EAAE;AAC5D,oBAAA,MAAM,EAAE,mBAAmB;AAC3B,oBAAA,KAAK,EAAE;AACP,iBAAA,CAAC;gBAEF,OAAO,aAAa,CAAC,GAAG;;YAGzB,GAAG,CAAC,wBAAwB,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAA,CAAE,EAAE;AAClD,gBAAA,MAAM,EAAE,mBAAmB;AAC3B,gBAAA,KAAK,EAAE;AACP,aAAA,CAAC;AAEF,YAAA,OAAO,GAAG;SACV,EAAE,mCAAmC,CAAC;;AAGxC,IAAA,SAAS,gBAAgB,GAAA;AACxB,QAAA,OAAO,MAAM,CAAC,UAAU,CAAC,MAAK;AAC7B,YAAA,MAAM,EAAE,GAAO;AACd,gBAAA,KAAK,EAAE;oBACN,UAAU,EAAE,QAAQ,CAAC,UAAU,CAC9B,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,IAAI,CAAC,MAAM,EAAE,GAAG,GAAG,CAAC,CAAC,CAC/C;oBACD,SAAS,EAAE,QAAQ,CAAC,UAAU,CAC7B,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,IAAI,CAAC,MAAM,EAAE,GAAG,GAAG,CAAC,CAAC;AAEhD,iBAAA;AACD,gBAAA,MAAM,EAAE;aACR;YAED,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,EAAQ,CAAC,EAAE;gBACnC,GAAG,CAAC,iCAAiC,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,CAAA,CAAE,EAAE;AAC1D,oBAAA,MAAM,EAAE,kBAAkB;AAC1B,oBAAA,KAAK,EAAE;AACP,iBAAA,CAAC;gBAEF,OAAO,aAAa,CAAC,EAAE;;YAGxB,GAAG,CAAC,uBAAuB,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,CAAA,CAAE,EAAE;AAChD,gBAAA,MAAM,EAAE,kBAAkB;AAC1B,gBAAA,KAAK,EAAE;AACP,aAAA,CAAC;AAEF,YAAA,OAAO,EAAE;SACT,EAAE,kCAAkC,CAAC;;AAGvC,IAAA,MAAM,oBAAoB,GAAyB;QAClD,iBAAiB;QACjB;KACA;IAED,OAAO,MAAM,CAAC,UAAU,CACvB,MAAM,oBAAoB,EAC1B,sCAAsC,CACtC;AACF;;;;"}