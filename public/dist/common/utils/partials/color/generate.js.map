{"version":3,"file":"generate.js","sources":["../../../../../../../src/common/utils/partials/color/generate.ts"],"sourcesContent":["// File: common/utils/partials/color/generate.js\n\nimport {\n\tColorGenerationUtils,\n\tHSL,\n\tSL,\n\tServices,\n\tUtilities\n} from '../../../../types/index.js';\nimport { defaults } from '../../../../config/index.js';\n\nconst defaultColors = defaults.colors;\n\nexport function colorGenerationUtilsFactory(\n\tservices: Services,\n\tutils: Utilities\n): ColorGenerationUtils {\n\tconst { log } = services;\n\n\treturn {\n\t\tgenerateRandomHSL(): HSL {\n\t\t\ttry {\n\t\t\t\tconst hsl: HSL = {\n\t\t\t\t\tvalue: {\n\t\t\t\t\t\thue: utils.sanitize.radial(\n\t\t\t\t\t\t\tMath.floor(Math.random() * 360)\n\t\t\t\t\t\t),\n\t\t\t\t\t\tsaturation: utils.sanitize.percentile(\n\t\t\t\t\t\t\tMath.floor(Math.random() * 101)\n\t\t\t\t\t\t),\n\t\t\t\t\t\tlightness: utils.sanitize.percentile(\n\t\t\t\t\t\t\tMath.floor(Math.random() * 101)\n\t\t\t\t\t\t)\n\t\t\t\t\t},\n\t\t\t\t\tformat: 'hsl'\n\t\t\t\t};\n\n\t\t\t\tif (!utils.validate.colorValue(hsl)) {\n\t\t\t\t\tlog(\n\t\t\t\t\t\t`Invalid random HSL color value ${JSON.stringify(hsl)}`,\n\t\t\t\t\t\t'error'\n\t\t\t\t\t);\n\n\t\t\t\t\treturn defaultColors.hsl;\n\t\t\t\t}\n\n\t\t\t\tlog(`Generated randomHSL: ${JSON.stringify(hsl)}`, 'debug');\n\n\t\t\t\treturn hsl;\n\t\t\t} catch (error) {\n\t\t\t\tlog(`Error generating random HSL color: ${error}`, 'warn');\n\n\t\t\t\treturn defaultColors.hsl;\n\t\t\t}\n\t\t},\n\t\tgenerateRandomSL(): SL {\n\t\t\ttry {\n\t\t\t\tconst sl: SL = {\n\t\t\t\t\tvalue: {\n\t\t\t\t\t\tsaturation: utils.sanitize.percentile(\n\t\t\t\t\t\t\tMath.max(0, Math.min(100, Math.random() * 100))\n\t\t\t\t\t\t),\n\t\t\t\t\t\tlightness: utils.sanitize.percentile(\n\t\t\t\t\t\t\tMath.max(0, Math.min(100, Math.random() * 100))\n\t\t\t\t\t\t)\n\t\t\t\t\t},\n\t\t\t\t\tformat: 'sl'\n\t\t\t\t};\n\n\t\t\t\tif (!utils.validate.colorValue(sl as SL)) {\n\t\t\t\t\tlog(\n\t\t\t\t\t\t`Invalid random SV color value ${JSON.stringify(sl)}`,\n\t\t\t\t\t\t'error'\n\t\t\t\t\t);\n\n\t\t\t\t\treturn defaultColors.sl;\n\t\t\t\t}\n\n\t\t\t\tlog(`Generated randomSL: ${JSON.stringify(sl)}`, 'debug');\n\n\t\t\t\treturn sl;\n\t\t\t} catch (error) {\n\t\t\t\tlog(`Error generating random SL color: ${error}`, 'error');\n\n\t\t\t\treturn defaultColors.sl;\n\t\t\t}\n\t\t}\n\t};\n}\n"],"names":[],"mappings":";;AAAA;AAWA,MAAM,aAAa,GAAG,QAAQ,CAAC,MAAM;AAErB,SAAA,2BAA2B,CAC1C,QAAkB,EAClB,KAAgB,EAAA;AAEhB,IAAA,MAAM,EAAE,GAAG,EAAE,GAAG,QAAQ;IAExB,OAAO;QACN,iBAAiB,GAAA;AAChB,YAAA,IAAI;AACH,gBAAA,MAAM,GAAG,GAAQ;AAChB,oBAAA,KAAK,EAAE;AACN,wBAAA,GAAG,EAAE,KAAK,CAAC,QAAQ,CAAC,MAAM,CACzB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,GAAG,CAAC,CAC/B;AACD,wBAAA,UAAU,EAAE,KAAK,CAAC,QAAQ,CAAC,UAAU,CACpC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,GAAG,CAAC,CAC/B;AACD,wBAAA,SAAS,EAAE,KAAK,CAAC,QAAQ,CAAC,UAAU,CACnC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,GAAG,CAAC;AAEhC,qBAAA;AACD,oBAAA,MAAM,EAAE;iBACR;gBAED,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,UAAU,CAAC,GAAG,CAAC,EAAE;AACpC,oBAAA,GAAG,CACF,CAAA,+BAAA,EAAkC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAE,CAAA,EACvD,OAAO,CACP;oBAED,OAAO,aAAa,CAAC,GAAG;;AAGzB,gBAAA,GAAG,CAAC,CAAA,qBAAA,EAAwB,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAE,CAAA,EAAE,OAAO,CAAC;AAE3D,gBAAA,OAAO,GAAG;;YACT,OAAO,KAAK,EAAE;AACf,gBAAA,GAAG,CAAC,CAAsC,mCAAA,EAAA,KAAK,EAAE,EAAE,MAAM,CAAC;gBAE1D,OAAO,aAAa,CAAC,GAAG;;SAEzB;QACD,gBAAgB,GAAA;AACf,YAAA,IAAI;AACH,gBAAA,MAAM,EAAE,GAAO;AACd,oBAAA,KAAK,EAAE;wBACN,UAAU,EAAE,KAAK,CAAC,QAAQ,CAAC,UAAU,CACpC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,IAAI,CAAC,MAAM,EAAE,GAAG,GAAG,CAAC,CAAC,CAC/C;wBACD,SAAS,EAAE,KAAK,CAAC,QAAQ,CAAC,UAAU,CACnC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,IAAI,CAAC,MAAM,EAAE,GAAG,GAAG,CAAC,CAAC;AAEhD,qBAAA;AACD,oBAAA,MAAM,EAAE;iBACR;gBAED,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,UAAU,CAAC,EAAQ,CAAC,EAAE;AACzC,oBAAA,GAAG,CACF,CAAA,8BAAA,EAAiC,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,CAAE,CAAA,EACrD,OAAO,CACP;oBAED,OAAO,aAAa,CAAC,EAAE;;AAGxB,gBAAA,GAAG,CAAC,CAAA,oBAAA,EAAuB,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,CAAE,CAAA,EAAE,OAAO,CAAC;AAEzD,gBAAA,OAAO,EAAE;;YACR,OAAO,KAAK,EAAE;AACf,gBAAA,GAAG,CAAC,CAAqC,kCAAA,EAAA,KAAK,EAAE,EAAE,OAAO,CAAC;gBAE1D,OAAO,aAAa,CAAC,EAAE;;;KAGzB;AACF;;;;"}