// File: common/utils/typeGuards.js
function isCMYKColor(value) {
    return (typeof value === 'object' &&
        value !== null &&
        'format' in value &&
        value.format === 'cmyk' &&
        'value' in value &&
        typeof value.value.cyan === 'number' &&
        typeof value.value.magenta === 'number' &&
        typeof value.value.yellow === 'number' &&
        typeof value.value.key === 'number');
}
function isCMYKFormat(color) {
    return isColorFormat(color, 'cmyk');
}
function isCMYKString(value) {
    return (isColorString(value) &&
        typeof value === 'object' &&
        value !== null &&
        'format' in value &&
        value.format === 'cmyk' &&
        'value' in value &&
        typeof value.value.cyan === 'string' &&
        typeof value.value.magenta === 'string' &&
        typeof value.value.yellow === 'string' &&
        typeof value.value.key === 'string');
}
function isColor(value) {
    if (typeof value !== 'object' || value === null)
        return false;
    const color = value;
    const validFormats = [
        'cmyk',
        'hex',
        'hsl',
        'hsv',
        'lab',
        'rgb',
        'sl',
        'sv',
        'xyz'
    ];
    return ('value' in color &&
        'format' in color &&
        validFormats.includes(color.format));
}
function isColorFormat(color, format) {
    return color.format === format;
}
function isColorSpace(value) {
    const validColorSpaces = [
        'cmyk',
        'hex',
        'hsl',
        'hsv',
        'lab',
        'rgb',
        'xyz'
    ];
    return (typeof value === 'string' &&
        validColorSpaces.includes(value));
}
function isColorSpaceExtended(value) {
    return [
        'cmyk',
        'hex',
        'hsl',
        'hsv',
        'lab',
        'rgb',
        'sl',
        'sv',
        'xyz'
    ].includes(value);
}
function isColorString(value) {
    if (typeof value !== 'object' || value === null)
        return false;
    const colorString = value;
    const validStringFormats = [
        'cmyk',
        'hsl',
        'hsv',
        'lab',
        'rgb',
        'sl',
        'sv',
        'xyz'
    ];
    return ('value' in colorString &&
        'format' in colorString &&
        validStringFormats.includes(colorString.format));
}
function isConvertibleColor(color) {
    return (color.format === 'cmyk' ||
        color.format === 'hex' ||
        color.format === 'hsl' ||
        color.format === 'hsv' ||
        color.format === 'lab' ||
        color.format === 'rgb');
}
function isFormat(format) {
    return (typeof format === 'string' &&
        ['cmyk', 'hex', 'hsl', 'hsv', 'lab', 'rgb', 'sl', 'sv', 'xyz'].includes(format));
}
function isHex(value) {
    if (typeof value !== 'object' || value === null)
        return false;
    if (!('format' in value) || !('value' in value))
        return false;
    const hexValue = value;
    return hexValue.format === 'hex' && typeof hexValue.value?.hex === 'string';
}
function isHexFormat(color) {
    return isColorFormat(color, 'hex');
}
function isHSLColor(value) {
    return (typeof value === 'object' &&
        value !== null &&
        'format' in value &&
        value.format === 'hsl' &&
        'value' in value &&
        typeof value.value.hue === 'number' &&
        typeof value.value.saturation === 'number' &&
        typeof value.value.lightness === 'number');
}
function isHSLFormat(color) {
    return isColorFormat(color, 'hsl');
}
function isHSLString(value) {
    return (isColorString(value) &&
        typeof value === 'object' &&
        value !== null &&
        'format' in value &&
        value.format === 'hsl' &&
        'value' in value &&
        typeof value.value.hue === 'number' &&
        typeof value.value.saturation === 'string' &&
        typeof value.value.lightness === 'string');
}
function isHSVColor(value) {
    return (isColor(value) &&
        typeof value === 'object' &&
        value !== null &&
        'format' in value &&
        value.format === 'hsv' &&
        'value' in value &&
        typeof value.value.hue === 'number' &&
        typeof value.value.saturation === 'number' &&
        typeof value.value.value === 'number');
}
function isHSVFormat(color) {
    return isColorFormat(color, 'hsv');
}
function isHSVString(value) {
    return (isColorString(value) &&
        typeof value === 'object' &&
        value !== null &&
        'format' in value &&
        value.format === 'hsv' &&
        'value' in value &&
        typeof value.value.hue === 'number' &&
        typeof value.value.saturation === 'string' &&
        typeof value.value.value === 'string');
}
function isInputElement(element) {
    return element instanceof HTMLInputElement;
}
function isLAB(value) {
    return (isColor(value) &&
        typeof value === 'object' &&
        value !== null &&
        'format' in value &&
        value.format === 'lab' &&
        'value' in value &&
        typeof value.value.l === 'number' &&
        typeof value.value.a === 'number' &&
        typeof value.value.b === 'number');
}
function isLABFormat(color) {
    return isColorFormat(color, 'lab');
}
function isPalette(palette) {
    if (!palette ||
        typeof palette !== 'object' ||
        !('id' in palette && typeof palette.id === 'string') ||
        !('items' in palette &&
            Array.isArray(palette.items) &&
            palette.items.length > 0) ||
        !('metadata' in palette &&
            typeof palette.metadata === 'object' &&
            palette.metadata !== null))
        return false;
    const { metadata, items } = palette;
    if (typeof metadata.columnCount !== 'number' ||
        typeof metadata.timestamp !== 'string' ||
        typeof metadata.type !== 'string' ||
        !metadata.flags ||
        typeof metadata.flags !== 'object')
        return false;
    const { flags } = metadata;
    if (typeof flags.limitDark !== 'boolean' ||
        typeof flags.limitGray !== 'boolean' ||
        typeof flags.limitLight !== 'boolean')
        return false;
    return items.every(item => item &&
        typeof item === 'object' &&
        typeof item.itemID === 'number' &&
        typeof item.css === 'object' &&
        typeof item.css.hex === 'string');
}
function isPaletteType(value) {
    return [
        'analogous',
        'custom',
        'complementary',
        'diadic',
        'hexadic',
        'monochromatic',
        'random',
        'split-complementary',
        'tetradic',
        'triadic'
    ].includes(value);
}
function isRGB(value) {
    return (isColor(value) &&
        typeof value === 'object' &&
        value !== null &&
        'format' in value &&
        value.format === 'rgb' &&
        'value' in value &&
        typeof value.value.red === 'number' &&
        typeof value.value.green === 'number' &&
        typeof value.value.blue === 'number');
}
function isRGBFormat(color) {
    return isColorFormat(color, 'rgb');
}
function isSLColor(value) {
    return (typeof value === 'object' &&
        value !== null &&
        'format' in value &&
        value.format === 'sl' &&
        'value' in value &&
        typeof value.value.saturation === 'number' &&
        typeof value.value.lightness === 'number');
}
function isSLFormat(color) {
    return isColorFormat(color, 'sl');
}
function isSLString(value) {
    return (typeof value === 'object' &&
        value !== null &&
        'format' in value &&
        value.format === 'sl' &&
        'value' in value &&
        typeof value.value.saturation === 'string' &&
        typeof value.value.lightness === 'string');
}
function isSVColor(value) {
    return (typeof value === 'object' &&
        value !== null &&
        'format' in value &&
        value.format === 'sv' &&
        'value' in value &&
        typeof value.value.saturation === 'number' &&
        typeof value.value.value === 'number');
}
function isSVFormat(color) {
    return isColorFormat(color, 'sv');
}
function isSVString(value) {
    return (typeof value === 'object' &&
        value !== null &&
        'format' in value &&
        value.format === 'sv' &&
        'value' in value &&
        typeof value.value.saturation === 'string' &&
        typeof value.value.value === 'string');
}
function isXYZ(value) {
    return (typeof value === 'object' &&
        value !== null &&
        'format' in value &&
        value.format === 'xyz' &&
        'value' in value &&
        typeof value.value.x === 'number' &&
        typeof value.value.y === 'number' &&
        typeof value.value.z === 'number');
}
function isXYZFormat(color) {
    return isColorFormat(color, 'xyz');
}
export const typeGuards = {
    isCMYKColor,
    isCMYKFormat,
    isCMYKString,
    isColor,
    isColorFormat,
    isColorSpace,
    isColorSpaceExtended,
    isColorString,
    isConvertibleColor,
    isFormat,
    isHex,
    isHexFormat,
    isHSLColor,
    isHSLFormat,
    isHSLString,
    isHSVColor,
    isHSVFormat,
    isHSVString,
    isPalette,
    isInputElement,
    isLAB,
    isLABFormat,
    isPaletteType,
    isRGB,
    isRGBFormat,
    isSLColor,
    isSLFormat,
    isSLString,
    isSVColor,
    isSVFormat,
    isSVString,
    isXYZ,
    isXYZFormat
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHlwZUd1YXJkcy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9jb21tb24vdXRpbHMvdHlwZUd1YXJkcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxtQ0FBbUM7QUEyQm5DLFNBQVMsV0FBVyxDQUFDLEtBQWM7SUFDbEMsT0FBTyxDQUNOLE9BQU8sS0FBSyxLQUFLLFFBQVE7UUFDekIsS0FBSyxLQUFLLElBQUk7UUFDZCxRQUFRLElBQUksS0FBSztRQUNoQixLQUFjLENBQUMsTUFBTSxLQUFLLE1BQU07UUFDakMsT0FBTyxJQUFJLEtBQUs7UUFDaEIsT0FBUSxLQUFjLENBQUMsS0FBSyxDQUFDLElBQUksS0FBSyxRQUFRO1FBQzlDLE9BQVEsS0FBYyxDQUFDLEtBQUssQ0FBQyxPQUFPLEtBQUssUUFBUTtRQUNqRCxPQUFRLEtBQWMsQ0FBQyxLQUFLLENBQUMsTUFBTSxLQUFLLFFBQVE7UUFDaEQsT0FBUSxLQUFjLENBQUMsS0FBSyxDQUFDLEdBQUcsS0FBSyxRQUFRLENBQzdDLENBQUM7QUFDSCxDQUFDO0FBRUQsU0FBUyxZQUFZLENBQUMsS0FBWTtJQUNqQyxPQUFPLGFBQWEsQ0FBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLENBQUM7QUFDckMsQ0FBQztBQUVELFNBQVMsWUFBWSxDQUFDLEtBQWM7SUFDbkMsT0FBTyxDQUNOLGFBQWEsQ0FBQyxLQUFLLENBQUM7UUFDcEIsT0FBTyxLQUFLLEtBQUssUUFBUTtRQUN6QixLQUFLLEtBQUssSUFBSTtRQUNkLFFBQVEsSUFBSSxLQUFLO1FBQ2hCLEtBQTBCLENBQUMsTUFBTSxLQUFLLE1BQU07UUFDN0MsT0FBTyxJQUFJLEtBQUs7UUFDaEIsT0FBUSxLQUEwQixDQUFDLEtBQUssQ0FBQyxJQUFJLEtBQUssUUFBUTtRQUMxRCxPQUFRLEtBQTBCLENBQUMsS0FBSyxDQUFDLE9BQU8sS0FBSyxRQUFRO1FBQzdELE9BQVEsS0FBMEIsQ0FBQyxLQUFLLENBQUMsTUFBTSxL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Q0FBQyxLQUFLLFFBQVE7UUFDMUMsT0FBUSxLQUFhLENBQUMsS0FBSyxDQUFDLENBQUMsS0FBSyxRQUFRO1FBQzFDLE9BQVEsS0FBYSxDQUFDLEtBQUssQ0FBQyxDQUFDLEtBQUssUUFBUSxDQUMxQyxDQUFDO0FBQ0gsQ0FBQztBQUVELFNBQVMsV0FBVyxDQUFDLEtBQVk7SUFDaEMsT0FBTyxhQUFhLENBQUMsS0FBSyxFQUFFLEtBQUssQ0FBQyxDQUFDO0FBQ3BDLENBQUM7QUFFRCxNQUFNLENBQUMsTUFBTSxVQUFVLEdBQTRCO0lBQ2xELFdBQVc7SUFDWCxZQUFZO0lBQ1osWUFBWTtJQUNaLE9BQU87SUFDUCxhQUFhO0lBQ2IsWUFBWTtJQUNaLG9CQUFvQjtJQUNwQixhQUFhO0lBQ2Isa0JBQWtCO0lBQ2xCLFFBQVE7SUFDUixLQUFLO0lBQ0wsV0FBVztJQUNYLFVBQVU7SUFDVixXQUFXO0lBQ1gsV0FBVztJQUNYLFVBQVU7SUFDVixXQUFXO0lBQ1gsV0FBVztJQUNYLFNBQVM7SUFDVCxjQUFjO0lBQ2QsS0FBSztJQUNMLFdBQVc7SUFDWCxhQUFhO0lBQ2IsS0FBSztJQUNMLFdBQVc7SUFDWCxTQUFTO0lBQ1QsVUFBVTtJQUNWLFVBQVU7SUFDVixTQUFTO0lBQ1QsVUFBVTtJQUNWLFVBQVU7SUFDVixLQUFLO0lBQ0wsV0FBVztDQUNYLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBGaWxlOiBjb21tb24vdXRpbHMvdHlwZUd1YXJkcy5qc1xuXG5pbXBvcnQge1xuXHRDTVlLLFxuXHRDTVlLU3RyaW5nT2JqZWN0LFxuXHRDb2xvcixcblx0Q29sb3JGb3JtYXQsXG5cdENvbG9yU3BhY2UsXG5cdENvbG9yU3BhY2VFeHRlbmRlZCxcblx0Q29sb3JTdHJpbmdPYmplY3QsXG5cdEhleCxcblx0SFNMLFxuXHRIU0xTdHJpbmdPYmplY3QsXG5cdEhTVixcblx0SFNWU3RyaW5nT2JqZWN0LFxuXHRMQUIsXG5cdFBhbGV0dGUsXG5cdFBhbGV0dGVUeXBlLFxuXHRSR0IsXG5cdFNMLFxuXHRTTFN0cmluZ09iamVjdCxcblx0U1YsXG5cdFNWU3RyaW5nT2JqZWN0LFxuXHRUeXBlR3VhcmRVdGlsc0ludGVyZmFjZSxcblx0WFlaXG59IGZyb20gJy4uLy4uL3R5cGVzL2luZGV4LmpzJztcblxuZnVuY3Rpb24gaXNDTVlLQ29sb3IodmFsdWU6IHVua25vd24pOiB2YWx1ZSBpcyBDTVlLIHtcblx0cmV0dXJuIChcblx0XHR0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmXG5cdFx0dmFsdWUgIT09IG51bGwgJiZcblx0XHQnZm9ybWF0JyBpbiB2YWx1ZSAmJlxuXHRcdCh2YWx1ZSBhcyBDTVlLKS5mb3JtYXQgPT09ICdjbXlrJyAmJlxuXHRcdCd2YWx1ZScgaW4gdmFsdWUgJiZcblx0XHR0eXBlb2YgKHZhbHVlIGFzIENNWUspLnZhbHVlLmN5YW4gPT09ICdudW1iZXInICYmXG5cdFx0dHlwZW9mICh2YWx1ZSBhcyBDTVlLKS52YWx1ZS5tYWdlbnRhID09PSAnbnVtYmVyJyAmJlxuXHRcdHR5cGVvZiAodmFsdWUgYXMgQ01ZSykudmFsdWUueWVsbG93ID09PSAnbnVtYmVyJyAmJlxuXHRcdHR5cGVvZiAodmFsdWUgYXMgQ01ZSykudmFsdWUua2V5ID09PSAnbnVtYmVyJ1xuXHQpO1xufVxuXG5mdW5jdGlvbiBpc0NNWUtGb3JtYXQoY29sb3I6IENvbG9yKTogY29sb3IgaXMgQ01ZSyB7XG5cdHJldHVybiBpc0NvbG9yRm9ybWF0KGNvbG9yLCAnY215aycpO1xufVxuXG5mdW5jdGlvbiBpc0NNWUtTdHJpbmcodmFsdWU6IHVua25vd24pOiB2YWx1ZSBpcyBDTVlLU3RyaW5nT2JqZWN0IHtcblx0cmV0dXJuIChcblx0XHRpc0NvbG9yU3RyaW5nKHZhbHVlKSAmJlxuXHRcdHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiZcblx0XHR2YWx1ZSAhPT0gbnVsbCAmJlxuXHRcdCdmb3JtYXQnIGluIHZhbHVlICYmXG5cdFx0KHZhbHVlIGFzIENNWUtTdHJpbmdPYmplY3QpLmZvcm1hdCA9PT0gJ2NteWsnICYmXG5cdFx0J3ZhbHVlJyBpbiB2YWx1ZSAmJlxuXHRcdHR5cGVvZiAodmFsdWUgYXMgQ01ZS1N0cmluZ09iamVjdCkudmFsdWUuY3lhbiA9PT0gJ3N0cmluZycgJiZcblx0XHR0eXBlb2YgKHZhbHVlIGFzIENNWUtTdHJpbmdPYmplY3QpLnZhbHVlLm1hZ2VudGEgPT09ICdzdHJpbmcnICYmXG5cdFx0dHlwZW9mICh2YWx1ZSBhcyBDTVlLU3RyaW5nT2JqZWN0KS52YWx1ZS55ZWxsb3cgPT09ICdzdHJpbmcnICYmXG5cdFx0dHlwZW9mICh2YWx1ZSBhcyBDTVlLU3RyaW5nT2JqZWN0KS52YWx1ZS5rZXkgPT09ICdzdHJpbmcnXG5cdCk7XG59XG5cbmZ1bmN0aW9uIGlzQ29sb3IodmFsdWU6IHVua25vd24pOiB2YWx1ZSBpcyBDb2xvciB7XG5cdGlmICh0eXBlb2YgdmFsdWUgIT09ICdvYmplY3QnIHx8IHZhbHVlID09PSBudWxsKSByZXR1cm4gZmFsc2U7XG5cblx0Y29uc3QgY29sb3IgPSB2YWx1ZSBhcyBDb2xvcjtcblx0Y29uc3QgdmFsaWRGb3JtYXRzOiBDb2xvclsnZm9ybWF0J11bXSA9IFtcblx0XHQnY215aycsXG5cdFx0J2hleCcsXG5cdFx0J2hzbCcsXG5cdFx0J2hzdicsXG5cdFx0J2xhYicsXG5cdFx0J3JnYicsXG5cdFx0J3NsJyxcblx0XHQnc3YnLFxuXHRcdCd4eXonXG5cdF07XG5cblx0cmV0dXJuIChcblx0XHQndmFsdWUnIGluIGNvbG9yICYmXG5cdFx0J2Zvcm1hdCcgaW4gY29sb3IgJiZcblx0XHR2YWxpZEZvcm1hdHMuaW5jbHVkZXMoY29sb3IuZm9ybWF0KVxuXHQpO1xufVxuXG5mdW5jdGlvbiBpc0NvbG9yRm9ybWF0PFQgZXh0ZW5kcyBDb2xvcj4oXG5cdGNvbG9yOiBDb2xvcixcblx0Zm9ybWF0OiBUWydmb3JtYXQnXVxuKTogY29sb3IgaXMgVCB7XG5cdHJldHVybiBjb2xvci5mb3JtYXQgPT09IGZvcm1hdDtcbn1cblxuZnVuY3Rpb24gaXNDb2xvclNwYWNlKHZhbHVlOiB1bmtub3duKTogdmFsdWUgaXMgQ29sb3JTcGFjZSB7XG5cdGNvbnN0IHZhbGlkQ29sb3JTcGFjZXM6IENvbG9yU3BhY2VbXSA9IFtcblx0XHQnY215aycsXG5cdFx0J2hleCcsXG5cdFx0J2hzbCcsXG5cdFx0J2hzdicsXG5cdFx0J2xhYicsXG5cdFx0J3JnYicsXG5cdFx0J3h5eidcblx0XTtcblxuXHRyZXR1cm4gKFxuXHRcdHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgJiZcblx0XHR2YWxpZENvbG9yU3BhY2VzLmluY2x1ZGVzKHZhbHVlIGFzIENvbG9yU3BhY2UpXG5cdCk7XG59XG5cbmZ1bmN0aW9uIGlzQ29sb3JTcGFjZUV4dGVuZGVkKHZhbHVlOiBzdHJpbmcpOiB2YWx1ZSBpcyBDb2xvclNwYWNlRXh0ZW5kZWQge1xuXHRyZXR1cm4gW1xuXHRcdCdjbXlrJyxcblx0XHQnaGV4Jyxcblx0XHQnaHNsJyxcblx0XHQnaHN2Jyxcblx0XHQnbGFiJyxcblx0XHQncmdiJyxcblx0XHQnc2wnLFxuXHRcdCdzdicsXG5cdFx0J3h5eidcblx0XS5pbmNsdWRlcyh2YWx1ZSk7XG59XG5cbmZ1bmN0aW9uIGlzQ29sb3JTdHJpbmcodmFsdWU6IHVua25vd24pOiB2YWx1ZSBpcyBDb2xvclN0cmluZ09iamVjdCB7XG5cdGlmICh0eXBlb2YgdmFsdWUgIT09ICdvYmplY3QnIHx8IHZhbHVlID09PSBudWxsKSByZXR1cm4gZmFsc2U7XG5cblx0Y29uc3QgY29sb3JTdHJpbmcgPSB2YWx1ZSBhcyBDb2xvclN0cmluZ09iamVjdDtcblx0Y29uc3QgdmFsaWRTdHJpbmdGb3JtYXRzOiBDb2xvclNwYWNlRXh0ZW5kZWRbXSA9IFtcblx0XHQnY215aycsXG5cdFx0J2hzbCcsXG5cdFx0J2hzdicsXG5cdFx0J2xhYicsXG5cdFx0J3JnYicsXG5cdFx0J3NsJyxcblx0XHQnc3YnLFxuXHRcdCd4eXonXG5cdF07XG5cblx0cmV0dXJuIChcblx0XHQndmFsdWUnIGluIGNvbG9yU3RyaW5nICYmXG5cdFx0J2Zvcm1hdCcgaW4gY29sb3JTdHJpbmcgJiZcblx0XHR2YWxpZFN0cmluZ0Zvcm1hdHMuaW5jbHVkZXMoY29sb3JTdHJpbmcuZm9ybWF0KVxuXHQpO1xufVxuXG5mdW5jdGlvbiBpc0NvbnZlcnRpYmxlQ29sb3IoXG5cdGNvbG9yOiBDb2xvclxuKTogY29sb3IgaXMgQ01ZSyB8IEhleCB8IEhTTCB8IEhTViB8IExBQiB8IFJHQiB7XG5cdHJldHVybiAoXG5cdFx0Y29sb3IuZm9ybWF0ID09PSAnY215aycgfHxcblx0XHRjb2xvci5mb3JtYXQgPT09ICdoZXgnIHx8XG5cdFx0Y29sb3IuZm9ybWF0ID09PSAnaHNsJyB8fFxuXHRcdGNvbG9yLmZvcm1hdCA9PT0gJ2hzdicgfHxcblx0XHRjb2xvci5mb3JtYXQgPT09ICdsYWInIHx8XG5cdFx0Y29sb3IuZm9ybWF0ID09PSAncmdiJ1xuXHQpO1xufVxuXG5mdW5jdGlvbiBpc0Zvcm1hdChmb3JtYXQ6IHVua25vd24pOiBmb3JtYXQgaXMgQ29sb3JGb3JtYXQge1xuXHRyZXR1cm4gKFxuXHRcdHR5cGVvZiBmb3JtYXQgPT09ICdzdHJpbmcnICYmXG5cdFx0WydjbXlrJywgJ2hleCcsICdoc2wnLCAnaHN2JywgJ2xhYicsICdyZ2InLCAnc2wnLCAnc3YnLCAneHl6J10uaW5jbHVkZXMoXG5cdFx0XHRmb3JtYXRcblx0XHQpXG5cdCk7XG59XG5cbmZ1bmN0aW9uIGlzSGV4KHZhbHVlOiB1bmtub3duKTogdmFsdWUgaXMgSGV4IHtcblx0aWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ29iamVjdCcgfHwgdmFsdWUgPT09IG51bGwpIHJldHVybiBmYWxzZTtcblxuXHRpZiAoISgnZm9ybWF0JyBpbiB2YWx1ZSkgfHwgISgndmFsdWUnIGluIHZhbHVlKSkgcmV0dXJuIGZhbHNlO1xuXG5cdGNvbnN0IGhleFZhbHVlID0gdmFsdWUgYXMgUGFydGlhbDxIZXg+O1xuXG5cdHJldHVybiBoZXhWYWx1ZS5mb3JtYXQgPT09ICdoZXgnICYmIHR5cGVvZiBoZXhWYWx1ZS52YWx1ZT8uaGV4ID09PSAnc3RyaW5nJztcbn1cblxuZnVuY3Rpb24gaXNIZXhGb3JtYXQoY29sb3I6IENvbG9yKTogY29sb3IgaXMgSGV4IHtcblx0cmV0dXJuIGlzQ29sb3JGb3JtYXQoY29sb3IsICdoZXgnKTtcbn1cblxuZnVuY3Rpb24gaXNIU0xDb2xvcih2YWx1ZTogdW5rbm93bik6IHZhbHVlIGlzIEhTTCB7XG5cdHJldHVybiAoXG5cdFx0dHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJlxuXHRcdHZhbHVlICE9PSBudWxsICYmXG5cdFx0J2Zvcm1hdCcgaW4gdmFsdWUgJiZcblx0XHQodmFsdWUgYXMgSFNMKS5mb3JtYXQgPT09ICdoc2wnICYmXG5cdFx0J3ZhbHVlJyBpbiB2YWx1ZSAmJlxuXHRcdHR5cGVvZiAodmFsdWUgYXMgSFNMKS52YWx1ZS5odWUgPT09ICdudW1iZXInICYmXG5cdFx0dHlwZW9mICh2YWx1ZSBhcyBIU0wpLnZhbHVlLnNhdHVyYXRpb24gPT09ICdudW1iZXInICYmXG5cdFx0dHlwZW9mICh2YWx1ZSBhcyBIU0wpLnZhbHVlLmxpZ2h0bmVzcyA9PT0gJ251bWJlcidcblx0KTtcbn1cblxuZnVuY3Rpb24gaXNIU0xGb3JtYXQoY29sb3I6IENvbG9yKTogY29sb3IgaXMgSFNMIHtcblx0cmV0dXJuIGlzQ29sb3JGb3JtYXQoY29sb3IsICdoc2wnKTtcbn1cblxuZnVuY3Rpb24gaXNIU0xTdHJpbmcodmFsdWU6IHVua25vd24pOiB2YWx1ZSBpcyBIU0xTdHJpbmdPYmplY3Qge1xuXHRyZXR1cm4gKFxuXHRcdGlzQ29sb3JTdHJpbmcodmFsdWUpICYmXG5cdFx0dHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJlxuXHRcdHZhbHVlICE9PSBudWxsICYmXG5cdFx0J2Zvcm1hdCcgaW4gdmFsdWUgJiZcblx0XHQodmFsdWUgYXMgSFNMU3RyaW5nT2JqZWN0KS5mb3JtYXQgPT09ICdoc2wnICYmXG5cdFx0J3ZhbHVlJyBpbiB2YWx1ZSAmJlxuXHRcdHR5cGVvZiAodmFsdWUgYXMgSFNMU3RyaW5nT2JqZWN0KS52YWx1ZS5odWUgPT09ICdudW1iZXInICYmXG5cdFx0dHlwZW9mICh2YWx1ZSBhcyBIU0xTdHJpbmdPYmplY3QpLnZhbHVlLnNhdHVyYXRpb24gPT09ICdzdHJpbmcnICYmXG5cdFx0dHlwZW9mICh2YWx1ZSBhcyBIU0xTdHJpbmdPYmplY3QpLnZhbHVlLmxpZ2h0bmVzcyA9PT0gJ3N0cmluZydcblx0KTtcbn1cblxuZnVuY3Rpb24gaXNIU1ZDb2xvcih2YWx1ZTogdW5rbm93bik6IHZhbHVlIGlzIEhTViB7XG5cdHJldHVybiAoXG5cdFx0aXNDb2xvcih2YWx1ZSkgJiZcblx0XHR0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmXG5cdFx0dmFsdWUgIT09IG51bGwgJiZcblx0XHQnZm9ybWF0JyBpbiB2YWx1ZSAmJlxuXHRcdCh2YWx1ZSBhcyBIU1YpLmZvcm1hdCA9PT0gJ2hzdicgJiZcblx0XHQndmFsdWUnIGluIHZhbHVlICYmXG5cdFx0dHlwZW9mICh2YWx1ZSBhcyBIU1YpLnZhbHVlLmh1ZSA9PT0gJ251bWJlcicgJiZcblx0XHR0eXBlb2YgKHZhbHVlIGFzIEhTVikudmFsdWUuc2F0dXJhdGlvbiA9PT0gJ251bWJlcicgJiZcblx0XHR0eXBlb2YgKHZhbHVlIGFzIEhTVikudmFsdWUudmFsdWUgPT09ICdudW1iZXInXG5cdCk7XG59XG5cbmZ1bmN0aW9uIGlzSFNWRm9ybWF0KGNvbG9yOiBDb2xvcik6IGNvbG9yIGlzIEhTViB7XG5cdHJldHVybiBpc0NvbG9yRm9ybWF0KGNvbG9yLCAnaHN2Jyk7XG59XG5cbmZ1bmN0aW9uIGlzSFNWU3RyaW5nKHZhbHVlOiB1bmtub3duKTogdmFsdWUgaXMgSFNWU3RyaW5nT2JqZWN0IHtcblx0cmV0dXJuIChcblx0XHRpc0NvbG9yU3RyaW5nKHZhbHVlKSAmJlxuXHRcdHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiZcblx0XHR2YWx1ZSAhPT0gbnVsbCAmJlxuXHRcdCdmb3JtYXQnIGluIHZhbHVlICYmXG5cdFx0KHZhbHVlIGFzIEhTVlN0cmluZ09iamVjdCkuZm9ybWF0ID09PSAnaHN2JyAmJlxuXHRcdCd2YWx1ZScgaW4gdmFsdWUgJiZcblx0XHR0eXBlb2YgKHZhbHVlIGFzIEhTVlN0cmluZ09iamVjdCkudmFsdWUuaHVlID09PSAnbnVtYmVyJyAmJlxuXHRcdHR5cGVvZiAodmFsdWUgYXMgSFNWU3RyaW5nT2JqZWN0KS52YWx1ZS5zYXR1cmF0aW9uID09PSAnc3RyaW5nJyAmJlxuXHRcdHR5cGVvZiAodmFsdWUgYXMgSFNWU3RyaW5nT2JqZWN0KS52YWx1ZS52YWx1ZSA9PT0gJ3N0cmluZydcblx0KTtcbn1cblxuZnVuY3Rpb24gaXNJbnB1dEVsZW1lbnQoZWxlbWVudDogSFRNTEVsZW1lbnQgfCBudWxsKTogZWxlbWVudCBpcyBIVE1MRWxlbWVudCB7XG5cdHJldHVybiBlbGVtZW50IGluc3RhbmNlb2YgSFRNTElucHV0RWxlbWVudDtcbn1cblxuZnVuY3Rpb24gaXNMQUIodmFsdWU6IHVua25vd24pOiB2YWx1ZSBpcyBMQUIge1xuXHRyZXR1cm4gKFxuXHRcdGlzQ29sb3IodmFsdWUpICYmXG5cdFx0dHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJlxuXHRcdHZhbHVlICE9PSBudWxsICYmXG5cdFx0J2Zvcm1hdCcgaW4gdmFsdWUgJiZcblx0XHQodmFsdWUgYXMgTEFCKS5mb3JtYXQgPT09ICdsYWInICYmXG5cdFx0J3ZhbHVlJyBpbiB2YWx1ZSAmJlxuXHRcdHR5cGVvZiAodmFsdWUgYXMgTEFCKS52YWx1ZS5sID09PSAnbnVtYmVyJyAmJlxuXHRcdHR5cGVvZiAodmFsdWUgYXMgTEFCKS52YWx1ZS5hID09PSAnbnVtYmVyJyAmJlxuXHRcdHR5cGVvZiAodmFsdWUgYXMgTEFCKS52YWx1ZS5iID09PSAnbnVtYmVyJ1xuXHQpO1xufVxuXG5mdW5jdGlvbiBpc0xBQkZvcm1hdChjb2xvcjogQ29sb3IpOiBjb2xvciBpcyBMQUIge1xuXHRyZXR1cm4gaXNDb2xvckZvcm1hdChjb2xvciwgJ2xhYicpO1xufVxuXG5mdW5jdGlvbiBpc1BhbGV0dGUocGFsZXR0ZTogdW5rbm93bik6IHBhbGV0dGUgaXMgUGFsZXR0ZSB7XG5cdGlmIChcblx0XHQhcGFsZXR0ZSB8fFxuXHRcdHR5cGVvZiBwYWxldHRlICE9PSAnb2JqZWN0JyB8fFxuXHRcdCEoJ2lkJyBpbiBwYWxldHRlICYmIHR5cGVvZiBwYWxldHRlLmlkID09PSAnc3RyaW5nJykgfHxcblx0XHQhKFxuXHRcdFx0J2l0ZW1zJyBpbiBwYWxldHRlICYmXG5cdFx0XHRBcnJheS5pc0FycmF5KHBhbGV0dGUuaXRlbXMpICYmXG5cdFx0XHRwYWxldHRlLml0ZW1zLmxlbmd0aCA+IDBcblx0XHQpIHx8XG5cdFx0IShcblx0XHRcdCdtZXRhZGF0YScgaW4gcGFsZXR0ZSAmJlxuXHRcdFx0dHlwZW9mIHBhbGV0dGUubWV0YWRhdGEgPT09ICdvYmplY3QnICYmXG5cdFx0XHRwYWxldHRlLm1ldGFkYXRhICE9PSBudWxsXG5cdFx0KVxuXHQpXG5cdFx0cmV0dXJuIGZhbHNlO1xuXG5cdGNvbnN0IHsgbWV0YWRhdGEsIGl0ZW1zIH0gPSBwYWxldHRlIGFzIFBhbGV0dGU7XG5cblx0aWYgKFxuXHRcdHR5cGVvZiBtZXRhZGF0YS5jb2x1bW5Db3VudCAhPT0gJ251bWJlcicgfHxcblx0XHR0eXBlb2YgbWV0YWRhdGEudGltZXN0YW1wICE9PSAnc3RyaW5nJyB8fFxuXHRcdHR5cGVvZiBtZXRhZGF0YS50eXBlICE9PSAnc3RyaW5nJyB8fFxuXHRcdCFtZXRhZGF0YS5mbGFncyB8fFxuXHRcdHR5cGVvZiBtZXRhZGF0YS5mbGFncyAhPT0gJ29iamVjdCdcblx0KVxuXHRcdHJldHVybiBmYWxzZTtcblxuXHRjb25zdCB7IGZsYWdzIH0gPSBtZXRhZGF0YTtcblxuXHRpZiAoXG5cdFx0dHlwZW9mIGZsYWdzLmxpbWl0RGFyayAhPT0gJ2Jvb2xlYW4nIHx8XG5cdFx0dHlwZW9mIGZsYWdzLmxpbWl0R3JheSAhPT0gJ2Jvb2xlYW4nIHx8XG5cdFx0dHlwZW9mIGZsYWdzLmxpbWl0TGlnaHQgIT09ICdib29sZWFuJ1xuXHQpXG5cdFx0cmV0dXJuIGZhbHNlO1xuXG5cdHJldHVybiBpdGVtcy5ldmVyeShcblx0XHRpdGVtID0+XG5cdFx0XHRpdGVtICYmXG5cdFx0XHR0eXBlb2YgaXRlbSA9PT0gJ29iamVjdCcgJiZcblx0XHRcdHR5cGVvZiBpdGVtLml0ZW1JRCA9PT0gJ251bWJlcicgJiZcblx0XHRcdHR5cGVvZiBpdGVtLmNzcyA9PT0gJ29iamVjdCcgJiZcblx0XHRcdHR5cGVvZiBpdGVtLmNzcy5oZXggPT09ICdzdHJpbmcnXG5cdCk7XG59XG5cbmZ1bmN0aW9uIGlzUGFsZXR0ZVR5cGUodmFsdWU6IHN0cmluZyk6IHZhbHVlIGlzIFBhbGV0dGVUeXBlIHtcblx0cmV0dXJuIFtcblx0XHQnYW5hbG9nb3VzJyxcblx0XHQnY3VzdG9tJyxcblx0XHQnY29tcGxlbWVudGFyeScsXG5cdFx0J2RpYWRpYycsXG5cdFx0J2hleGFkaWMnLFxuXHRcdCdtb25vY2hyb21hdGljJyxcblx0XHQncmFuZG9tJyxcblx0XHQnc3BsaXQtY29tcGxlbWVudGFyeScsXG5cdFx0J3RldHJhZGljJyxcblx0XHQndHJpYWRpYydcblx0XS5pbmNsdWRlcyh2YWx1ZSk7XG59XG5cbmZ1bmN0aW9uIGlzUkdCKHZhbHVlOiB1bmtub3duKTogdmFsdWUgaXMgUkdCIHtcblx0cmV0dXJuIChcblx0XHRpc0NvbG9yKHZhbHVlKSAmJlxuXHRcdHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiZcblx0XHR2YWx1ZSAhPT0gbnVsbCAmJlxuXHRcdCdmb3JtYXQnIGluIHZhbHVlICYmXG5cdFx0KHZhbHVlIGFzIFJHQikuZm9ybWF0ID09PSAncmdiJyAmJlxuXHRcdCd2YWx1ZScgaW4gdmFsdWUgJiZcblx0XHR0eXBlb2YgKHZhbHVlIGFzIFJHQikudmFsdWUucmVkID09PSAnbnVtYmVyJyAmJlxuXHRcdHR5cGVvZiAodmFsdWUgYXMgUkdCKS52YWx1ZS5ncmVlbiA9PT0gJ251bWJlcicgJiZcblx0XHR0eXBlb2YgKHZhbHVlIGFzIFJHQikudmFsdWUuYmx1ZSA9PT0gJ251bWJlcidcblx0KTtcbn1cblxuZnVuY3Rpb24gaXNSR0JGb3JtYXQoY29sb3I6IENvbG9yKTogY29sb3IgaXMgUkdCIHtcblx0cmV0dXJuIGlzQ29sb3JGb3JtYXQoY29sb3IsICdyZ2InKTtcbn1cblxuZnVuY3Rpb24gaXNTTENvbG9yKHZhbHVlOiB1bmtub3duKTogdmFsdWUgaXMgU0wge1xuXHRyZXR1cm4gKFxuXHRcdHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiZcblx0XHR2YWx1ZSAhPT0gbnVsbCAmJlxuXHRcdCdmb3JtYXQnIGluIHZhbHVlICYmXG5cdFx0KHZhbHVlIGFzIFNMKS5mb3JtYXQgPT09ICdzbCcgJiZcblx0XHQndmFsdWUnIGluIHZhbHVlICYmXG5cdFx0dHlwZW9mICh2YWx1ZSBhcyBTTCkudmFsdWUuc2F0dXJhdGlvbiA9PT0gJ251bWJlcicgJiZcblx0XHR0eXBlb2YgKHZhbHVlIGFzIFNMKS52YWx1ZS5saWdodG5lc3MgPT09ICdudW1iZXInXG5cdCk7XG59XG5cbmZ1bmN0aW9uIGlzU0xGb3JtYXQoY29sb3I6IENvbG9yKTogY29sb3IgaXMgU0wge1xuXHRyZXR1cm4gaXNDb2xvckZvcm1hdChjb2xvciwgJ3NsJyk7XG59XG5cbmZ1bmN0aW9uIGlzU0xTdHJpbmcodmFsdWU6IHVua25vd24pOiB2YWx1ZSBpcyBTTFN0cmluZ09iamVjdCB7XG5cdHJldHVybiAoXG5cdFx0dHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJlxuXHRcdHZhbHVlICE9PSBudWxsICYmXG5cdFx0J2Zvcm1hdCcgaW4gdmFsdWUgJiZcblx0XHQodmFsdWUgYXMgU0xTdHJpbmdPYmplY3QpLmZvcm1hdCA9PT0gJ3NsJyAmJlxuXHRcdCd2YWx1ZScgaW4gdmFsdWUgJiZcblx0XHR0eXBlb2YgKHZhbHVlIGFzIFNMU3RyaW5nT2JqZWN0KS52YWx1ZS5zYXR1cmF0aW9uID09PSAnc3RyaW5nJyAmJlxuXHRcdHR5cGVvZiAodmFsdWUgYXMgU0xTdHJpbmdPYmplY3QpLnZhbHVlLmxpZ2h0bmVzcyA9PT0gJ3N0cmluZydcblx0KTtcbn1cblxuZnVuY3Rpb24gaXNTVkNvbG9yKHZhbHVlOiB1bmtub3duKTogdmFsdWUgaXMgU1Yge1xuXHRyZXR1cm4gKFxuXHRcdHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiZcblx0XHR2YWx1ZSAhPT0gbnVsbCAmJlxuXHRcdCdmb3JtYXQnIGluIHZhbHVlICYmXG5cdFx0KHZhbHVlIGFzIFNWKS5mb3JtYXQgPT09ICdzdicgJiZcblx0XHQndmFsdWUnIGluIHZhbHVlICYmXG5cdFx0dHlwZW9mICh2YWx1ZSBhcyBTVikudmFsdWUuc2F0dXJhdGlvbiA9PT0gJ251bWJlcicgJiZcblx0XHR0eXBlb2YgKHZhbHVlIGFzIFNWKS52YWx1ZS52YWx1ZSA9PT0gJ251bWJlcidcblx0KTtcbn1cblxuZnVuY3Rpb24gaXNTVkZvcm1hdChjb2xvcjogQ29sb3IpOiBjb2xvciBpcyBTViB7XG5cdHJldHVybiBpc0NvbG9yRm9ybWF0KGNvbG9yLCAnc3YnKTtcbn1cblxuZnVuY3Rpb24gaXNTVlN0cmluZyh2YWx1ZTogdW5rbm93bik6IHZhbHVlIGlzIFNWU3RyaW5nT2JqZWN0IHtcblx0cmV0dXJuIChcblx0XHR0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmXG5cdFx0dmFsdWUgIT09IG51bGwgJiZcblx0XHQnZm9ybWF0JyBpbiB2YWx1ZSAmJlxuXHRcdCh2YWx1ZSBhcyBTVlN0cmluZ09iamVjdCkuZm9ybWF0ID09PSAnc3YnICYmXG5cdFx0J3ZhbHVlJyBpbiB2YWx1ZSAmJlxuXHRcdHR5cGVvZiAodmFsdWUgYXMgU1ZTdHJpbmdPYmplY3QpLnZhbHVlLnNhdHVyYXRpb24gPT09ICdzdHJpbmcnICYmXG5cdFx0dHlwZW9mICh2YWx1ZSBhcyBTVlN0cmluZ09iamVjdCkudmFsdWUudmFsdWUgPT09ICdzdHJpbmcnXG5cdCk7XG59XG5cbmZ1bmN0aW9uIGlzWFlaKHZhbHVlOiB1bmtub3duKTogdmFsdWUgaXMgWFlaIHtcblx0cmV0dXJuIChcblx0XHR0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmXG5cdFx0dmFsdWUgIT09IG51bGwgJiZcblx0XHQnZm9ybWF0JyBpbiB2YWx1ZSAmJlxuXHRcdCh2YWx1ZSBhcyBYWVopLmZvcm1hdCA9PT0gJ3h5eicgJiZcblx0XHQndmFsdWUnIGluIHZhbHVlICYmXG5cdFx0dHlwZW9mICh2YWx1ZSBhcyBYWVopLnZhbHVlLnggPT09ICdudW1iZXInICYmXG5cdFx0dHlwZW9mICh2YWx1ZSBhcyBYWVopLnZhbHVlLnkgPT09ICdudW1iZXInICYmXG5cdFx0dHlwZW9mICh2YWx1ZSBhcyBYWVopLnZhbHVlLnogPT09ICdudW1iZXInXG5cdCk7XG59XG5cbmZ1bmN0aW9uIGlzWFlaRm9ybWF0KGNvbG9yOiBDb2xvcik6IGNvbG9yIGlzIFhZWiB7XG5cdHJldHVybiBpc0NvbG9yRm9ybWF0KGNvbG9yLCAneHl6Jyk7XG59XG5cbmV4cG9ydCBjb25zdCB0eXBlR3VhcmRzOiBUeXBlR3VhcmRVdGlsc0ludGVyZmFjZSA9IHtcblx0aXNDTVlLQ29sb3IsXG5cdGlzQ01ZS0Zvcm1hdCxcblx0aXNDTVlLU3RyaW5nLFxuXHRpc0NvbG9yLFxuXHRpc0NvbG9yRm9ybWF0LFxuXHRpc0NvbG9yU3BhY2UsXG5cdGlzQ29sb3JTcGFjZUV4dGVuZGVkLFxuXHRpc0NvbG9yU3RyaW5nLFxuXHRpc0NvbnZlcnRpYmxlQ29sb3IsXG5cdGlzRm9ybWF0LFxuXHRpc0hleCxcblx0aXNIZXhGb3JtYXQsXG5cdGlzSFNMQ29sb3IsXG5cdGlzSFNMRm9ybWF0LFxuXHRpc0hTTFN0cmluZyxcblx0aXNIU1ZDb2xvcixcblx0aXNIU1ZGb3JtYXQsXG5cdGlzSFNWU3RyaW5nLFxuXHRpc1BhbGV0dGUsXG5cdGlzSW5wdXRFbGVtZW50LFxuXHRpc0xBQixcblx0aXNMQUJGb3JtYXQsXG5cdGlzUGFsZXR0ZVR5cGUsXG5cdGlzUkdCLFxuXHRpc1JHQkZvcm1hdCxcblx0aXNTTENvbG9yLFxuXHRpc1NMRm9ybWF0LFxuXHRpc1NMU3RyaW5nLFxuXHRpc1NWQ29sb3IsXG5cdGlzU1ZGb3JtYXQsXG5cdGlzU1ZTdHJpbmcsXG5cdGlzWFlaLFxuXHRpc1hZWkZvcm1hdFxufTtcbiJdfQ==