{"version":3,"file":"brand.js","sources":["../../../../../src/common/utils/brand.ts"],"sourcesContent":["// File: common/utils/brand.ts\n\nimport {\n\tBrandingUtils,\n\tByteRange,\n\tCMYK,\n\tCMYKNumMap,\n\tColor,\n\tColorNumMap,\n\tColorStringMap,\n\tHex,\n\tHexSet,\n\tHexStringMap,\n\tHSL,\n\tHSLNumMap,\n\tHSV,\n\tHSVNumMap,\n\tLAB,\n\tLABNumMap,\n\tLAB_L,\n\tLAB_A,\n\tLAB_B,\n\tPalette,\n\tPercentile,\n\tRadial,\n\tRangeKeyMap,\n\tRGB,\n\tSL,\n\tSV,\n\tUnbrandedPalette,\n\tRGBNumMap,\n\tServices,\n\tSLNumMap,\n\tSVNumMap,\n\tValidationUtils,\n\tXYZ,\n\tXYZNumMap,\n\tXYZ_X,\n\tXYZ_Y,\n\tXYZ_Z\n} from '../../types/index.js';\nimport { regex } from '../../config/index.js';\n\nexport function brandingUtilsFactory(\n\tservices: Services,\n\tvalidate: ValidationUtils\n): BrandingUtils {\n\tconst { errors } = services;\n\n\tfunction asBranded<T extends keyof RangeKeyMap>(\n\t\tvalue: number,\n\t\trangeKey: T\n\t): RangeKeyMap[T] {\n\t\tvalidate.range(value, rangeKey);\n\n\t\treturn value as RangeKeyMap[T];\n\t}\n\n\tfunction asByteRange(value: number): ByteRange {\n\t\treturn errors.handleSync(() => {\n\t\t\tvalidate.range(value, 'ByteRange');\n\n\t\t\treturn value as ByteRange;\n\t\t}, 'Error occurred while branding ByteRange value.');\n\t}\n\n\tfunction asCMYK(color: CMYKNumMap): CMYK {\n\t\treturn errors.handleSync(() => {\n\t\tconst brandedCyan = asPercentile(color.value.cyan);\n\t\tconst brandedMagenta = asPercentile(color.value.magenta);\n\t\tconst brandedYellow = asPercentile(color.value.yellow);\n\t\tconst brandedKey = asPercentile(color.value.key);\n\n\t\treturn {\n\t\t\tvalue: {\n\t\t\t\tcyan: brandedCyan,\n\t\t\t\tmagenta: brandedMagenta,\n\t\t\t\tyellow: brandedYellow,\n\t\t\t\tkey: brandedKey\n\t\t\t},\n\t\t\tformat: 'cmyk'\n\t\t};\n\t\t}, 'Error occurred while branding color as CMYK.');\n\t}\n\n\tfunction asHex(color: HexStringMap): Hex {\n\t\treturn errors.handleSync(() => {\n\t\t\tlet hex = color.value.hex;\n\n\t\t\tif (!hex.startsWith('#')) hex = `#${hex}`;\n\n\t\t\tif (!regex.brand.hex.test(hex))\n\t\t\t\tthrow new Error(`Invalid Hex color format: ${hex}`);\n\n\t\t\tconst hexRaw = hex.slice(0, 7);\n\n\t\t\tconst brandedHex = asHexSet(hexRaw) as HexSet;\n\n\t\t\treturn {\n\t\t\t\tvalue: { hex: brandedHex },\n\t\t\t\tformat: 'hex'\n\t\t\t};\n\t\t}, 'Error occurred while branding color as Hex.');\n\t}\n\n\tfunction asHexSet(value: string): HexSet {\n\t\treturn errors.handleSync(() => {\n\t\t\tif (regex.brand.hex.test(value)) {\n\t\t\t\tvalue = value.slice(0, 7);\n\t\t\t}\n\n\t\t\tif (!validate.hexSet(value)) {\n\t\t\t\tthrow new Error(`Invalid HexSet value: ${value}`);\n\t\t\t}\n\n\t\t\treturn value as HexSet;\n\t\t}, 'Error occurred while branding HexSet value.');\n\t}\n\n\tfunction asHSL(color: HSLNumMap): HSL {\n\t\treturn errors.handleSync(() => {\n\t\t\tconst brandedHue = asRadial(color.value.hue);\n\t\t\tconst brandedSaturation = asPercentile(color.value.saturation);\n\t\t\tconst brandedLightness = asPercentile(color.value.lightness);\n\n\t\t\treturn {\n\t\t\t\tvalue: {\n\t\t\t\t\thue: brandedHue,\n\t\t\t\t\tsaturation: brandedSaturation,\n\t\t\t\t\tlightness: brandedLightness\n\t\t\t\t},\n\t\t\t\tformat: 'hsl'\n\t\t\t};\n\t\t}, 'Error occurred while branding color as HSL.');\n\t}\n\n\tfunction asHSV(color: HSVNumMap): HSV {\n\t\treturn errors.handleSync(() => {\n\t\t\tconst brandedHue = asRadial(color.value.hue);\n\t\t\tconst brandedSaturation = asPercentile(color.value.saturation);\n\t\t\tconst brandedValue = asPercentile(color.value.value);\n\n\t\t\treturn {\n\t\t\t\tvalue: {\n\t\t\t\t\thue: brandedHue,\n\t\t\t\t\tsaturation: brandedSaturation,\n\t\t\t\t\tvalue: brandedValue\n\t\t\t\t},\n\t\t\t\tformat: 'hsv'\n\t\t\t};\n\t\t}, 'Error occurred while branding color as HSV.');\n\t}\n\n\tfunction asLAB(color: LABNumMap): LAB {\n\t\treturn errors.handleSync(() => {\n\t\t\tconst brandedL = asLAB_L(color.value.l);\n\t\t\tconst brandedA = asLAB_A(color.value.a);\n\t\t\tconst brandedB = asLAB_B(color.value.b);\n\n\t\t\treturn {\n\t\t\t\tvalue: {\n\t\t\t\t\tl: brandedL,\n\t\t\t\t\ta: brandedA,\n\t\t\t\t\tb: brandedB\n\t\t\t\t},\n\t\t\t\tformat: 'lab'\n\t\t\t};\n\t\t}, 'Error occurred while branding color as LAB.');\n\t}\n\n\tfunction asLAB_A(value: number): LAB_A {\n\t\treturn errors.handleSync(() => {\n\t\t\tvalidate.range(value, 'LAB_A');\n\n\t\t\treturn value as LAB_A;\n\t\t}, 'Error occurred while branding LAB_A value.');\n\t}\n\n\tfunction asLAB_B(value: number): LAB_B {\n\t\treturn errors.handleSync(() => {\n\t\t\tvalidate.range(value, 'LAB_B');\n\n\t\t\treturn value as LAB_B;\n\t\t}, 'Error occurred while branding LAB_B value.');\n\t}\n\n\tfunction asLAB_L(value: number): LAB_L {\n\t\treturn errors.handleSync(() => {\n\t\t\tvalidate.range(value, 'LAB_L');\n\n\t\t\treturn value as LAB_L;\n\t\t}, 'Error occurred while branding LAB_L value.');\n\t}\n\n\tfunction asPercentile(value: number): Percentile {\n\t\treturn errors.handleSync(() => {\n\t\t\tvalidate.range(value, 'Percentile');\n\n\t\t\treturn value as Percentile;\n\t\t}, 'Error occurred while branding Percentile value.');\n\t}\n\n\tfunction asRadial(value: number): Radial {\n\t\treturn errors.handleSync(() => {\n\t\t\tvalidate.range(value, 'Radial');\n\n\t\t\treturn value as Radial;\n\t\t}, 'Error occurred while branding Radial value.');\n\t}\n\n\tfunction asRGB(color: RGBNumMap): RGB {\n\t\treturn errors.handleSync(() => {\n\t\t\tconst brandedRed = asByteRange(color.value.red);\n\t\t\tconst brandedGreen = asByteRange(color.value.green);\n\t\t\tconst brandedBlue = asByteRange(color.value.blue);\n\n\t\t\treturn {\n\t\t\t\tvalue: {\n\t\t\t\t\tred: brandedRed,\n\t\t\t\t\tgreen: brandedGreen,\n\t\t\t\t\tblue: brandedBlue\n\t\t\t\t},\n\t\t\t\tformat: 'rgb'\n\t\t\t};\n\t\t}, 'Error occurred while branding color as RGB.');\n\t}\n\n\tfunction asSL(color: SLNumMap): SL {\n\t\treturn errors.handleSync(() => {\n\t\t\tconst brandedSaturation = asPercentile(color.value.saturation);\n\t\t\tconst brandedLightness = asPercentile(color.value.lightness);\n\n\t\t\treturn {\n\t\t\t\tvalue: {\n\t\t\t\t\tsaturation: brandedSaturation,\n\t\t\t\t\tlightness: brandedLightness\n\t\t\t\t},\n\t\t\t\tformat: 'sl'\n\t\t\t};\n\t\t}, 'Error occurred while branding color as SL.');\n\t}\n\n\tfunction asSV(color: SVNumMap): SV {\n\t\treturn errors.handleSync(() => {\n\t\t\tconst brandedSaturation = asPercentile(color.value.saturation);\n\t\t\tconst brandedValue = asPercentile(color.value.value);\n\n\t\t\treturn {\n\t\t\t\tvalue: {\n\t\t\t\t\tsaturation: brandedSaturation,\n\t\t\t\t\tvalue: brandedValue\n\t\t\t\t},\n\t\t\t\tformat: 'sv'\n\t\t\t};\n\t\t}, 'Error occurred while branding color as SV.');\n\t}\n\n\tfunction asXYZ(color: XYZNumMap): XYZ {\n\t\treturn errors.handleSync(() => {\n\t\t\tconst brandedX = asXYZ_X(color.value.x);\n\t\t\tconst brandedY = asXYZ_Y(color.value.y);\n\t\t\tconst brandedZ = asXYZ_Z(color.value.z);\n\n\t\t\treturn {\n\t\t\t\tvalue: {\n\t\t\t\t\tx: brandedX,\n\t\t\t\t\ty: brandedY,\n\t\t\t\t\tz: brandedZ\n\t\t\t\t},\n\t\t\t\tformat: 'xyz'\n\t\t\t};\n\t\t}, 'Error occurred while branding color as XYZ.');\n\t}\n\n\tfunction asXYZ_X(value: number): XYZ_X {\n\t\treturn errors.handleSync(() => {\n\t\t\tvalidate.range(value, 'XYZ_X');\n\n\t\t\treturn value as XYZ_X;\n\t\t}, 'Error occurred while branding XYZ_X value.');\n\t}\n\n\tfunction asXYZ_Y(value: number): XYZ_Y {\n\t\treturn errors.handleSync(() => {\n\t\t\tvalidate.range(value, 'XYZ_Y');\n\n\t\t\treturn value as XYZ_Y;\n\t\t}, 'Error occurred while branding XYZ_Y value.');\n\t}\n\n\tfunction asXYZ_Z(value: number): XYZ_Z {\n\t\treturn errors.handleSync(() => {\n\t\t\tvalidate.range(value, 'XYZ_Z');\n\n\t\t\treturn value as XYZ_Z;\n\t\t}, 'Error occurred while branding XYZ_Z value.');\n\t}\n\n\tfunction brandColor(color: ColorNumMap | ColorStringMap): Color {\n\t\treturn errors.handleSync(() => {\n\t\t\tswitch (color.format) {\n\t\t\t\tcase 'cmyk':\n\t\t\t\t\treturn {\n\t\t\t\t\t\tvalue: {\n\t\t\t\t\t\t\tcyan: asPercentile(0),\n\t\t\t\t\t\t\tmagenta: asPercentile(0),\n\t\t\t\t\t\t\tyellow: asPercentile(0),\n\t\t\t\t\t\t\tkey: asPercentile(0)\n\t\t\t\t\t\t},\n\t\t\t\t\t\tformat: 'cmyk'\n\t\t\t\t\t};\n\t\t\t\tcase 'hex':\n\t\t\t\t\treturn {\n\t\t\t\t\t\tvalue: {\n\t\t\t\t\t\t\thex: asHexSet('#000000')\n\t\t\t\t\t\t},\n\t\t\t\t\t\tformat: 'hex'\n\t\t\t\t\t};\n\t\t\t\tcase 'hsl':\n\t\t\t\t\treturn {\n\t\t\t\t\t\tvalue: {\n\t\t\t\t\t\t\thue: asRadial(0),\n\t\t\t\t\t\t\tsaturation: asPercentile(0),\n\t\t\t\t\t\t\tlightness: asPercentile(0)\n\t\t\t\t\t\t},\n\t\t\t\t\t\tformat: 'hsl'\n\t\t\t\t\t};\n\t\t\t\tcase 'hsv':\n\t\t\t\t\treturn {\n\t\t\t\t\t\tvalue: {\n\t\t\t\t\t\t\thue: asRadial(0),\n\t\t\t\t\t\t\tsaturation: asPercentile(0),\n\t\t\t\t\t\t\tvalue: asPercentile(0)\n\t\t\t\t\t\t},\n\t\t\t\t\t\tformat: 'hsv'\n\t\t\t\t\t};\n\t\t\t\tcase 'lab':\n\t\t\t\t\treturn {\n\t\t\t\t\t\tvalue: {\n\t\t\t\t\t\t\tl: asLAB_L(0),\n\t\t\t\t\t\t\ta: asLAB_A(0),\n\t\t\t\t\t\t\tb: asLAB_B(0)\n\t\t\t\t\t\t},\n\t\t\t\t\t\tformat: 'lab'\n\t\t\t\t\t};\n\t\t\t\tcase 'rgb':\n\t\t\t\t\treturn {\n\t\t\t\t\t\tvalue: {\n\t\t\t\t\t\t\tred: asByteRange(0),\n\t\t\t\t\t\t\tgreen: asByteRange(0),\n\t\t\t\t\t\t\tblue: asByteRange(0)\n\t\t\t\t\t\t},\n\t\t\t\t\t\tformat: 'rgb'\n\t\t\t\t\t};\n\t\t\t\tcase 'sl':\n\t\t\t\t\treturn {\n\t\t\t\t\t\tvalue: {\n\t\t\t\t\t\t\tsaturation: asPercentile(0),\n\t\t\t\t\t\t\tlightness: asPercentile(0)\n\t\t\t\t\t\t},\n\t\t\t\t\t\tformat: 'sl'\n\t\t\t\t\t};\n\t\t\t\tcase 'sv':\n\t\t\t\t\treturn {\n\t\t\t\t\t\tvalue: {\n\t\t\t\t\t\t\tsaturation: asPercentile(0),\n\t\t\t\t\t\t\tvalue: asPercentile(0)\n\t\t\t\t\t\t},\n\t\t\t\t\t\tformat: 'sv'\n\t\t\t\t\t};\n\t\t\t\tcase 'xyz':\n\t\t\t\t\treturn {\n\t\t\t\t\t\tvalue: {\n\t\t\t\t\t\t\tx: asXYZ_X(0),\n\t\t\t\t\t\t\ty: asXYZ_Y(0),\n\t\t\t\t\t\t\tz: asXYZ_Z(0)\n\t\t\t\t\t\t},\n\t\t\t\t\t\tformat: 'xyz'\n\t\t\t\t\t};\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new Error(`\n\t\t\t\t\t\tUnknown color format\\nDetails: ${JSON.stringify(color)}`);\n\t\t\t}\n\t\t}, 'Error occurred while branding color.');\n\t}\n\n\tfunction brandPalette(data: UnbrandedPalette): Palette {\n\t\treturn errors.handleSync(() => {\n\t\t\treturn {\n\t\t\t\t...data,\n\t\t\t\tmetadata: { ...data.metadata },\n\t\t\t\titems: data.items.map((item, index) => ({\n\t\t\t\t\titemID: index + 1,\n\t\t\t\t\tcolors: {\n\t\t\t\t\t\tcmyk: {\n\t\t\t\t\t\t\tcyan: asPercentile(item.colors.cmyk.cyan ?? 0),\n\t\t\t\t\t\t\tmagenta: asPercentile(item.colors.cmyk.magenta ?? 0),\n\t\t\t\t\t\t\tyellow: asPercentile(item.colors.cmyk.yellow ?? 0),\n\t\t\t\t\t\t\tkey: asPercentile(item.colors.cmyk.key ?? 0)\n\t\t\t\t\t\t},\n\t\t\t\t\t\thex: {\n\t\t\t\t\t\t\thex: asHexSet(item.colors.hex.hex ?? '#000000')\n\t\t\t\t\t\t},\n\t\t\t\t\t\thsl: {\n\t\t\t\t\t\t\thue: asRadial(item.colors.hsl.hue ?? 0),\n\t\t\t\t\t\t\tsaturation: asPercentile(\n\t\t\t\t\t\t\t\titem.colors.hsl.saturation ?? 0\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\tlightness: asPercentile(\n\t\t\t\t\t\t\t\titem.colors.hsl.lightness ?? 0\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t},\n\t\t\t\t\t\thsv: {\n\t\t\t\t\t\t\thue: asRadial(item.colors.hsv.hue ?? 0),\n\t\t\t\t\t\t\tsaturation: asPercentile(\n\t\t\t\t\t\t\t\titem.colors.hsv.saturation ?? 0\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\tvalue: asPercentile(item.colors.hsv.value ?? 0)\n\t\t\t\t\t\t},\n\t\t\t\t\t\tlab: {\n\t\t\t\t\t\t\tl: asLAB_L(item.colors.lab.l ?? 0),\n\t\t\t\t\t\t\ta: asLAB_A(item.colors.lab.a ?? 0),\n\t\t\t\t\t\t\tb: asLAB_B(item.colors.lab.b ?? 0)\n\t\t\t\t\t\t},\n\t\t\t\t\t\trgb: {\n\t\t\t\t\t\t\tred: asByteRange(item.colors.rgb.red ?? 0),\n\t\t\t\t\t\t\tgreen: asByteRange(item.colors.rgb.green ?? 0),\n\t\t\t\t\t\t\tblue: asByteRange(item.colors.rgb.blue ?? 0)\n\t\t\t\t\t\t},\n\t\t\t\t\t\txyz: {\n\t\t\t\t\t\t\tx: asXYZ_X(item.colors.xyz.x ?? 0),\n\t\t\t\t\t\t\ty: asXYZ_Y(item.colors.xyz.y ?? 0),\n\t\t\t\t\t\t\tz: asXYZ_Z(item.colors.xyz.z ?? 0)\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tcss: {\n\t\t\t\t\t\tcmyk: `cmyk(${item.colors.cmyk.cyan}%, ${item.colors.cmyk.magenta}%, ${item.colors.cmyk.yellow}%, ${item.colors.cmyk.key}%)`,\n\t\t\t\t\t\thex: `${item.colors.hex.hex}}`,\n\t\t\t\t\t\thsl: `hsl(${item.colors.hsl.hue}, ${item.colors.hsl.saturation}%, ${item.colors.hsl.lightness}%)`,\n\t\t\t\t\t\thsv: `hsv(${item.colors.hsv.hue}, ${item.colors.hsv.saturation}%, ${item.colors.hsv.value}%)`,\n\t\t\t\t\t\tlab: `lab(${item.colors.lab.l}, ${item.colors.lab.a}, ${item.colors.lab.b})`,\n\t\t\t\t\t\trgb: `rgb(${item.colors.rgb.red}, ${item.colors.rgb.green}, ${item.colors.rgb.blue})`,\n\t\t\t\t\t\txyz: `xyz(${item.colors.xyz.x}, ${item.colors.xyz.y}, ${item.colors.xyz.z})`\n\t\t\t\t\t}\n\t\t\t\t}))\n\t\t\t};\n\t\t}, 'Error occurred while branding palette.');\n\t}\n\n\tconst brandingUtils: BrandingUtils = {\n\t\tasBranded,\n\t\tasByteRange,\n\t\tasCMYK,\n\t\tasHex,\n\t\tasHexSet,\n\t\tasHSL,\n\t\tasHSV,\n\t\tasLAB,\n\t\tasLAB_A,\n\t\tasLAB_B,\n\t\tasLAB_L,\n\t\tasPercentile,\n\t\tasRadial,\n\t\tasRGB,\n\t\tasSL,\n\t\tasSV,\n\t\tasXYZ,\n\t\tasXYZ_X,\n\t\tasXYZ_Y,\n\t\tasXYZ_Z,\n\t\tbrandColor,\n\t\tbrandPalette\n\t};\n\n\treturn errors.handleSync(() => {\n\t\treturn brandingUtils;\n\t}, 'Error occurred while creating branding utilities.');\n}\n"],"names":[],"mappings":"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"}