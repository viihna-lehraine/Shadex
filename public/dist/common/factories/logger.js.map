{"version":3,"file":"logger.js","sources":["../../../../../src/common/factories/logger.ts"],"sourcesContent":["// File: common/factories/logger.js\n\nimport { LoggerInterface } from '../../types/index.js';\nimport { AppLogger } from '../services/AppLogger.js';\nimport { data } from '../../data/index.js';\n\nconst debugLevel = data.mode.debugLevel;\n\nexport const createLogger = async (): Promise<LoggerInterface> => {\n\tconsole.log('[FACTORIES.logger] Loading createLogger...');\n\tconst appLogger = AppLogger.getInstance();\n\tconsole.log(\n\t\t`[FACTORIES.logger] AppLogger.getInstance() returned:`,\n\t\tObject.getOwnPropertyNames(Object.getPrototypeOf(appLogger))\n\t);\n\n\treturn {\n\t\tdebug: (message, caller) =>\n\t\t\tappLogger.log(message, 'debug', debugLevel, caller),\n\t\tinfo: (message, caller) =>\n\t\t\tappLogger.log(message, 'info', debugLevel, caller),\n\t\twarn: (message, caller) =>\n\t\t\tappLogger.log(message, 'warn', debugLevel, caller),\n\t\terror: (message, caller) =>\n\t\t\tappLogger.log(message, 'error', debugLevel, caller),\n\t\tmutation: (data, logCallback, caller) => {\n\t\t\tappLogger.logMutation(data, logCallback);\n\t\t\tif (caller) {\n\t\t\t\tappLogger.log(`Mutation logged by ${caller}`, 'debug');\n\t\t\t}\n\t\t}\n\t};\n};\n\nexport const createAsyncLogger = async () => {\n\tconst appLogger = AppLogger.getInstance();\n\n\treturn {\n\t\tdebug: appLogger.logAsync.bind(appLogger, 'debug'),\n\t\tinfo: appLogger.logAsync.bind(appLogger, 'info'),\n\t\twarn: appLogger.logAsync.bind(appLogger, 'warn'),\n\t\terror: appLogger.logAsync.bind(appLogger, 'error'),\n\t\tmutation: appLogger.logMutation.bind(appLogger)\n\t};\n};\n"],"names":[],"mappings":";;;AAAA;AAMA,MAAM,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,UAAU;AAE1B,MAAA,YAAY,GAAG,YAAqC;AAChE,IAAA,OAAO,CAAC,GAAG,CAAC,4CAA4C,CAAC;AACzD,IAAA,MAAM,SAAS,GAAG,SAAS,CAAC,WAAW,EAAE;AACzC,IAAA,OAAO,CAAC,GAAG,CACV,CAAsD,oDAAA,CAAA,EACtD,MAAM,CAAC,mBAAmB,CAAC,MAAM,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC,CAC5D;IAED,OAAO;AACN,QAAA,KAAK,EAAE,CAAC,OAAO,EAAE,MAAM,KACtB,SAAS,CAAC,GAAG,CAAC,OAAO,EAAE,OAAO,EAAE,UAAU,EAAE,MAAM,CAAC;AACpD,QAAA,IAAI,EAAE,CAAC,OAAO,EAAE,MAAM,KACrB,SAAS,CAAC,GAAG,CAAC,OAAO,EAAE,MAAM,EAAE,UAAU,EAAE,MAAM,CAAC;AACnD,QAAA,IAAI,EAAE,CAAC,OAAO,EAAE,MAAM,KACrB,SAAS,CAAC,GAAG,CAAC,OAAO,EAAE,MAAM,EAAE,UAAU,EAAE,MAAM,CAAC;AACnD,QAAA,KAAK,EAAE,CAAC,OAAO,EAAE,MAAM,KACtB,SAAS,CAAC,GAAG,CAAC,OAAO,EAAE,OAAO,EAAE,UAAU,EAAE,MAAM,CAAC;QACpD,QAAQ,EAAE,CAAC,IAAI,EAAE,WAAW,EAAE,MAAM,KAAI;AACvC,YAAA,SAAS,CAAC,WAAW,CAAC,IAAI,EAAE,WAAW,CAAC;YACxC,IAAI,MAAM,EAAE;gBACX,SAAS,CAAC,GAAG,CAAC,CAAA,mBAAA,EAAsB,MAAM,CAAE,CAAA,EAAE,OAAO,CAAC;;;KAGxD;AACF;;;;"}