{"version":3,"file":"utils.js","sources":["../../../../../src/common/factories/utils.ts"],"sourcesContent":["// File: common/factories/utils.ts\n\nimport { Helpers, Services, Utilities } from '../../types/index.js';\n\nexport async function utilitiesFactory(\n\thelpers: Helpers,\n\tservices: Services\n): Promise<Utilities> {\n\tconst { errors, log } = services;\n\tconst utilities = {} as Utilities;\n\n\tlog('Executing utilitiesFactory.', { caller: '[UTILITIES_FACTORY]' });\n\n\treturn await errors.handleAndReturn(\n\t\tasync () => {\n\t\t\t// 1. Import utility group sub-factories\n\t\t\tlog('Importing utility group sub-factories.', {\n\t\t\t\tcaller: '[UTILITIES_FACTORY]'\n\t\t\t});\n\t\t\tconst [\n\t\t\t\t{ adjustmentUtilsFactory },\n\t\t\t\t{ brandingUtilsFactory },\n\t\t\t\t{ colorUtilsFactory },\n\t\t\t\t{ domUtilsFactory },\n\t\t\t\t{ formattingUtilsFactory },\n\t\t\t\t{ paletteUtilsFactory },\n\t\t\t\t{ sanitationUtilsFactory },\n\t\t\t\t{ validationUtilsFactory }\n\t\t\t] = await Promise.all([\n\t\t\t\timport('../utils/adjust.js'),\n\t\t\t\timport('../utils/brand.js'),\n\t\t\t\timport('../utils/color.js'),\n\t\t\t\timport('../utils/dom.js'),\n\t\t\t\timport('../utils/format.js'),\n\t\t\t\timport('../utils/palette.js'),\n\t\t\t\timport('../utils/sanitize.js'),\n\t\t\t\timport('../utils/validate.js')\n\t\t\t]);\n\t\t\tlog('Utility group sub-factories imported successfully.', {\n\t\t\t\tcaller: '[UTILITIES_FACTORY]'\n\t\t\t});\n\n\t\t\t// 2. Initialize validation utilities\n\t\t\tlog('Calling validationUtilsFactory.', {\n\t\t\t\tcaller: '[UTILITIES_FACTORY]'\n\t\t\t});\n\t\t\tutilities.validate = validationUtilsFactory(helpers, services);\n\n\t\t\t// 3. Initialize branding utilities\n\t\t\tlog('Initializing branding utilities.', {\n\t\t\t\tcaller: '[UTILITIES_FACTORY]'\n\t\t\t});\n\t\t\tutilities.brand = brandingUtilsFactory(\n\t\t\t\tservices,\n\t\t\t\tutilities.validate\n\t\t\t);\n\n\t\t\t// 4. Initialize adjustment utilities\n\t\t\tlog('[UTILITIES_FACTORY]', {\n\t\t\t\tcaller: 'Initializing adjustment utilities.'\n\t\t\t});\n\t\t\tutilities.adjust = adjustmentUtilsFactory(\n\t\t\t\tutilities.brand,\n\t\t\t\tservices,\n\t\t\t\tutilities.validate\n\t\t\t);\n\n\t\t\t// 5. Initialize formatting utilities\n\t\t\tlog('Initializing formatting utilities.', {\n\t\t\t\tcaller: '[UTILITIES_FACTORY]'\n\t\t\t});\n\t\t\tutilities.format = formattingUtilsFactory(\n\t\t\t\tutilities.brand,\n\t\t\t\tservices,\n\t\t\t\tutilities.validate\n\t\t\t);\n\n\t\t\t// 6. Initialize sanitation utilities\n\t\t\tlog('Initializing sanitation utilities.', {\n\t\t\t\tcaller: '[UTILITIES_FACTORY]'\n\t\t\t});\n\t\t\tutilities.sanitize = sanitationUtilsFactory(\n\t\t\t\tutilities.brand,\n\t\t\t\tservices,\n\t\t\t\tutilities.validate\n\t\t\t);\n\n\t\t\t// 7. Initialize color utilities\n\t\t\tlog('Initializing color utilities.', {\n\t\t\t\tcaller: '[UTILITIES_FACTORY]'\n\t\t\t});\n\t\t\tutilities.color = await colorUtilsFactory(\n\t\t\t\tutilities.adjust,\n\t\t\t\tutilities.brand,\n\t\t\t\tutilities.format,\n\t\t\t\thelpers,\n\t\t\t\tutilities.sanitize,\n\t\t\t\tservices,\n\t\t\t\tutilities.validate\n\t\t\t);\n\n\t\t\t// 8. Initialize DOM utilities\n\t\t\tlog('Initializing DOM utilities.', {\n\t\t\t\tcaller: '[UTILITIES_FACTORY]'\n\t\t\t});\n\t\t\tutilities.dom = await domUtilsFactory(\n\t\t\t\tutilities.brand,\n\t\t\t\tutilities.color,\n\t\t\t\thelpers,\n\t\t\t\tservices,\n\t\t\t\tutilities.validate\n\t\t\t);\n\n\t\t\t// 9. Initialize palette utilities\n\t\t\tlog('Initializing palette utilities.', {\n\t\t\t\tcaller: '[UTILITIES_FACTORY]'\n\t\t\t});\n\t\t\tutilities.palette = paletteUtilsFactory(\n\t\t\t\tutilities.brand,\n\t\t\t\tutilities.color,\n\t\t\t\tutilities.dom,\n\t\t\t\thelpers,\n\t\t\t\tservices,\n\t\t\t\tutilities.validate\n\t\t\t);\n\n\t\t\t// 10. Log success\n\t\t\tlog('Utilities initialized successfully.', {\n\t\t\t\tcaller: '[UTILITIES_FACTORY]'\n\t\t\t});\n\n\t\t\t// 11. Return utilities\n\t\t\tconsole.log(\n\t\t\t\t'[UTILITIES_FACTORY]: Utilities value before return.',\n\t\t\t\tutilities\n\t\t\t);\n\t\t\treturn utilities as Required<Utilities>;\n\t\t},\n\t\t'Error initializing utilities',\n\t\t{ context: { utilities } }\n\t);\n}\n"],"names":[],"mappings":"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"}