// db/initialize.js
// File: db/initialize.js
import { openDB } from 'idb';
import { configData as config } from '../data/config.js';
export async function initializeDB() {
    return openDB('paletteDB', 1, {
        upgrade: db => {
            const storeNames = Object.values(config.db.STORE_NAMES);
            storeNames.forEach(storeName => {
                if (!db.objectStoreNames.contains(storeName)) {
                    db.createObjectStore(storeName, { keyPath: 'key' });
                }
            });
        }
    });
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5pdGlhbGl6ZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9kYi9pbml0aWFsaXplLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLG1CQUFtQjtBQUVuQix5QkFBeUI7QUFFekIsT0FBTyxFQUFFLE1BQU0sRUFBZ0IsTUFBTSxLQUFLLENBQUM7QUFFM0MsT0FBTyxFQUFFLFVBQVUsSUFBSSxNQUFNLEVBQUUsTUFBTSxtQkFBbUIsQ0FBQztBQUV6RCxNQUFNLENBQUMsS0FBSyxVQUFVLFlBQVk7SUFDakMsT0FBTyxNQUFNLENBQWdCLFdBQVcsRUFBRSxDQUFDLEVBQUU7UUFDNUMsT0FBTyxFQUFFLEVBQUUsQ0FBQyxFQUFFO1lBQ2IsTUFBTSxVQUFVLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1lBRXhELFVBQVUsQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLEVBQUU7Z0JBQzlCLElBQUksQ0FBQyxFQUFFLENBQUMsZ0JBQWdCLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUM7b0JBQzlDLEVBQUUsQ0FBQyxpQkFBaUIsQ0FBQyxTQUFTLEVBQUUsRUFBRSxPQUFPLEVBQUUsS0FBSyxFQUFFLENBQUMsQ0FBQztnQkFDckQsQ0FBQztZQUNGLENBQUMsQ0FBQyxDQUFDO1FBQ0osQ0FBQztLQUNELENBQUMsQ0FBQztBQUNKLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBkYi9pbml0aWFsaXplLmpzXG5cbi8vIEZpbGU6IGRiL2luaXRpYWxpemUuanNcblxuaW1wb3J0IHsgb3BlbkRCLCBJREJQRGF0YWJhc2UgfSBmcm9tICdpZGInO1xuaW1wb3J0IHsgUGFsZXR0ZVNjaGVtYSB9IGZyb20gJy4uL3R5cGVzL2luZGV4LmpzJztcbmltcG9ydCB7IGNvbmZpZ0RhdGEgYXMgY29uZmlnIH0gZnJvbSAnLi4vZGF0YS9jb25maWcuanMnO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaW5pdGlhbGl6ZURCKCk6IFByb21pc2U8SURCUERhdGFiYXNlPFBhbGV0dGVTY2hlbWE+PiB7XG5cdHJldHVybiBvcGVuREI8UGFsZXR0ZVNjaGVtYT4oJ3BhbGV0dGVEQicsIDEsIHtcblx0XHR1cGdyYWRlOiBkYiA9PiB7XG5cdFx0XHRjb25zdCBzdG9yZU5hbWVzID0gT2JqZWN0LnZhbHVlcyhjb25maWcuZGIuU1RPUkVfTkFNRVMpO1xuXG5cdFx0XHRzdG9yZU5hbWVzLmZvckVhY2goc3RvcmVOYW1lID0+IHtcblx0XHRcdFx0aWYgKCFkYi5vYmplY3RTdG9yZU5hbWVzLmNvbnRhaW5zKHN0b3JlTmFtZSkpIHtcblx0XHRcdFx0XHRkYi5jcmVhdGVPYmplY3RTdG9yZShzdG9yZU5hbWUsIHsga2V5UGF0aDogJ2tleScgfSk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH1cblx0fSk7XG59XG4iXX0=