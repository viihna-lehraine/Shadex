// File: db/utils.js
export async function withStore(db, storeName, mode, callback) {
    const tx = db.transaction(storeName, mode);
    const store = tx.objectStore(storeName);
    callback(store);
    await tx.done;
}
export const dbUtils = {
    store: { withStore }
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXRpbHMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvZGIvdXRpbHMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsb0JBQW9CO0FBS3BCLE1BQU0sQ0FBQyxLQUFLLFVBQVUsU0FBUyxDQUk5QixFQUErQixFQUMvQixTQUFvQixFQUNwQixJQUFVLEVBQ1YsUUFFUztJQUVULE1BQU0sRUFBRSxHQUFHLEVBQUUsQ0FBQyxXQUFXLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQzNDLE1BQU0sS0FBSyxHQUFHLEVBQUUsQ0FBQyxXQUFXLENBQUMsU0FBUyxDQUFDLENBQUM7SUFFeEMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBRWhCLE1BQU0sRUFBRSxDQUFDLElBQUksQ0FBQztBQUNmLENBQUM7QUFFRCxNQUFNLENBQUMsTUFBTSxPQUFPLEdBQUc7SUFDdEIsS0FBSyxFQUFFLEVBQUUsU0FBUyxFQUFFO0NBQ1gsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8vIEZpbGU6IGRiL3V0aWxzLmpzXG5cbmltcG9ydCB7IElEQlBEYXRhYmFzZSwgSURCUE9iamVjdFN0b3JlIH0gZnJvbSAnaWRiJztcbmltcG9ydCB7IFBhbGV0dGVTY2hlbWEgfSBmcm9tICcuLi90eXBlcy9pbmRleC5qcyc7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB3aXRoU3RvcmU8XG5cdFN0b3JlTmFtZSBleHRlbmRzIGtleW9mIFBhbGV0dGVTY2hlbWEsXG5cdE1vZGUgZXh0ZW5kcyAncmVhZG9ubHknIHwgJ3JlYWR3cml0ZSdcbj4oXG5cdGRiOiBJREJQRGF0YWJhc2U8UGFsZXR0ZVNjaGVtYT4sXG5cdHN0b3JlTmFtZTogU3RvcmVOYW1lLFxuXHRtb2RlOiBNb2RlLFxuXHRjYWxsYmFjazogKFxuXHRcdHN0b3JlOiBJREJQT2JqZWN0U3RvcmU8UGFsZXR0ZVNjaGVtYSwgW1N0b3JlTmFtZV0sIFN0b3JlTmFtZSwgTW9kZT5cblx0KSA9PiB2b2lkXG4pOiBQcm9taXNlPHZvaWQ+IHtcblx0Y29uc3QgdHggPSBkYi50cmFuc2FjdGlvbihzdG9yZU5hbWUsIG1vZGUpO1xuXHRjb25zdCBzdG9yZSA9IHR4Lm9iamVjdFN0b3JlKHN0b3JlTmFtZSk7XG5cblx0Y2FsbGJhY2soc3RvcmUpO1xuXG5cdGF3YWl0IHR4LmRvbmU7XG59XG5cbmV4cG9ydCBjb25zdCBkYlV0aWxzID0ge1xuXHRzdG9yZTogeyB3aXRoU3RvcmUgfVxufSBhcyBjb25zdDtcbiJdfQ==