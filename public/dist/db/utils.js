// File: db/utils.js
async function withStore(db, storeName, mode, callback) {
    const tx = db.transaction(storeName, mode);
    const store = tx.objectStore(storeName);
    callback(store);
    await tx.done;
}
export const dbUtils = {
    store: { withStore }
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXRpbHMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvZGIvdXRpbHMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsb0JBQW9CO0FBS3BCLEtBQUssVUFBVSxTQUFTLENBSXZCLEVBQStCLEVBQy9CLFNBQW9CLEVBQ3BCLElBQVUsRUFDVixRQUVTO0lBRVQsTUFBTSxFQUFFLEdBQUcsRUFBRSxDQUFDLFdBQVcsQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDM0MsTUFBTSxLQUFLLEdBQUcsRUFBRSxDQUFDLFdBQVcsQ0FBQyxTQUFTLENBQUMsQ0FBQztJQUV4QyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUM7SUFFaEIsTUFBTSxFQUFFLENBQUMsSUFBSSxDQUFDO0FBQ2YsQ0FBQztBQUVELE1BQU0sQ0FBQyxNQUFNLE9BQU8sR0FBa0M7SUFDckQsS0FBSyxFQUFFLEVBQUUsU0FBUyxFQUFFO0NBQ1gsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8vIEZpbGU6IGRiL3V0aWxzLmpzXG5cbmltcG9ydCB7IElEQlBEYXRhYmFzZSwgSURCUE9iamVjdFN0b3JlIH0gZnJvbSAnaWRiJztcbmltcG9ydCB7IERCRm5fTWFzdGVySW50ZXJmYWNlLCBQYWxldHRlU2NoZW1hIH0gZnJvbSAnLi4vdHlwZXMvaW5kZXguanMnO1xuXG5hc3luYyBmdW5jdGlvbiB3aXRoU3RvcmU8XG5cdFN0b3JlTmFtZSBleHRlbmRzIGtleW9mIFBhbGV0dGVTY2hlbWEsXG5cdE1vZGUgZXh0ZW5kcyAncmVhZG9ubHknIHwgJ3JlYWR3cml0ZSdcbj4oXG5cdGRiOiBJREJQRGF0YWJhc2U8UGFsZXR0ZVNjaGVtYT4sXG5cdHN0b3JlTmFtZTogU3RvcmVOYW1lLFxuXHRtb2RlOiBNb2RlLFxuXHRjYWxsYmFjazogKFxuXHRcdHN0b3JlOiBJREJQT2JqZWN0U3RvcmU8UGFsZXR0ZVNjaGVtYSwgW1N0b3JlTmFtZV0sIFN0b3JlTmFtZSwgTW9kZT5cblx0KSA9PiB2b2lkXG4pOiBQcm9taXNlPHZvaWQ+IHtcblx0Y29uc3QgdHggPSBkYi50cmFuc2FjdGlvbihzdG9yZU5hbWUsIG1vZGUpO1xuXHRjb25zdCBzdG9yZSA9IHR4Lm9iamVjdFN0b3JlKHN0b3JlTmFtZSk7XG5cblx0Y2FsbGJhY2soc3RvcmUpO1xuXG5cdGF3YWl0IHR4LmRvbmU7XG59XG5cbmV4cG9ydCBjb25zdCBkYlV0aWxzOiBEQkZuX01hc3RlckludGVyZmFjZVsndXRpbHMnXSA9IHtcblx0c3RvcmU6IHsgd2l0aFN0b3JlIH1cbn0gYXMgY29uc3Q7XG4iXX0=