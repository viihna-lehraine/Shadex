{"version":3,"file":"app.js","sources":["../../../src/common/data/sets.ts","../../../src/common/core/base.ts","../../../src/common/dom/index.ts","../../../src/common/data/base.ts","../../../src/logger/AppLogger.ts","../../../src/logger/factory.ts","../../node_modules/idb/build/index.js","../../../src/db/initialize.ts","../../../src/db/mutations/MutationTracker.ts","../../../src/db/storeUtils.ts","../../../src/common/core/index.ts","../../../src/common/helpers/conversion.ts","../../../src/common/transform/base.ts","../../../src/common/utils/color.ts","../../../src/common/convert/base.ts","../../../src/common/helpers/dom.ts","../../../src/common/helpers/index.ts","../../../src/common/utils/conversion.ts","../../../src/common/utils/errors.ts","../../../src/common/utils/palette.ts","../../../src/common/utils/random.ts","../../../src/common/utils/index.ts","../../../src/common/superUtils/dom.ts","../../../src/common/superUtils/index.ts","../../../src/common/transform/index.ts","../../../src/common/index.ts","../../../src/db/IDBManager.ts","../../../src/db/instance.ts","../../../src/dom/parse.ts","../../../src/palette/common/paletteHelpers/limits.ts","../../../src/palette/common/paletteHelpers/update.ts","../../../src/palette/common/paletteHelpers/index.ts","../../../src/palette/common/paletteSuperUtils/create.ts","../../../src/palette/common/paletteUtils/adjust.ts","../../../src/palette/common/paletteUtils/probability.ts","../../../src/palette/common/paletteUtils/index.ts","../../../src/palette/common/paletteSuperUtils/genHues.ts","../../../src/palette/common/paletteSuperUtils/index.ts","../../../src/ui/base.ts","../../../src/dom/fileUtils.ts","../../../src/io/parse/color.ts","../../../src/io/parse/colorValue.ts","../../../src/io/parse/base.ts","../../../src/io/parse/json.ts","../../../src/io/parse/index.ts","../../../src/io/deserialize.ts","../../../src/io/serialize.ts","../../../src/io/base.ts","../../../src/io/index.ts","../../../src/ui/UIManager.ts","../../../src/ui/index.ts","../../../src/palette/main/types/analogous.ts","../../../src/palette/main/types/complementary.ts","../../../src/palette/main/types/diadic.ts","../../../src/palette/main/types/hexadic.ts","../../../src/palette/main/types/monochromatic.ts","../../../src/palette/main/types/random.ts","../../../src/palette/main/types/splitComplementary.ts","../../../src/palette/main/types/tetradic.ts","../../../src/palette/main/types/triadic.ts","../../../src/palette/main/index.ts","../../../src/palette/main.ts","../../../src/dom/events.ts","../../../src/dom/validate.ts","../../../src/dom/index.ts","../../../src/app.ts"],"sourcesContent":["// File: src/common/data/sets.ts\n\nexport const sets = {\n\tAlphaRange: [0, 1] as const,\n\tByteRange: [0, 255] as const,\n\tHexComponent: 'HexComponent' as const,\n\tHexSet: 'HexSet' as const,\n\tLAB_L: [0, 100] as const,\n\tLAB_A: [-128, 127] as const,\n\tLAB_B: [-128, 127] as const,\n\tPercentile: [0, 100] as const,\n\tRadial: [0, 360] as const,\n\tXYZ_X: [0, 95.047] as const,\n\tXYZ_Y: [0, 100] as const,\n\tXYZ_Z: [0, 108.883] as const\n} as const;\n","// File: src/common/core/base.js\n\nimport {\n\tAlphaRange,\n\tByteRange,\n\tCMYK,\n\tCMYKUnbranded,\n\tCMYKValue,\n\tCMYKValueString,\n\tColor,\n\tColorSpace,\n\tColorString,\n\tCommonFunctionsMasterInterface,\n\tHex,\n\tHexComponent,\n\tHexSet,\n\tHexUnbranded,\n\tHexValue,\n\tHexValueString,\n\tHSL,\n\tHSLUnbranded,\n\tHSLValue,\n\tHSLValueString,\n\tHSV,\n\tHSVUnbranded,\n\tHSVValue,\n\tHSVValueString,\n\tLAB,\n\tLABUnbranded,\n\tLABValue,\n\tLABValueString,\n\tLAB_L,\n\tLAB_A,\n\tLAB_B,\n\tNumericRangeKey,\n\tPercentile,\n\tRadial,\n\tRangeKeyMap,\n\tRGB,\n\tRGBUnbranded,\n\tRGBValue,\n\tRGBValueString,\n\tSL,\n\tSLUnbranded,\n\tSLValue,\n\tSV,\n\tSVUnbranded,\n\tSVValue,\n\tXYZ,\n\tXYZUnbranded,\n\tXYZValue,\n\tXYZValueString,\n\tXYZ_X,\n\tXYZ_Y,\n\tXYZ_Z\n} from '../../types/index.js';\nimport { sets } from '../data/sets.js';\n\nconst _sets = sets;\n\n// ******** SECTION 0 - Brand ********\n\nfunction asAlphaRange(value: number): AlphaRange {\n\tvalidate.range(value, 'AlphaRange');\n\n\treturn value as AlphaRange;\n}\n\nfunction asBranded<T extends keyof RangeKeyMap>(\n\tvalue: number,\n\trangeKey: T\n): RangeKeyMap[T] {\n\tvalidate.range(value, rangeKey);\n\n\treturn value as RangeKeyMap[T];\n}\n\nfunction asByteRange(value: number): ByteRange {\n\tvalidate.range(value, 'ByteRange');\n\n\treturn value as ByteRange;\n}\n\nfunction asHexComponent(value: string): HexComponent {\n\tif (!validate.hexComponent(value)) {\n\t\tthrow new Error(`Invalid HexComponent value: ${value}`);\n\t}\n\n\treturn value as unknown as HexComponent;\n}\n\nfunction asHexSet(value: string): HexSet {\n\tif (/^#[0-9a-fA-F]{8}$/.test(value)) {\n\t\tvalue = value.slice(0, 7);\n\t}\n\tif (!validate.hexSet(value)) {\n\t\tthrow new Error(`Invalid HexSet value: ${value}`);\n\t}\n\treturn value as HexSet;\n}\n\nfunction asLAB_L(value: number): LAB_L {\n\tvalidate.range(value, 'LAB_L');\n\n\treturn value as LAB_L;\n}\n\nfunction asLAB_A(value: number): LAB_A {\n\tvalidate.range(value, 'LAB_A');\n\n\treturn value as LAB_A;\n}\n\nfunction asLAB_B(value: number): LAB_B {\n\tvalidate.range(value, 'LAB_B');\n\n\treturn value as LAB_B;\n}\n\nfunction asPercentile(value: number): Percentile {\n\tvalidate.range(value, 'Percentile');\n\n\treturn value as Percentile;\n}\n\nfunction asRadial(value: number): Radial {\n\tvalidate.range(value, 'Radial');\n\n\treturn value as Radial;\n}\n\nfunction asXYZ_X(value: number): XYZ_X {\n\tvalidate.range(value, 'XYZ_X');\n\n\treturn value as XYZ_X;\n}\n\nfunction asXYZ_Y(value: number): XYZ_Y {\n\tvalidate.range(value, 'XYZ_Y');\n\n\treturn value as XYZ_Y;\n}\n\nfunction asXYZ_Z(value: number): XYZ_Z {\n\tvalidate.range(value, 'XYZ_Z');\n\n\treturn value as XYZ_Z;\n}\n\nexport const brand: CommonFunctionsMasterInterface['core']['brand'] = {\n\tasAlphaRange,\n\tasBranded,\n\tasByteRange,\n\tasHexComponent,\n\tasHexSet,\n\tasLAB_L,\n\tasLAB_A,\n\tasLAB_B,\n\tasPercentile,\n\tasRadial,\n\tasXYZ_X,\n\tasXYZ_Y,\n\tasXYZ_Z\n};\n\n// ******** SECTION 1 ********\n\nfunction initializeDefaultColors() {\n\treturn {\n\t\tcmyk: {\n\t\t\tvalue: {\n\t\t\t\tcyan: brand.asPercentile(0),\n\t\t\t\tmagenta: brand.asPercentile(0),\n\t\t\t\tyellow: brand.asPercentile(0),\n\t\t\t\tkey: brand.asPercentile(0),\n\t\t\t\talpha: brand.asAlphaRange(1)\n\t\t\t},\n\t\t\tformat: 'cmyk'\n\t\t},\n\t\thex: {\n\t\t\tvalue: {\n\t\t\t\thex: brand.asHexSet('#000000'),\n\t\t\t\talpha: brand.asHexComponent('FF'),\n\t\t\t\tnumAlpha: brand.asAlphaRange(1)\n\t\t\t},\n\t\t\tformat: 'hex'\n\t\t},\n\t\thsl: {\n\t\t\tvalue: {\n\t\t\t\thue: brand.asRadial(0),\n\t\t\t\tsaturation: brand.asPercentile(0),\n\t\t\t\tlightness: brand.asPercentile(0),\n\t\t\t\talpha: brand.asAlphaRange(1)\n\t\t\t},\n\t\t\tformat: 'hsl'\n\t\t},\n\t\thsv: {\n\t\t\tvalue: {\n\t\t\t\thue: brand.asRadial(0),\n\t\t\t\tsaturation: brand.asPercentile(0),\n\t\t\t\tvalue: brand.asPercentile(0),\n\t\t\t\talpha: brand.asAlphaRange(1)\n\t\t\t},\n\t\t\tformat: 'hsv'\n\t\t},\n\t\tlab: {\n\t\t\tvalue: {\n\t\t\t\tl: brand.asLAB_L(0),\n\t\t\t\ta: brand.asLAB_A(0),\n\t\t\t\tb: brand.asLAB_B(0),\n\t\t\t\talpha: brand.asAlphaRange(1)\n\t\t\t},\n\t\t\tformat: 'lab'\n\t\t},\n\t\trgb: {\n\t\t\tvalue: {\n\t\t\t\tred: brand.asByteRange(0),\n\t\t\t\tgreen: brand.asByteRange(0),\n\t\t\t\tblue: brand.asByteRange(0),\n\t\t\t\talpha: brand.asAlphaRange(1)\n\t\t\t},\n\t\t\tformat: 'rgb'\n\t\t},\n\t\tsl: {\n\t\t\tvalue: {\n\t\t\t\tsaturation: brand.asPercentile(0),\n\t\t\t\tlightness: brand.asPercentile(0),\n\t\t\t\talpha: brand.asAlphaRange(1)\n\t\t\t},\n\t\t\tformat: 'sl'\n\t\t},\n\t\tsv: {\n\t\t\tvalue: {\n\t\t\t\tsaturation: brand.asPercentile(0),\n\t\t\t\tvalue: brand.asPercentile(0),\n\t\t\t\talpha: brand.asAlphaRange(1)\n\t\t\t},\n\t\t\tformat: 'sv'\n\t\t},\n\t\txyz: {\n\t\t\tvalue: {\n\t\t\t\tx: brand.asXYZ_X(0),\n\t\t\t\ty: brand.asXYZ_Y(0),\n\t\t\t\tz: brand.asXYZ_Z(0),\n\t\t\t\talpha: brand.asAlphaRange(1)\n\t\t\t},\n\t\t\tformat: 'xyz'\n\t\t}\n\t};\n}\n\n// ******** SECTION 1 ********\n\nfunction clampToRange(value: number, rangeKey: NumericRangeKey): number {\n\tconst [min, max] = _sets[rangeKey];\n\n\treturn Math.min(Math.max(value, min), max);\n}\n\nfunction clone<T>(value: T): T {\n\treturn structuredClone(value);\n}\n\nfunction debounce<T extends (...args: Parameters<T>) => void>(\n\tfunc: T,\n\tdelay: number\n) {\n\tlet timeout: ReturnType<typeof setTimeout> | null = null;\n\n\treturn (...args: Parameters<T>): void => {\n\t\tif (timeout) clearTimeout(timeout);\n\n\t\ttimeout = setTimeout(() => {\n\t\t\tfunc(...args);\n\t\t}, delay);\n\t};\n}\n\nfunction parseCustomColor(rawValue: string): HSL | null {\n\ttry {\n\t\tconst match = rawValue.match(\n\t\t\t/hsl\\((\\d+),\\s*(\\d+)%?,\\s*(\\d+)%?,\\s*(\\d*\\.?\\d+)\\)/\n\t\t);\n\n\t\tif (match) {\n\t\t\tconst [, hue, saturation, lightness, alpha] = match;\n\n\t\t\treturn {\n\t\t\t\tvalue: {\n\t\t\t\t\thue: brand.asRadial(parseInt(hue)),\n\t\t\t\t\tsaturation: brand.asPercentile(parseInt(saturation)),\n\t\t\t\t\tlightness: brand.asPercentile(parseInt(lightness)),\n\t\t\t\t\talpha: brand.asAlphaRange(parseFloat(alpha))\n\t\t\t\t},\n\t\t\t\tformat: 'hsl'\n\t\t\t};\n\t\t} else {\n\t\t\tconsole.error(\n\t\t\t\t'Invalid HSL custom color. Expected format: hsl(H, S%, L%, A)\\ncaller: parseCustomColor()'\n\t\t\t);\n\n\t\t\treturn null;\n\t\t}\n\t} catch (error) {\n\t\tconsole.error(`parseCustomColor error: ${error}`);\n\n\t\treturn null;\n\t}\n}\n\nexport const base: CommonFunctionsMasterInterface['core']['base'] = {\n\tclampToRange,\n\tclone,\n\tdebounce,\n\tparseCustomColor\n} as const;\n\n// ******** SECTION 2 - Brand Color ********\n\nfunction asCMYK(color: CMYKUnbranded): CMYK {\n\tconst brandedCyan = brand.asPercentile(color.value.cyan);\n\tconst brandedMagenta = brand.asPercentile(color.value.magenta);\n\tconst brandedYellow = brand.asPercentile(color.value.yellow);\n\tconst brandedKey = brand.asPercentile(color.value.key);\n\tconst brandedAlpha = brand.asAlphaRange(color.value.alpha);\n\n\treturn {\n\t\tvalue: {\n\t\t\tcyan: brandedCyan,\n\t\t\tmagenta: brandedMagenta,\n\t\t\tyellow: brandedYellow,\n\t\t\tkey: brandedKey,\n\t\t\talpha: brandedAlpha\n\t\t},\n\t\tformat: 'cmyk'\n\t};\n}\n\nfunction asHex(color: HexUnbranded): Hex {\n\tlet hex = color.value.hex;\n\n\tif (!hex.startsWith('#')) hex = `#${hex}`;\n\n\tif (!/^#[0-9A-Fa-f]{8}$/.test(hex))\n\t\tthrow new Error(`Invalid Hex color format: ${hex}`);\n\n\tconst hexMain = hex.slice(0, 7);\n\tconst alpha = hex.slice(7, 9);\n\n\tconst brandedHex = brand.asHexSet(hexMain);\n\tconst brandedHexAlpha = brand.asHexComponent(alpha);\n\tconst brandedNumAlpha = brand.asAlphaRange(color.value.numAlpha);\n\n\treturn {\n\t\tvalue: {\n\t\t\thex: brandedHex,\n\t\t\talpha: brandedHexAlpha,\n\t\t\tnumAlpha: brandedNumAlpha\n\t\t},\n\t\tformat: 'hex'\n\t};\n}\n\nfunction asHSL(color: HSLUnbranded): HSL {\n\tconst brandedHue = brand.asRadial(color.value.hue);\n\tconst brandedSaturation = brand.asPercentile(color.value.saturation);\n\tconst brandedLightness = brand.asPercentile(color.value.lightness);\n\tconst brandedAlpha = brand.asAlphaRange(color.value.alpha);\n\n\treturn {\n\t\tvalue: {\n\t\t\thue: brandedHue,\n\t\t\tsaturation: brandedSaturation,\n\t\t\tlightness: brandedLightness,\n\t\t\talpha: brandedAlpha\n\t\t},\n\t\tformat: 'hsl'\n\t};\n}\n\nfunction asHSV(color: HSVUnbranded): HSV {\n\tconst brandedHue = brand.asRadial(color.value.hue);\n\tconst brandedSaturation = brand.asPercentile(color.value.saturation);\n\tconst brandedValue = brand.asPercentile(color.value.value);\n\tconst brandedAlpha = brand.asAlphaRange(color.value.alpha);\n\n\treturn {\n\t\tvalue: {\n\t\t\thue: brandedHue,\n\t\t\tsaturation: brandedSaturation,\n\t\t\tvalue: brandedValue,\n\t\t\talpha: brandedAlpha\n\t\t},\n\t\tformat: 'hsv'\n\t};\n}\n\nfunction asLAB(color: LABUnbranded): LAB {\n\tconst brandedL = brand.asLAB_L(color.value.l);\n\tconst brandedA = brand.asLAB_A(color.value.a);\n\tconst brandedB = brand.asLAB_B(color.value.b);\n\tconst brandedAlpha = brand.asAlphaRange(color.value.alpha);\n\n\treturn {\n\t\tvalue: {\n\t\t\tl: brandedL,\n\t\t\ta: brandedA,\n\t\t\tb: brandedB,\n\t\t\talpha: brandedAlpha\n\t\t},\n\t\tformat: 'lab'\n\t};\n}\n\nfunction asRGB(color: RGBUnbranded): RGB {\n\tconst brandedRed = brand.asByteRange(color.value.red);\n\tconst brandedGreen = brand.asByteRange(color.value.green);\n\tconst brandedBlue = brand.asByteRange(color.value.blue);\n\tconst brandedAlpha = brand.asAlphaRange(color.value.alpha);\n\n\treturn {\n\t\tvalue: {\n\t\t\tred: brandedRed,\n\t\t\tgreen: brandedGreen,\n\t\t\tblue: brandedBlue,\n\t\t\talpha: brandedAlpha\n\t\t},\n\t\tformat: 'rgb'\n\t};\n}\n\nfunction asSL(color: SLUnbranded): SL {\n\tconst brandedSaturation = brand.asPercentile(color.value.saturation);\n\tconst brandedLightness = brand.asPercentile(color.value.lightness);\n\tconst brandedAlpha = brand.asAlphaRange(color.value.alpha);\n\n\treturn {\n\t\tvalue: {\n\t\t\tsaturation: brandedSaturation,\n\t\t\tlightness: brandedLightness,\n\t\t\talpha: brandedAlpha\n\t\t},\n\t\tformat: 'sl'\n\t};\n}\n\nfunction asSV(color: SVUnbranded): SV {\n\tconst brandedSaturation = brand.asPercentile(color.value.saturation);\n\tconst brandedValue = brand.asPercentile(color.value.value);\n\tconst brandedAlpha = brand.asAlphaRange(color.value.alpha);\n\n\treturn {\n\t\tvalue: {\n\t\t\tsaturation: brandedSaturation,\n\t\t\tvalue: brandedValue,\n\t\t\talpha: brandedAlpha\n\t\t},\n\t\tformat: 'sv'\n\t};\n}\n\nfunction asXYZ(color: XYZUnbranded): XYZ {\n\tconst brandedX = brand.asXYZ_X(color.value.x);\n\tconst brandedY = brand.asXYZ_Y(color.value.y);\n\tconst brandedZ = brand.asXYZ_Z(color.value.z);\n\tconst brandedAlpha = brand.asAlphaRange(color.value.alpha);\n\n\treturn {\n\t\tvalue: {\n\t\t\tx: brandedX,\n\t\t\ty: brandedY,\n\t\t\tz: brandedZ,\n\t\t\talpha: brandedAlpha\n\t\t},\n\t\tformat: 'xyz'\n\t};\n}\n\nexport const brandColor: CommonFunctionsMasterInterface['core']['brandColor'] =\n\t{\n\t\tasCMYK,\n\t\tasHex,\n\t\tasHSL,\n\t\tasHSV,\n\t\tasLAB,\n\t\tasRGB,\n\t\tasSL,\n\t\tasSV,\n\t\tasXYZ\n\t};\n\n// ******** SECTION 3 - Convert ********\n\nfunction cmykStringToValue(cmyk: CMYKValueString): CMYKValue {\n\treturn {\n\t\tcyan: brand.asPercentile(parseFloat(cmyk.cyan) / 100),\n\t\tmagenta: brand.asPercentile(parseFloat(cmyk.magenta) / 100),\n\t\tyellow: brand.asPercentile(parseFloat(cmyk.yellow) / 100),\n\t\tkey: brand.asPercentile(parseFloat(cmyk.key) / 100),\n\t\talpha: brand.asAlphaRange(parseFloat(cmyk.alpha))\n\t};\n}\n\nfunction cmykValueToString(cmyk: CMYKValue): CMYKValueString {\n\treturn {\n\t\tcyan: `${cmyk.cyan * 100}%`,\n\t\tmagenta: `${cmyk.magenta * 100}%`,\n\t\tyellow: `${cmyk.yellow * 100}%`,\n\t\tkey: `${cmyk.key * 100}%`,\n\t\talpha: `${cmyk.alpha}`\n\t};\n}\n\nasync function colorStringToColor(colorString: ColorString): Promise<Color> {\n\tconst clonedColor = clone(colorString);\n\n\tconst parseValue = (value: string | number): number =>\n\t\ttypeof value === 'string' && value.endsWith('%')\n\t\t\t? parseFloat(value.slice(0, -1))\n\t\t\t: Number(value);\n\n\tconst newValue = Object.entries(clonedColor.value).reduce(\n\t\t(acc, [key, val]) => {\n\t\t\tacc[key as keyof (typeof clonedColor)['value']] = parseValue(\n\t\t\t\tval\n\t\t\t) as never;\n\t\t\treturn acc;\n\t\t},\n\t\t{} as Record<keyof (typeof clonedColor)['value'], number>\n\t);\n\n\tswitch (clonedColor.format) {\n\t\tcase 'cmyk':\n\t\t\treturn { format: 'cmyk', value: newValue as CMYKValue };\n\t\tcase 'hsl':\n\t\t\treturn { format: 'hsl', value: newValue as HSLValue };\n\t\tcase 'hsv':\n\t\t\treturn { format: 'hsv', value: newValue as HSVValue };\n\t\tcase 'sl':\n\t\t\treturn { format: 'sl', value: newValue as SLValue };\n\t\tcase 'sv':\n\t\t\treturn { format: 'sv', value: newValue as SVValue };\n\t\tdefault:\n\t\t\tconsole.error('Unsupported format for colorStringToColor');\n\n\t\t\tconst defaultColors = await initializeDefaultColors();\n\n\t\t\tconst unbrandedHSL = defaultColors.hsl;\n\n\t\t\tconst brandedHue = brand.asRadial(unbrandedHSL.value.hue);\n\t\t\tconst brandedSaturation = brand.asPercentile(\n\t\t\t\tunbrandedHSL.value.saturation\n\t\t\t);\n\t\t\tconst brandedLightness = brand.asPercentile(\n\t\t\t\tunbrandedHSL.value.lightness\n\t\t\t);\n\t\t\tconst brandedAlpha = brand.asAlphaRange(unbrandedHSL.value.alpha);\n\n\t\t\treturn {\n\t\t\t\tvalue: {\n\t\t\t\t\thue: brandedHue,\n\t\t\t\t\tsaturation: brandedSaturation,\n\t\t\t\t\tlightness: brandedLightness,\n\t\t\t\t\talpha: brandedAlpha\n\t\t\t\t},\n\t\t\t\tformat: 'hsl'\n\t\t\t};\n\t}\n}\n\nasync function colorToCSSColorString(color: Color): Promise<string> {\n\ttry {\n\t\tswitch (color.format) {\n\t\t\tcase 'cmyk':\n\t\t\t\treturn `cmyk(${color.value.cyan}, ${color.value.magenta}, ${color.value.yellow}, ${color.value.key}, ${color.value.alpha})`;\n\t\t\tcase 'hex':\n\t\t\t\treturn String(color.value.hex);\n\t\t\tcase 'hsl':\n\t\t\t\treturn `hsl(${color.value.hue}, ${color.value.saturation}%, ${color.value.lightness}%, ${color.value.alpha})`;\n\t\t\tcase 'hsv':\n\t\t\t\treturn `hsv(${color.value.hue}, ${color.value.saturation}%, ${color.value.value}%, ${color.value.alpha})`;\n\t\t\tcase 'lab':\n\t\t\t\treturn `lab(${color.value.l}, ${color.value.a}, ${color.value.b}, ${color.value.alpha})`;\n\t\t\tcase 'rgb':\n\t\t\t\treturn `rgb(${color.value.red}, ${color.value.green}, ${color.value.blue}, ${color.value.alpha})`;\n\t\t\tcase 'xyz':\n\t\t\t\treturn `xyz(${color.value.x}, ${color.value.y}, ${color.value.z}, ${color.value.alpha})`;\n\t\t\tdefault:\n\t\t\t\tconsole.error(`Unexpected color format: ${color.format}`);\n\n\t\t\t\treturn '#FFFFFFFF';\n\t\t}\n\t} catch (error) {\n\t\tthrow new Error(`getCSSColorString error: ${error}`);\n\t}\n}\n\nfunction hexAlphaToNumericAlpha(hexAlpha: string): number {\n\treturn parseInt(hexAlpha, 16) / 255;\n}\n\nfunction hexStringToValue(hex: HexValueString): HexValue {\n\treturn {\n\t\thex: brand.asHexSet(hex.hex),\n\t\talpha: brand.asHexComponent(hex.alpha),\n\t\tnumAlpha: brand.asAlphaRange(parseFloat(hex.numAlpha))\n\t};\n}\n\nfunction hexValueToString(hex: HexValue): HexValueString {\n\treturn {\n\t\thex: hex.hex,\n\t\talpha: `${hex.alpha}`,\n\t\tnumAlpha: `${hex.numAlpha}`\n\t};\n}\n\nfunction hslStringToValue(hsl: HSLValueString): HSLValue {\n\treturn {\n\t\thue: brand.asRadial(parseFloat(hsl.hue)),\n\t\tsaturation: brand.asPercentile(parseFloat(hsl.saturation) / 100),\n\t\tlightness: brand.asPercentile(parseFloat(hsl.lightness) / 100),\n\t\talpha: brand.asAlphaRange(parseFloat(hsl.alpha))\n\t};\n}\n\nfunction hslValueToString(hsl: HSLValue): HSLValueString {\n\treturn {\n\t\thue: `${hsl.hue}°`,\n\t\tsaturation: `${hsl.saturation * 100}%`,\n\t\tlightness: `${hsl.lightness * 100}%`,\n\t\talpha: `${hsl.alpha}`\n\t};\n}\n\nfunction hsvStringToValue(hsv: HSVValueString): HSVValue {\n\treturn {\n\t\thue: brand.asRadial(parseFloat(hsv.hue)),\n\t\tsaturation: brand.asPercentile(parseFloat(hsv.saturation) / 100),\n\t\tvalue: brand.asPercentile(parseFloat(hsv.value) / 100),\n\t\talpha: brand.asAlphaRange(parseFloat(hsv.alpha))\n\t};\n}\n\nfunction hsvValueToString(hsv: HSVValue): HSVValueString {\n\treturn {\n\t\thue: `${hsv.hue}°`,\n\t\tsaturation: `${hsv.saturation * 100}%`,\n\t\tvalue: `${hsv.value * 100}%`,\n\t\talpha: `${hsv.alpha}`\n\t};\n}\n\nfunction labValueToString(lab: LABValue): LABValueString {\n\treturn {\n\t\tl: `${lab.l}`,\n\t\ta: `${lab.a}`,\n\t\tb: `${lab.b}`,\n\t\talpha: `${lab.alpha}`\n\t};\n}\n\nfunction labStringToValue(lab: LABValueString): LABValue {\n\treturn {\n\t\tl: brand.asLAB_L(parseFloat(lab.l)),\n\t\ta: brand.asLAB_A(parseFloat(lab.a)),\n\t\tb: brand.asLAB_B(parseFloat(lab.b)),\n\t\talpha: brand.asAlphaRange(parseFloat(lab.alpha))\n\t};\n}\n\nfunction rgbValueToString(rgb: RGBValue): RGBValueString {\n\treturn {\n\t\tred: `${rgb.red}`,\n\t\tgreen: `${rgb.green}`,\n\t\tblue: `${rgb.blue}`,\n\t\talpha: `${rgb.alpha}`\n\t};\n}\n\nfunction rgbStringToValue(rgb: RGBValueString): RGBValue {\n\treturn {\n\t\tred: brand.asByteRange(parseFloat(rgb.red)),\n\t\tgreen: brand.asByteRange(parseFloat(rgb.green)),\n\t\tblue: brand.asByteRange(parseFloat(rgb.blue)),\n\t\talpha: brand.asAlphaRange(parseFloat(rgb.alpha))\n\t};\n}\n\nfunction toColorValueRange<T extends keyof RangeKeyMap>(\n\tvalue: string | number,\n\trangeKey: T\n): RangeKeyMap[T] {\n\tvalidate.range(value, rangeKey);\n\n\tif (rangeKey === 'HexSet') {\n\t\treturn brand.asHexSet(value as string) as unknown as RangeKeyMap[T];\n\t}\n\n\tif (rangeKey === 'HexComponent') {\n\t\treturn brand.asHexComponent(\n\t\t\tvalue as string\n\t\t) as unknown as RangeKeyMap[T];\n\t}\n\n\treturn brand.asBranded(\n\t\tvalue as number,\n\t\trangeKey\n\t) as unknown as RangeKeyMap[T];\n}\n\nfunction xyzValueToString(xyz: XYZValue): XYZValueString {\n\treturn {\n\t\tx: `${xyz.x}`,\n\t\ty: `${xyz.y}`,\n\t\tz: `${xyz.z}`,\n\t\talpha: `${xyz.alpha}`\n\t};\n}\n\nfunction xyzStringToValue(xyz: XYZValueString): XYZValue {\n\treturn {\n\t\tx: brand.asXYZ_X(parseFloat(xyz.x)),\n\t\ty: brand.asXYZ_Y(parseFloat(xyz.y)),\n\t\tz: brand.asXYZ_Z(parseFloat(xyz.z)),\n\t\talpha: brand.asAlphaRange(parseFloat(xyz.alpha))\n\t};\n}\n\nconst stringToValue = {\n\tcmyk: cmykStringToValue,\n\thex: hexStringToValue,\n\thsl: hslStringToValue,\n\thsv: hsvStringToValue,\n\tlab: labStringToValue,\n\trgb: rgbStringToValue,\n\txyz: xyzStringToValue\n};\n\nconst valueToString = {\n\tcmyk: cmykValueToString,\n\thex: hexValueToString,\n\thsl: hslValueToString,\n\thsv: hsvValueToString,\n\tlab: labValueToString,\n\trgb: rgbValueToString,\n\txyz: xyzValueToString\n};\n\nexport const convert: CommonFunctionsMasterInterface['core']['convert'] = {\n\tcolorStringToColor,\n\thexAlphaToNumericAlpha,\n\tstringToValue,\n\ttoColorValueRange,\n\tcolorToCSSColorString,\n\tvalueToString\n};\n\n// ******** SECTION 4 - Guards ********\n\nfunction isColor(value: unknown): value is Color {\n\tif (typeof value !== 'object' || value === null) return false;\n\n\tconst color = value as Color;\n\tconst validFormats: Color['format'][] = [\n\t\t'cmyk',\n\t\t'hex',\n\t\t'hsl',\n\t\t'hsv',\n\t\t'lab',\n\t\t'rgb',\n\t\t'sl',\n\t\t'sv',\n\t\t'xyz'\n\t];\n\n\treturn (\n\t\t'value' in color &&\n\t\t'format' in color &&\n\t\tvalidFormats.includes(color.format)\n\t);\n}\n\nfunction isColorSpace(value: unknown): value is ColorSpace {\n\tconst validColorSpaces: ColorSpace[] = [\n\t\t'cmyk',\n\t\t'hex',\n\t\t'hsl',\n\t\t'hsv',\n\t\t'lab',\n\t\t'rgb',\n\t\t'xyz'\n\t];\n\n\treturn (\n\t\ttypeof value === 'string' &&\n\t\tvalidColorSpaces.includes(value as ColorSpace)\n\t);\n}\n\nfunction isColorString(value: unknown): value is ColorString {\n\tif (typeof value !== 'object' || value === null) return false;\n\n\tconst colorString = value as ColorString;\n\tconst validStringFormats: ColorString['format'][] = [\n\t\t'cmyk',\n\t\t'hsl',\n\t\t'hsv',\n\t\t'sl',\n\t\t'sv'\n\t];\n\n\treturn (\n\t\t'value' in colorString &&\n\t\t'format' in colorString &&\n\t\tvalidStringFormats.includes(colorString.format)\n\t);\n}\n\nfunction isInRange<T extends keyof typeof _sets>(\n\tvalue: number | string,\n\trangeKey: T\n): boolean {\n\tif (rangeKey === 'HexSet') {\n\t\treturn validate.hexSet(value as string);\n\t}\n\n\tif (rangeKey === 'HexComponent') {\n\t\treturn validate.hexComponent(value as string);\n\t}\n\n\tif (typeof value === 'number' && Array.isArray(_sets[rangeKey])) {\n\t\tconst [min, max] = _sets[rangeKey] as [number, number];\n\n\t\treturn value >= min && value <= max;\n\t}\n\n\tthrow new Error(`Invalid range or value for ${String(rangeKey)}`);\n}\n\nexport const guards: CommonFunctionsMasterInterface['core']['guards'] = {\n\tisColor,\n\tisColorSpace,\n\tisColorString,\n\tisInRange\n};\n\n// ******** SECTION 5 - Sanitize ********\n\nfunction lab(value: number, output: 'l' | 'a' | 'b'): LAB_L | LAB_A | LAB_B {\n\tif (output === 'l') {\n\t\treturn brand.asLAB_L(Math.round(Math.min(Math.max(value, 0), 100)));\n\t} else if (output === 'a') {\n\t\treturn brand.asLAB_A(Math.round(Math.min(Math.max(value, -125), 125)));\n\t} else if (output === 'b') {\n\t\treturn brand.asLAB_B(Math.round(Math.min(Math.max(value, -125), 125)));\n\t} else throw new Error('Unable to return LAB value');\n}\n\nfunction percentile(value: number): Percentile {\n\tconst rawPercentile = Math.round(Math.min(Math.max(value, 0), 100));\n\n\treturn brand.asPercentile(rawPercentile);\n}\n\nfunction radial(value: number): Radial {\n\tconst rawRadial = Math.round(Math.min(Math.max(value, 0), 360)) & 360;\n\n\treturn brand.asRadial(rawRadial);\n}\n\nfunction rgb(value: number): ByteRange {\n\tconst rawByteRange = Math.round(Math.min(Math.max(value, 0), 255));\n\n\treturn toColorValueRange(rawByteRange, 'ByteRange');\n}\n\nexport const sanitize = {\n\tlab,\n\tpercentile,\n\tradial,\n\trgb\n};\n\n// ******** SECTION 5.1 - Validate *********\n\nfunction colorValues(color: Color | SL | SV): boolean {\n\tconst clonedColor = clone(color);\n\tconst isNumericValid = (value: unknown): boolean =>\n\t\ttypeof value === 'number' && !isNaN(value);\n\tconst normalizePercentage = (value: string | number): number => {\n\t\tif (typeof value === 'string' && value.endsWith('%')) {\n\t\t\treturn parseFloat(value.slice(0, -1));\n\t\t}\n\n\t\treturn typeof value === 'number' ? value : NaN;\n\t};\n\n\tswitch (clonedColor.format) {\n\t\tcase 'cmyk':\n\t\t\treturn (\n\t\t\t\t[\n\t\t\t\t\tclonedColor.value.cyan,\n\t\t\t\t\tclonedColor.value.magenta,\n\t\t\t\t\tclonedColor.value.yellow,\n\t\t\t\t\tclonedColor.value.key\n\t\t\t\t].every(isNumericValid) &&\n\t\t\t\tclonedColor.value.cyan >= 0 &&\n\t\t\t\tclonedColor.value.cyan <= 100 &&\n\t\t\t\tclonedColor.value.magenta >= 0 &&\n\t\t\t\tclonedColor.value.magenta <= 100 &&\n\t\t\t\tclonedColor.value.yellow >= 0 &&\n\t\t\t\tclonedColor.value.yellow <= 100 &&\n\t\t\t\tclonedColor.value.key >= 0 &&\n\t\t\t\tclonedColor.value.key <= 100\n\t\t\t);\n\t\tcase 'hex':\n\t\t\treturn /^#[0-9A-Fa-f]{6}$/.test(clonedColor.value.hex);\n\t\tcase 'hsl':\n\t\t\tconst isValidHSLHue =\n\t\t\t\tisNumericValid(clonedColor.value.hue) &&\n\t\t\t\tclonedColor.value.hue >= 0 &&\n\t\t\t\tclonedColor.value.hue <= 360;\n\t\t\tconst isValidHSLSaturation =\n\t\t\t\tnormalizePercentage(clonedColor.value.saturation) >= 0 &&\n\t\t\t\tnormalizePercentage(clonedColor.value.saturation) <= 100;\n\t\t\tconst isValidHSLLightness = clonedColor.value.lightness\n\t\t\t\t? normalizePercentage(clonedColor.value.lightness) >= 0 &&\n\t\t\t\t\tnormalizePercentage(clonedColor.value.lightness) <= 100\n\t\t\t\t: true;\n\n\t\t\treturn isValidHSLHue && isValidHSLSaturation && isValidHSLLightness;\n\t\tcase 'hsv':\n\t\t\tconst isValidHSVHue =\n\t\t\t\tisNumericValid(clonedColor.value.hue) &&\n\t\t\t\tclonedColor.value.hue >= 0 &&\n\t\t\t\tclonedColor.value.hue <= 360;\n\t\t\tconst isValidHSVSaturation =\n\t\t\t\tnormalizePercentage(clonedColor.value.saturation) >= 0 &&\n\t\t\t\tnormalizePercentage(clonedColor.value.saturation) <= 100;\n\t\t\tconst isValidHSVValue = clonedColor.value.value\n\t\t\t\t? normalizePercentage(clonedColor.value.value) >= 0 &&\n\t\t\t\t\tnormalizePercentage(clonedColor.value.value) <= 100\n\t\t\t\t: true;\n\n\t\t\treturn isValidHSVHue && isValidHSVSaturation && isValidHSVValue;\n\t\tcase 'lab':\n\t\t\treturn (\n\t\t\t\t[\n\t\t\t\t\tclonedColor.value.l,\n\t\t\t\t\tclonedColor.value.a,\n\t\t\t\t\tclonedColor.value.b\n\t\t\t\t].every(isNumericValid) &&\n\t\t\t\tclonedColor.value.l >= 0 &&\n\t\t\t\tclonedColor.value.l <= 100 &&\n\t\t\t\tclonedColor.value.a >= -125 &&\n\t\t\t\tclonedColor.value.a <= 125 &&\n\t\t\t\tclonedColor.value.b >= -125 &&\n\t\t\t\tclonedColor.value.b <= 125\n\t\t\t);\n\t\tcase 'rgb':\n\t\t\treturn (\n\t\t\t\t[\n\t\t\t\t\tclonedColor.value.red,\n\t\t\t\t\tclonedColor.value.green,\n\t\t\t\t\tclonedColor.value.blue\n\t\t\t\t].every(isNumericValid) &&\n\t\t\t\tclonedColor.value.red >= 0 &&\n\t\t\t\tclonedColor.value.red <= 255 &&\n\t\t\t\tclonedColor.value.green >= 0 &&\n\t\t\t\tclonedColor.value.green <= 255 &&\n\t\t\t\tclonedColor.value.blue >= 0 &&\n\t\t\t\tclonedColor.value.blue <= 255\n\t\t\t);\n\t\tcase 'sl':\n\t\t\treturn (\n\t\t\t\t[\n\t\t\t\t\tclonedColor.value.saturation,\n\t\t\t\t\tclonedColor.value.lightness\n\t\t\t\t].every(isNumericValid) &&\n\t\t\t\tclonedColor.value.saturation >= 0 &&\n\t\t\t\tclonedColor.value.saturation <= 100 &&\n\t\t\t\tclonedColor.value.lightness >= 0 &&\n\t\t\t\tclonedColor.value.lightness <= 100\n\t\t\t);\n\t\tcase 'sv':\n\t\t\treturn (\n\t\t\t\t[clonedColor.value.saturation, clonedColor.value.value].every(\n\t\t\t\t\tisNumericValid\n\t\t\t\t) &&\n\t\t\t\tclonedColor.value.saturation >= 0 &&\n\t\t\t\tclonedColor.value.saturation <= 100 &&\n\t\t\t\tclonedColor.value.value >= 0 &&\n\t\t\t\tclonedColor.value.value <= 100\n\t\t\t);\n\t\tcase 'xyz':\n\t\t\treturn (\n\t\t\t\t[\n\t\t\t\t\tclonedColor.value.x,\n\t\t\t\t\tclonedColor.value.y,\n\t\t\t\t\tclonedColor.value.z\n\t\t\t\t].every(isNumericValid) &&\n\t\t\t\tclonedColor.value.x >= 0 &&\n\t\t\t\tclonedColor.value.x <= 95.047 &&\n\t\t\t\tclonedColor.value.y >= 0 &&\n\t\t\t\tclonedColor.value.y <= 100.0 &&\n\t\t\t\tclonedColor.value.z >= 0 &&\n\t\t\t\tclonedColor.value.z <= 108.883\n\t\t\t);\n\t\tdefault:\n\t\t\tconsole.error(`Unsupported color format: ${color.format}`);\n\n\t\t\treturn false;\n\t}\n}\n\nfunction hex(value: string, pattern: RegExp): boolean {\n\treturn pattern.test(value);\n}\n\nfunction hexComponent(value: string): boolean {\n\treturn hex(value, /^[A-Fa-f0-9]{2}$/);\n}\n\nfunction hexSet(value: string): boolean {\n\treturn /^#[0-9a-fA-F]{6}$/.test(value);\n}\n\nfunction range<T extends keyof typeof _sets>(\n\tvalue: number | string,\n\trangeKey: T\n): void {\n\tif (!isInRange(value, rangeKey)) {\n\t\tif (rangeKey === 'HexSet' || rangeKey === 'HexComponent') {\n\t\t\tthrow new Error(`Invalid value for ${String(rangeKey)}: ${value}`);\n\t\t}\n\n\t\tconst [min, max] = _sets[rangeKey] as [number, number];\n\n\t\tthrow new Error(\n\t\t\t`Value ${value} is out of range for ${String(rangeKey)} [${min}, ${max}]`\n\t\t);\n\t}\n}\n\nexport const validate: CommonFunctionsMasterInterface['core']['validate'] = {\n\tcolorValues,\n\thex,\n\thexComponent,\n\thexSet,\n\trange\n};\n\n// ******** SECTION 6 - Other ********\n\nfunction getFormattedTimestamp(): string {\n\tconst now = new Date();\n\tconst year = now.getFullYear();\n\tconst month = String(now.getMonth() + 1).padStart(2, '0');\n\tconst day = String(now.getDate()).padStart(2, '0');\n\tconst hours = String(now.getHours()).padStart(2, '0');\n\tconst minutes = String(now.getMinutes()).padStart(2, '0');\n\tconst seconds = String(now.getSeconds()).padStart(2, '0');\n\n\treturn `${year}-${month}-${day} ${hours}:${minutes}:${seconds}`;\n}\n\nexport const other = { getFormattedTimestamp };\n\nexport { clone };\n","// File: src/common/dom/index.js\n\nimport { CommonDOMFnMasterInterface } from '../../types/index.js';\n\nasync function getElement<T extends HTMLElement>(\n\tid: string\n): Promise<T | null> {\n\tconst element = document.getElementById(id) as T | null;\n\n\tif (!element) {\n\t\tconsole.warn(`Element with ID ${id} not found`);\n\t}\n\n\treturn element;\n}\n\nexport const domUtils: CommonDOMFnMasterInterface = {\n\tgetElement: (id: string) => getElement(id)\n};\n","// File: src/common/data/base.ts\n\nimport {\n\tConfigDataInterface,\n\tConstsDataInterface,\n\tDefaultsDataInterface,\n\tMutationLog,\n\tPaletteItemUnbranded,\n\tPaletteUnbranded,\n\tStoredPaletteUnbranded\n} from '../../types/index.js';\nimport { brand } from '../core/base.js';\nimport { domUtils } from '../dom/index.js';\n\n// * * * *  1. MODE DATA * * * * * * * *\n\nexport const mode = {\n\tenvironment: 'dev',\n\tdebug: true,\n\tdebugLevel: 1,\n\texpose: { idbManager: true, logger: true, uiManager: true },\n\tgracefulErrors: false,\n\tlogging: {\n\t\targs: true,\n\t\tclicks: false,\n\t\tdebug: true,\n\t\terror: true,\n\t\tinfo: true,\n\t\tverbosity: 3,\n\t\twarn: true\n\t},\n\tquiet: false,\n\tshowAlerts: true,\n\tstackTrace: true\n} as const;\n\n// * * * *  2. CONFIG DATA  * * * *\n\nconst DEFAULT_KEYS = {\n\tAPP_SETTINGS: 'appSettings',\n\tCUSTOM_COLOR: 'customColor'\n} as const;\n\nconst DEFAULT_SETTINGS = {\n\tcolorSpace: 'hsl',\n\tlastTableID: 0,\n\ttheme: 'light',\n\tloggingEnabled: true\n} as const;\n\nconst STORE_NAMES = {\n\tAPP_SETTINGS: 'appSettings',\n\tCUSTOM_COLOR: 'customColor',\n\tMUTATIONS: 'mutations',\n\tPALLETES: 'palettes',\n\tSETTINGS: 'settings',\n\tTABLES: 'tables'\n} as const;\n\nconst db = { DEFAULT_KEYS, DEFAULT_SETTINGS, STORE_NAMES } as const;\n\nconst regex: ConfigDataInterface['regex'] = {\n\tcolors: {\n\t\tcmyk: /cmyk\\((\\d+)%?,\\s*(\\d+)%?,\\s*(\\d+)%?,\\s*(\\d+)%?(?:,\\s*([\\d.]+))?\\)/i,\n\t\thex: /^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{8})$/,\n\t\thsl: /hsl\\(([\\d.]+),\\s*([\\d.]+)%?,\\s*([\\d.]+)%?(?:,\\s*([\\d.]+))?\\)/i,\n\t\thsv: /hsv\\(([\\d.]+),\\s*([\\d.]+)%?,\\s*([\\d.]+)%?(?:,\\s*([\\d.]+))?\\)/i,\n\t\tlab: /lab\\(([\\d.]+),\\s*([\\d.]+),\\s*([\\d.]+)(?:,\\s*([\\d.]+))?\\)/i,\n\t\trgb: /rgb\\(([\\d.]+),\\s*([\\d.]+),\\s*([\\d.]+)(?:,\\s*([\\d.]+))?\\)/i,\n\t\txyz: /xyz\\(([\\d.]+),\\s*([\\d.]+),\\s*([\\d.]+)(?:,\\s*([\\d.]+))?\\)/i\n\t},\n\tfile: {\n\t\tpalette: {\n\t\t\tcss: {\n\t\t\t\tcolor: /\\.color-\\d+\\s*{\\s*([\\s\\S]*?)\\s*}/i,\n\t\t\t\tmetadata: /\\.palette\\s*{\\s*([\\s\\S]*?)\\s*}/i\n\t\t\t}\n\t\t}\n\t}\n};\n\nexport const config: ConfigDataInterface = { db, regex } as const;\n\n// * * * *  2. CONSTS DATA  * * * * *\n\nconst getElement = domUtils.getElement;\n\nconst adjustments = { slaValue: 10 } as const;\n\nconst debounce = { button: 300, input: 200 } as const;\n\nconst limits = {\n\txyz: { max: { x: 95.047, y: 100, z: 108.883 }, min: { x: 0, y: 0, z: 0 } }\n} as const;\n\nconst paletteRanges = {\n\tcomp: { hueShift: 10, lightShift: 0, satShift: 0 },\n\tdiadic: { hueShift: 30, lightShift: 30, satShift: 30 },\n\thexad: { hueShift: 0, lightShift: 30, satShift: 30 },\n\trandom: { hueShift: 0, lightShift: 0, satShift: 0 },\n\tsplitComp: { hueShift: 30, lightShift: 30, satShift: 30 },\n\ttetra: { hueShift: 0, lightShift: 30, satShift: 30 },\n\ttriad: { hueShift: 0, lightShift: 30, satShift: 30 }\n} as const;\n\nconst probabilities = {\n\tvalues: [40, 45, 50, 55, 60, 65, 70],\n\tweights: [0.1, 0.15, 0.2, 0.3, 0.15, 0.05, 0.05]\n} as const;\n\nconst thresholds = { dark: 25, gray: 20, light: 75 } as const;\n\nconst timeouts = { copyButtonText: 1000, toast: 3000, tooltip: 1000 } as const;\n\nexport const createDOMElements = async () => {\n\tconst advancedMenu = await getElement<HTMLDivElement>(\n\t\t'advanced-menu',\n\t\tmode\n\t);\n\tconst advancedMenuButton = await getElement<HTMLButtonElement>(\n\t\t'advanced-menu-button',\n\t\tmode\n\t);\n\tconst advancedMenuContent = await getElement<HTMLDivElement>(\n\t\t'advanced-menu-content',\n\t\tmode\n\t);\n\tconst applyCustomColorButton = await getElement<HTMLButtonElement>(\n\t\t'apply-custom-color-button',\n\t\tmode\n\t);\n\tconst clearCustomColorButton = await getElement<HTMLButtonElement>(\n\t\t'clear-custom-color-button',\n\t\tmode\n\t);\n\tconst colorBox1 = await getElement<HTMLDivElement>('color-box-1', mode);\n\tconst customColorDisplay = await getElement<HTMLSpanElement>(\n\t\t'custom-color-display',\n\t\tmode\n\t);\n\tconst customColorInput = await getElement<HTMLInputElement>(\n\t\t'custom-color-input',\n\t\tmode\n\t);\n\tconst customColorMenu = await getElement<HTMLDivElement>(\n\t\t'custom-color-menu',\n\t\tmode\n\t);\n\tconst customColorMenuButton = await getElement<HTMLButtonElement>(\n\t\t'custom-color-menu-button',\n\t\tmode\n\t);\n\tconst deleteDatabaseButton = await getElement<HTMLButtonElement>(\n\t\t'delete-database-button',\n\t\tmode\n\t);\n\tconst desaturateButton = await getElement<HTMLButtonElement>(\n\t\t'desaturate-button',\n\t\tmode\n\t);\n\tconst developerMenu = await getElement<HTMLDivElement>(\n\t\t'developer-menu',\n\t\tmode\n\t);\n\tconst developerMenuButton = await getElement<HTMLButtonElement>(\n\t\t'developer-menu-button',\n\t\tmode\n\t);\n\tconst enableAlphaCheckbox = await getElement<HTMLInputElement>(\n\t\t'enable-alpha-checkbox',\n\t\tmode\n\t);\n\tconst exportPaletteButton = await getElement<HTMLButtonElement>(\n\t\t'export-palette-button',\n\t\tmode\n\t);\n\tconst exportPaletteFormatOptions = await getElement<HTMLSelectElement>(\n\t\t'export-palette-format-options',\n\t\tmode\n\t);\n\tconst exportPaletteInput = await getElement<HTMLInputElement>(\n\t\t'export-palette-input',\n\t\tmode\n\t);\n\tconst generateButton = await getElement<HTMLButtonElement>(\n\t\t'generate-button',\n\t\tmode\n\t);\n\tconst helpMenu = await getElement<HTMLDivElement>('help-menu', mode);\n\tconst helpMenuButton = await getElement<HTMLButtonElement>(\n\t\t'help-menu-button',\n\t\tmode\n\t);\n\tconst helpMenuContent = await getElement<HTMLDivElement>(\n\t\t'help-menu-content',\n\t\tmode\n\t);\n\tconst historyMenu = await getElement<HTMLDivElement>('history-menu', mode);\n\tconst historyMenuButton = await getElement<HTMLButtonElement>(\n\t\t'history-menu-button',\n\t\tmode\n\t);\n\tconst historyMenuContent = await getElement<HTMLDivElement>(\n\t\t'history-menu-content',\n\t\tmode\n\t);\n\tconst importExportMenu = await getElement<HTMLDivElement>(\n\t\t'import-export-menu',\n\t\tmode\n\t);\n\tconst importExportMenuButton = await getElement<HTMLButtonElement>(\n\t\t'import-export-menu-button',\n\t\tmode\n\t);\n\tconst importPaletteInput = await getElement<HTMLInputElement>(\n\t\t'import-palette-input',\n\t\tmode\n\t);\n\tconst limitDarknessCheckbox = await getElement<HTMLInputElement>(\n\t\t'limit-darkness-checkbox',\n\t\tmode\n\t);\n\tconst limitGraynessCheckbox = await getElement<HTMLInputElement>(\n\t\t'limit-grayness-checkbox',\n\t\tmode\n\t);\n\tconst limitLightnessCheckbox = await getElement<HTMLInputElement>(\n\t\t'limit-lightness-checkbox',\n\t\tmode\n\t);\n\tconst paletteNumberOptions = await getElement<HTMLInputElement>(\n\t\t'palette-number-options',\n\t\tmode\n\t);\n\tconst paletteTypeOptions = await getElement<HTMLSelectElement>(\n\t\t'palette-type-options',\n\t\tmode\n\t);\n\tconst resetDatabaseButton = await getElement<HTMLButtonElement>(\n\t\t'reset-database-button',\n\t\tmode\n\t);\n\tconst resetPaletteIDButton = await getElement<HTMLButtonElement>(\n\t\t'reset-palette-id-button',\n\t\tmode\n\t);\n\tconst saturateButton = await getElement<HTMLButtonElement>(\n\t\t'saturate-button',\n\t\tmode\n\t);\n\tconst selectedColorOption = await getElement<HTMLSelectElement>(\n\t\t'selected-color-option',\n\t\tmode\n\t);\n\tconst showAsCMYKButton = await getElement<HTMLButtonElement>(\n\t\t'show-as-cmyk-button',\n\t\tmode\n\t);\n\tconst showAsHexButton = await getElement<HTMLButtonElement>(\n\t\t'show-as-hex-button',\n\t\tmode\n\t);\n\tconst showAsHSLButton = await getElement<HTMLButtonElement>(\n\t\t'show-as-hsl-button',\n\t\tmode\n\t);\n\tconst showAsHSVButton = await getElement<HTMLButtonElement>(\n\t\t'show-as-hsv-button',\n\t\tmode\n\t);\n\tconst showAsLABButton = await getElement<HTMLButtonElement>(\n\t\t'show-as-lab-button',\n\t\tmode\n\t);\n\tconst showAsRGBButton = await getElement<HTMLButtonElement>(\n\t\t'show-as-rgb-button',\n\t\tmode\n\t);\n\n\tconst buttons = {\n\t\tadvancedMenuButton,\n\t\tapplyCustomColorButton,\n\t\tclearCustomColorButton,\n\t\tcustomColorMenuButton,\n\t\tdeleteDatabaseButton,\n\t\tdesaturateButton,\n\t\tdeveloperMenuButton,\n\t\texportPaletteButton,\n\t\tgenerateButton,\n\t\thelpMenuButton,\n\t\thistoryMenuButton,\n\t\timportExportMenuButton,\n\t\tresetDatabaseButton,\n\t\tresetPaletteIDButton,\n\t\tsaturateButton,\n\t\tshowAsCMYKButton,\n\t\tshowAsHexButton,\n\t\tshowAsHSLButton,\n\t\tshowAsHSVButton,\n\t\tshowAsLABButton,\n\t\tshowAsRGBButton\n\t} as const;\n\n\tconst divs = {\n\t\tadvancedMenu,\n\t\tadvancedMenuContent,\n\t\tcolorBox1,\n\t\tcustomColorMenu,\n\t\tdeveloperMenu,\n\t\thelpMenu,\n\t\thelpMenuContent,\n\t\thistoryMenu,\n\t\thistoryMenuContent,\n\t\timportExportMenu\n\t} as const;\n\n\tconst inputs = {\n\t\tcustomColorInput,\n\t\tenableAlphaCheckbox,\n\t\texportPaletteInput,\n\t\timportPaletteInput,\n\t\tlimitDarknessCheckbox,\n\t\tlimitGraynessCheckbox,\n\t\tlimitLightnessCheckbox,\n\t\tpaletteNumberOptions\n\t} as const;\n\n\tconst select = {\n\t\texportPaletteFormatOptions,\n\t\tpaletteTypeOptions,\n\t\tselectedColorOption\n\t} as const;\n\n\tconst spans = { customColorDisplay } as const;\n\n\treturn {\n\t\tbuttons,\n\t\tdivs,\n\t\tinputs,\n\t\tselect,\n\t\tspans\n\t} as const;\n};\n\nconst advancedMenu = 'advanced-menu' as const;\nconst advancedMenuButton = 'advanced-menu-button' as const;\nconst advancedMenuContent = 'advanced-menu-content' as const;\nconst applyCustomColorButton = 'apply-custom-color-button' as const;\nconst colorBox1 = 'color-box-1' as const;\nconst clearCustomColorButton = 'clear-custom-color-button' as const;\nconst customColorDisplay = 'custom-color-display' as const;\nconst customColorInput = 'custom-color-input' as const;\nconst customColorMenu = 'custom-color-menu' as const;\nconst customColorMenuButton = 'custom-color-menu-button' as const;\nconst deleteDatabaseButton = 'delete-database-button' as const;\nconst desaturateButton = 'desaturate-button' as const;\nconst developerMenu = 'developer-menu' as const;\nconst developerMenuButton = 'developer-menu-button' as const;\nconst enableAlphaCheckbox = 'enable-alpha-checkbox' as const;\nconst exportPaletteButton = 'export-palette-button' as const;\nconst exportPaletteFormatOptions = 'export-palette-format-options' as const;\nconst exportPaletteInput = 'export-palette-input' as const;\nconst generateButton = 'generate-button' as const;\nconst helpMenu = 'help-menu' as const;\nconst helpMenuButton = 'help-menu-button' as const;\nconst helpMenuContent = 'help-menu-content' as const;\nconst historyMenu = 'history-menu' as const;\nconst historyMenuButton = 'history-menu-button' as const;\nconst historyMenuContent = 'history-menu-content' as const;\nconst importExportMenu = 'import-export-menu' as const;\nconst importExportMenuButton = 'import-export-menu-button' as const;\nconst importPaletteInput = 'import-palette-input' as const;\nconst limitDarknessCheckbox = 'limit-darkness-checkbox' as const;\nconst limitGraynessCheckbox = 'limit-grayness-checkbox' as const;\nconst limitLightnessCheckbox = 'limit-lightness-checkbox' as const;\nconst paletteNumberOptions = 'palette-number-options' as const;\nconst paletteTypeOptions = 'palette-type-options' as const;\nconst resetDatabaseButton = 'reset-database-button' as const;\nconst resetPaletteIDButton = 'reset-palette-id-button' as const;\nconst saturateButton = 'saturate-button' as const;\nconst selectedColorOption = 'selected-color-option' as const;\nconst showAsCMYKButton = 'show-as-cmyk-button' as const;\nconst showAsHexButton = 'show-as-hex-button' as const;\nconst showAsHSLButton = 'show-as-hsl-button' as const;\nconst showAsHSVButton = 'show-as-hsv-button' as const;\nconst showAsLABButton = 'show-as-lab-button' as const;\nconst showAsRGBButton = 'show-as-rgb-button' as const;\n\nexport const domIDs: ConstsDataInterface['dom']['ids'] = {\n\tadvancedMenu,\n\tadvancedMenuButton,\n\tadvancedMenuContent,\n\tapplyCustomColorButton,\n\tclearCustomColorButton,\n\tcolorBox1,\n\tcustomColorDisplay,\n\tcustomColorInput,\n\tcustomColorMenu,\n\tcustomColorMenuButton,\n\tdeleteDatabaseButton,\n\tdesaturateButton,\n\tdeveloperMenu,\n\tdeveloperMenuButton,\n\tenableAlphaCheckbox,\n\texportPaletteButton,\n\texportPaletteFormatOptions,\n\texportPaletteInput,\n\tgenerateButton,\n\thelpMenu,\n\thelpMenuButton,\n\thelpMenuContent,\n\thistoryMenu,\n\thistoryMenuButton,\n\thistoryMenuContent,\n\timportExportMenu,\n\timportExportMenuButton,\n\timportPaletteInput,\n\tlimitDarknessCheckbox,\n\tlimitGraynessCheckbox,\n\tlimitLightnessCheckbox,\n\tpaletteNumberOptions,\n\tpaletteTypeOptions,\n\tresetDatabaseButton,\n\tresetPaletteIDButton,\n\tsaturateButton,\n\tselectedColorOption,\n\tshowAsCMYKButton,\n\tshowAsHexButton,\n\tshowAsHSLButton,\n\tshowAsHSVButton,\n\tshowAsLABButton,\n\tshowAsRGBButton\n} as const;\n\nexport const dom = {\n\telements: await createDOMElements(),\n\tids: domIDs\n} as const;\n\nexport const consts: ConstsDataInterface = {\n\tadjustments,\n\tdebounce,\n\tdom,\n\tlimits,\n\tpaletteRanges,\n\tprobabilities,\n\tthresholds,\n\ttimeouts\n} as const;\n\n// * * * *  3. DEFAULTS  * * * *\n\nconst colors: DefaultsDataInterface['colors'] = {\n\tbase: {\n\t\tbranded: {\n\t\t\tcmyk: {\n\t\t\t\tvalue: {\n\t\t\t\t\tcyan: brand.asPercentile(0),\n\t\t\t\t\tmagenta: brand.asPercentile(0),\n\t\t\t\t\tyellow: brand.asPercentile(0),\n\t\t\t\t\tkey: brand.asPercentile(0),\n\t\t\t\t\talpha: brand.asAlphaRange(1)\n\t\t\t\t},\n\t\t\t\tformat: 'cmyk'\n\t\t\t},\n\t\t\thex: {\n\t\t\t\tvalue: {\n\t\t\t\t\thex: brand.asHexSet('#000000'),\n\t\t\t\t\talpha: brand.asHexComponent('FF'),\n\t\t\t\t\tnumAlpha: brand.asAlphaRange(1)\n\t\t\t\t},\n\t\t\t\tformat: 'hex'\n\t\t\t},\n\t\t\thsl: {\n\t\t\t\tvalue: {\n\t\t\t\t\thue: brand.asRadial(0),\n\t\t\t\t\tsaturation: brand.asPercentile(0),\n\t\t\t\t\tlightness: brand.asPercentile(0),\n\t\t\t\t\talpha: brand.asAlphaRange(1)\n\t\t\t\t},\n\t\t\t\tformat: 'hsl'\n\t\t\t},\n\t\t\thsv: {\n\t\t\t\tvalue: {\n\t\t\t\t\thue: brand.asRadial(0),\n\t\t\t\t\tsaturation: brand.asPercentile(0),\n\t\t\t\t\tvalue: brand.asPercentile(0),\n\t\t\t\t\talpha: brand.asAlphaRange(1)\n\t\t\t\t},\n\t\t\t\tformat: 'hsv'\n\t\t\t},\n\t\t\tlab: {\n\t\t\t\tvalue: {\n\t\t\t\t\tl: brand.asLAB_L(0),\n\t\t\t\t\ta: brand.asLAB_A(0),\n\t\t\t\t\tb: brand.asLAB_B(0),\n\t\t\t\t\talpha: brand.asAlphaRange(1)\n\t\t\t\t},\n\t\t\t\tformat: 'lab'\n\t\t\t},\n\t\t\trgb: {\n\t\t\t\tvalue: {\n\t\t\t\t\tred: brand.asByteRange(0),\n\t\t\t\t\tgreen: brand.asByteRange(0),\n\t\t\t\t\tblue: brand.asByteRange(0),\n\t\t\t\t\talpha: brand.asAlphaRange(1)\n\t\t\t\t},\n\t\t\t\tformat: 'rgb'\n\t\t\t},\n\t\t\tsl: {\n\t\t\t\tvalue: {\n\t\t\t\t\tsaturation: brand.asPercentile(0),\n\t\t\t\t\tlightness: brand.asPercentile(0),\n\t\t\t\t\talpha: brand.asAlphaRange(1)\n\t\t\t\t},\n\t\t\t\tformat: 'sl'\n\t\t\t},\n\t\t\tsv: {\n\t\t\t\tvalue: {\n\t\t\t\t\tsaturation: brand.asPercentile(0),\n\t\t\t\t\tvalue: brand.asPercentile(0),\n\t\t\t\t\talpha: brand.asAlphaRange(1)\n\t\t\t\t},\n\t\t\t\tformat: 'sv'\n\t\t\t},\n\t\t\txyz: {\n\t\t\t\tvalue: {\n\t\t\t\t\tx: brand.asXYZ_X(0),\n\t\t\t\t\ty: brand.asXYZ_Y(0),\n\t\t\t\t\tz: brand.asXYZ_Z(0),\n\t\t\t\t\talpha: brand.asAlphaRange(1)\n\t\t\t\t},\n\t\t\t\tformat: 'xyz'\n\t\t\t}\n\t\t},\n\t\tunbranded: {\n\t\t\tcmyk: {\n\t\t\t\tvalue: {\n\t\t\t\t\tcyan: 0,\n\t\t\t\t\tmagenta: 0,\n\t\t\t\t\tyellow: 0,\n\t\t\t\t\tkey: 0,\n\t\t\t\t\talpha: 1\n\t\t\t\t},\n\t\t\t\tformat: 'cmyk'\n\t\t\t},\n\t\t\thex: {\n\t\t\t\tvalue: {\n\t\t\t\t\thex: '#000000FF',\n\t\t\t\t\talpha: 'FF',\n\t\t\t\t\tnumAlpha: 1\n\t\t\t\t},\n\t\t\t\tformat: 'hex'\n\t\t\t},\n\t\t\thsl: {\n\t\t\t\tvalue: {\n\t\t\t\t\thue: 0,\n\t\t\t\t\tsaturation: 0,\n\t\t\t\t\tlightness: 0,\n\t\t\t\t\talpha: 1\n\t\t\t\t},\n\t\t\t\tformat: 'hsl'\n\t\t\t},\n\t\t\thsv: {\n\t\t\t\tvalue: {\n\t\t\t\t\thue: 0,\n\t\t\t\t\tsaturation: 0,\n\t\t\t\t\tvalue: 0,\n\t\t\t\t\talpha: 1\n\t\t\t\t},\n\t\t\t\tformat: 'hsv'\n\t\t\t},\n\t\t\tlab: {\n\t\t\t\tvalue: {\n\t\t\t\t\tl: 0,\n\t\t\t\t\ta: 0,\n\t\t\t\t\tb: 0,\n\t\t\t\t\talpha: 1\n\t\t\t\t},\n\t\t\t\tformat: 'lab'\n\t\t\t},\n\t\t\tsl: {\n\t\t\t\tvalue: {\n\t\t\t\t\tsaturation: 0,\n\t\t\t\t\tlightness: 0,\n\t\t\t\t\talpha: 1\n\t\t\t\t},\n\t\t\t\tformat: 'sl'\n\t\t\t},\n\t\t\trgb: {\n\t\t\t\tvalue: {\n\t\t\t\t\tred: 0,\n\t\t\t\t\tgreen: 0,\n\t\t\t\t\tblue: 0,\n\t\t\t\t\talpha: 1\n\t\t\t\t},\n\t\t\t\tformat: 'rgb'\n\t\t\t},\n\t\t\tsv: {\n\t\t\t\tvalue: {\n\t\t\t\t\tsaturation: 0,\n\t\t\t\t\tvalue: 0,\n\t\t\t\t\talpha: 1\n\t\t\t\t},\n\t\t\t\tformat: 'sv'\n\t\t\t},\n\t\t\txyz: {\n\t\t\t\tvalue: {\n\t\t\t\t\tx: 0,\n\t\t\t\t\ty: 0,\n\t\t\t\t\tz: 0,\n\t\t\t\t\talpha: 1\n\t\t\t\t},\n\t\t\t\tformat: 'xyz'\n\t\t\t}\n\t\t}\n\t},\n\tcssColorStrings: {\n\t\tcmyk: 'cmyk(0%, 0%, 0%, 0%, 1)',\n\t\thex: '#000000FF',\n\t\thsl: 'hsl(0, 0%, 0%, 1)',\n\t\thsv: 'hsv(0, 0%, 0%, 1)',\n\t\tlab: 'lab(0, 0, 0, 1)',\n\t\trgb: 'rgb(0, 0, 0, 1)',\n\t\tsl: 'sl(0%, 0%, 1)',\n\t\tsv: 'sv(0%, 0%, 1)',\n\t\txyz: 'xyz(0, 0, 0, 1)'\n\t},\n\tstrings: {\n\t\tcmyk: {\n\t\t\tvalue: {\n\t\t\t\tcyan: '0',\n\t\t\t\tmagenta: '0',\n\t\t\t\tyellow: '0',\n\t\t\t\tkey: '0',\n\t\t\t\talpha: '1'\n\t\t\t},\n\t\t\tformat: 'cmyk'\n\t\t},\n\t\thex: {\n\t\t\tvalue: {\n\t\t\t\thex: '#000000',\n\t\t\t\talpha: 'FF',\n\t\t\t\tnumAlpha: '1'\n\t\t\t},\n\t\t\tformat: 'hex'\n\t\t},\n\t\thsl: {\n\t\t\tvalue: {\n\t\t\t\thue: '0',\n\t\t\t\tsaturation: '0',\n\t\t\t\tlightness: '0',\n\t\t\t\talpha: '1'\n\t\t\t},\n\t\t\tformat: 'hsl'\n\t\t},\n\t\thsv: {\n\t\t\tvalue: {\n\t\t\t\thue: '0',\n\t\t\t\tsaturation: '0',\n\t\t\t\tvalue: '0',\n\t\t\t\talpha: '1'\n\t\t\t},\n\t\t\tformat: 'hsv'\n\t\t},\n\t\tlab: {\n\t\t\tvalue: {\n\t\t\t\tl: '0',\n\t\t\t\ta: '0',\n\t\t\t\tb: '0',\n\t\t\t\talpha: '1'\n\t\t\t},\n\t\t\tformat: 'lab'\n\t\t},\n\t\trgb: {\n\t\t\tvalue: {\n\t\t\t\tred: '0',\n\t\t\t\tgreen: '0',\n\t\t\t\tblue: '0',\n\t\t\t\talpha: '1'\n\t\t\t},\n\t\t\tformat: 'rgb'\n\t\t},\n\t\tsl: {\n\t\t\tvalue: {\n\t\t\t\tsaturation: '0',\n\t\t\t\tlightness: '0',\n\t\t\t\talpha: '1'\n\t\t\t},\n\t\t\tformat: 'sl'\n\t\t},\n\t\tsv: {\n\t\t\tvalue: {\n\t\t\t\tsaturation: '0',\n\t\t\t\tvalue: '0',\n\t\t\t\talpha: '1'\n\t\t\t},\n\t\t\tformat: 'sv'\n\t\t},\n\t\txyz: {\n\t\t\tvalue: {\n\t\t\t\tx: '0',\n\t\t\t\ty: '0',\n\t\t\t\tz: '0',\n\t\t\t\talpha: '1'\n\t\t\t},\n\t\t\tformat: 'xyz'\n\t\t}\n\t}\n} as const;\n\nconst mutation: MutationLog = {\n\ttimestamp: new Date().toISOString(),\n\tkey: 'default_key',\n\taction: 'update' as 'update',\n\tnewValue: { value: 'new_value' },\n\toldValue: { value: 'old_value' },\n\torigin: 'DEFAULT'\n};\n\nconst idb: DefaultsDataInterface['idb'] = {\n\tmutation\n} as const;\n\nconst unbrandedData: PaletteUnbranded = {\n\tid: `null-palette-${Date.now()}`,\n\titems: [],\n\tmetadata: {\n\t\tcustomColor: false,\n\t\tflags: {\n\t\t\tenableAlpha: false,\n\t\t\tlimitDarkness: false,\n\t\t\tlimitGrayness: false,\n\t\t\tlimitLightness: false\n\t\t},\n\t\tname: 'UNBRANDED DEFAULT PALETTE',\n\t\tswatches: 1,\n\t\ttype: '???',\n\t\ttimestamp: '???'\n\t}\n};\n\nconst unbrandedItem: PaletteItemUnbranded = {\n\tcolors: {\n\t\tcmyk: { cyan: 0, magenta: 0, yellow: 0, key: 0, alpha: 1 },\n\t\thex: { hex: '#000000FF', alpha: 'FF', numAlpha: 1 },\n\t\thsl: { hue: 0, saturation: 0, lightness: 0, alpha: 1 },\n\t\thsv: { hue: 0, saturation: 0, value: 0, alpha: 1 },\n\t\tlab: { l: 0, a: 0, b: 0, alpha: 1 },\n\t\trgb: { red: 0, green: 0, blue: 0, alpha: 1 },\n\t\txyz: { x: 0, y: 0, z: 0, alpha: 1 }\n\t},\n\tcolorStrings: {\n\t\tcmykString: {\n\t\t\tcyan: '0%',\n\t\t\tmagenta: '0%',\n\t\t\tyellow: '0%',\n\t\t\tkey: '0%',\n\t\t\talpha: '1'\n\t\t},\n\t\thexString: { hex: '#000000FF', alpha: 'FF', numAlpha: '1' },\n\t\thslString: { hue: '0', saturation: '0%', lightness: '0%', alpha: '1' },\n\t\thsvString: { hue: '0', saturation: '0%', value: '0%', alpha: '1' },\n\t\tlabString: { l: '0', a: '0', b: '0', alpha: '1' },\n\t\trgbString: { red: '0', green: '0', blue: '0', alpha: '1' },\n\t\txyzString: { x: '0', y: '0', z: '0', alpha: '1' }\n\t},\n\tcssStrings: {\n\t\tcmykCSSString: 'cmyk(0%, 0%, 0%, 100%, 1)',\n\t\thexCSSString: '#000000FF',\n\t\thslCSSString: 'hsl(0, 0%, 0%, 0)',\n\t\thsvCSSString: 'hsv(0, 0%, 0%, 0)',\n\t\tlabCSSString: 'lab(0, 0, 0, 0)',\n\t\trgbCSSString: 'rgb(0, 0, 0, 1)',\n\t\txyzCSSString: 'xyz(0, 0, 0, 0)'\n\t}\n};\n\nconst unbrandedStored: StoredPaletteUnbranded = {\n\ttableID: 1,\n\tpalette: unbrandedData\n};\n\nconst palette: DefaultsDataInterface['palette'] = {\n\tunbranded: {\n\t\tdata: unbrandedData,\n\t\titem: unbrandedItem,\n\t\tstored: unbrandedStored\n\t}\n} as const;\n\nexport const defaults: DefaultsDataInterface = {\n\tcolors,\n\tidb,\n\tpalette\n} as const;\n","import {\n\tAppLoggerInterface,\n\tModeDataInterface,\n\tMutationLog\n} from '../types/index.js';\n\nexport class AppLogger implements AppLoggerInterface {\n\tprivate static instance: AppLogger | null = null;\n\tprivate mode: ModeDataInterface;\n\n\tprivate constructor(mode: ModeDataInterface) {\n\t\tthis.mode = mode;\n\t}\n\n\tpublic static getInstance(mode: ModeDataInterface): AppLogger {\n\t\tif (!AppLogger.instance) {\n\t\t\tAppLogger.instance = new AppLogger(mode);\n\t\t}\n\t\treturn AppLogger.instance;\n\t}\n\n\tpublic log(\n\t\tmessage: string,\n\t\tlevel: 'debug' | 'info' | 'warn' | 'error' = 'info',\n\t\tdebugLevel: number = 0,\n\t\tcaller?: string\n\t): void {\n\t\tthis.logMessage(message, level, debugLevel, caller);\n\t}\n\n\tpublic async logAsync(\n\t\tmessage: string,\n\t\tlevel: 'debug' | 'info' | 'warn' | 'error' = 'info',\n\t\tdebugLevel: number = 0,\n\t\tcaller?: string\n\t): Promise<void> {\n\t\tawait this.logMessage(message, level, debugLevel, caller);\n\t}\n\n\tpublic logMutation(\n\t\tdata: MutationLog,\n\t\tlogCallback: (data: MutationLog) => void = () => {}\n\t): void {\n\t\tthis.log(this.formatMutationLog(data), 'info');\n\n\t\tlogCallback(data);\n\t}\n\n\tprivate logMessage(\n\t\tmessage: string,\n\t\tlevel: 'debug' | 'info' | 'warn' | 'error',\n\t\tdebugLevel: number,\n\t\tcaller?: string\n\t): void {\n\t\tif (\n\t\t\t(level === 'info' && this.mode.quiet) ||\n\t\t\tdebugLevel < this.getDebugThreshold(level)\n\t\t) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst callerInfo = caller || this.getCallerInfo();\n\t\tconst timestamp = this.getFormattedTimestamp();\n\n\t\ttry {\n\t\t\tconsole.log(\n\t\t\t\t`%c[${level.toUpperCase()}]%c ${timestamp} [${callerInfo}] %c${message}`,\n\t\t\t\tthis.getLevelColor(level),\n\t\t\t\t'color: gray',\n\t\t\t\t'color: inherit'\n\t\t\t);\n\t\t} catch (error) {\n\t\t\tconsole.error(\n\t\t\t\t`AppLogger encountered an unexpected error: ${error}`\n\t\t\t);\n\t\t}\n\n\t\tif (\n\t\t\tcallerInfo === 'Unknown caller' &&\n\t\t\tdebugLevel > 1 &&\n\t\t\tthis.mode.stackTrace\n\t\t) {\n\t\t\tconsole.trace('Full Stack Trace:');\n\t\t}\n\t}\n\n\tprivate formatMutationLog(data: MutationLog): string {\n\t\treturn `Mutation logged: ${JSON.stringify(data)}`;\n\t}\n\n\tprivate getDebugThreshold(\n\t\tlevel: 'debug' | 'info' | 'warn' | 'error'\n\t): number {\n\t\tswitch (level) {\n\t\t\tcase 'debug':\n\t\t\t\treturn 2;\n\t\t\tcase 'info':\n\t\t\t\treturn 1;\n\t\t\tcase 'warn':\n\t\t\t\treturn 0;\n\t\t\tcase 'error':\n\t\t\t\treturn 0;\n\t\t\tdefault:\n\t\t\t\treturn 0;\n\t\t}\n\t}\n\n\tprivate getCallerInfo(): string {\n\t\tconst stack = new Error().stack;\n\n\t\tif (stack) {\n\t\t\tconst stackLines = stack.split('\\n');\n\n\t\t\tfor (const line of stackLines) {\n\t\t\t\tif (!line.includes('AppLogger') && line.includes('at ')) {\n\t\t\t\t\tconst match =\n\t\t\t\t\t\tline.match(/at\\s+(.*)\\s+\\((.*):(\\d+):(\\d+)\\)/) ||\n\t\t\t\t\t\tline.match(/at\\s+(.*):(\\d+):(\\d+)/);\n\t\t\t\t\tif (match) {\n\t\t\t\t\t\treturn match[1]\n\t\t\t\t\t\t\t? `${match[1]} (${match[2]}:${match[3]})`\n\t\t\t\t\t\t\t: `${match[2]}:${match[3]}`;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn 'Unknown caller';\n\t}\n\n\tprivate getFormattedTimestamp(): string {\n\t\treturn new Date().toLocaleString('en-US', {\n\t\t\tyear: 'numeric',\n\t\t\tmonth: '2-digit',\n\t\t\tday: '2-digit',\n\t\t\thour: '2-digit',\n\t\t\tminute: '2-digit',\n\t\t\tsecond: '2-digit',\n\t\t\thour12: false\n\t\t});\n\t}\n\n\tprivate getLevelColor(level: 'debug' | 'info' | 'warn' | 'error'): string {\n\t\tswitch (level) {\n\t\t\tcase 'debug':\n\t\t\t\treturn 'color: green';\n\t\t\tcase 'info':\n\t\t\t\treturn 'color: blue';\n\t\t\tcase 'warn':\n\t\t\t\treturn 'color: orange';\n\t\t\tcase 'error':\n\t\t\t\treturn 'color: red';\n\t\t\tdefault:\n\t\t\t\treturn 'color: black';\n\t\t}\n\t}\n}\n","// File: src/logger/factory.ts\n\nimport { MutationLog } from '../types/index.js';\nimport { AppLogger } from './AppLogger.js';\nimport { mode } from '../common/data/base.js';\n\nexport const createLogger = async () => {\n\tconst debugLevel = mode.debugLevel;\n\tconst appLogger = AppLogger.getInstance(mode);\n\n\treturn {\n\t\tdebug: (message: string, caller?: string) =>\n\t\t\tappLogger.log(message, 'debug', debugLevel, caller),\n\t\tinfo: (message: string, caller?: string) =>\n\t\t\tappLogger.log(message, 'info', debugLevel, caller),\n\t\twarn: (message: string, caller?: string) =>\n\t\t\tappLogger.log(message, 'warn', debugLevel, caller),\n\t\terror: (message: string, caller?: string) =>\n\t\t\tappLogger.log(message, 'error', debugLevel, caller),\n\t\tmutation: (\n\t\t\tdata: MutationLog,\n\t\t\tlogCallback: (data: MutationLog) => void,\n\t\t\tcaller?: string\n\t\t) => {\n\t\t\tappLogger.logMutation(data, logCallback);\n\n\t\t\tif (caller) {\n\t\t\t\tappLogger.log(\n\t\t\t\t\t`Mutation logged by ${caller}`,\n\t\t\t\t\t'debug',\n\t\t\t\t\tdebugLevel\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t};\n};\n\nexport const createAsyncLogger = async () => {\n\tconst debugLevel = mode.debugLevel;\n\tconst appLogger = AppLogger.getInstance(mode);\n\n\treturn {\n\t\tdebug: (message: string, caller?: string) =>\n\t\t\tappLogger.logAsync(message, 'debug', debugLevel, caller),\n\t\tinfo: (message: string, caller?: string) =>\n\t\t\tappLogger.logAsync(message, 'info', debugLevel, caller),\n\t\twarn: (message: string, caller?: string) =>\n\t\t\tappLogger.logAsync(message, 'warn', debugLevel, caller),\n\t\terror: (message: string, caller?: string) =>\n\t\t\tappLogger.logAsync(message, 'error', debugLevel, caller),\n\t\tmutation: (\n\t\t\tdata: MutationLog,\n\t\t\tlogCallback: (data: MutationLog) => void,\n\t\t\tcaller?: string\n\t\t) => {\n\t\t\tappLogger.logMutation(data, logCallback);\n\n\t\t\tif (caller) {\n\t\t\t\tappLogger.logAsync(\n\t\t\t\t\t`Mutation logged by ${caller}`,\n\t\t\t\t\t'debug',\n\t\t\t\t\tdebugLevel\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t};\n};\n","const instanceOfAny = (object, constructors) => constructors.some((c) => object instanceof c);\n\nlet idbProxyableTypes;\nlet cursorAdvanceMethods;\n// This is a function to prevent it throwing up in node environments.\nfunction getIdbProxyableTypes() {\n    return (idbProxyableTypes ||\n        (idbProxyableTypes = [\n            IDBDatabase,\n            IDBObjectStore,\n            IDBIndex,\n            IDBCursor,\n            IDBTransaction,\n        ]));\n}\n// This is a function to prevent it throwing up in node environments.\nfunction getCursorAdvanceMethods() {\n    return (cursorAdvanceMethods ||\n        (cursorAdvanceMethods = [\n            IDBCursor.prototype.advance,\n            IDBCursor.prototype.continue,\n            IDBCursor.prototype.continuePrimaryKey,\n        ]));\n}\nconst transactionDoneMap = new WeakMap();\nconst transformCache = new WeakMap();\nconst reverseTransformCache = new WeakMap();\nfunction promisifyRequest(request) {\n    const promise = new Promise((resolve, reject) => {\n        const unlisten = () => {\n            request.removeEventListener('success', success);\n            request.removeEventListener('error', error);\n        };\n        const success = () => {\n            resolve(wrap(request.result));\n            unlisten();\n        };\n        const error = () => {\n            reject(request.error);\n            unlisten();\n        };\n        request.addEventListener('success', success);\n        request.addEventListener('error', error);\n    });\n    // This mapping exists in reverseTransformCache but doesn't exist in transformCache. This\n    // is because we create many promises from a single IDBRequest.\n    reverseTransformCache.set(promise, request);\n    return promise;\n}\nfunction cacheDonePromiseForTransaction(tx) {\n    // Early bail if we've already created a done promise for this transaction.\n    if (transactionDoneMap.has(tx))\n        return;\n    const done = new Promise((resolve, reject) => {\n        const unlisten = () => {\n            tx.removeEventListener('complete', complete);\n            tx.removeEventListener('error', error);\n            tx.removeEventListener('abort', error);\n        };\n        const complete = () => {\n            resolve();\n            unlisten();\n        };\n        const error = () => {\n            reject(tx.error || new DOMException('AbortError', 'AbortError'));\n            unlisten();\n        };\n        tx.addEventListener('complete', complete);\n        tx.addEventListener('error', error);\n        tx.addEventListener('abort', error);\n    });\n    // Cache it for later retrieval.\n    transactionDoneMap.set(tx, done);\n}\nlet idbProxyTraps = {\n    get(target, prop, receiver) {\n        if (target instanceof IDBTransaction) {\n            // Special handling for transaction.done.\n            if (prop === 'done')\n                return transactionDoneMap.get(target);\n            // Make tx.store return the only store in the transaction, or undefined if there are many.\n            if (prop === 'store') {\n                return receiver.objectStoreNames[1]\n                    ? undefined\n                    : receiver.objectStore(receiver.objectStoreNames[0]);\n            }\n        }\n        // Else transform whatever we get back.\n        return wrap(target[prop]);\n    },\n    set(target, prop, value) {\n        target[prop] = value;\n        return true;\n    },\n    has(target, prop) {\n        if (target instanceof IDBTransaction &&\n            (prop === 'done' || prop === 'store')) {\n            return true;\n        }\n        return prop in target;\n    },\n};\nfunction replaceTraps(callback) {\n    idbProxyTraps = callback(idbProxyTraps);\n}\nfunction wrapFunction(func) {\n    // Due to expected object equality (which is enforced by the caching in `wrap`), we\n    // only create one new func per func.\n    // Cursor methods are special, as the behaviour is a little more different to standard IDB. In\n    // IDB, you advance the cursor and wait for a new 'success' on the IDBRequest that gave you the\n    // cursor. It's kinda like a promise that can resolve with many values. That doesn't make sense\n    // with real promises, so each advance methods returns a new promise for the cursor object, or\n    // undefined if the end of the cursor has been reached.\n    if (getCursorAdvanceMethods().includes(func)) {\n        return function (...args) {\n            // Calling the original function with the proxy as 'this' causes ILLEGAL INVOCATION, so we use\n            // the original object.\n            func.apply(unwrap(this), args);\n            return wrap(this.request);\n        };\n    }\n    return function (...args) {\n        // Calling the original function with the proxy as 'this' causes ILLEGAL INVOCATION, so we use\n        // the original object.\n        return wrap(func.apply(unwrap(this), args));\n    };\n}\nfunction transformCachableValue(value) {\n    if (typeof value === 'function')\n        return wrapFunction(value);\n    // This doesn't return, it just creates a 'done' promise for the transaction,\n    // which is later returned for transaction.done (see idbObjectHandler).\n    if (value instanceof IDBTransaction)\n        cacheDonePromiseForTransaction(value);\n    if (instanceOfAny(value, getIdbProxyableTypes()))\n        return new Proxy(value, idbProxyTraps);\n    // Return the same value back if we're not going to transform it.\n    return value;\n}\nfunction wrap(value) {\n    // We sometimes generate multiple promises from a single IDBRequest (eg when cursoring), because\n    // IDB is weird and a single IDBRequest can yield many responses, so these can't be cached.\n    if (value instanceof IDBRequest)\n        return promisifyRequest(value);\n    // If we've already transformed this value before, reuse the transformed value.\n    // This is faster, but it also provides object equality.\n    if (transformCache.has(value))\n        return transformCache.get(value);\n    const newValue = transformCachableValue(value);\n    // Not all types are transformed.\n    // These may be primitive types, so they can't be WeakMap keys.\n    if (newValue !== value) {\n        transformCache.set(value, newValue);\n        reverseTransformCache.set(newValue, value);\n    }\n    return newValue;\n}\nconst unwrap = (value) => reverseTransformCache.get(value);\n\n/**\n * Open a database.\n *\n * @param name Name of the database.\n * @param version Schema version.\n * @param callbacks Additional callbacks.\n */\nfunction openDB(name, version, { blocked, upgrade, blocking, terminated } = {}) {\n    const request = indexedDB.open(name, version);\n    const openPromise = wrap(request);\n    if (upgrade) {\n        request.addEventListener('upgradeneeded', (event) => {\n            upgrade(wrap(request.result), event.oldVersion, event.newVersion, wrap(request.transaction), event);\n        });\n    }\n    if (blocked) {\n        request.addEventListener('blocked', (event) => blocked(\n        // Casting due to https://github.com/microsoft/TypeScript-DOM-lib-generator/pull/1405\n        event.oldVersion, event.newVersion, event));\n    }\n    openPromise\n        .then((db) => {\n        if (terminated)\n            db.addEventListener('close', () => terminated());\n        if (blocking) {\n            db.addEventListener('versionchange', (event) => blocking(event.oldVersion, event.newVersion, event));\n        }\n    })\n        .catch(() => { });\n    return openPromise;\n}\n/**\n * Delete a database.\n *\n * @param name Name of the database.\n */\nfunction deleteDB(name, { blocked } = {}) {\n    const request = indexedDB.deleteDatabase(name);\n    if (blocked) {\n        request.addEventListener('blocked', (event) => blocked(\n        // Casting due to https://github.com/microsoft/TypeScript-DOM-lib-generator/pull/1405\n        event.oldVersion, event));\n    }\n    return wrap(request).then(() => undefined);\n}\n\nconst readMethods = ['get', 'getKey', 'getAll', 'getAllKeys', 'count'];\nconst writeMethods = ['put', 'add', 'delete', 'clear'];\nconst cachedMethods = new Map();\nfunction getMethod(target, prop) {\n    if (!(target instanceof IDBDatabase &&\n        !(prop in target) &&\n        typeof prop === 'string')) {\n        return;\n    }\n    if (cachedMethods.get(prop))\n        return cachedMethods.get(prop);\n    const targetFuncName = prop.replace(/FromIndex$/, '');\n    const useIndex = prop !== targetFuncName;\n    const isWrite = writeMethods.includes(targetFuncName);\n    if (\n    // Bail if the target doesn't exist on the target. Eg, getAll isn't in Edge.\n    !(targetFuncName in (useIndex ? IDBIndex : IDBObjectStore).prototype) ||\n        !(isWrite || readMethods.includes(targetFuncName))) {\n        return;\n    }\n    const method = async function (storeName, ...args) {\n        // isWrite ? 'readwrite' : undefined gzipps better, but fails in Edge :(\n        const tx = this.transaction(storeName, isWrite ? 'readwrite' : 'readonly');\n        let target = tx.store;\n        if (useIndex)\n            target = target.index(args.shift());\n        // Must reject if op rejects.\n        // If it's a write operation, must reject if tx.done rejects.\n        // Must reject with op rejection first.\n        // Must resolve with op value.\n        // Must handle both promises (no unhandled rejections)\n        return (await Promise.all([\n            target[targetFuncName](...args),\n            isWrite && tx.done,\n        ]))[0];\n    };\n    cachedMethods.set(prop, method);\n    return method;\n}\nreplaceTraps((oldTraps) => ({\n    ...oldTraps,\n    get: (target, prop, receiver) => getMethod(target, prop) || oldTraps.get(target, prop, receiver),\n    has: (target, prop) => !!getMethod(target, prop) || oldTraps.has(target, prop),\n}));\n\nconst advanceMethodProps = ['continue', 'continuePrimaryKey', 'advance'];\nconst methodMap = {};\nconst advanceResults = new WeakMap();\nconst ittrProxiedCursorToOriginalProxy = new WeakMap();\nconst cursorIteratorTraps = {\n    get(target, prop) {\n        if (!advanceMethodProps.includes(prop))\n            return target[prop];\n        let cachedFunc = methodMap[prop];\n        if (!cachedFunc) {\n            cachedFunc = methodMap[prop] = function (...args) {\n                advanceResults.set(this, ittrProxiedCursorToOriginalProxy.get(this)[prop](...args));\n            };\n        }\n        return cachedFunc;\n    },\n};\nasync function* iterate(...args) {\n    // tslint:disable-next-line:no-this-assignment\n    let cursor = this;\n    if (!(cursor instanceof IDBCursor)) {\n        cursor = await cursor.openCursor(...args);\n    }\n    if (!cursor)\n        return;\n    cursor = cursor;\n    const proxiedCursor = new Proxy(cursor, cursorIteratorTraps);\n    ittrProxiedCursorToOriginalProxy.set(proxiedCursor, cursor);\n    // Map this double-proxy back to the original, so other cursor methods work.\n    reverseTransformCache.set(proxiedCursor, unwrap(cursor));\n    while (cursor) {\n        yield proxiedCursor;\n        // If one of the advancing methods was not called, call continue().\n        cursor = await (advanceResults.get(proxiedCursor) || cursor.continue());\n        advanceResults.delete(proxiedCursor);\n    }\n}\nfunction isIteratorProp(target, prop) {\n    return ((prop === Symbol.asyncIterator &&\n        instanceOfAny(target, [IDBIndex, IDBObjectStore, IDBCursor])) ||\n        (prop === 'iterate' && instanceOfAny(target, [IDBIndex, IDBObjectStore])));\n}\nreplaceTraps((oldTraps) => ({\n    ...oldTraps,\n    get(target, prop, receiver) {\n        if (isIteratorProp(target, prop))\n            return iterate;\n        return oldTraps.get(target, prop, receiver);\n    },\n    has(target, prop) {\n        return isIteratorProp(target, prop) || oldTraps.has(target, prop);\n    },\n}));\n\nexport { deleteDB, openDB, unwrap, wrap };\n","// File: src/db/initialize.ts\n\nimport { openDB, IDBPDatabase } from 'idb';\nimport { PaletteSchema } from '../types/index.js';\nimport { config } from '../common/data/base.js';\n\nconst dbConfig = config.db;\n\nexport async function initializeDB(): Promise<IDBPDatabase<PaletteSchema>> {\n\treturn openDB<PaletteSchema>('paletteDB', 1, {\n\t\tupgrade: db => {\n\t\t\tconst storeNames = Object.values(dbConfig.STORE_NAMES);\n\n\t\t\tstoreNames.forEach(storeName => {\n\t\t\t\tif (!db.objectStoreNames.contains(storeName)) {\n\t\t\t\t\tdb.createObjectStore(storeName, { keyPath: 'key' });\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n}\n","// File: src/classes/mutations/MutationTracker\n\nimport { openDB } from 'idb';\nimport {\n\tConfigDataInterface,\n\tModeDataInterface,\n\tMutationLog,\n\tMutationTrackerInterface,\n\tPaletteDB,\n\tPaletteSchema\n} from '../../types/index.js';\nimport { AppLogger } from '../../logger/AppLogger.js';\n\nexport class MutationTracker implements MutationTrackerInterface {\n\tprivate static instance: MutationTracker;\n\tprivate appLogger: AppLogger;\n\tprivate mode: ModeDataInterface;\n\tprivate storeNames: ConfigDataInterface['db']['STORE_NAMES'];\n\n\tconstructor(dbData: ConfigDataInterface['db'], mode: ModeDataInterface) {\n\t\tthis.appLogger = AppLogger.getInstance(mode);\n\t\tthis.storeNames = dbData.STORE_NAMES;\n\t\tthis.mode = mode;\n\t}\n\n\tpublic static getInstance(\n\t\tdbData: ConfigDataInterface['db'],\n\t\tmode: ModeDataInterface\n\t): MutationTracker {\n\t\tif (!MutationTracker.instance) {\n\t\t\tMutationTracker.instance = new MutationTracker(dbData, mode);\n\t\t}\n\n\t\treturn MutationTracker.instance;\n\t}\n\n\tpublic async persistMutation(data: MutationLog): Promise<void> {\n\t\tconst db = await this.getDB();\n\n\t\tawait db.put('mutations', data);\n\n\t\tthis.appLogger.log(\n\t\t\t`Persisted mutation: ${JSON.stringify(data)}`,\n\t\t\t'info',\n\t\t\tthis.mode.debugLevel,\n\t\t\t'MutationTracker.persistMutation()'\n\t\t);\n\t}\n\n\tprivate async getDB(): Promise<PaletteDB> {\n\t\treturn openDB<PaletteSchema>('paletteDB', 1, {\n\t\t\tupgrade: db => {\n\t\t\t\tconst storeNames = Object.values(this.storeNames);\n\n\t\t\t\tfor (const storeName of storeNames) {\n\t\t\t\t\tif (!db.objectStoreNames.contains(storeName)) {\n\t\t\t\t\t\tdb.createObjectStore(storeName, { keyPath: 'key' });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n}\n","// File: src/db/storeUtils.ts\n\nimport { IDBPDatabase, IDBPObjectStore } from 'idb';\nimport { PaletteSchema } from '../types/index.js';\n\nasync function withStore<\n\tStoreName extends keyof PaletteSchema,\n\tMode extends 'readonly' | 'readwrite'\n>(\n\tdb: IDBPDatabase<PaletteSchema>,\n\tstoreName: StoreName,\n\tmode: Mode,\n\tcallback: (\n\t\tstore: IDBPObjectStore<PaletteSchema, [StoreName], StoreName, Mode>\n\t) => void\n): Promise<void> {\n\tconst tx = db.transaction(storeName, mode);\n\tconst store = tx.objectStore(storeName);\n\n\tcallback(store);\n\n\tawait tx.done;\n}\n\nexport const storeUtils = {\n\twithStore\n};\n","// File: src/common/core/index.js\n\nimport { CommonFunctionsMasterInterface } from '../../types/index.js';\nimport {\n\tbase,\n\tbrand,\n\tbrandColor,\n\tconvert,\n\tguards,\n\tother,\n\tsanitize,\n\tvalidate\n} from './base.js';\n\nexport const core: CommonFunctionsMasterInterface['core'] = {\n\tbase,\n\tbrand,\n\tbrandColor,\n\tconvert,\n\tguards,\n\t...other,\n\tsanitize,\n\tvalidate\n} as const;\n","// File: src/common/helpers/conversion.js\n\nimport {\n\tCommonFunctionsMasterInterface,\n\tHSL,\n\tHSLValue,\n\tRGB\n} from '../../types/index.js';\nimport { createLogger } from '../../logger/index.js';\nimport { defaults, mode } from '../data/base.js';\nimport { core } from '../core/index.js';\n\nconst logger = await createLogger();\n\nconst logMode = mode.logging;\n\nexport function applyGammaCorrection(value: number): number {\n\ttry {\n\t\treturn value > 0.0031308\n\t\t\t? 1.055 * Math.pow(value, 1 / 2.4) - 0.055\n\t\t\t: 12.92 * value;\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`Error applying gamma correction: ${error}`,\n\t\t\t\t'applyGammaCorrection()'\n\t\t\t);\n\n\t\treturn value;\n\t}\n}\n\nexport function clampRGB(rgb: RGB): RGB {\n\tconst defaultRGBUnbranded = core.base.clone(\n\t\tdefaults.colors.base.unbranded.rgb\n\t);\n\tconst defaultRGBBranded = core.brandColor.asRGB(defaultRGBUnbranded);\n\n\tif (!core.validate.colorValues(rgb)) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`Invalid RGB value ${JSON.stringify(rgb)}`,\n\t\t\t\t'clampRGB()'\n\t\t\t);\n\n\t\treturn defaultRGBBranded;\n\t}\n\n\ttry {\n\t\treturn {\n\t\t\tvalue: {\n\t\t\t\tred: core.brand.asByteRange(\n\t\t\t\t\tMath.round(Math.min(Math.max(0, rgb.value.red), 1) * 255)\n\t\t\t\t),\n\t\t\t\tgreen: core.brand.asByteRange(\n\t\t\t\t\tMath.round(Math.min(Math.max(0, rgb.value.green), 1) * 255)\n\t\t\t\t),\n\t\t\t\tblue: core.brand.asByteRange(\n\t\t\t\t\tMath.round(Math.min(Math.max(0, rgb.value.blue), 1) * 255)\n\t\t\t\t),\n\t\t\t\talpha: core.brand.asAlphaRange(\n\t\t\t\t\tparseFloat(\n\t\t\t\t\t\tMath.min(Math.max(0, rgb.value.alpha), 1).toFixed(2)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t},\n\t\t\tformat: 'rgb'\n\t\t};\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(`Error clamping RGB values: ${error}`, 'clampRGB()');\n\n\t\treturn rgb;\n\t}\n}\n\nexport function hueToRGB(p: number, q: number, t: number): number {\n\ttry {\n\t\tconst clonedP = core.base.clone(p);\n\t\tconst clonedQ = core.base.clone(q);\n\n\t\tlet clonedT = core.base.clone(t);\n\n\t\tif (clonedT < 0) clonedT += 1;\n\t\tif (clonedT > 1) clonedT -= 1;\n\t\tif (clonedT < 1 / 6) return clonedP + (clonedQ - clonedP) * 6 * clonedT;\n\t\tif (clonedT < 1 / 2) return clonedQ;\n\t\tif (clonedT < 2 / 3)\n\t\t\treturn clonedP + (clonedQ - clonedP) * (2 / 3 - clonedT) * 6;\n\n\t\treturn clonedP;\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(`Error converting hue to RGB: ${error}`, 'hueToRGB()');\n\n\t\treturn 0;\n\t}\n}\n\nexport function hslAddFormat(value: HSLValue): HSL {\n\tconst defaultHSLUnbranded = core.base.clone(\n\t\tdefaults.colors.base.unbranded.hsl\n\t);\n\tconst defaultHSLBranded = core.brandColor.asHSL(defaultHSLUnbranded);\n\n\ttry {\n\t\tif (!core.validate.colorValues({ value: value, format: 'hsl' })) {\n\t\t\tif (logMode.error)\n\t\t\t\tlogger.error(\n\t\t\t\t\t`Invalid HSL value ${JSON.stringify(value)}`,\n\t\t\t\t\t'hslAddFormat()'\n\t\t\t\t);\n\n\t\t\treturn defaultHSLBranded;\n\t\t}\n\n\t\treturn { value: value, format: 'hsl' } as HSL;\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(`Error adding HSL format: ${error}`, 'hslAddFormat()');\n\n\t\treturn defaultHSLBranded;\n\t}\n}\n\nexport const conversion: CommonFunctionsMasterInterface['helpers']['conversion'] =\n\t{\n\t\tapplyGammaCorrection,\n\t\tclampRGB,\n\t\thslAddFormat,\n\t\thueToRGB\n\t} as const;\n","// File: src/common/transform/base.js\n\nimport {\n\tColor,\n\tColorUnbranded,\n\tCommonFunctionsMasterInterface,\n\tHex,\n\tPalette,\n\tPaletteUnbranded\n} from '../../types/index.js';\nimport { brand } from '../core/base.js';\nimport { createLogger } from '../../logger/index.js';\nimport { mode } from '../data/base.js';\n\nconst logger = await createLogger();\n\nfunction addHashToHex(hex: Hex): Hex {\n\ttry {\n\t\treturn hex.value.hex.startsWith('#')\n\t\t\t? hex\n\t\t\t: {\n\t\t\t\t\tvalue: {\n\t\t\t\t\t\thex: brand.asHexSet(`#${hex.value}}`),\n\t\t\t\t\t\talpha: brand.asHexComponent(`#$hex.value.alpha`),\n\t\t\t\t\t\tnumAlpha: brand.asAlphaRange(hex.value.numAlpha)\n\t\t\t\t\t},\n\t\t\t\t\tformat: 'hex' as 'hex'\n\t\t\t\t};\n\t} catch (error) {\n\t\tthrow new Error(`addHashToHex error: ${error}`);\n\t}\n}\nfunction brandPalette(data: PaletteUnbranded): Palette {\n\treturn {\n\t\t...data,\n\t\tmetadata: {\n\t\t\t...data.metadata,\n\t\t\tcustomColor: data.metadata.customColor\n\t\t\t\t? {\n\t\t\t\t\t\tcolors: {\n\t\t\t\t\t\t\tcmyk: {\n\t\t\t\t\t\t\t\tcyan: brand.asPercentile(\n\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.cmyk\n\t\t\t\t\t\t\t\t\t\t.cyan ?? 0\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\tmagenta: brand.asPercentile(\n\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.cmyk\n\t\t\t\t\t\t\t\t\t\t.magenta ?? 0\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\tyellow: brand.asPercentile(\n\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.cmyk\n\t\t\t\t\t\t\t\t\t\t.yellow ?? 0\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\tkey: brand.asPercentile(\n\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.cmyk.key ??\n\t\t\t\t\t\t\t\t\t\t0\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\talpha: brand.asAlphaRange(\n\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.cmyk\n\t\t\t\t\t\t\t\t\t\t.alpha ?? 1\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\thex: {\n\t\t\t\t\t\t\t\thex: brand.asHexSet(\n\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.hex.hex ??\n\t\t\t\t\t\t\t\t\t\t'#000000FF'\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\talpha: brand.asHexComponent(\n\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.hex\n\t\t\t\t\t\t\t\t\t\t.alpha ?? 'FF'\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\tnumAlpha: brand.asAlphaRange(\n\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.hex\n\t\t\t\t\t\t\t\t\t\t.numAlpha ?? 1\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\thsl: {\n\t\t\t\t\t\t\t\thue: brand.asRadial(\n\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.hsl.hue ??\n\t\t\t\t\t\t\t\t\t\t0\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\tsaturation: brand.asPercentile(\n\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.hsl\n\t\t\t\t\t\t\t\t\t\t.saturation ?? 0\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\tlightness: brand.asPercentile(\n\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.hsl\n\t\t\t\t\t\t\t\t\t\t.lightness ?? 0\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\talpha: brand.asAlphaRange(\n\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.hsl\n\t\t\t\t\t\t\t\t\t\t.alpha ?? 1\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\thsv: {\n\t\t\t\t\t\t\t\thue: brand.asRadial(\n\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.hsv.hue ??\n\t\t\t\t\t\t\t\t\t\t0\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\tsaturation: brand.asPercentile(\n\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.hsv\n\t\t\t\t\t\t\t\t\t\t.saturation ?? 0\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\tvalue: brand.asPercentile(\n\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.hsv\n\t\t\t\t\t\t\t\t\t\t.value ?? 0\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\talpha: brand.asAlphaRange(\n\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.hsv\n\t\t\t\t\t\t\t\t\t\t.alpha ?? 1\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tlab: {\n\t\t\t\t\t\t\t\tl: brand.asLAB_L(\n\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.lab.l ?? 0\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\ta: brand.asLAB_A(\n\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.lab.a ?? 0\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\tb: brand.asLAB_B(\n\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.lab.b ?? 0\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\talpha: brand.asAlphaRange(\n\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.lab\n\t\t\t\t\t\t\t\t\t\t.alpha ?? 1\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\trgb: {\n\t\t\t\t\t\t\t\tred: brand.asByteRange(\n\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.rgb.red ??\n\t\t\t\t\t\t\t\t\t\t0\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\tgreen: brand.asByteRange(\n\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.rgb\n\t\t\t\t\t\t\t\t\t\t.green ?? 0\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\tblue: brand.asByteRange(\n\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.rgb.blue ??\n\t\t\t\t\t\t\t\t\t\t0\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\talpha: brand.asAlphaRange(\n\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.rgb\n\t\t\t\t\t\t\t\t\t\t.alpha ?? 1\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\txyz: {\n\t\t\t\t\t\t\t\tx: brand.asXYZ_X(\n\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.xyz.x ?? 0\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\ty: brand.asXYZ_Y(\n\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.xyz.y ?? 0\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\tz: brand.asXYZ_Z(\n\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.xyz.z ?? 0\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\talpha: brand.asAlphaRange(\n\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.xyz\n\t\t\t\t\t\t\t\t\t\t.alpha ?? 1\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcolorStrings: {\n\t\t\t\t\t\t\tcmykString: {\n\t\t\t\t\t\t\t\tcyan: String(\n\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.cmyk\n\t\t\t\t\t\t\t\t\t\t.cyan ?? 0\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\tmagenta: String(\n\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.cmyk\n\t\t\t\t\t\t\t\t\t\t.magenta ?? 0\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\tyellow: String(\n\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.cmyk\n\t\t\t\t\t\t\t\t\t\t.yellow ?? 0\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\tkey: String(\n\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.cmyk.key ??\n\t\t\t\t\t\t\t\t\t\t0\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\talpha: String(\n\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.cmyk\n\t\t\t\t\t\t\t\t\t\t.alpha ?? 1\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\thexString: {\n\t\t\t\t\t\t\t\thex: String(\n\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.hex.hex ??\n\t\t\t\t\t\t\t\t\t\t'#000000FF'\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\talpha: String(\n\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.hex\n\t\t\t\t\t\t\t\t\t\t.alpha ?? 'FF'\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\tnumAlpha: String(\n\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.hex\n\t\t\t\t\t\t\t\t\t\t.numAlpha ?? 1\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\thslString: {\n\t\t\t\t\t\t\t\thue: String(\n\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.hsl.hue ??\n\t\t\t\t\t\t\t\t\t\t0\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\tsaturation: String(\n\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.hsl\n\t\t\t\t\t\t\t\t\t\t.saturation ?? 0\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\tlightness: String(\n\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.hsl\n\t\t\t\t\t\t\t\t\t\t.lightness ?? 0\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\talpha: String(\n\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.hsl\n\t\t\t\t\t\t\t\t\t\t.alpha ?? 1\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\thsvString: {\n\t\t\t\t\t\t\t\thue: String(\n\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.hsv.hue ??\n\t\t\t\t\t\t\t\t\t\t0\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\tsaturation: String(\n\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.hsv\n\t\t\t\t\t\t\t\t\t\t.saturation ?? 0\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\tvalue: String(\n\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.hsv\n\t\t\t\t\t\t\t\t\t\t.value ?? 0\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\talpha: String(\n\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.hsv\n\t\t\t\t\t\t\t\t\t\t.alpha ?? 1\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tlabString: {\n\t\t\t\t\t\t\t\tl: String(\n\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.lab.l ?? 0\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\ta: String(\n\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.lab.a ?? 0\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\tb: String(\n\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.lab.b ?? 0\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\talpha: String(\n\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.lab\n\t\t\t\t\t\t\t\t\t\t.alpha ?? 1\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\trgbString: {\n\t\t\t\t\t\t\t\tred: String(\n\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.rgb.red ??\n\t\t\t\t\t\t\t\t\t\t0\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\tgreen: String(\n\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.rgb\n\t\t\t\t\t\t\t\t\t\t.green ?? 0\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\tblue: String(\n\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.rgb.blue ??\n\t\t\t\t\t\t\t\t\t\t0\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\talpha: String(\n\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.rgb\n\t\t\t\t\t\t\t\t\t\t.alpha ?? 1\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\txyzString: {\n\t\t\t\t\t\t\t\tx: String(\n\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.xyz.x ?? 0\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\ty: String(\n\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.xyz.y ?? 0\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\tz: String(\n\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.xyz.z ?? 0\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\talpha: String(\n\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.xyz\n\t\t\t\t\t\t\t\t\t\t.alpha ?? 1\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcssStrings: {\n\t\t\t\t\t\t\tcmykCSSString: `cmyk(${data.metadata.customColor.colors.cmyk.cyan}%, ${data.metadata.customColor.colors.cmyk.magenta}%, ${data.metadata.customColor.colors.cmyk.yellow}%, ${data.metadata.customColor.colors.cmyk.key}%)`,\n\t\t\t\t\t\t\thexCSSString: `${data.metadata.customColor.colors.hex.hex}${data.metadata.customColor.colors.hex.alpha}`,\n\t\t\t\t\t\t\thslCSSString: `hsl(${data.metadata.customColor.colors.hsl.hue}, ${data.metadata.customColor.colors.hsl.saturation}%, ${data.metadata.customColor.colors.hsl.lightness}%)`,\n\t\t\t\t\t\t\thsvCSSString: `hsv(${data.metadata.customColor.colors.hsv.hue}, ${data.metadata.customColor.colors.hsv.saturation}%, ${data.metadata.customColor.colors.hsv.value}%)`,\n\t\t\t\t\t\t\tlabCSSString: `lab(${data.metadata.customColor.colors.lab.l}, ${data.metadata.customColor.colors.lab.a}, ${data.metadata.customColor.colors.lab.b})`,\n\t\t\t\t\t\t\trgbCSSString: `rgb(${data.metadata.customColor.colors.rgb.red}, ${data.metadata.customColor.colors.rgb.green}, ${data.metadata.customColor.colors.rgb.blue})`,\n\t\t\t\t\t\t\txyzCSSString: `xyz(${data.metadata.customColor.colors.xyz.x}, ${data.metadata.customColor.colors.xyz.y}, ${data.metadata.customColor.colors.xyz.z})`\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t: false\n\t\t},\n\t\titems: data.items.map(item => ({\n\t\t\tcolors: {\n\t\t\t\tcmyk: {\n\t\t\t\t\tcyan: brand.asPercentile(item.colors.cmyk.cyan ?? 0),\n\t\t\t\t\tmagenta: brand.asPercentile(item.colors.cmyk.magenta ?? 0),\n\t\t\t\t\tyellow: brand.asPercentile(item.colors.cmyk.yellow ?? 0),\n\t\t\t\t\tkey: brand.asPercentile(item.colors.cmyk.key ?? 0),\n\t\t\t\t\talpha: brand.asAlphaRange(item.colors.cmyk.alpha ?? 1)\n\t\t\t\t},\n\t\t\t\thex: {\n\t\t\t\t\thex: brand.asHexSet(item.colors.hex.hex ?? '#000000FF'),\n\t\t\t\t\talpha: brand.asHexComponent(item.colors.hex.alpha ?? 'FF'),\n\t\t\t\t\tnumAlpha: brand.asAlphaRange(item.colors.hex.numAlpha ?? 1)\n\t\t\t\t},\n\t\t\t\thsl: {\n\t\t\t\t\thue: brand.asRadial(item.colors.hsl.hue ?? 0),\n\t\t\t\t\tsaturation: brand.asPercentile(\n\t\t\t\t\t\titem.colors.hsl.saturation ?? 0\n\t\t\t\t\t),\n\t\t\t\t\tlightness: brand.asPercentile(\n\t\t\t\t\t\titem.colors.hsl.lightness ?? 0\n\t\t\t\t\t),\n\t\t\t\t\talpha: brand.asAlphaRange(item.colors.hsl.alpha ?? 1)\n\t\t\t\t},\n\t\t\t\thsv: {\n\t\t\t\t\thue: brand.asRadial(item.colors.hsv.hue ?? 0),\n\t\t\t\t\tsaturation: brand.asPercentile(\n\t\t\t\t\t\titem.colors.hsv.saturation ?? 0\n\t\t\t\t\t),\n\t\t\t\t\tvalue: brand.asPercentile(item.colors.hsv.value ?? 0),\n\t\t\t\t\talpha: brand.asAlphaRange(item.colors.hsv.alpha ?? 1)\n\t\t\t\t},\n\t\t\t\tlab: {\n\t\t\t\t\tl: brand.asLAB_L(item.colors.lab.l ?? 0),\n\t\t\t\t\ta: brand.asLAB_A(item.colors.lab.a ?? 0),\n\t\t\t\t\tb: brand.asLAB_B(item.colors.lab.b ?? 0),\n\t\t\t\t\talpha: brand.asAlphaRange(item.colors.lab.alpha ?? 1)\n\t\t\t\t},\n\t\t\t\trgb: {\n\t\t\t\t\tred: brand.asByteRange(item.colors.rgb.red ?? 0),\n\t\t\t\t\tgreen: brand.asByteRange(item.colors.rgb.green ?? 0),\n\t\t\t\t\tblue: brand.asByteRange(item.colors.rgb.blue ?? 0),\n\t\t\t\t\talpha: brand.asAlphaRange(item.colors.rgb.alpha ?? 1)\n\t\t\t\t},\n\t\t\t\txyz: {\n\t\t\t\t\tx: brand.asXYZ_X(item.colors.xyz.x ?? 0),\n\t\t\t\t\ty: brand.asXYZ_Y(item.colors.xyz.y ?? 0),\n\t\t\t\t\tz: brand.asXYZ_Z(item.colors.xyz.z ?? 0),\n\t\t\t\t\talpha: brand.asAlphaRange(item.colors.xyz.alpha ?? 1)\n\t\t\t\t}\n\t\t\t},\n\t\t\tcolorStrings: {\n\t\t\t\tcmykString: {\n\t\t\t\t\tcyan: String(item.colors.cmyk.cyan ?? 0),\n\t\t\t\t\tmagenta: String(item.colors.cmyk.magenta ?? 0),\n\t\t\t\t\tyellow: String(item.colors.cmyk.yellow ?? 0),\n\t\t\t\t\tkey: String(item.colors.cmyk.key ?? 0),\n\t\t\t\t\talpha: String(item.colors.cmyk.alpha ?? 1)\n\t\t\t\t},\n\t\t\t\thexString: {\n\t\t\t\t\thex: String(item.colors.hex.hex ?? '#000000FF'),\n\t\t\t\t\talpha: String(item.colors.hex.alpha ?? 'FF'),\n\t\t\t\t\tnumAlpha: String(item.colors.hex.numAlpha ?? 1)\n\t\t\t\t},\n\t\t\t\thslString: {\n\t\t\t\t\thue: String(item.colors.hsl.hue ?? 0),\n\t\t\t\t\tsaturation: String(item.colors.hsl.saturation ?? 0),\n\t\t\t\t\tlightness: String(item.colors.hsl.lightness ?? 0),\n\t\t\t\t\talpha: String(item.colors.hsl.alpha ?? 1)\n\t\t\t\t},\n\t\t\t\thsvString: {\n\t\t\t\t\thue: String(item.colors.hsv.hue ?? 0),\n\t\t\t\t\tsaturation: String(item.colors.hsv.saturation ?? 0),\n\t\t\t\t\tvalue: String(item.colors.hsv.value ?? 0),\n\t\t\t\t\talpha: String(item.colors.hsv.alpha ?? 1)\n\t\t\t\t},\n\t\t\t\tlabString: {\n\t\t\t\t\tl: String(item.colors.lab.l ?? 0),\n\t\t\t\t\ta: String(item.colors.lab.a ?? 0),\n\t\t\t\t\tb: String(item.colors.lab.b ?? 0),\n\t\t\t\t\talpha: String(item.colors.lab.alpha ?? 1)\n\t\t\t\t},\n\t\t\t\trgbString: {\n\t\t\t\t\tred: String(item.colors.rgb.red ?? 0),\n\t\t\t\t\tgreen: String(item.colors.rgb.green ?? 0),\n\t\t\t\t\tblue: String(item.colors.rgb.blue ?? 0),\n\t\t\t\t\talpha: String(item.colors.rgb.alpha ?? 1)\n\t\t\t\t},\n\t\t\t\txyzString: {\n\t\t\t\t\tx: String(item.colors.xyz.x ?? 0),\n\t\t\t\t\ty: String(item.colors.xyz.y ?? 0),\n\t\t\t\t\tz: String(item.colors.xyz.z ?? 0),\n\t\t\t\t\talpha: String(item.colors.xyz.alpha ?? 1)\n\t\t\t\t}\n\t\t\t},\n\t\t\tcssStrings: {\n\t\t\t\tcmykCSSString: `cmyk(${item.colors.cmyk.cyan}%, ${item.colors.cmyk.magenta}%, ${item.colors.cmyk.yellow}%, ${item.colors.cmyk.key}%)`,\n\t\t\t\thexCSSString: item.colors.hex.hex,\n\t\t\t\thslCSSString: `hsl(${item.colors.hsl.hue}, ${item.colors.hsl.saturation}%, ${item.colors.hsl.lightness}%)`,\n\t\t\t\thsvCSSString: `hsv(${item.colors.hsv.hue}, ${item.colors.hsv.saturation}%, ${item.colors.hsv.value}%)`,\n\t\t\t\tlabCSSString: `lab(${item.colors.lab.l}, ${item.colors.lab.a}, ${item.colors.lab.b})`,\n\t\t\t\trgbCSSString: `rgb(${item.colors.rgb.red}, ${item.colors.rgb.green}, ${item.colors.rgb.blue})`,\n\t\t\t\txyzCSSString: `xyz(${item.colors.xyz.x}, ${item.colors.xyz.y}, ${item.colors.xyz.z})`\n\t\t\t}\n\t\t}))\n\t};\n}\n\nfunction componentToHex(component: number): string {\n\ttry {\n\t\tconst hex = Math.max(0, Math.min(255, component)).toString(16);\n\n\t\treturn hex.length === 1 ? '0' + hex : hex;\n\t} catch (error) {\n\t\tif (!mode.quiet && mode.logging.error)\n\t\t\tlogger.error(`componentToHex error: ${error}`);\n\n\t\treturn '00';\n\t}\n}\n\nfunction defaultColorValue(color: ColorUnbranded): Color {\n\tswitch (color.format) {\n\t\tcase 'cmyk':\n\t\t\treturn {\n\t\t\t\tvalue: {\n\t\t\t\t\tcyan: brand.asPercentile(0),\n\t\t\t\t\tmagenta: brand.asPercentile(0),\n\t\t\t\t\tyellow: brand.asPercentile(0),\n\t\t\t\t\tkey: brand.asPercentile(0),\n\t\t\t\t\talpha: brand.asAlphaRange(1)\n\t\t\t\t},\n\t\t\t\tformat: 'cmyk'\n\t\t\t};\n\t\tcase 'hex':\n\t\t\treturn {\n\t\t\t\tvalue: {\n\t\t\t\t\thex: brand.asHexSet('#000000'),\n\t\t\t\t\talpha: brand.asHexComponent('FF'),\n\t\t\t\t\tnumAlpha: brand.asAlphaRange(1)\n\t\t\t\t},\n\t\t\t\tformat: 'hex'\n\t\t\t};\n\t\tcase 'hsl':\n\t\t\treturn {\n\t\t\t\tvalue: {\n\t\t\t\t\thue: brand.asRadial(0),\n\t\t\t\t\tsaturation: brand.asPercentile(0),\n\t\t\t\t\tlightness: brand.asPercentile(0),\n\t\t\t\t\talpha: brand.asAlphaRange(1)\n\t\t\t\t},\n\t\t\t\tformat: 'hsl'\n\t\t\t};\n\t\tcase 'hsv':\n\t\t\treturn {\n\t\t\t\tvalue: {\n\t\t\t\t\thue: brand.asRadial(0),\n\t\t\t\t\tsaturation: brand.asPercentile(0),\n\t\t\t\t\tvalue: brand.asPercentile(0),\n\t\t\t\t\talpha: brand.asAlphaRange(1)\n\t\t\t\t},\n\t\t\t\tformat: 'hsv'\n\t\t\t};\n\t\tcase 'lab':\n\t\t\treturn {\n\t\t\t\tvalue: {\n\t\t\t\t\tl: brand.asLAB_L(0),\n\t\t\t\t\ta: brand.asLAB_A(0),\n\t\t\t\t\tb: brand.asLAB_B(0),\n\t\t\t\t\talpha: brand.asAlphaRange(1)\n\t\t\t\t},\n\t\t\t\tformat: 'lab'\n\t\t\t};\n\t\tcase 'rgb':\n\t\t\treturn {\n\t\t\t\tvalue: {\n\t\t\t\t\tred: brand.asByteRange(0),\n\t\t\t\t\tgreen: brand.asByteRange(0),\n\t\t\t\t\tblue: brand.asByteRange(0),\n\t\t\t\t\talpha: brand.asAlphaRange(1)\n\t\t\t\t},\n\t\t\t\tformat: 'rgb'\n\t\t\t};\n\t\tcase 'sl':\n\t\t\treturn {\n\t\t\t\tvalue: {\n\t\t\t\t\tsaturation: brand.asPercentile(0),\n\t\t\t\t\tlightness: brand.asPercentile(0),\n\t\t\t\t\talpha: brand.asAlphaRange(1)\n\t\t\t\t},\n\t\t\t\tformat: 'sl'\n\t\t\t};\n\t\tcase 'sv':\n\t\t\treturn {\n\t\t\t\tvalue: {\n\t\t\t\t\tsaturation: brand.asPercentile(0),\n\t\t\t\t\tvalue: brand.asPercentile(0),\n\t\t\t\t\talpha: brand.asAlphaRange(1)\n\t\t\t\t},\n\t\t\t\tformat: 'sv'\n\t\t\t};\n\t\tcase 'xyz':\n\t\t\treturn {\n\t\t\t\tvalue: {\n\t\t\t\t\tx: brand.asXYZ_X(0),\n\t\t\t\t\ty: brand.asXYZ_Y(0),\n\t\t\t\t\tz: brand.asXYZ_Z(0),\n\t\t\t\t\talpha: brand.asAlphaRange(1)\n\t\t\t\t},\n\t\t\t\tformat: 'xyz'\n\t\t\t};\n\t\tdefault:\n\t\t\tthrow new Error(`\n\t\t\t\tUnknown color format\\nDetails: ${JSON.stringify(color)}`);\n\t}\n}\n\nexport const base: CommonFunctionsMasterInterface['transform'] = {\n\taddHashToHex,\n\tcomponentToHex,\n\tbrandPalette,\n\tdefaultColorValue\n};\n\nexport { componentToHex };\n","// File: src/common/utils/color.js\n\nimport {\n\tCMYK,\n\tCMYKString,\n\tCMYKValue,\n\tCMYKValueString,\n\tColor,\n\tColorSpace,\n\tColorSpaceExtended,\n\tColorString,\n\tCommonFunctionsMasterInterface,\n\tFormat,\n\tHex,\n\tHexString,\n\tHexValue,\n\tHexValueString,\n\tHSL,\n\tHSLString,\n\tHSLValue,\n\tHSLValueString,\n\tHSV,\n\tHSVString,\n\tHSVValue,\n\tHSVValueString,\n\tLAB,\n\tLABValue,\n\tLABValueString,\n\tRGB,\n\tRGBValue,\n\tRGBValueString,\n\tSL,\n\tSLString,\n\tStoredPalette,\n\tSV,\n\tSVString,\n\tXYZ,\n\tXYZValue,\n\tXYZValueString\n} from '../../types/index.js';\nimport { core } from '../core/index.js';\nimport { createLogger } from '../../logger/index.js';\nimport { defaults, mode } from '../data/base.js';\n\nconst logger = await createLogger();\n\nconst logMode = mode.logging;\n\n// ******** SECTION 1: Robust Type Guards ********\n\nfunction isColorFormat<T extends Color>(\n\tcolor: Color,\n\tformat: T['format']\n): color is T {\n\treturn color.format === format;\n}\n\nfunction isColorSpace(value: string): value is ColorSpace {\n\treturn ['cmyk', 'hex', 'hsl', 'hsv', 'lab', 'rgb', 'xyz'].includes(value);\n}\n\nfunction isColorSpaceExtended(value: string): value is ColorSpaceExtended {\n\treturn [\n\t\t'cmyk',\n\t\t'hex',\n\t\t'hsl',\n\t\t'hsv',\n\t\t'lab',\n\t\t'rgb',\n\t\t'sl',\n\t\t'sv',\n\t\t'xyz'\n\t].includes(value);\n}\n\nfunction isColorString(value: unknown): value is ColorString {\n\tif (typeof value === 'object' && value !== null) {\n\t\tconst colorString = value as Exclude<ColorString, HexString>;\n\t\tconst validStringFormats: Exclude<ColorString, HexString>['format'][] =\n\t\t\t['cmyk', 'hsl', 'hsv', 'lab', 'rgb', 'sl', 'sv', 'xyz'];\n\n\t\treturn (\n\t\t\t'value' in colorString &&\n\t\t\t'format' in colorString &&\n\t\t\tvalidStringFormats.includes(colorString.format)\n\t\t);\n\t}\n\n\treturn typeof value === 'string' && /^#[0-9A-Fa-f]{6,8}$/.test(value);\n}\n\nfunction isFormat(format: unknown): format is Format {\n\treturn (\n\t\ttypeof format === 'string' &&\n\t\t['cmyk', 'hex', 'hsl', 'hsv', 'lab', 'rgb', 'sl', 'sv', 'xyz'].includes(\n\t\t\tformat\n\t\t)\n\t);\n}\n\n// ******** SECTION 2: Narrow Type Guards ********\n\nfunction isCMYKColor(value: unknown): value is CMYK {\n\treturn (\n\t\ttypeof value === 'object' &&\n\t\tvalue !== null &&\n\t\t'format' in value &&\n\t\t(value as CMYK).format === 'cmyk' &&\n\t\t'value' in value &&\n\t\ttypeof (value as CMYK).value.cyan === 'number' &&\n\t\ttypeof (value as CMYK).value.magenta === 'number' &&\n\t\ttypeof (value as CMYK).value.yellow === 'number' &&\n\t\ttypeof (value as CMYK).value.key === 'number'\n\t);\n}\n\nfunction isCMYKFormat(color: Color): color is CMYK {\n\treturn isColorFormat(color, 'cmyk');\n}\n\nfunction isCMYKString(value: unknown): value is CMYKString {\n\treturn (\n\t\tisColorString(value) &&\n\t\ttypeof value === 'object' &&\n\t\tvalue !== null &&\n\t\t'format' in value &&\n\t\t(value as CMYKString).format === 'cmyk' &&\n\t\t'value' in value &&\n\t\ttypeof (value as CMYKString).value.cyan === 'string' &&\n\t\ttypeof (value as CMYKString).value.magenta === 'string' &&\n\t\ttypeof (value as CMYKString).value.yellow === 'string' &&\n\t\ttypeof (value as CMYKString).value.key === 'string'\n\t);\n}\n\nfunction isHex(value: unknown): value is Hex {\n\treturn (\n\t\ttypeof value === 'object' &&\n\t\tvalue !== null &&\n\t\t'format' in value &&\n\t\t(value as Hex).format === 'hex' &&\n\t\t'value' in value &&\n\t\ttypeof (value as Hex).value.hex === 'string'\n\t);\n}\n\nfunction isHexFormat(color: Color): color is Hex {\n\treturn isColorFormat(color, 'hex');\n}\n\nfunction isHSLColor(value: unknown): value is HSL {\n\treturn (\n\t\ttypeof value === 'object' &&\n\t\tvalue !== null &&\n\t\t'format' in value &&\n\t\t(value as HSL).format === 'hsl' &&\n\t\t'value' in value &&\n\t\ttypeof (value as HSL).value.hue === 'number' &&\n\t\ttypeof (value as HSL).value.saturation === 'number' &&\n\t\ttypeof (value as HSL).value.lightness === 'number'\n\t);\n}\n\nfunction isHSLFormat(color: Color): color is HSL {\n\treturn isColorFormat(color, 'hsl');\n}\n\nfunction isHSLString(value: unknown): value is HSLString {\n\treturn (\n\t\tisColorString(value) &&\n\t\ttypeof value === 'object' &&\n\t\tvalue !== null &&\n\t\t'format' in value &&\n\t\t(value as HSLString).format === 'hsl' &&\n\t\t'value' in value &&\n\t\ttypeof (value as HSLString).value.hue === 'number' &&\n\t\ttypeof (value as HSLString).value.saturation === 'string' &&\n\t\ttypeof (value as HSLString).value.lightness === 'string'\n\t);\n}\n\nfunction isHSVColor(value: unknown): value is HSV {\n\treturn (\n\t\tcore.guards.isColor(value) &&\n\t\ttypeof value === 'object' &&\n\t\tvalue !== null &&\n\t\t'format' in value &&\n\t\t(value as HSV).format === 'hsv' &&\n\t\t'value' in value &&\n\t\ttypeof (value as HSV).value.hue === 'number' &&\n\t\ttypeof (value as HSV).value.saturation === 'number' &&\n\t\ttypeof (value as HSV).value.value === 'number'\n\t);\n}\n\nfunction isHSVFormat(color: Color): color is HSV {\n\treturn isColorFormat(color, 'hsv');\n}\n\nfunction isHSVString(value: unknown): value is HSVString {\n\treturn (\n\t\tisColorString(value) &&\n\t\ttypeof value === 'object' &&\n\t\tvalue !== null &&\n\t\t'format' in value &&\n\t\t(value as HSVString).format === 'hsv' &&\n\t\t'value' in value &&\n\t\ttypeof (value as HSVString).value.hue === 'number' &&\n\t\ttypeof (value as HSVString).value.saturation === 'string' &&\n\t\ttypeof (value as HSVString).value.value === 'string'\n\t);\n}\n\nfunction isLAB(value: unknown): value is LAB {\n\treturn (\n\t\tcore.guards.isColor(value) &&\n\t\ttypeof value === 'object' &&\n\t\tvalue !== null &&\n\t\t'format' in value &&\n\t\t(value as LAB).format === 'lab' &&\n\t\t'value' in value &&\n\t\ttypeof (value as LAB).value.l === 'number' &&\n\t\ttypeof (value as LAB).value.a === 'number' &&\n\t\ttypeof (value as LAB).value.b === 'number'\n\t);\n}\n\nfunction isLABFormat(color: Color): color is LAB {\n\treturn isColorFormat(color, 'lab');\n}\n\nfunction isRGB(value: unknown): value is RGB {\n\treturn (\n\t\tcore.guards.isColor(value) &&\n\t\ttypeof value === 'object' &&\n\t\tvalue !== null &&\n\t\t'format' in value &&\n\t\t(value as RGB).format === 'rgb' &&\n\t\t'value' in value &&\n\t\ttypeof (value as RGB).value.red === 'number' &&\n\t\ttypeof (value as RGB).value.green === 'number' &&\n\t\ttypeof (value as RGB).value.blue === 'number'\n\t);\n}\n\nfunction isRGBFormat(color: Color): color is RGB {\n\treturn isColorFormat(color, 'rgb');\n}\n\nfunction isSLColor(value: unknown): value is SL {\n\treturn (\n\t\ttypeof value === 'object' &&\n\t\tvalue !== null &&\n\t\t'format' in value &&\n\t\t(value as SL).format === 'sl' &&\n\t\t'value' in value &&\n\t\ttypeof (value as SL).value.saturation === 'number' &&\n\t\ttypeof (value as SL).value.lightness === 'number'\n\t);\n}\n\nfunction isSLFormat(color: Color): color is SL {\n\treturn isColorFormat(color, 'sl');\n}\n\nfunction isSLString(value: unknown): value is SLString {\n\treturn (\n\t\ttypeof value === 'object' &&\n\t\tvalue !== null &&\n\t\t'format' in value &&\n\t\t(value as SLString).format === 'sl' &&\n\t\t'value' in value &&\n\t\ttypeof (value as SLString).value.saturation === 'string' &&\n\t\ttypeof (value as SLString).value.lightness === 'string'\n\t);\n}\n\nfunction isSVColor(value: unknown): value is SV {\n\treturn (\n\t\ttypeof value === 'object' &&\n\t\tvalue !== null &&\n\t\t'format' in value &&\n\t\t(value as SV).format === 'sv' &&\n\t\t'value' in value &&\n\t\ttypeof (value as SV).value.saturation === 'number' &&\n\t\ttypeof (value as SV).value.value === 'number'\n\t);\n}\n\nfunction isSVFormat(color: Color): color is SV {\n\treturn isColorFormat(color, 'sv');\n}\n\nfunction isSVString(value: unknown): value is SVString {\n\treturn (\n\t\ttypeof value === 'object' &&\n\t\tvalue !== null &&\n\t\t'format' in value &&\n\t\t(value as SVString).format === 'sv' &&\n\t\t'value' in value &&\n\t\ttypeof (value as SVString).value.saturation === 'string' &&\n\t\ttypeof (value as SVString).value.value === 'string'\n\t);\n}\n\nfunction isXYZ(value: unknown): value is XYZ {\n\treturn (\n\t\ttypeof value === 'object' &&\n\t\tvalue !== null &&\n\t\t'format' in value &&\n\t\t(value as XYZ).format === 'xyz' &&\n\t\t'value' in value &&\n\t\ttypeof (value as XYZ).value.x === 'number' &&\n\t\ttypeof (value as XYZ).value.y === 'number' &&\n\t\ttypeof (value as XYZ).value.z === 'number'\n\t);\n}\n\nfunction isXYZFormat(color: Color): color is XYZ {\n\treturn isColorFormat(color, 'xyz');\n}\n\n// ***** SECTION 3: Utility Guards *****\n\nfunction ensureHash(value: string): string {\n\treturn value.startsWith('#') ? value : `#${value}`;\n}\n\nfunction isConvertibleColor(\n\tcolor: Color\n): color is CMYK | Hex | HSL | HSV | LAB | RGB {\n\treturn (\n\t\tcolor.format === 'cmyk' ||\n\t\tcolor.format === 'hex' ||\n\t\tcolor.format === 'hsl' ||\n\t\tcolor.format === 'hsv' ||\n\t\tcolor.format === 'lab' ||\n\t\tcolor.format === 'rgb'\n\t);\n}\n\nfunction isInputElement(element: HTMLElement | null): element is HTMLElement {\n\treturn element instanceof HTMLInputElement;\n}\n\nfunction isStoredPalette(obj: unknown): obj is StoredPalette {\n\tif (typeof obj !== 'object' || obj === null) return false;\n\n\tconst candidate = obj as Partial<StoredPalette>;\n\n\treturn (\n\t\ttypeof candidate.tableID === 'number' &&\n\t\ttypeof candidate.palette === 'object' &&\n\t\tArray.isArray(candidate.palette.items) &&\n\t\ttypeof candidate.palette.id === 'string'\n\t);\n}\n\nasync function narrowToColor(\n\tcolor: Color | ColorString\n): Promise<Color | null> {\n\tif (isColorString(color)) {\n\t\treturn core.convert.colorStringToColor(color);\n\t}\n\n\tswitch (color.format as ColorSpaceExtended) {\n\t\tcase 'cmyk':\n\t\tcase 'hex':\n\t\tcase 'hsl':\n\t\tcase 'hsv':\n\t\tcase 'lab':\n\t\tcase 'sl':\n\t\tcase 'sv':\n\t\tcase 'rgb':\n\t\tcase 'xyz':\n\t\t\treturn color;\n\t\tdefault:\n\t\t\treturn null;\n\t}\n}\n\n// ******** SECTION 4: TRANSFORM UTILS ********\n\nfunction colorToColorString(color: Color): ColorString {\n\tconst clonedColor = core.base.clone(color);\n\n\tif (isColorString(clonedColor)) {\n\t\tif (logMode.error) {\n\t\t\tlogger.error(\n\t\t\t\t`Already formatted as color string: ${JSON.stringify(color)}`,\n\t\t\t\t'common > utils > color > isColorString()'\n\t\t\t);\n\t\t}\n\n\t\treturn clonedColor;\n\t}\n\n\tif (isCMYKColor(clonedColor)) {\n\t\tconst newValue = formatPercentageValues(clonedColor.value) as CMYKValue;\n\n\t\treturn {\n\t\t\tformat: 'cmyk',\n\t\t\tvalue: {\n\t\t\t\tcyan: `${newValue.cyan}%`,\n\t\t\t\tmagenta: `${newValue.magenta}%`,\n\t\t\t\tyellow: `${newValue.yellow}%`,\n\t\t\t\tkey: `${newValue.key}%`,\n\t\t\t\talpha: `${newValue.alpha}`\n\t\t\t} as CMYKValueString\n\t\t};\n\t} else if (isHex(clonedColor)) {\n\t\tconst newValue = formatPercentageValues(clonedColor.value) as HexValue;\n\n\t\treturn {\n\t\t\tformat: 'hex',\n\t\t\tvalue: {\n\t\t\t\thex: `${newValue.hex}`,\n\t\t\t\talpha: `${newValue.alpha}`,\n\t\t\t\tnumAlpha: `${newValue.numAlpha}`\n\t\t\t} as HexValueString\n\t\t};\n\t} else if (isHSLColor(clonedColor)) {\n\t\tconst newValue = formatPercentageValues(clonedColor.value) as HSLValue;\n\n\t\treturn {\n\t\t\tformat: 'hsl',\n\t\t\tvalue: {\n\t\t\t\thue: `${newValue.hue}`,\n\t\t\t\tsaturation: `${newValue.saturation}%`,\n\t\t\t\tlightness: `${newValue.lightness}%`,\n\t\t\t\talpha: `${newValue.alpha}`\n\t\t\t} as HSLValueString\n\t\t};\n\t} else if (isHSVColor(clonedColor)) {\n\t\tconst newValue = formatPercentageValues(clonedColor.value) as HSVValue;\n\n\t\treturn {\n\t\t\tformat: 'hsv',\n\t\t\tvalue: {\n\t\t\t\thue: `${newValue.hue}`,\n\t\t\t\tsaturation: `${newValue.saturation}%`,\n\t\t\t\tvalue: `${newValue.value}%`,\n\t\t\t\talpha: `${newValue.alpha}`\n\t\t\t} as HSVValueString\n\t\t};\n\t} else if (isLAB(clonedColor)) {\n\t\tconst newValue = formatPercentageValues(clonedColor.value) as LABValue;\n\n\t\treturn {\n\t\t\tformat: 'lab',\n\t\t\tvalue: {\n\t\t\t\tl: `${newValue.l}`,\n\t\t\t\ta: `${newValue.a}`,\n\t\t\t\tb: `${newValue.b}`,\n\t\t\t\talpha: `${newValue.alpha}`\n\t\t\t} as LABValueString\n\t\t};\n\t} else if (isRGB(clonedColor)) {\n\t\tconst newValue = formatPercentageValues(clonedColor.value) as RGBValue;\n\n\t\treturn {\n\t\t\tformat: 'rgb',\n\t\t\tvalue: {\n\t\t\t\tred: `${newValue.red}`,\n\t\t\t\tgreen: `${newValue.green}`,\n\t\t\t\tblue: `${newValue.blue}`,\n\t\t\t\talpha: `${newValue.alpha}`\n\t\t\t} as RGBValueString\n\t\t};\n\t} else if (isXYZ(clonedColor)) {\n\t\tconst newValue = formatPercentageValues(clonedColor.value) as XYZValue;\n\n\t\treturn {\n\t\t\tformat: 'xyz',\n\t\t\tvalue: {\n\t\t\t\tx: `${newValue.x}`,\n\t\t\t\ty: `${newValue.y}`,\n\t\t\t\tz: `${newValue.z}`,\n\t\t\t\talpha: `${newValue.alpha}`\n\t\t\t} as XYZValueString\n\t\t};\n\t} else {\n\t\tif (!mode.gracefulErrors) {\n\t\t\tthrow new Error(`Unsupported format: ${clonedColor.format}`);\n\t\t} else if (logMode.error) {\n\t\t\tlogger.error(\n\t\t\t\t`Unsupported format: ${clonedColor.format}`,\n\t\t\t\t'common > utils > color > colorToColorString()'\n\t\t\t);\n\t\t} else if (!mode.quiet && logMode.warn) {\n\t\t\tlogger.warn(\n\t\t\t\t'Failed to convert to color string.',\n\t\t\t\t'common > utils > color > colorToColorString()'\n\t\t\t);\n\t\t}\n\n\t\treturn defaults.colors.strings.hsl;\n\t}\n}\n\nfunction formatPercentageValues<T extends Record<string, unknown>>(\n\tvalue: T\n): T {\n\treturn Object.entries(value).reduce(\n\t\t(acc, [key, val]) => {\n\t\t\t(acc as Record<string, unknown>)[key] = [\n\t\t\t\t'saturation',\n\t\t\t\t'lightness',\n\t\t\t\t'value',\n\t\t\t\t'cyan',\n\t\t\t\t'magenta',\n\t\t\t\t'yellow',\n\t\t\t\t'key'\n\t\t\t].includes(key)\n\t\t\t\t? `${val}%`\n\t\t\t\t: val;\n\t\t\treturn acc;\n\t\t},\n\t\t{} as Record<string, unknown>\n\t) as T;\n}\n\nfunction getAlphaFromHex(hex: string): number {\n\tif (hex.length !== 9 || !hex.startsWith('#')) {\n\t\tif (!mode.gracefulErrors)\n\t\t\tthrow new Error(\n\t\t\t\t`Invalid hex color: ${hex}. Expected format #RRGGBBAA`\n\t\t\t);\n\t\telse if (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`Invalid hex color: ${hex}. Expected format #RRGGBBAA`,\n\t\t\t\t'common > utils > color > getAlphaFromHex()'\n\t\t\t);\n\t\telse if (!mode.quiet && logMode.warn)\n\t\t\tlogger.warn(\n\t\t\t\t'Failed to parse alpha from hex color.',\n\t\t\t\t'common > utils > color > getAlphaFromHex()'\n\t\t\t);\n\t}\n\n\tconst alphaHex = hex.slice(-2);\n\tconst alphaDecimal = parseInt(alphaHex, 16);\n\n\treturn alphaDecimal / 255;\n}\n\nfunction getColorString(color: Color): string | null {\n\ttry {\n\t\tconst formatters = {\n\t\t\tcmyk: (c: CMYK) =>\n\t\t\t\t`cmyk(${c.value.cyan}, ${c.value.magenta}, ${c.value.yellow}, ${c.value.key}, ${c.value.alpha})`,\n\t\t\thex: (c: Hex) => c.value.hex,\n\t\t\thsl: (c: HSL) =>\n\t\t\t\t`hsl(${c.value.hue}, ${c.value.saturation}%, ${c.value.lightness}%,${c.value.alpha})`,\n\t\t\thsv: (c: HSV) =>\n\t\t\t\t`hsv(${c.value.hue}, ${c.value.saturation}%, ${c.value.value}%,${c.value.alpha})`,\n\t\t\tlab: (c: LAB) =>\n\t\t\t\t`lab(${c.value.l}, ${c.value.a}, ${c.value.b},${c.value.alpha})`,\n\t\t\trgb: (c: RGB) =>\n\t\t\t\t`rgb(${c.value.red}, ${c.value.green}, ${c.value.blue},${c.value.alpha})`,\n\t\t\txyz: (c: XYZ) =>\n\t\t\t\t`xyz(${c.value.x}, ${c.value.y}, ${c.value.z},${c.value.alpha})`\n\t\t};\n\n\t\tswitch (color.format) {\n\t\t\tcase 'cmyk':\n\t\t\t\treturn formatters.cmyk(color);\n\t\t\tcase 'hex':\n\t\t\t\treturn formatters.hex(color);\n\t\t\tcase 'hsl':\n\t\t\t\treturn formatters.hsl(color);\n\t\t\tcase 'hsv':\n\t\t\t\treturn formatters.hsv(color);\n\t\t\tcase 'lab':\n\t\t\t\treturn formatters.lab(color);\n\t\t\tcase 'rgb':\n\t\t\t\treturn formatters.rgb(color);\n\t\t\tcase 'xyz':\n\t\t\t\treturn formatters.xyz(color);\n\t\t\tdefault:\n\t\t\t\tif (!logMode.error)\n\t\t\t\t\tlogger.error(\n\t\t\t\t\t\t`Unsupported color format for ${color}`,\n\t\t\t\t\t\t'common > utils > color > getColorString()'\n\t\t\t\t\t);\n\n\t\t\t\treturn null;\n\t\t}\n\t} catch (error) {\n\t\tif (!logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`getColorString error: ${error}`,\n\t\t\t\t'common > utils > color > getColorString()'\n\t\t\t);\n\n\t\treturn null;\n\t}\n}\n\nfunction hexAlphaToNumericAlpha(hexAlpha: string): number {\n\treturn parseInt(hexAlpha, 16) / 255;\n}\n\nconst parseColor = (colorSpace: ColorSpace, value: string): Color | null => {\n\ttry {\n\t\tswitch (colorSpace) {\n\t\t\tcase 'cmyk': {\n\t\t\t\tconst [c, m, y, k, a] = parseComponents(value, 5);\n\n\t\t\t\treturn {\n\t\t\t\t\tvalue: {\n\t\t\t\t\t\tcyan: core.brand.asPercentile(c),\n\t\t\t\t\t\tmagenta: core.brand.asPercentile(m),\n\t\t\t\t\t\tyellow: core.brand.asPercentile(y),\n\t\t\t\t\t\tkey: core.brand.asPercentile(k),\n\t\t\t\t\t\talpha: core.brand.asAlphaRange(a)\n\t\t\t\t\t},\n\t\t\t\t\tformat: 'cmyk'\n\t\t\t\t};\n\t\t\t}\n\t\t\tcase 'hex':\n\t\t\t\tconst hexValue = value.startsWith('#') ? value : `#${value}`;\n\t\t\t\tconst alpha = hexValue.length === 9 ? hexValue.slice(-2) : 'FF';\n\t\t\t\tconst numAlpha = hexAlphaToNumericAlpha(alpha);\n\n\t\t\t\treturn {\n\t\t\t\t\tvalue: {\n\t\t\t\t\t\thex: core.brand.asHexSet(hexValue),\n\t\t\t\t\t\talpha: core.brand.asHexComponent(alpha),\n\t\t\t\t\t\tnumAlpha: core.brand.asAlphaRange(numAlpha)\n\t\t\t\t\t},\n\t\t\t\t\tformat: 'hex'\n\t\t\t\t};\n\t\t\tcase 'hsl': {\n\t\t\t\tconst [h, s, l, a] = parseComponents(value, 4);\n\n\t\t\t\treturn {\n\t\t\t\t\tvalue: {\n\t\t\t\t\t\thue: core.brand.asRadial(h),\n\t\t\t\t\t\tsaturation: core.brand.asPercentile(s),\n\t\t\t\t\t\tlightness: core.brand.asPercentile(l),\n\t\t\t\t\t\talpha: core.brand.asAlphaRange(a)\n\t\t\t\t\t},\n\t\t\t\t\tformat: 'hsl'\n\t\t\t\t};\n\t\t\t}\n\t\t\tcase 'hsv': {\n\t\t\t\tconst [h, s, v, a] = parseComponents(value, 4);\n\n\t\t\t\treturn {\n\t\t\t\t\tvalue: {\n\t\t\t\t\t\thue: core.brand.asRadial(h),\n\t\t\t\t\t\tsaturation: core.brand.asPercentile(s),\n\t\t\t\t\t\tvalue: core.brand.asPercentile(v),\n\t\t\t\t\t\talpha: core.brand.asAlphaRange(a)\n\t\t\t\t\t},\n\t\t\t\t\tformat: 'hsv'\n\t\t\t\t};\n\t\t\t}\n\t\t\tcase 'lab': {\n\t\t\t\tconst [l, a, b, alpha] = parseComponents(value, 4);\n\t\t\t\treturn {\n\t\t\t\t\tvalue: {\n\t\t\t\t\t\tl: core.brand.asLAB_L(l),\n\t\t\t\t\t\ta: core.brand.asLAB_A(a),\n\t\t\t\t\t\tb: core.brand.asLAB_B(b),\n\t\t\t\t\t\talpha: core.brand.asAlphaRange(alpha)\n\t\t\t\t\t},\n\t\t\t\t\tformat: 'lab'\n\t\t\t\t};\n\t\t\t}\n\t\t\tcase 'rgb': {\n\t\t\t\tconst components = value.split(',').map(Number);\n\n\t\t\t\tif (components.some(isNaN))\n\t\t\t\t\tthrow new Error('Invalid RGB format');\n\n\t\t\t\tconst [r, g, b, a] = components;\n\n\t\t\t\treturn {\n\t\t\t\t\tvalue: {\n\t\t\t\t\t\tred: core.brand.asByteRange(r),\n\t\t\t\t\t\tgreen: core.brand.asByteRange(g),\n\t\t\t\t\t\tblue: core.brand.asByteRange(b),\n\t\t\t\t\t\talpha: core.brand.asAlphaRange(a)\n\t\t\t\t\t},\n\t\t\t\t\tformat: 'rgb'\n\t\t\t\t};\n\t\t\t}\n\t\t\tdefault:\n\t\t\t\tconst message = `Unsupported color format: ${colorSpace}`;\n\n\t\t\t\tif (mode.gracefulErrors) {\n\t\t\t\t\tif (logMode.error) logger.error(message);\n\t\t\t\t\telse if (!mode.quiet && logMode.warn)\n\t\t\t\t\t\tlogger.warn(\n\t\t\t\t\t\t\t`Failed to parse color: ${message}`,\n\t\t\t\t\t\t\t'common > utils > color > parseColor()'\n\t\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\tthrow new Error(message);\n\t\t\t\t}\n\n\t\t\t\treturn null;\n\t\t}\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`parseColor error: ${error}`,\n\t\t\t\t'common > utils > color > parseColor()'\n\t\t\t);\n\n\t\treturn null;\n\t}\n};\n\nfunction parseComponents(value: string, count: number): number[] {\n\ttry {\n\t\tconst components = value\n\t\t\t.split(',')\n\t\t\t.map(val =>\n\t\t\t\tval.trim().endsWith('%')\n\t\t\t\t\t? parseFloat(val)\n\t\t\t\t\t: parseFloat(val) * 100\n\t\t\t);\n\n\t\tif (components.length !== count)\n\t\t\tif (!mode.gracefulErrors)\n\t\t\t\tthrow new Error(`Expected ${count} components.`);\n\t\t\telse if (logMode.error) {\n\t\t\t\tif (!mode.quiet && logMode.warn)\n\t\t\t\t\tlogger.warn(\n\t\t\t\t\t\t`Expected ${count} components.`,\n\t\t\t\t\t\t'common > utils > color > parseComponents()'\n\t\t\t\t\t);\n\n\t\t\t\treturn [];\n\t\t\t}\n\n\t\treturn components;\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`Error parsing components: ${error}`,\n\t\t\t\t'common > utils > color > parseComponents()'\n\t\t\t);\n\n\t\treturn [];\n\t}\n}\n\nfunction parseHexWithAlpha(hexValue: string): HexValue | null {\n\tconst hex = hexValue.startsWith('#') ? hexValue : `#${hexValue}`;\n\tconst alpha = hex.length === 9 ? hex.slice(-2) : 'FF';\n\tconst numAlpha = hexAlphaToNumericAlpha(alpha);\n\n\treturn {\n\t\thex: core.brand.asHexSet(hex),\n\t\talpha: core.brand.asHexComponent(alpha),\n\t\tnumAlpha: core.brand.asAlphaRange(numAlpha)\n\t};\n}\n\nfunction stripHashFromHex(hex: Hex): Hex {\n\ttry {\n\t\tconst hexString = `${hex.value.hex}${hex.value.alpha}`;\n\n\t\treturn hex.value.hex.startsWith('#')\n\t\t\t? {\n\t\t\t\t\tvalue: {\n\t\t\t\t\t\thex: core.brand.asHexSet(hexString.slice(1)),\n\t\t\t\t\t\talpha: core.brand.asHexComponent(\n\t\t\t\t\t\t\tString(hex.value.alpha)\n\t\t\t\t\t\t),\n\t\t\t\t\t\tnumAlpha: core.brand.asAlphaRange(\n\t\t\t\t\t\t\thexAlphaToNumericAlpha(String(hex.value.alpha))\n\t\t\t\t\t\t)\n\t\t\t\t\t},\n\t\t\t\t\tformat: 'hex' as 'hex'\n\t\t\t\t}\n\t\t\t: hex;\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`stripHashFromHex error: ${error}`,\n\t\t\t\t'common > utils > color > stripHashFromHex()'\n\t\t\t);\n\n\t\tconst unbrandedHex = core.base.clone(\n\t\t\tdefaults.colors.base.unbranded.hex\n\t\t);\n\n\t\treturn core.brandColor.asHex(unbrandedHex);\n\t}\n}\n\nfunction stripPercentFromValues<T extends Record<string, number | string>>(\n\tvalue: T\n): { [K in keyof T]: T[K] extends `${number}%` ? number : T[K] } {\n\treturn Object.entries(value).reduce(\n\t\t(acc, [key, val]) => {\n\t\t\tconst parsedValue =\n\t\t\t\ttypeof val === 'string' && val.endsWith('%')\n\t\t\t\t\t? parseFloat(val.slice(0, -1))\n\t\t\t\t\t: val;\n\t\t\tacc[key as keyof T] = parsedValue as T[keyof T] extends `${number}%`\n\t\t\t\t? number\n\t\t\t\t: T[keyof T];\n\t\t\treturn acc;\n\t\t},\n\t\t{} as { [K in keyof T]: T[K] extends `${number}%` ? number : T[K] }\n\t);\n}\n\nfunction toHexWithAlpha(rgbValue: RGBValue): string {\n\tconst { red, green, blue, alpha } = rgbValue;\n\n\tconst hex = `#${((1 << 24) + (red << 16) + (green << 8) + blue)\n\t\t.toString(16)\n\t\t.slice(1)}`;\n\tconst alphaHex = Math.round(alpha * 255)\n\t\t.toString(16)\n\t\t.padStart(2, '0');\n\n\treturn `${hex}${alphaHex}`;\n}\n\nexport const color: CommonFunctionsMasterInterface['utils']['color'] = {\n\tcolorToColorString,\n\tensureHash,\n\tformatPercentageValues,\n\tgetAlphaFromHex,\n\tgetColorString,\n\thexAlphaToNumericAlpha,\n\tisCMYKColor,\n\tisCMYKFormat,\n\tisCMYKString,\n\tisColorFormat,\n\tisColorString,\n\tisColorSpace,\n\tisColorSpaceExtended,\n\tisConvertibleColor,\n\tisFormat,\n\tisHex,\n\tisHexFormat,\n\tisHSLColor,\n\tisHSLFormat,\n\tisHSLString,\n\tisInputElement,\n\tisHSVColor,\n\tisHSVFormat,\n\tisHSVString,\n\tisLAB,\n\tisLABFormat,\n\tisRGB,\n\tisRGBFormat,\n\tisSLColor,\n\tisSLFormat,\n\tisSLString,\n\tisStoredPalette,\n\tisSVColor,\n\tisSVFormat,\n\tisSVString,\n\tisXYZ,\n\tisXYZFormat,\n\tnarrowToColor,\n\tparseColor,\n\tparseComponents,\n\tparseHexWithAlpha,\n\tstripHashFromHex,\n\tstripPercentFromValues,\n\ttoHexWithAlpha\n} as const;\n\nexport { hexAlphaToNumericAlpha, stripHashFromHex };\n","// File: src/common/convert/base.js\n\nimport {\n\tCMYK,\n\tColor,\n\tColorSpaceExtended,\n\tCommonFunctionsMasterInterface,\n\tHex,\n\tHSL,\n\tHSV,\n\tLAB,\n\tRGB,\n\tSL,\n\tSV,\n\tXYZ,\n\tXYZ_X,\n\tXYZ_Y,\n\tXYZ_Z\n} from '../../types/index.js';\nimport {\n\tapplyGammaCorrection,\n\tclampRGB,\n\thueToRGB\n} from '../helpers/conversion.js';\nimport {\n\tbase,\n\tbrand,\n\tbrandColor,\n\tclone,\n\tsanitize,\n\tvalidate\n} from '../core/base.js';\nimport { componentToHex } from '../transform/base.js';\nimport { createLogger } from '../../logger/index.js';\nimport { defaults, mode } from '../data/base.js';\nimport { hexAlphaToNumericAlpha, stripHashFromHex } from '../utils/color.js';\n\nconst logger = await createLogger();\n\nconst logMode = mode.logging;\n\nconst defaultCMYKUnbranded = base.clone(defaults.colors.base.unbranded.cmyk);\nconst defaultHexUnbranded = base.clone(defaults.colors.base.unbranded.hex);\nconst defaultHSLUnbranded = base.clone(defaults.colors.base.unbranded.hsl);\nconst defaultHSVUnbranded = base.clone(defaults.colors.base.unbranded.hsv);\nconst defaultLABUnbranded = base.clone(defaults.colors.base.unbranded.lab);\nconst defaultRGBUnbranded = base.clone(defaults.colors.base.unbranded.rgb);\nconst defaultSLUnbranded = base.clone(defaults.colors.base.unbranded.sl);\nconst defaultSVUnbranded = base.clone(defaults.colors.base.unbranded.sv);\nconst defaultXYZUnbranded = base.clone(defaults.colors.base.unbranded.xyz);\n\nconst defaultCMYKBranded = brandColor.asCMYK(defaultCMYKUnbranded);\nconst defaultHexBranded = brandColor.asHex(defaultHexUnbranded);\nconst defaultHSLBranded = brandColor.asHSL(defaultHSLUnbranded);\nconst defaultHSVBranded = brandColor.asHSV(defaultHSVUnbranded);\nconst defaultLABBranded = brandColor.asLAB(defaultLABUnbranded);\nconst defaultRGBBranded = brandColor.asRGB(defaultRGBUnbranded);\nconst defaultSLBranded = brandColor.asSL(defaultSLUnbranded);\nconst defaultSVBranded = brandColor.asSV(defaultSVUnbranded);\nconst defaultXYZBranded = brandColor.asXYZ(defaultXYZUnbranded);\n\nfunction cmykToHSL(cmyk: CMYK): HSL {\n\ttry {\n\t\tif (!validate.colorValues(cmyk)) {\n\t\t\tif (logMode.error)\n\t\t\t\tlogger.error(\n\t\t\t\t\t`Invalid CMYK value ${JSON.stringify(cmyk)}`,\n\t\t\t\t\t'common > convert > base > cmykToHSL()'\n\t\t\t\t);\n\n\t\t\treturn defaultHSLBranded;\n\t\t}\n\n\t\treturn rgbToHSL(cmykToRGB(base.clone(cmyk)));\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`cmykToHSL() error: ${error}`,\n\t\t\t\t'common > convert > base > cmykToHSL()'\n\t\t\t);\n\n\t\treturn defaultHSLBranded;\n\t}\n}\n\nfunction cmykToRGB(cmyk: CMYK): RGB {\n\ttry {\n\t\tif (!validate.colorValues(cmyk)) {\n\t\t\tif (logMode.error)\n\t\t\t\tlogger.error(\n\t\t\t\t\t`Invalid CMYK value ${JSON.stringify(cmyk)}`,\n\t\t\t\t\t'common > convert > base > cmykToRGB()'\n\t\t\t\t);\n\n\t\t\treturn defaultRGBBranded;\n\t\t}\n\n\t\tconst clonedCMYK = base.clone(cmyk);\n\t\tconst r =\n\t\t\t255 *\n\t\t\t(1 - clonedCMYK.value.cyan / 100) *\n\t\t\t(1 - clonedCMYK.value.key / 100);\n\t\tconst g =\n\t\t\t255 *\n\t\t\t(1 - clonedCMYK.value.magenta / 100) *\n\t\t\t(1 - clonedCMYK.value.key / 100);\n\t\tconst b =\n\t\t\t255 *\n\t\t\t(1 - clonedCMYK.value.yellow / 100) *\n\t\t\t(1 - clonedCMYK.value.key / 100);\n\t\tconst alpha = cmyk.value.alpha;\n\t\tconst rgb: RGB = {\n\t\t\tvalue: {\n\t\t\t\tred: brand.asByteRange(Math.round(r)),\n\t\t\t\tgreen: brand.asByteRange(Math.round(g)),\n\t\t\t\tblue: brand.asByteRange(Math.round(b)),\n\t\t\t\talpha: brand.asAlphaRange(alpha)\n\t\t\t},\n\t\t\tformat: 'rgb'\n\t\t};\n\n\t\treturn clampRGB(rgb);\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`cmykToRGB error: ${error}`,\n\t\t\t\t'common > convert > base > cmykToRGB()'\n\t\t\t);\n\n\t\treturn defaultRGBBranded;\n\t}\n}\n\nfunction hexToHSL(hex: Hex): HSL {\n\ttry {\n\t\tif (!validate.colorValues(hex)) {\n\t\t\tif (logMode.error)\n\t\t\t\tlogger.error(\n\t\t\t\t\t`Invalid Hex value ${JSON.stringify(hex)}`,\n\t\t\t\t\t'common > convert > base > hexToHSL()'\n\t\t\t\t);\n\n\t\t\treturn defaultHSLBranded;\n\t\t}\n\n\t\treturn rgbToHSL(hexToRGB(base.clone(hex)));\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`hexToHSL() error: ${error}`,\n\t\t\t\t'common > convert > base > hexToHSL()'\n\t\t\t);\n\n\t\treturn defaultHSLBranded;\n\t}\n}\n\nfunction hexToHSLWrapper(input: string | Hex): HSL {\n\ttry {\n\t\tconst clonedInput = base.clone(input);\n\n\t\tconst hex: Hex =\n\t\t\ttypeof clonedInput === 'string'\n\t\t\t\t? {\n\t\t\t\t\t\tvalue: {\n\t\t\t\t\t\t\thex: brand.asHexSet(clonedInput),\n\t\t\t\t\t\t\talpha: brand.asHexComponent(clonedInput.slice(-2)),\n\t\t\t\t\t\t\tnumAlpha: brand.asAlphaRange(\n\t\t\t\t\t\t\t\thexAlphaToNumericAlpha(clonedInput.slice(-2))\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t},\n\t\t\t\t\t\tformat: 'hex'\n\t\t\t\t\t}\n\t\t\t\t: {\n\t\t\t\t\t\t...clonedInput,\n\t\t\t\t\t\tvalue: {\n\t\t\t\t\t\t\t...clonedInput.value,\n\t\t\t\t\t\t\tnumAlpha: brand.asAlphaRange(\n\t\t\t\t\t\t\t\thexAlphaToNumericAlpha(\n\t\t\t\t\t\t\t\t\tString(clonedInput.value.alpha)\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\treturn hexToHSL(hex);\n\t} catch (error) {\n\t\tif (logMode.error) {\n\t\t\tlogger.error(\n\t\t\t\t`Error converting hex to HSL: ${error}`,\n\t\t\t\t'common > convert > base > hexToHSLWrapper()'\n\t\t\t);\n\t\t}\n\n\t\treturn defaultHSLBranded;\n\t}\n}\n\nfunction hexToRGB(hex: Hex): RGB {\n\ttry {\n\t\tif (!validate.colorValues(hex)) {\n\t\t\tif (logMode.error)\n\t\t\t\tlogger.error(\n\t\t\t\t\t`Invalid Hex value ${JSON.stringify(hex)}`,\n\t\t\t\t\t'common > convert > base > hexToRGB()'\n\t\t\t\t);\n\n\t\t\treturn defaultRGBBranded;\n\t\t}\n\n\t\tconst clonedHex = clone(hex);\n\t\tconst strippedHex = stripHashFromHex(clonedHex).value.hex;\n\t\tconst bigint = parseInt(strippedHex, 16);\n\n\t\treturn {\n\t\t\tvalue: {\n\t\t\t\tred: brand.asByteRange(Math.round((bigint >> 16) & 255)),\n\t\t\t\tgreen: brand.asByteRange(Math.round((bigint >> 8) & 255)),\n\t\t\t\tblue: brand.asByteRange(Math.round(bigint & 255)),\n\t\t\t\talpha: hex.value.numAlpha\n\t\t\t},\n\t\t\tformat: 'rgb'\n\t\t};\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`hexToRGB error: ${error}`,\n\t\t\t\t'common > convert > base > hexToRGB()'\n\t\t\t);\n\n\t\treturn defaultRGBBranded;\n\t}\n}\n\nfunction hslToCMYK(hsl: HSL): CMYK {\n\ttry {\n\t\tif (!validate.colorValues(hsl)) {\n\t\t\tif (logMode.error)\n\t\t\t\tlogger.error(\n\t\t\t\t\t`Invalid HSL value ${JSON.stringify(hsl)}`,\n\t\t\t\t\t'common > convert > base > hslToCMYK()'\n\t\t\t\t);\n\n\t\t\treturn defaultCMYKBranded;\n\t\t}\n\n\t\treturn rgbToCMYK(hslToRGB(clone(hsl)));\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`Error converting HSL ${JSON.stringify(hsl)} to CMYK: ${error}`,\n\t\t\t\t'common > convert > base > hslToCMYK()'\n\t\t\t);\n\n\t\treturn defaultCMYKBranded;\n\t}\n}\n\nfunction hslToHex(hsl: HSL): Hex {\n\ttry {\n\t\tif (!validate.colorValues(hsl)) {\n\t\t\tif (logMode.error)\n\t\t\t\tlogger.error(\n\t\t\t\t\t`Invalid HSL value ${JSON.stringify(hsl)}`,\n\t\t\t\t\t'common > convert > base > hslToHex()'\n\t\t\t\t);\n\n\t\t\treturn defaultHexBranded;\n\t\t}\n\n\t\treturn rgbToHex(hslToRGB(clone(hsl)));\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`hslToHex error: ${error}`,\n\t\t\t\t'common > convert > base > hslToHex()'\n\t\t\t);\n\n\t\treturn defaultHexBranded;\n\t}\n}\n\nfunction hslToHSV(hsl: HSL): HSV {\n\ttry {\n\t\tif (!validate.colorValues(hsl)) {\n\t\t\tif (logMode.error)\n\t\t\t\tlogger.error(\n\t\t\t\t\t`Invalid HSL value ${JSON.stringify(hsl)}`,\n\t\t\t\t\t'common > convert > base > hslToHSV()'\n\t\t\t\t);\n\n\t\t\treturn defaultHSVBranded;\n\t\t}\n\n\t\tconst clonedHSL = clone(hsl);\n\t\tconst s = clonedHSL.value.saturation / 100;\n\t\tconst l = clonedHSL.value.lightness / 100;\n\t\tconst value = l + s * Math.min(l, 1 - 1);\n\t\tconst newSaturation = value === 0 ? 0 : 2 * (1 - l / value);\n\n\t\treturn {\n\t\t\tvalue: {\n\t\t\t\thue: brand.asRadial(Math.round(clonedHSL.value.hue)),\n\t\t\t\tsaturation: brand.asPercentile(Math.round(newSaturation * 100)),\n\t\t\t\tvalue: brand.asPercentile(Math.round(value * 100)),\n\t\t\t\talpha: brand.asAlphaRange(hsl.value.alpha)\n\t\t\t},\n\t\t\tformat: 'hsv'\n\t\t};\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`hslToHSV() error: ${error}`,\n\t\t\t\t'common > convert > base > hslToHSV()'\n\t\t\t);\n\n\t\treturn defaultHSVBranded;\n\t}\n}\n\nfunction hslToLAB(hsl: HSL): LAB {\n\ttry {\n\t\tif (!validate.colorValues(hsl)) {\n\t\t\tif (logMode.error)\n\t\t\t\tlogger.error(\n\t\t\t\t\t`Invalid HSL value ${JSON.stringify(hsl)}`,\n\t\t\t\t\t'common > convert > base > hslToLAB()'\n\t\t\t\t);\n\n\t\t\treturn defaultLABBranded;\n\t\t}\n\n\t\treturn xyzToLAB(rgbToXYZ(hslToRGB(clone(hsl))));\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`hslToLab() error: ${error}`,\n\t\t\t\t'common > convert > base > hslToLAB()'\n\t\t\t);\n\n\t\treturn defaultLABBranded;\n\t}\n}\n\nfunction hslToRGB(hsl: HSL): RGB {\n\ttry {\n\t\tif (!validate.colorValues(hsl)) {\n\t\t\tif (logMode.error)\n\t\t\t\tlogger.error(\n\t\t\t\t\t`Invalid HSL value ${JSON.stringify(hsl)}`,\n\t\t\t\t\t'common > convert > base > hslToRGB()'\n\t\t\t\t);\n\n\t\t\treturn defaultRGBBranded;\n\t\t}\n\n\t\tconst clonedHSL = clone(hsl);\n\t\tconst s = clonedHSL.value.saturation / 100;\n\t\tconst l = clonedHSL.value.lightness / 100;\n\t\tconst q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n\t\tconst p = 2 * l - q;\n\n\t\treturn {\n\t\t\tvalue: {\n\t\t\t\tred: brand.asByteRange(\n\t\t\t\t\tMath.round(\n\t\t\t\t\t\thueToRGB(p, q, clonedHSL.value.hue + 1 / 3) * 255\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\tgreen: brand.asByteRange(\n\t\t\t\t\tMath.round(hueToRGB(p, q, clonedHSL.value.hue) * 255)\n\t\t\t\t),\n\t\t\t\tblue: brand.asByteRange(\n\t\t\t\t\tMath.round(\n\t\t\t\t\t\thueToRGB(p, q, clonedHSL.value.hue - 1 / 3) * 255\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\talpha: brand.asAlphaRange(hsl.value.alpha)\n\t\t\t},\n\t\t\tformat: 'rgb'\n\t\t};\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`hslToRGB error: ${error}`,\n\t\t\t\t'common > convert > base > hslToRGB()'\n\t\t\t);\n\n\t\treturn defaultRGBBranded;\n\t}\n}\n\nfunction hslToSL(hsl: HSL): SL {\n\ttry {\n\t\tif (!validate.colorValues(hsl)) {\n\t\t\tif (logMode.error)\n\t\t\t\tlogger.error(\n\t\t\t\t\t`Invalid HSL value ${JSON.stringify(hsl)}`,\n\t\t\t\t\t'common > convert > base > hslToSL()'\n\t\t\t\t);\n\n\t\t\treturn defaultSLBranded;\n\t\t}\n\n\t\treturn {\n\t\t\tvalue: {\n\t\t\t\tsaturation: hsl.value.saturation,\n\t\t\t\tlightness: hsl.value.lightness,\n\t\t\t\talpha: hsl.value.alpha\n\t\t\t},\n\t\t\tformat: 'sl' as 'sl'\n\t\t};\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`Error converting HSL to SL: ${error}`,\n\t\t\t\t'common > convert > base > hslToSL()'\n\t\t\t);\n\n\t\treturn defaultSLBranded;\n\t}\n}\n\nfunction hslToSV(hsl: HSL): SV {\n\ttry {\n\t\tif (!validate.colorValues(hsl)) {\n\t\t\tif (logMode.error)\n\t\t\t\tlogger.error(\n\t\t\t\t\t`Invalid HSL value ${JSON.stringify(hsl)}`,\n\t\t\t\t\t'common > convert > base > hslToSV()'\n\t\t\t\t);\n\n\t\t\treturn defaultSVBranded;\n\t\t}\n\n\t\treturn hsvToSV(rgbToHSV(hslToRGB(clone(hsl))));\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`Error converting HSL to SV: ${error}`,\n\t\t\t\t'common > convert > base > hslToSV()'\n\t\t\t);\n\n\t\treturn defaultSVBranded;\n\t}\n}\n\nfunction hslToXYZ(hsl: HSL): XYZ {\n\ttry {\n\t\tif (!validate.colorValues(hsl)) {\n\t\t\tif (logMode.error)\n\t\t\t\tlogger.error(\n\t\t\t\t\t`Invalid HSL value ${JSON.stringify(hsl)}`,\n\t\t\t\t\t'common > convert > base > hslToXYZ()'\n\t\t\t\t);\n\n\t\t\treturn defaultXYZBranded;\n\t\t}\n\n\t\treturn labToXYZ(hslToLAB(clone(hsl)));\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`hslToXYZ error: ${error}`,\n\t\t\t\t'common > convert > base > hslToXYZ()'\n\t\t\t);\n\n\t\treturn defaultXYZBranded;\n\t}\n}\n\nfunction hsvToHSL(hsv: HSV): HSL {\n\ttry {\n\t\tif (!validate.colorValues(hsv)) {\n\t\t\tif (logMode.error)\n\t\t\t\tlogger.error(\n\t\t\t\t\t`Invalid HSV value ${JSON.stringify(hsv)}`,\n\t\t\t\t\t'common > convert > base > hsvToHSL()'\n\t\t\t\t);\n\n\t\t\treturn defaultHSLBranded;\n\t\t}\n\n\t\tconst clonedHSV = clone(hsv);\n\t\tconst newSaturation =\n\t\t\tclonedHSV.value.value * (1 - clonedHSV.value.saturation / 100) ===\n\t\t\t\t0 || clonedHSV.value.value === 0\n\t\t\t\t? 0\n\t\t\t\t: (clonedHSV.value.value -\n\t\t\t\t\t\tclonedHSV.value.value *\n\t\t\t\t\t\t\t(1 - clonedHSV.value.saturation / 100)) /\n\t\t\t\t\tMath.min(\n\t\t\t\t\t\tclonedHSV.value.value,\n\t\t\t\t\t\t100 - clonedHSV.value.value\n\t\t\t\t\t);\n\t\tconst lightness =\n\t\t\tclonedHSV.value.value * (1 - clonedHSV.value.saturation / 200);\n\n\t\treturn {\n\t\t\tvalue: {\n\t\t\t\thue: brand.asRadial(Math.round(clonedHSV.value.hue)),\n\t\t\t\tsaturation: brand.asPercentile(Math.round(newSaturation * 100)),\n\t\t\t\tlightness: brand.asPercentile(Math.round(lightness)),\n\t\t\t\talpha: hsv.value.alpha\n\t\t\t},\n\t\t\tformat: 'hsl'\n\t\t};\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`hsvToHSL() error: ${error}`,\n\t\t\t\t'common > convert > base > hsvToHSL()'\n\t\t\t);\n\n\t\treturn defaultHSLBranded;\n\t}\n}\n\nfunction hsvToSV(hsv: HSV): SV {\n\ttry {\n\t\tif (!validate.colorValues(hsv)) {\n\t\t\tif (logMode.error)\n\t\t\t\tlogger.error(\n\t\t\t\t\t`Invalid HSV value ${JSON.stringify(hsv)}`,\n\t\t\t\t\t'common > convert > base > hsvToSV()'\n\t\t\t\t);\n\n\t\t\treturn defaultSVBranded;\n\t\t}\n\n\t\treturn {\n\t\t\tvalue: {\n\t\t\t\tsaturation: hsv.value.saturation,\n\t\t\t\tvalue: hsv.value.value,\n\t\t\t\talpha: hsv.value.alpha\n\t\t\t},\n\t\t\tformat: 'sv' as 'sv'\n\t\t};\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`Error converting HSV to SV: ${error}`,\n\t\t\t\t'common > convert > base > hsvToSV()'\n\t\t\t);\n\n\t\treturn defaultSVBranded;\n\t}\n}\n\nfunction labToHSL(lab: LAB): HSL {\n\ttry {\n\t\tif (!validate.colorValues(lab)) {\n\t\t\tif (logMode.error)\n\t\t\t\tlogger.error(\n\t\t\t\t\t`Invalid LAB value ${JSON.stringify(lab)}`,\n\t\t\t\t\t'common > convert > base > labToHSL()'\n\t\t\t\t);\n\n\t\t\treturn defaultHSLBranded;\n\t\t}\n\n\t\treturn rgbToHSL(labToRGB(clone(lab)));\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`labToHSL() error: ${error}`,\n\t\t\t\t'common > convert > base > labToHSL()'\n\t\t\t);\n\n\t\treturn defaultHSLBranded;\n\t}\n}\n\nfunction labToRGB(lab: LAB): RGB {\n\ttry {\n\t\tif (!validate.colorValues(lab)) {\n\t\t\tif (logMode.error)\n\t\t\t\tlogger.error(\n\t\t\t\t\t`Invalid LAB value ${JSON.stringify(lab)}`,\n\t\t\t\t\t'common > convert > base > labToRGB()'\n\t\t\t\t);\n\n\t\t\treturn defaultRGBBranded;\n\t\t}\n\n\t\treturn xyzToRGB(labToXYZ(clone(lab)));\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`labToRGB error: ${error}`,\n\t\t\t\t'common > convert > base > labToRGB()'\n\t\t\t);\n\n\t\treturn defaultRGBBranded;\n\t}\n}\n\nfunction labToXYZ(lab: LAB): XYZ {\n\ttry {\n\t\tif (!validate.colorValues(lab)) {\n\t\t\tif (logMode.error)\n\t\t\t\tlogger.error(\n\t\t\t\t\t`Invalid LAB value ${JSON.stringify(lab)}`,\n\t\t\t\t\t'common > convert > base > labToXYZ()'\n\t\t\t\t);\n\n\t\t\treturn defaultXYZBranded;\n\t\t}\n\n\t\tconst clonedLAB = clone(lab);\n\t\tconst refX = 95.047,\n\t\t\trefY = 100.0,\n\t\t\trefZ = 108.883;\n\n\t\tlet y = (clonedLAB.value.l + 16) / 116;\n\t\tlet x = clonedLAB.value.a / 500 + y;\n\t\tlet z = y - clonedLAB.value.b / 200;\n\n\t\tconst pow = Math.pow;\n\n\t\treturn {\n\t\t\tvalue: {\n\t\t\t\tx: brand.asXYZ_X(\n\t\t\t\t\tMath.round(\n\t\t\t\t\t\trefX *\n\t\t\t\t\t\t\t(pow(x, 3) > 0.008856\n\t\t\t\t\t\t\t\t? pow(x, 3)\n\t\t\t\t\t\t\t\t: (x - 16 / 116) / 7.787)\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\ty: brand.asXYZ_Y(\n\t\t\t\t\tMath.round(\n\t\t\t\t\t\trefY *\n\t\t\t\t\t\t\t(pow(y, 3) > 0.008856\n\t\t\t\t\t\t\t\t? pow(y, 3)\n\t\t\t\t\t\t\t\t: (y - 16 / 116) / 7.787)\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\tz: brand.asXYZ_Z(\n\t\t\t\t\tMath.round(\n\t\t\t\t\t\trefZ *\n\t\t\t\t\t\t\t(pow(z, 3) > 0.008856\n\t\t\t\t\t\t\t\t? pow(z, 3)\n\t\t\t\t\t\t\t\t: (z - 16 / 116) / 7.787)\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\talpha: brand.asAlphaRange(lab.value.alpha)\n\t\t\t},\n\t\t\tformat: 'xyz'\n\t\t};\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`labToXYZ error: ${error}`,\n\t\t\t\t'common > convert > base > labToXYZ()'\n\t\t\t);\n\n\t\treturn defaultXYZBranded;\n\t}\n}\n\nfunction rgbToCMYK(rgb: RGB): CMYK {\n\ttry {\n\t\tif (!validate.colorValues(rgb)) {\n\t\t\tif (logMode.error)\n\t\t\t\tlogger.error(\n\t\t\t\t\t`Invalid RGB value ${JSON.stringify(rgb)}`,\n\t\t\t\t\t'common > convert > base > rgbToCMYK()'\n\t\t\t\t);\n\n\t\t\treturn defaultCMYKBranded;\n\t\t}\n\n\t\tconst clonedRGB = clone(rgb);\n\n\t\tconst redPrime = clonedRGB.value.red / 255;\n\t\tconst greenPrime = clonedRGB.value.green / 255;\n\t\tconst bluePrime = clonedRGB.value.blue / 255;\n\n\t\tconst key = sanitize.percentile(\n\t\t\tMath.round(1 - Math.max(redPrime, greenPrime, bluePrime))\n\t\t);\n\t\tconst cyan = sanitize.percentile(\n\t\t\tMath.round((1 - redPrime - key) / (1 - key) || 0)\n\t\t);\n\t\tconst magenta = sanitize.percentile(\n\t\t\tMath.round((1 - greenPrime - key) / (1 - key) || 0)\n\t\t);\n\t\tconst yellow = sanitize.percentile(\n\t\t\tMath.round((1 - bluePrime - key) / (1 - key) || 0)\n\t\t);\n\t\tconst alpha = brand.asAlphaRange(rgb.value.alpha);\n\t\tconst format: 'cmyk' = 'cmyk';\n\n\t\tconst cmyk = { value: { cyan, magenta, yellow, key, alpha }, format };\n\n\t\tif (!mode.quiet)\n\t\t\tlogger.info(\n\t\t\t\t`Converted RGB ${JSON.stringify(clonedRGB)} to CMYK: ${JSON.stringify(clone(cmyk))}`,\n\t\t\t\t'common > convert > base > rgbToCMYK()'\n\t\t\t);\n\n\t\treturn cmyk;\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`Error converting RGB to CMYK: ${error}`,\n\t\t\t\t'common > convert > base > rgbToCMYK()'\n\t\t\t);\n\n\t\treturn defaultCMYKBranded;\n\t}\n}\n\nfunction rgbToHex(rgb: RGB): Hex {\n\ttry {\n\t\tif (!validate.colorValues(rgb)) {\n\t\t\tif (logMode.error)\n\t\t\t\tlogger.error(\n\t\t\t\t\t`Invalid RGB value ${JSON.stringify(rgb)}`,\n\t\t\t\t\t'common > convert > base > rgbToHex()'\n\t\t\t\t);\n\n\t\t\treturn defaultHexBranded;\n\t\t}\n\n\t\tconst clonedRGB = clone(rgb);\n\n\t\tif (\n\t\t\t[\n\t\t\t\tclonedRGB.value.red,\n\t\t\t\tclonedRGB.value.green,\n\t\t\t\tclonedRGB.value.blue\n\t\t\t].some(v => isNaN(v) || v < 0 || v > 255) ||\n\t\t\t[clonedRGB.value.alpha].some(v => isNaN(v) || v < 0 || v > 1)\n\t\t) {\n\t\t\tif (logMode.warn)\n\t\t\t\tlogger.warn(\n\t\t\t\t\t`Invalid RGB values:\\nR=${JSON.stringify(clonedRGB.value.red)}\\nG=${JSON.stringify(clonedRGB.value.green)}\\nB=${JSON.stringify(clonedRGB.value.blue)}\\nA=${JSON.stringify(clonedRGB.value.alpha)}`,\n\t\t\t\t\t'common > convert > base > rgbToHex()'\n\t\t\t\t);\n\n\t\t\treturn {\n\t\t\t\tvalue: {\n\t\t\t\t\thex: brand.asHexSet('#000000FF'),\n\t\t\t\t\talpha: brand.asHexComponent('FF'),\n\t\t\t\t\tnumAlpha: brand.asAlphaRange(1)\n\t\t\t\t},\n\t\t\t\tformat: 'hex' as 'hex'\n\t\t\t};\n\t\t}\n\n\t\treturn {\n\t\t\tvalue: {\n\t\t\t\thex: brand.asHexSet(\n\t\t\t\t\t`#${componentToHex(clonedRGB.value.red)}${componentToHex(clonedRGB.value.green)}${componentToHex(clonedRGB.value.blue)}`\n\t\t\t\t),\n\t\t\t\talpha: brand.asHexComponent(\n\t\t\t\t\tcomponentToHex(clonedRGB.value.alpha)\n\t\t\t\t),\n\t\t\t\tnumAlpha: clonedRGB.value.alpha\n\t\t\t},\n\t\t\tformat: 'hex' as 'hex'\n\t\t};\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.warn(`rgbToHex error: ${error}`, 'rgbToHex()');\n\n\t\treturn defaultHexBranded;\n\t}\n}\n\nfunction rgbToHSL(rgb: RGB): HSL {\n\ttry {\n\t\tif (!validate.colorValues(rgb)) {\n\t\t\tif (logMode.error) {\n\t\t\t\tlogger.error(\n\t\t\t\t\t`Invalid RGB value ${JSON.stringify(rgb)}`,\n\t\t\t\t\t'common > convert > base > rgbToHSL()'\n\t\t\t\t);\n\t\t\t}\n\t\t\treturn defaultHSLBranded;\n\t\t}\n\n\t\tconst clonedRGB = clone(rgb);\n\n\t\tconst red = (clonedRGB.value.red as unknown as number) / 255;\n\t\tconst green = (clonedRGB.value.green as unknown as number) / 255;\n\t\tconst blue = (clonedRGB.value.blue as unknown as number) / 255;\n\n\t\tconst max = Math.max(red, green, blue);\n\t\tconst min = Math.min(red, green, blue);\n\n\t\tlet hue = 0,\n\t\t\tsaturation = 0,\n\t\t\tlightness = (max + min) / 2;\n\n\t\tif (max !== min) {\n\t\t\tconst delta = max - min;\n\n\t\t\tsaturation =\n\t\t\t\tlightness > 0.5 ? delta / (2 - max - min) : delta / (max + min);\n\n\t\t\tswitch (max) {\n\t\t\t\tcase red:\n\t\t\t\t\thue = (green - blue) / delta + (green < blue ? 6 : 0);\n\t\t\t\t\tbreak;\n\t\t\t\tcase green:\n\t\t\t\t\thue = (blue - red) / delta + 2;\n\t\t\t\t\tbreak;\n\t\t\t\tcase blue:\n\t\t\t\t\thue = (red - green) / delta + 4;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\thue *= 60;\n\t\t}\n\n\t\treturn {\n\t\t\tvalue: {\n\t\t\t\thue: brand.asRadial(Math.round(hue)),\n\t\t\t\tsaturation: brand.asPercentile(Math.round(saturation * 100)),\n\t\t\t\tlightness: brand.asPercentile(Math.round(lightness * 100)),\n\t\t\t\talpha: brand.asAlphaRange(rgb.value.alpha)\n\t\t\t},\n\t\t\tformat: 'hsl'\n\t\t};\n\t} catch (error) {\n\t\tif (logMode.error) {\n\t\t\tlogger.error(\n\t\t\t\t`rgbToHSL() error: ${error}`,\n\t\t\t\t'common > convert > base > rgbToHSL()'\n\t\t\t);\n\t\t}\n\n\t\treturn defaultHSLBranded;\n\t}\n}\n\nfunction rgbToHSV(rgb: RGB): HSV {\n\ttry {\n\t\tif (!validate.colorValues(rgb)) {\n\t\t\tif (logMode.error) {\n\t\t\t\tlogger.error(\n\t\t\t\t\t`Invalid RGB value ${JSON.stringify(rgb)}`,\n\t\t\t\t\t'common > convert > base > rgbToHSV()'\n\t\t\t\t);\n\t\t\t}\n\t\t\treturn defaultHSVBranded;\n\t\t}\n\n\t\tconst red = (rgb.value.red as unknown as number) / 255;\n\t\tconst green = (rgb.value.green as unknown as number) / 255;\n\t\tconst blue = (rgb.value.blue as unknown as number) / 255;\n\n\t\tconst max = Math.max(red, green, blue);\n\t\tconst min = Math.min(red, green, blue);\n\t\tconst delta = max - min;\n\n\t\tlet hue = 0;\n\n\t\tconst value = max;\n\t\tconst saturation = max === 0 ? 0 : delta / max;\n\n\t\tif (max !== min) {\n\t\t\tswitch (max) {\n\t\t\t\tcase red:\n\t\t\t\t\thue = (green - blue) / delta + (green < blue ? 6 : 0);\n\t\t\t\t\tbreak;\n\t\t\t\tcase green:\n\t\t\t\t\thue = (blue - red) / delta + 2;\n\t\t\t\t\tbreak;\n\t\t\t\tcase blue:\n\t\t\t\t\thue = (red - green) / delta + 4;\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\thue *= 60;\n\t\t}\n\n\t\treturn {\n\t\t\tvalue: {\n\t\t\t\thue: brand.asRadial(Math.round(hue)),\n\t\t\t\tsaturation: brand.asPercentile(Math.round(saturation * 100)),\n\t\t\t\tvalue: brand.asPercentile(Math.round(value * 100)),\n\t\t\t\talpha: brand.asAlphaRange(rgb.value.alpha)\n\t\t\t},\n\t\t\tformat: 'hsv'\n\t\t};\n\t} catch (error) {\n\t\tif (logMode.error) {\n\t\t\tlogger.error(\n\t\t\t\t`rgbToHSV() error: ${error}`,\n\t\t\t\t'common > convert > base > rgbToHSV()'\n\t\t\t);\n\t\t}\n\n\t\treturn defaultHSVBranded;\n\t}\n}\n\nfunction rgbToXYZ(rgb: RGB): XYZ {\n\ttry {\n\t\tif (!validate.colorValues(rgb)) {\n\t\t\tif (logMode.error) {\n\t\t\t\tlogger.error(\n\t\t\t\t\t`Invalid RGB value ${JSON.stringify(rgb)}`,\n\t\t\t\t\t'rgbToXYZ()'\n\t\t\t\t);\n\t\t\t}\n\t\t\treturn defaultXYZBranded;\n\t\t}\n\n\t\tconst red = (rgb.value.red as unknown as number) / 255;\n\t\tconst green = (rgb.value.green as unknown as number) / 255;\n\t\tconst blue = (rgb.value.blue as unknown as number) / 255;\n\n\t\tconst correctedRed =\n\t\t\tred > 0.04045 ? Math.pow((red + 0.055) / 1.055, 2.4) : red / 12.92;\n\t\tconst correctedGreen =\n\t\t\tgreen > 0.04045\n\t\t\t\t? Math.pow((green + 0.055) / 1.055, 2.4)\n\t\t\t\t: green / 12.92;\n\t\tconst correctedBlue =\n\t\t\tblue > 0.04045\n\t\t\t\t? Math.pow((blue + 0.055) / 1.055, 2.4)\n\t\t\t\t: blue / 12.92;\n\n\t\tconst scaledRed = correctedRed * 100;\n\t\tconst scaledGreen = correctedGreen * 100;\n\t\tconst scaledBlue = correctedBlue * 100;\n\n\t\treturn {\n\t\t\tvalue: {\n\t\t\t\tx: brand.asXYZ_X(\n\t\t\t\t\tMath.round(\n\t\t\t\t\t\tscaledRed * 0.4124 +\n\t\t\t\t\t\t\tscaledGreen * 0.3576 +\n\t\t\t\t\t\t\tscaledBlue * 0.1805\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\ty: brand.asXYZ_Y(\n\t\t\t\t\tMath.round(\n\t\t\t\t\t\tscaledRed * 0.2126 +\n\t\t\t\t\t\t\tscaledGreen * 0.7152 +\n\t\t\t\t\t\t\tscaledBlue * 0.0722\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\tz: brand.asXYZ_Z(\n\t\t\t\t\tMath.round(\n\t\t\t\t\t\tscaledRed * 0.0193 +\n\t\t\t\t\t\t\tscaledGreen * 0.1192 +\n\t\t\t\t\t\t\tscaledBlue * 0.9505\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\talpha: brand.asAlphaRange(rgb.value.alpha)\n\t\t\t},\n\t\t\tformat: 'xyz'\n\t\t};\n\t} catch (error) {\n\t\tif (logMode.error) {\n\t\t\tlogger.error(\n\t\t\t\t`rgbToXYZ error: ${error}`,\n\t\t\t\t'common > convert > base > rgbToXYZ()'\n\t\t\t);\n\t\t}\n\t\treturn defaultXYZBranded;\n\t}\n}\n\nfunction xyzToHSL(xyz: XYZ): HSL {\n\ttry {\n\t\tif (!validate.colorValues(xyz)) {\n\t\t\tif (logMode.error)\n\t\t\t\tlogger.error(\n\t\t\t\t\t`Invalid XYZ value ${JSON.stringify(xyz)}`,\n\t\t\t\t\t'common > convert > base > xyzToHSL()'\n\t\t\t\t);\n\n\t\t\treturn defaultHSLBranded;\n\t\t}\n\n\t\treturn rgbToHSL(xyzToRGB(clone(xyz)));\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`xyzToHSL() error: ${error}`,\n\t\t\t\t'common > convert > base > xyzToHSL()'\n\t\t\t);\n\n\t\treturn defaultHSLBranded;\n\t}\n}\n\nfunction xyzToLAB(xyz: XYZ): LAB {\n\ttry {\n\t\tif (!validate.colorValues(xyz)) {\n\t\t\tif (logMode.error)\n\t\t\t\tlogger.error(\n\t\t\t\t\t`Invalid XYZ value ${JSON.stringify(xyz)}`,\n\t\t\t\t\t'common > convert > base > xyzToLAB()'\n\t\t\t\t);\n\n\t\t\treturn defaultLABBranded;\n\t\t}\n\n\t\tconst clonedXYZ = clone(xyz);\n\t\tconst refX = 95.047,\n\t\t\trefY = 100.0,\n\t\t\trefZ = 108.883;\n\n\t\tclonedXYZ.value.x = (clonedXYZ.value.x / refX) as XYZ_X;\n\t\tclonedXYZ.value.y = (clonedXYZ.value.y / refY) as XYZ_Y;\n\t\tclonedXYZ.value.z = (clonedXYZ.value.z / refZ) as XYZ_Z;\n\n\t\tclonedXYZ.value.x =\n\t\t\tclonedXYZ.value.x > 0.008856\n\t\t\t\t? (Math.pow(clonedXYZ.value.x, 1 / 3) as XYZ_X)\n\t\t\t\t: ((7.787 * clonedXYZ.value.x + 16 / 116) as XYZ_X);\n\t\tclonedXYZ.value.y =\n\t\t\tclonedXYZ.value.y > 0.008856\n\t\t\t\t? (Math.pow(clonedXYZ.value.y, 1 / 3) as XYZ_Y)\n\t\t\t\t: ((7.787 * clonedXYZ.value.y + 16 / 116) as XYZ_Y);\n\t\tclonedXYZ.value.z =\n\t\t\tclonedXYZ.value.z > 0.008856\n\t\t\t\t? (Math.pow(clonedXYZ.value.z, 1 / 3) as XYZ_Z)\n\t\t\t\t: ((7.787 * clonedXYZ.value.z + 16 / 116) as XYZ_Z);\n\n\t\tconst l = sanitize.percentile(\n\t\t\tparseFloat((116 * clonedXYZ.value.y - 16).toFixed(2))\n\t\t);\n\t\tconst a = sanitize.lab(\n\t\t\tparseFloat(\n\t\t\t\t(500 * (clonedXYZ.value.x - clonedXYZ.value.y)).toFixed(2)\n\t\t\t),\n\t\t\t'a'\n\t\t);\n\t\tconst b = sanitize.lab(\n\t\t\tparseFloat(\n\t\t\t\t(200 * (clonedXYZ.value.y - clonedXYZ.value.z)).toFixed(2)\n\t\t\t),\n\t\t\t'b'\n\t\t);\n\n\t\tconst lab: LAB = {\n\t\t\tvalue: {\n\t\t\t\tl: brand.asLAB_L(Math.round(l)),\n\t\t\t\ta: brand.asLAB_A(Math.round(a)),\n\t\t\t\tb: brand.asLAB_B(Math.round(b)),\n\t\t\t\talpha: xyz.value.alpha\n\t\t\t},\n\t\t\tformat: 'lab'\n\t\t};\n\n\t\tif (!validate.colorValues(lab)) {\n\t\t\tif (logMode.error)\n\t\t\t\tlogger.error(\n\t\t\t\t\t`Invalid LAB value ${JSON.stringify(lab)}`,\n\t\t\t\t\t'xyzToLAB()'\n\t\t\t\t);\n\n\t\t\treturn defaultLABBranded;\n\t\t}\n\n\t\treturn lab;\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`xyzToLab() error: ${error}`,\n\t\t\t\t'common > convert > base > xyzToLAB()'\n\t\t\t);\n\n\t\treturn defaultLABBranded;\n\t}\n}\n\nfunction xyzToRGB(xyz: XYZ): RGB {\n\ttry {\n\t\tif (!validate.colorValues(xyz)) {\n\t\t\tif (logMode.error) {\n\t\t\t\tlogger.error(\n\t\t\t\t\t`Invalid XYZ value ${JSON.stringify(xyz)}`,\n\t\t\t\t\t'common > convert > base > xyzToRGB()'\n\t\t\t\t);\n\t\t\t}\n\t\t\treturn defaultRGBBranded;\n\t\t}\n\n\t\tconst x = (xyz.value.x as unknown as number) / 100;\n\t\tconst y = (xyz.value.y as unknown as number) / 100;\n\t\tconst z = (xyz.value.z as unknown as number) / 100;\n\n\t\tlet red = x * 3.2406 + y * -1.5372 + z * -0.4986;\n\t\tlet green = x * -0.9689 + y * 1.8758 + z * 0.0415;\n\t\tlet blue = x * 0.0557 + y * -0.204 + z * 1.057;\n\n\t\tred = applyGammaCorrection(red);\n\t\tgreen = applyGammaCorrection(green);\n\t\tblue = applyGammaCorrection(blue);\n\n\t\tconst rgb: RGB = clampRGB({\n\t\t\tvalue: {\n\t\t\t\tred: brand.asByteRange(Math.round(red)),\n\t\t\t\tgreen: brand.asByteRange(Math.round(green)),\n\t\t\t\tblue: brand.asByteRange(Math.round(blue)),\n\t\t\t\talpha: xyz.value.alpha\n\t\t\t},\n\t\t\tformat: 'rgb'\n\t\t});\n\n\t\treturn rgb;\n\t} catch (error) {\n\t\tif (logMode.error) {\n\t\t\tlogger.error(\n\t\t\t\t`xyzToRGB error: ${error}`,\n\t\t\t\t'common > convert > base > xyzToRGB()'\n\t\t\t);\n\t\t}\n\t\treturn defaultRGBBranded;\n\t}\n}\n\n// ******** BUNDLED CONVERSION FUNCTIONS ********\n\nfunction hslTo(color: HSL, colorSpace: ColorSpaceExtended): Color {\n\ttry {\n\t\tif (!validate.colorValues(color)) {\n\t\t\tlogger.error(\n\t\t\t\t`Invalid color value ${JSON.stringify(color)}`,\n\t\t\t\t'hslTo()'\n\t\t\t);\n\n\t\t\treturn defaultRGBBranded;\n\t\t}\n\n\t\tconst clonedColor = clone(color) as HSL;\n\n\t\tswitch (colorSpace) {\n\t\t\tcase 'cmyk':\n\t\t\t\treturn hslToCMYK(clonedColor);\n\t\t\tcase 'hex':\n\t\t\t\treturn hslToHex(clonedColor);\n\t\t\tcase 'hsl':\n\t\t\t\treturn clone(clonedColor);\n\t\t\tcase 'hsv':\n\t\t\t\treturn hslToHSV(clonedColor);\n\t\t\tcase 'lab':\n\t\t\t\treturn hslToLAB(clonedColor);\n\t\t\tcase 'rgb':\n\t\t\t\treturn hslToRGB(clonedColor);\n\t\t\tcase 'sl':\n\t\t\t\treturn hslToSL(clonedColor);\n\t\t\tcase 'sv':\n\t\t\t\treturn hslToSV(clonedColor);\n\t\t\tcase 'xyz':\n\t\t\t\treturn hslToXYZ(clonedColor);\n\t\t\tdefault:\n\t\t\t\tthrow new Error('Invalid color format');\n\t\t}\n\t} catch (error) {\n\t\tthrow new Error(`hslTo() error: ${error}`);\n\t}\n}\n\nfunction toHSL(color: Exclude<Color, SL | SV>): HSL {\n\ttry {\n\t\tif (!validate.colorValues(color)) {\n\t\t\tlogger.error(\n\t\t\t\t`Invalid color value ${JSON.stringify(color)}`,\n\t\t\t\t'toHSL()'\n\t\t\t);\n\n\t\t\treturn defaultHSLBranded;\n\t\t}\n\n\t\tconst clonedColor = clone(color);\n\n\t\tswitch (color.format) {\n\t\t\tcase 'cmyk':\n\t\t\t\treturn cmykToHSL(clonedColor as CMYK);\n\t\t\tcase 'hex':\n\t\t\t\treturn hexToHSL(clonedColor as Hex);\n\t\t\tcase 'hsl':\n\t\t\t\treturn clone(clonedColor as HSL);\n\t\t\tcase 'hsv':\n\t\t\t\treturn hsvToHSL(clonedColor as HSV);\n\t\t\tcase 'lab':\n\t\t\t\treturn labToHSL(clonedColor as LAB);\n\t\t\tcase 'rgb':\n\t\t\t\treturn rgbToHSL(clonedColor as RGB);\n\t\t\tcase 'xyz':\n\t\t\t\treturn xyzToHSL(clonedColor as XYZ);\n\t\t\tdefault:\n\t\t\t\tthrow new Error('Invalid color format');\n\t\t}\n\t} catch (error) {\n\t\tthrow new Error(`toHSL() error: ${error}`);\n\t}\n}\n\nexport const convert: CommonFunctionsMasterInterface['convert'] = {\n\thslTo,\n\ttoHSL,\n\twrappers: {\n\t\thexToHSL: hexToHSLWrapper\n\t}\n};\n","// File: src/common/helpers/dom.js\n\nimport {\n\tColor,\n\tColorInputElement,\n\tColorString,\n\tCommonFunctionsMasterInterface,\n\tMakePaletteBox\n} from '../../types/index.js';\nimport { consts, mode } from '../data/base.js';\nimport { core } from '../core/index.js';\nimport { createLogger } from '../../logger/index.js';\n\nconst logger = await createLogger();\n\nconst logMode = mode.logging;\nconst timeouts = consts.timeouts;\n\nlet dragSrcEl: HTMLElement | null = null;\n\nfunction attachDragAndDropListeners(element: HTMLElement | null): void {\n\ttry {\n\t\tif (element) {\n\t\t\telement.addEventListener('dragstart', dragStart);\n\t\t\telement.addEventListener('dragover', dragOver);\n\t\t\telement.addEventListener('drop', drop);\n\t\t\telement.addEventListener('dragend', dragEnd);\n\t\t}\n\n\t\tif (!mode.quiet)\n\t\t\tlogger.info(\n\t\t\t\t'Drag and drop event listeners successfully attached',\n\t\t\t\t'common > helpers > dom > attachDragAndDropEventListeners()'\n\t\t\t);\n\t} catch (error) {\n\t\tif (!logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`Failed to execute attachDragAndDropEventListeners: ${error}`,\n\t\t\t\t'common > helpers > dom > attachDragAndDropEventListeners()'\n\t\t\t);\n\t}\n}\n\nfunction dragStart(e: DragEvent): void {\n\ttry {\n\t\tdragSrcEl = e.currentTarget as HTMLElement;\n\n\t\tif (e.dataTransfer) {\n\t\t\te.dataTransfer.effectAllowed = 'move';\n\t\t\te.dataTransfer.setData('text/html', dragSrcEl.outerHTML);\n\t\t}\n\n\t\tif (!mode.quiet && mode.debug && logMode.verbosity > 3)\n\t\t\tlogger.info(\n\t\t\t\t'handleDragStart complete',\n\t\t\t\t'common > helpers > dom > dragStart()'\n\t\t\t);\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`Error in handleDragStart: ${error}`,\n\t\t\t\t'common > helpers > dom > dragStart()'\n\t\t\t);\n\t}\n}\n\nfunction dragOver(e: DragEvent): boolean {\n\ttry {\n\t\te.preventDefault();\n\n\t\tif (e.dataTransfer) {\n\t\t\te.dataTransfer.dropEffect = 'move';\n\t\t}\n\n\t\tif (!mode.quiet && mode.debug && logMode.verbosity > 3)\n\t\t\tlogger.info(\n\t\t\t\t'handleDragOver complete',\n\t\t\t\t'common > helpers > dom > dragOver()'\n\t\t\t);\n\n\t\treturn false;\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`Error in handleDragOver: ${error}`,\n\t\t\t\t'common > helpers > dom > dragOver()'\n\t\t\t);\n\n\t\treturn false;\n\t}\n}\n\nfunction dragEnd(e: DragEvent): void {\n\ttry {\n\t\tconst target = e.currentTarget as HTMLElement;\n\n\t\ttarget.classList.remove('dragging');\n\n\t\tdocument.querySelectorAll('.color-stripe').forEach(el => {\n\t\t\tel.classList.remove('dragging');\n\t\t});\n\n\t\tif (!mode.quiet && mode.debug && logMode.verbosity > 3)\n\t\t\tlogger.info(\n\t\t\t\t'handleDragEnd complete',\n\t\t\t\t'common > helpers > dom > dragEnd()'\n\t\t\t);\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`Error in handleDragEnd: ${error}`,\n\t\t\t\t'common > helpers > dom > dragEnd()'\n\t\t\t);\n\t}\n}\n\nfunction drop(e: DragEvent): void {\n\ttry {\n\t\te.stopPropagation();\n\n\t\tconst target = e.currentTarget as HTMLElement;\n\n\t\tif (dragSrcEl && dragSrcEl !== target) {\n\t\t\tconst dragSrcId = dragSrcEl.id;\n\t\t\tconst dropTargetId = target.id;\n\t\t\tconst dragSrcText = (\n\t\t\t\tdragSrcEl.querySelector(\n\t\t\t\t\t'.color-text-output-box'\n\t\t\t\t) as HTMLInputElement\n\t\t\t).value;\n\t\t\tconst dropTargetText = (\n\t\t\t\ttarget.querySelector(\n\t\t\t\t\t'.color-text-output-box'\n\t\t\t\t) as HTMLInputElement\n\t\t\t).value;\n\t\t\tconst dragSrcOuterHTML = dragSrcEl.outerHTML;\n\t\t\tconst dropTargetOuterHTML = target.outerHTML;\n\n\t\t\tdragSrcEl.outerHTML = dropTargetOuterHTML;\n\t\t\ttarget.outerHTML = dragSrcOuterHTML;\n\n\t\t\tconst newDragSrcEl = document.getElementById(\n\t\t\t\tdropTargetId\n\t\t\t) as HTMLElement;\n\t\t\tconst newDropTargetEl = document.getElementById(\n\t\t\t\tdragSrcId\n\t\t\t) as HTMLElement;\n\n\t\t\tnewDragSrcEl.id = dragSrcId;\n\t\t\tnewDropTargetEl.id = dropTargetId;\n\n\t\t\t(\n\t\t\t\tnewDragSrcEl.querySelector(\n\t\t\t\t\t'.color-text-output-box'\n\t\t\t\t) as HTMLInputElement\n\t\t\t).value = dropTargetText;\n\t\t\t(\n\t\t\t\tnewDropTargetEl.querySelector(\n\t\t\t\t\t'.color-text-output-box'\n\t\t\t\t) as HTMLInputElement\n\t\t\t).value = dragSrcText;\n\n\t\t\tif (!mode.quiet && mode.debug && logMode.verbosity > 3)\n\t\t\t\tlogger.info(\n\t\t\t\t\t'calling attachDragAndDropEventListeners for new elements',\n\t\t\t\t\t'common > helpers > dom > drop()'\n\t\t\t\t);\n\n\t\t\tattachDragAndDropListeners(newDragSrcEl);\n\n\t\t\tattachDragAndDropListeners(newDropTargetEl);\n\t\t}\n\n\t\tif (!mode.quiet && mode.debug && logMode.verbosity > 3)\n\t\t\tlogger.info(\n\t\t\t\t'handleDrop complete',\n\t\t\t\t'common > helpers > dom > drop()'\n\t\t\t);\n\t} catch (error) {\n\t\tif (!logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`Error in handleDrop: ${error}`,\n\t\t\t\t'common > helpers > dom > drop()'\n\t\t\t);\n\t}\n}\n\nasync function makePaletteBox(\n\tcolor: Color,\n\tpaletteBoxCount: number\n): Promise<MakePaletteBox> {\n\ttry {\n\t\tif (!core.validate.colorValues(color)) {\n\t\t\tif (!logMode.error)\n\t\t\t\tlogger.error(\n\t\t\t\t\t`Invalid ${color.format} color value ${JSON.stringify(color)}`,\n\t\t\t\t\t'common > helpers > dom > makePaletteBox()'\n\t\t\t\t);\n\n\t\t\treturn {\n\t\t\t\tcolorStripe: document.createElement('div'),\n\t\t\t\tpaletteBoxCount\n\t\t\t};\n\t\t}\n\n\t\tconst clonedColor = core.base.clone(color);\n\n\t\tconst paletteBox = document.createElement('div');\n\t\tpaletteBox.className = 'palette-box';\n\t\tpaletteBox.id = `palette-box-${paletteBoxCount}`;\n\n\t\tconst paletteBoxTopHalf = document.createElement('div');\n\t\tpaletteBoxTopHalf.className = 'palette-box-half palette-box-top-half';\n\t\tpaletteBoxTopHalf.id = `palette-box-top-half-${paletteBoxCount}`;\n\n\t\tconst colorTextOutputBox = document.createElement(\n\t\t\t'input'\n\t\t) as ColorInputElement;\n\t\tcolorTextOutputBox.type = 'text';\n\t\tcolorTextOutputBox.className = 'color-text-output-box tooltip';\n\t\tcolorTextOutputBox.id = `color-text-output-box-${paletteBoxCount}`;\n\t\tcolorTextOutputBox.setAttribute('data-format', 'hex');\n\n\t\tconst colorString =\n\t\t\tawait core.convert.colorToCSSColorString(clonedColor);\n\n\t\tcolorTextOutputBox.value = colorString || '';\n\t\tcolorTextOutputBox.colorValues = clonedColor;\n\t\tcolorTextOutputBox.readOnly = false;\n\t\tcolorTextOutputBox.style.cursor = 'text';\n\t\tcolorTextOutputBox.style.pointerEvents = 'none';\n\n\t\tconst copyButton = document.createElement('button');\n\t\tcopyButton.className = 'copy-button';\n\t\tcopyButton.textContent = 'Copy';\n\n\t\tconst tooltipText = document.createElement('span');\n\t\ttooltipText.className = 'tooltiptext';\n\t\ttooltipText.textContent = 'Copied to clipboard!';\n\n\t\tcopyButton.addEventListener('click', async () => {\n\t\t\ttry {\n\t\t\t\tawait navigator.clipboard.writeText(colorTextOutputBox.value);\n\n\t\t\t\tshowTooltip(colorTextOutputBox);\n\n\t\t\t\tclearTimeout(consts.timeouts.tooltip || 1000);\n\n\t\t\t\tcopyButton.textContent = 'Copied!';\n\t\t\t\tsetTimeout(\n\t\t\t\t\t() => (copyButton.textContent = 'Copy'),\n\t\t\t\t\tconsts.timeouts.copyButtonText || 1000\n\t\t\t\t);\n\t\t\t} catch (error) {\n\t\t\t\tif (!logMode.error)\n\t\t\t\t\tlogger.error(\n\t\t\t\t\t\t`Failed to copy: ${error}`,\n\t\t\t\t\t\t'common > helpers > dom > makePaletteBox()'\n\t\t\t\t\t);\n\t\t\t}\n\t\t});\n\n\t\tcolorTextOutputBox.addEventListener(\n\t\t\t'input',\n\t\t\tcore.base.debounce((e: Event) => {\n\t\t\t\tconst target = e.target as HTMLInputElement | null;\n\t\t\t\tif (target) {\n\t\t\t\t\tconst cssColor = target.value.trim();\n\t\t\t\t\tconst boxElement = document.getElementById(\n\t\t\t\t\t\t`color-box-${paletteBoxCount}`\n\t\t\t\t\t);\n\t\t\t\t\tconst stripeElement = document.getElementById(\n\t\t\t\t\t\t`color-stripe-${paletteBoxCount}`\n\t\t\t\t\t);\n\n\t\t\t\t\tif (boxElement) boxElement.style.backgroundColor = cssColor;\n\t\t\t\t\tif (stripeElement)\n\t\t\t\t\t\tstripeElement.style.backgroundColor = cssColor;\n\t\t\t\t}\n\t\t\t}, consts.debounce.input || 200)\n\t\t);\n\n\t\tpaletteBoxTopHalf.appendChild(colorTextOutputBox);\n\t\tpaletteBoxTopHalf.appendChild(copyButton);\n\n\t\tconst paletteBoxBottomHalf = document.createElement('div');\n\t\tpaletteBoxBottomHalf.className =\n\t\t\t'palette-box-half palette-box-bottom-half';\n\t\tpaletteBoxBottomHalf.id = `palette-box-bottom-half-${paletteBoxCount}`;\n\n\t\tconst colorBox = document.createElement('div');\n\t\tcolorBox.className = 'color-box';\n\t\tcolorBox.id = `color-box-${paletteBoxCount}`;\n\t\tcolorBox.style.backgroundColor = colorString || '#ffffff';\n\n\t\tpaletteBoxBottomHalf.appendChild(colorBox);\n\t\tpaletteBox.appendChild(paletteBoxTopHalf);\n\t\tpaletteBox.appendChild(paletteBoxBottomHalf);\n\n\t\tconst colorStripe = document.createElement('div');\n\t\tcolorStripe.className = 'color-stripe';\n\t\tcolorStripe.id = `color-stripe-${paletteBoxCount}`;\n\t\tcolorStripe.style.backgroundColor = colorString || '#ffffff';\n\n\t\tcolorStripe.setAttribute('draggable', 'true');\n\n\t\tattachDragAndDropListeners(colorStripe);\n\n\t\tcolorStripe.appendChild(paletteBox);\n\n\t\treturn {\n\t\t\tcolorStripe,\n\t\t\tpaletteBoxCount: paletteBoxCount + 1\n\t\t};\n\t} catch (error) {\n\t\tif (!logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`Failed to execute makePaletteBox: ${error}`,\n\t\t\t\t'common > helpers > dom > makePaletteBox()'\n\t\t\t);\n\n\t\treturn {\n\t\t\tcolorStripe: document.createElement('div'),\n\t\t\tpaletteBoxCount\n\t\t};\n\t}\n}\n\nfunction showToast(message: string): void {\n\tconst toast = document.createElement('div');\n\n\ttoast.className = 'toast-message';\n\n\ttoast.textContent = message;\n\n\tdocument.body.appendChild(toast);\n\n\tif (!mode.quiet && logMode.verbosity > 3)\n\t\tlogger.info(\n\t\t\t'Toast message added',\n\t\t\t'common > helpers > dom > showToast()'\n\t\t);\n\n\tsetTimeout(() => {\n\t\ttoast.classList.add('fade-out');\n\n\t\tif (!mode.quiet && logMode.verbosity > 3)\n\t\t\tlogger.info(\n\t\t\t\t'Toast message faded out',\n\t\t\t\t'common > helpers > dom > showToast()'\n\t\t\t);\n\n\t\ttoast.addEventListener('transitioned', () => toast.remove());\n\t}, timeouts.toast || 3000);\n}\n\nfunction showTooltip(tooltipElement: HTMLElement): void {\n\ttry {\n\t\tconst tooltip =\n\t\t\ttooltipElement.querySelector<HTMLElement>('.tooltiptext');\n\n\t\tif (tooltip) {\n\t\t\ttooltip.style.visibility = 'visible';\n\t\t\ttooltip.style.opacity = '1';\n\t\t\tsetTimeout(() => {\n\t\t\t\ttooltip.style.visibility = 'hidden';\n\t\t\t\ttooltip.style.opacity = '0';\n\t\t\t}, consts.timeouts.tooltip || 1000);\n\t\t}\n\n\t\tif (!mode.quiet && logMode.verbosity > 3)\n\t\t\tlogger.info('showTooltip executed', 'showTooltip()');\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`Failed to execute showTooltip: ${error}`,\n\t\t\t\t'common > helpers > dom > showTooltip()'\n\t\t\t);\n\t}\n}\n\nasync function validateAndConvertColor(\n\tcolor: Color | ColorString | null\n): Promise<Color | null> {\n\tif (!color) return null;\n\n\tconst convertedColor = core.guards.isColorString(color)\n\t\t? await core.convert.colorStringToColor(color)\n\t\t: color;\n\n\tif (!core.validate.colorValues(convertedColor)) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`Invalid color: ${JSON.stringify(convertedColor)}`,\n\t\t\t\t'common > helpers > dom > validateAndConvertColor()'\n\t\t\t);\n\n\t\treturn null;\n\t}\n\n\treturn convertedColor;\n}\n\nexport const dom: CommonFunctionsMasterInterface['helpers']['dom'] = {\n\tattachDragAndDropListeners,\n\thandle: {\n\t\tdragStart,\n\t\tdragOver,\n\t\tdragEnd,\n\t\tdrop\n\t},\n\tmakePaletteBox,\n\tshowToast,\n\tshowTooltip,\n\tvalidateAndConvertColor\n} as const;\n","// File: src/common/helpers/index.js\n\nimport { CommonFunctionsMasterInterface } from '../../types/index.js';\nimport { conversion } from './conversion.js';\nimport { dom } from './dom.js';\n\nexport const helpers: CommonFunctionsMasterInterface['helpers'] = {\n\tconversion,\n\tdom\n} as const;\n","// File: src/common/utils/conversion.js\n\nimport {\n\tCMYK,\n\tColorDataAssertion,\n\tColorDataExtended,\n\tCommonFunctionsMasterInterface,\n\tHex,\n\tHSL,\n\tHSV,\n\tLAB,\n\tRGB,\n\tSL,\n\tSV,\n\tXYZ\n} from '../../types/index.js';\nimport { convert } from '../convert/index.js';\nimport { createLogger } from '../../logger/index.js';\nimport { core } from '../core/index.js';\nimport { mode } from '../data/base.js';\n\nconst logger = await createLogger();\n\nconst logMode = mode.logging;\n\nfunction getConversionFn<\n\tFrom extends keyof ColorDataAssertion,\n\tTo extends keyof ColorDataAssertion\n>(\n\tfrom: From,\n\tto: To\n): ((value: ColorDataAssertion[From]) => ColorDataAssertion[To]) | undefined {\n\ttry {\n\t\tconst fnName =\n\t\t\t`${from}To${to[0].toUpperCase() + to.slice(1)}` as keyof typeof convert;\n\n\t\tif (!(fnName in convert)) return undefined;\n\n\t\tconst conversionFn = convert[fnName] as unknown as (\n\t\t\tinput: ColorDataAssertion[From]\n\t\t) => ColorDataAssertion[To];\n\n\t\treturn (value: ColorDataAssertion[From]): ColorDataAssertion[To] =>\n\t\t\tstructuredClone(conversionFn(value));\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`Error getting conversion function: ${error}`,\n\t\t\t\t'common > utils > conversion > getConversionFn()'\n\t\t\t);\n\n\t\treturn undefined;\n\t}\n}\n\nfunction genAllColorValues(color: HSL): Partial<ColorDataExtended> {\n\tconst result: Partial<ColorDataExtended> = {};\n\n\ttry {\n\t\tconst clonedColor = core.base.clone(color);\n\n\t\tif (!core.validate.colorValues(clonedColor)) {\n\t\t\tif (logMode.error)\n\t\t\t\tlogger.error(\n\t\t\t\t\t`Invalid color: ${JSON.stringify(clonedColor)}`,\n\t\t\t\t\t'common > utils > conversion > genAllColorValues()'\n\t\t\t\t);\n\n\t\t\treturn {};\n\t\t}\n\n\t\tresult.cmyk = convert.hslTo(clonedColor, 'cmyk') as CMYK;\n\t\tresult.hex = convert.hslTo(clonedColor, 'hex') as Hex;\n\t\tresult.hsl = clonedColor;\n\t\tresult.hsv = convert.hslTo(clonedColor, 'hsv') as HSV;\n\t\tresult.lab = convert.hslTo(clonedColor, 'lab') as LAB;\n\t\tresult.rgb = convert.hslTo(clonedColor, 'rgb') as RGB;\n\t\tresult.sl = convert.hslTo(clonedColor, 'sl') as SL;\n\t\tresult.sv = convert.hslTo(clonedColor, 'sv') as SV;\n\t\tresult.xyz = convert.hslTo(clonedColor, 'xyz') as XYZ;\n\n\t\treturn result;\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`Error generating all color values: ${error}`,\n\t\t\t\t'common > utils > conversion > genAllColorValues()'\n\t\t\t);\n\n\t\treturn {};\n\t}\n}\n\nexport const conversion: CommonFunctionsMasterInterface['utils']['conversion'] =\n\t{\n\t\tgenAllColorValues,\n\t\tgetConversionFn\n\t} as const;\n","// File: src/common/utils/errors.ts\n\nimport { CommonFunctionsMasterInterface } from '../../types/index.js';\nimport { createLogger } from '../../logger/index.js';\nimport { mode } from '../data/base.js';\n\nconst logger = await createLogger();\n\nconst logMode = mode.logging;\n\nasync function handleAsync<T>(\n\taction: () => Promise<T>,\n\terrorMessage: string,\n\tcontext?: Record<string, unknown>\n): Promise<T | null> {\n\ttry {\n\t\treturn await action();\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tif (error instanceof Error) {\n\t\t\t\tlogger.error(\n\t\t\t\t\t`${errorMessage}: ${error.message}. Context: ${context}`,\n\t\t\t\t\t'common > utils > errors > handleAsync()'\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tlogger.error(`${errorMessage}: ${error}. Context: ${context}`, 'common > utils > errors > handleAsync()');\n\t\t\t}\n\n\t\treturn null;\n\t}\n}\n\nexport const errors: CommonFunctionsMasterInterface['utils']['errors'] = {\n\thandleAsync\n};\n","// File: src/common/utils/palette.js\n\nimport {\n\tColor,\n\tColorString,\n\tCommonFunctionsMasterInterface,\n\tPalette,\n\tPaletteItem\n} from '../../types/index';\nimport { core } from '../core/index.js';\nimport { createLogger } from '../../logger/index.js';\nimport { mode } from '../data/base.js';\nimport { helpers } from '../helpers/index.js';\n\nconst logger = await createLogger();\n\nconst logMode = mode.logging;\n\nfunction createObject(\n\ttype: string,\n\titems: PaletteItem[],\n\tswatches: number,\n\tpaletteID: number,\n\tenableAlpha: boolean,\n\tlimitDark: boolean,\n\tlimitGray: boolean,\n\tlimitLight: boolean\n): Palette {\n\treturn {\n\t\tid: `${type}_${paletteID}`,\n\t\titems,\n\t\tmetadata: {\n\t\t\tname: '',\n\t\t\ttimestamp: core.getFormattedTimestamp(),\n\t\t\tswatches,\n\t\t\ttype,\n\t\t\tflags: {\n\t\t\t\tenableAlpha: enableAlpha,\n\t\t\t\tlimitDarkness: limitDark,\n\t\t\t\tlimitGrayness: limitGray,\n\t\t\t\tlimitLightness: limitLight\n\t\t\t},\n\t\t\tcustomColor: {\n\t\t\t\tcolors: items[0]?.colors || {},\n\t\t\t\tcolorStrings: items[0]?.colorStrings || {},\n\t\t\t\tcssStrings: items[0]?.cssStrings || {}\n\t\t\t}\n\t\t}\n\t};\n}\n\nexport async function populateOutputBox(\n\tcolor: Color | ColorString,\n\tboxNumber: number\n): Promise<void> {\n\ttry {\n\t\tconst clonedColor: Color = core.guards.isColor(color)\n\t\t\t? core.base.clone(color)\n\t\t\t: await core.convert.colorStringToColor(color);\n\n\t\tif (!core.validate.colorValues(clonedColor)) {\n\t\t\tif (logMode.error)\n\t\t\t\tlogger.error(\n\t\t\t\t\t'Invalid color values.',\n\t\t\t\t\t'common > utils > palette > populateOutputBox()'\n\t\t\t\t);\n\n\t\t\thelpers.dom.showToast('Invalid color.');\n\n\t\t\treturn;\n\t\t}\n\n\t\tconst colorTextOutputBox = document.getElementById(\n\t\t\t`color-text-output-box-${boxNumber}`\n\t\t) as HTMLInputElement | null;\n\n\t\tif (!colorTextOutputBox) return;\n\n\t\tconst stringifiedColor =\n\t\t\tawait core.convert.colorToCSSColorString(clonedColor);\n\n\t\tif (!mode.quiet && logMode.info && logMode.verbosity > 0)\n\t\t\tlogger.info(\n\t\t\t\t`Adding CSS-formatted color to DOM ${stringifiedColor}`,\n\t\t\t\t'common > utils > palette > populateOutputBox()'\n\t\t\t);\n\n\t\tcolorTextOutputBox.value = stringifiedColor;\n\t\tcolorTextOutputBox.setAttribute('data-format', color.format);\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`Failed to populate color text output box: ${error}`,\n\t\t\t\t'common > utils > palette > populateOutputBox()'\n\t\t\t);\n\n\t\treturn;\n\t}\n}\n\nexport const palette: CommonFunctionsMasterInterface['utils']['palette'] = {\n\tcreateObject,\n\tpopulateOutputBox\n} as const;\n","// File: src/common/utils/random.js\n\nimport { CommonFunctionsMasterInterface, HSL, SL } from '../../types/index.js';\nimport { core } from '../core/index.js';\nimport { createLogger } from '../../logger/index.js';\nimport { defaults, mode } from '../data/base.js';\n\nconst logger = await createLogger();\n\nconst logMode = mode.logging;\n\nfunction hsl(enableAlpha: boolean): HSL {\n\ttry {\n\t\tconst alpha = enableAlpha ? Math.round(Math.random() * 100) / 100 : 1;\n\t\tconst hsl: HSL = {\n\t\t\tvalue: {\n\t\t\t\thue: core.sanitize.radial(Math.floor(Math.random() * 360)),\n\t\t\t\tsaturation: core.sanitize.percentile(\n\t\t\t\t\tMath.floor(Math.random() * 101)\n\t\t\t\t),\n\t\t\t\tlightness: core.sanitize.percentile(\n\t\t\t\t\tMath.floor(Math.random() * 101)\n\t\t\t\t),\n\t\t\t\talpha: core.brand.asAlphaRange(alpha)\n\t\t\t},\n\t\t\tformat: 'hsl'\n\t\t};\n\n\t\tif (!core.validate.colorValues(hsl)) {\n\t\t\tif (logMode.error)\n\t\t\t\tlogger.error(\n\t\t\t\t\t`Invalid random HSL color value ${JSON.stringify(hsl)}`,\n\t\t\t\t\t'common > utils > random > hsl()'\n\t\t\t\t);\n\n\t\t\tconst unbrandedHSL = core.base.clone(\n\t\t\t\tdefaults.colors.base.unbranded.hsl\n\t\t\t);\n\n\t\t\treturn core.brandColor.asHSL(unbrandedHSL);\n\t\t}\n\n\t\tif (!mode.quiet && !logMode.info)\n\t\t\tlogger.info(\n\t\t\t\t`Generated randomHSL: ${JSON.stringify(hsl)}`,\n\t\t\t\t'common > utils > random > hsl()'\n\t\t\t);\n\n\t\treturn hsl;\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`Error generating random HSL color: ${error}`,\n\t\t\t\t'common > utils > random > hsl()'\n\t\t\t);\n\n\t\tconst unbrandedHSL = core.base.clone(\n\t\t\tdefaults.colors.base.unbranded.hsl\n\t\t);\n\n\t\treturn core.brandColor.asHSL(unbrandedHSL);\n\t}\n}\n\nfunction sl(enableAlpha: boolean): SL {\n\ttry {\n\t\tconst alpha = enableAlpha ? Math.round(Math.random() * 100) / 100 : 1;\n\t\tconst sl: SL = {\n\t\t\tvalue: {\n\t\t\t\tsaturation: core.sanitize.percentile(\n\t\t\t\t\tMath.max(0, Math.min(100, Math.random() * 100))\n\t\t\t\t),\n\t\t\t\tlightness: core.sanitize.percentile(\n\t\t\t\t\tMath.max(0, Math.min(100, Math.random() * 100))\n\t\t\t\t),\n\t\t\t\talpha: core.brand.asAlphaRange(alpha)\n\t\t\t},\n\t\t\tformat: 'sl'\n\t\t};\n\n\t\tif (!core.validate.colorValues(sl as SL)) {\n\t\t\tif (logMode.error)\n\t\t\t\tlogger.error(\n\t\t\t\t\t`Invalid random SV color value ${JSON.stringify(sl)}`,\n\t\t\t\t\t'common > utils > random > sl()'\n\t\t\t\t);\n\n\t\t\tconst unbrandedSL = core.base.clone(\n\t\t\t\tdefaults.colors.base.unbranded.sl\n\t\t\t);\n\n\t\t\treturn core.brandColor.asSL(unbrandedSL);\n\t\t}\n\n\t\tif (!mode.quiet && logMode.info)\n\t\t\tlogger.info(\n\t\t\t\t`Generated randomSL: ${JSON.stringify(sl)}`,\n\t\t\t\t'common > utils > random > sl()'\n\t\t\t);\n\n\t\treturn sl;\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`Error generating random SL color: ${error}`,\n\t\t\t\t'common > utils > random > sl()'\n\t\t\t);\n\n\t\tconst unbrandedSL = core.base.clone(defaults.colors.base.unbranded.sl);\n\n\t\treturn core.brandColor.asSL(unbrandedSL);\n\t}\n}\n\nexport const random: CommonFunctionsMasterInterface['utils']['random'] = {\n\thsl,\n\tsl\n} as const;\n","// File src/common/utils/index.js\n\nimport { CommonFunctionsMasterInterface } from '../../types/index.js';\nimport { color } from './color.js';\nimport { conversion } from './conversion.js';\nimport { errors } from './errors.js';\nimport { palette } from './palette.js';\nimport { random } from './random.js';\n\nexport const utils: CommonFunctionsMasterInterface['utils'] = {\n\tcolor,\n\tconversion,\n\terrors,\n\tpalette,\n\trandom\n} as const;\n","// File: src/common/superUtils/dom.js\n\nimport {\n\tColorInputElement,\n\tColorSpace,\n\tCommonFunctionsMasterInterface,\n\tGenButtonArgs,\n\tHSL\n} from '../../types/index.js';\nimport { consts, mode } from '../data/base.js';\nimport { createLogger } from '../../logger/index.js';\nimport { core } from '../core/index.js';\nimport { helpers } from '../helpers/index.js';\nimport { utils } from '../utils/index.js';\n\nconst logger = await createLogger();\n\nconst logMode = mode.logging;\nconst domInputElements = consts.dom.elements.inputs;\n\nfunction getGenButtonArgs(): GenButtonArgs | null {\n\ttry {\n\t\tconst paletteNumberOptions = domInputElements.paletteNumberOptions;\n\t\tconst paletteTypeOptions = domInputElements.paletteTypeOptions;\n\t\tconst customColorRaw = domInputElements.customColorInput?.value;\n\t\tconst enableAlphaCheckbox = domInputElements.enableAlphaCheckbox;\n\t\tconst limitDarknessCheckbox = domInputElements.limitDarknessCheckbox;\n\t\tconst limitGraynessCheckbox = domInputElements.limitGraynessCheckbox;\n\t\tconst limitLightnessCheckbox = domInputElements.limitLightnessCheckbox;\n\n\t\tif (\n\t\t\tpaletteNumberOptions === null ||\n\t\t\tpaletteTypeOptions === null ||\n\t\t\tenableAlphaCheckbox === null ||\n\t\t\tlimitDarknessCheckbox === null ||\n\t\t\tlimitGraynessCheckbox === null ||\n\t\t\tlimitLightnessCheckbox === null\n\t\t) {\n\t\t\tif (logMode.error)\n\t\t\t\tlogger.error(\n\t\t\t\t\t'One or more elements are null',\n\t\t\t\t\t'common > superUtils > dom > getGenButtonArgs()'\n\t\t\t\t);\n\n\t\t\treturn null;\n\t\t}\n\n\t\tif (!mode.quiet && logMode.info && logMode.verbosity >= 2)\n\t\t\tlogger.info(\n\t\t\t\t`numBoxes: ${parseInt(paletteNumberOptions.value, 10)}\\npaletteType: ${parseInt(paletteTypeOptions.value, 10)}`,\n\t\t\t\t'getGenButtonArgs()'\n\t\t\t);\n\n\t\treturn {\n\t\t\tswatches: parseInt(paletteNumberOptions.value, 10),\n\t\t\ttype: parseInt(paletteTypeOptions.value, 10),\n\t\t\tcustomColor: customColorRaw\n\t\t\t\t? (core.base.parseCustomColor(customColorRaw) as HSL | null)\n\t\t\t\t: null,\n\t\t\tenableAlpha: enableAlphaCheckbox.checked,\n\t\t\tlimitDarkness: limitDarknessCheckbox.checked,\n\t\t\tlimitGrayness: limitGraynessCheckbox.checked,\n\t\t\tlimitLightness: limitLightnessCheckbox.checked\n\t\t};\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`Failed to retrieve generateButton parameters: ${error}`,\n\t\t\t\t'common > superUtils > dom > getGenButtonArgs()'\n\t\t\t);\n\n\t\treturn null;\n\t}\n}\n\nasync function switchColorSpace(targetFormat: ColorSpace): Promise<void> {\n\ttry {\n\t\tconst colorTextOutputBoxes =\n\t\t\tdocument.querySelectorAll<HTMLInputElement>(\n\t\t\t\t'.color-text-output-box'\n\t\t\t);\n\n\t\tfor (const box of colorTextOutputBoxes) {\n\t\t\tconst inputBox = box as ColorInputElement;\n\t\t\tconst colorValues = inputBox.colorValues;\n\n\t\t\tif (!colorValues || !core.validate.colorValues(colorValues)) {\n\t\t\t\tif (logMode.error)\n\t\t\t\t\tlogger.error(\n\t\t\t\t\t\t'Invalid color values. Cannot display toast.',\n\t\t\t\t\t\t'common > superUtils > switchColorSpace()'\n\t\t\t\t\t);\n\n\t\t\t\thelpers.dom.showToast('Invalid color.');\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tconst currentFormat = inputBox.getAttribute(\n\t\t\t\t'data-format'\n\t\t\t) as ColorSpace;\n\n\t\t\tif (!mode.quiet && logMode.info && logMode.verbosity >= 2)\n\t\t\t\tlogger.info(\n\t\t\t\t\t`Converting from ${currentFormat} to ${targetFormat}`,\n\t\t\t\t\t'common > superUtils > dom > switchColorSpace()'\n\t\t\t\t);\n\n\t\t\tconst convertFn = utils.conversion.getConversionFn(\n\t\t\t\tcurrentFormat,\n\t\t\t\ttargetFormat\n\t\t\t);\n\n\t\t\tif (!convertFn) {\n\t\t\t\tif (logMode.error)\n\t\t\t\t\tlogger.error(\n\t\t\t\t\t\t`Conversion from ${currentFormat} to ${targetFormat} is not supported.`,\n\t\t\t\t\t\t'common > superUtils > dom > switchColorSpace()'\n\t\t\t\t\t);\n\n\t\t\t\thelpers.dom.showToast('Conversion not supported.');\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (colorValues.format === 'xyz') {\n\t\t\t\tif (logMode.error)\n\t\t\t\t\tlogger.error(\n\t\t\t\t\t\t'Cannot convert from XYZ to another color space.',\n\t\t\t\t\t\t'common > superUtils > dom > switchColorSpace()'\n\t\t\t\t\t);\n\n\t\t\t\thelpers.dom.showToast('Conversion not supported.');\n\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tconst clonedColor = await utils.color.narrowToColor(colorValues);\n\n\t\t\tif (\n\t\t\t\t!clonedColor ||\n\t\t\t\tutils.color.isSLColor(clonedColor) ||\n\t\t\t\tutils.color.isSVColor(clonedColor) ||\n\t\t\t\tutils.color.isXYZ(clonedColor)\n\t\t\t) {\n\t\t\t\tif (logMode.verbosity >= 3 && logMode.error)\n\t\t\t\t\tlogger.error(\n\t\t\t\t\t\t'Cannot convert from SL, SV, or XYZ color spaces. Please convert to a supported format first.',\n\t\t\t\t\t\t'common > superUtils > dom > switchColorSpace()'\n\t\t\t\t\t);\n\n\t\t\t\thelpers.dom.showToast('Conversion not supported.');\n\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (!clonedColor) {\n\t\t\t\tif (logMode.error)\n\t\t\t\t\tlogger.error(\n\t\t\t\t\t\t`Conversion to ${targetFormat} failed.`,\n\t\t\t\t\t\t'common > superUtils > dom > switchColorSpace()'\n\t\t\t\t\t);\n\n\t\t\t\thelpers.dom.showToast('Conversion failed.');\n\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tconst newColor = core.base.clone(convertFn(clonedColor));\n\n\t\t\tif (!newColor) {\n\t\t\t\tif (logMode.error)\n\t\t\t\t\tlogger.error(\n\t\t\t\t\t\t`Conversion to ${targetFormat} failed.`,\n\t\t\t\t\t\t'common > superUtils > dom > switchColorSpace()'\n\t\t\t\t\t);\n\n\t\t\t\thelpers.dom.showToast('Conversion failed.');\n\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tinputBox.value = String(newColor);\n\n\t\t\tinputBox.setAttribute('data-format', targetFormat);\n\t\t}\n\t} catch (error) {\n\t\thelpers.dom.showToast('Failed to convert colors.');\n\n\t\tif (!mode.quiet && logMode.warn)\n\t\t\tlogger.warn(\n\t\t\t\t'Failed to convert colors.',\n\t\t\t\t'common > superUtils > dom > switchColorSpace()'\n\t\t\t);\n\t\telse if (!mode.gracefulErrors)\n\t\t\tthrow new Error(`Failed to convert colors: ${error as Error}`);\n\t\telse if (logMode.error)\n\t\t\tlogger.error(`Failed to convert colors: ${error as Error}`);\n\t}\n}\n\nexport const dom: CommonFunctionsMasterInterface['superUtils']['dom'] = {\n\tgetGenButtonArgs,\n\tswitchColorSpace\n} as const;\n","// File: src/common/superUtils/index.js\n\nimport { CommonFunctionsMasterInterface } from '../../types/index.js';\nimport { dom } from './dom.js';\n\nexport const superUtils: CommonFunctionsMasterInterface['superUtils'] = {\n\tdom\n} as const;\n","// File: src/common/transform/index.js\n\nimport { CommonFunctionsMasterInterface } from '../../types/index.js';\nimport { base } from './base.js';\n\nexport const transform: CommonFunctionsMasterInterface['transform'] = {\n\t...base\n};\n","// File: src/common/index.js\n\nimport { CommonFunctionsMasterInterface } from '../types/index.js';\nimport { convert } from './convert/index.js';\nimport { core } from './core/index.js';\nimport { helpers } from './helpers/index.js';\nimport { superUtils } from './superUtils/index.js';\nimport { transform } from './transform/index.js';\nimport { utils } from './utils/index.js';\n\nexport { convert, core, helpers, superUtils, transform, utils };\n\nexport const common: CommonFunctionsMasterInterface = {\n\tconvert,\n\tcore,\n\thelpers,\n\tsuperUtils,\n\ttransform,\n\tutils\n};\n","// File: src/db/IDBManager.js\n\nimport { IDBPDatabase, IDBPObjectStore } from 'idb';\nimport {\n\tCommonFunctionsMasterInterface,\n\tConfigDataInterface,\n\tHSL,\n\tIDBManagerInterface,\n\tModeDataInterface,\n\tMutationLog,\n\tPalette,\n\tPaletteDB,\n\tPaletteItem,\n\tPaletteSchema,\n\tSettings,\n\tStoredPalette\n} from '../types/index.js';\nimport { config, mode } from '../common/data/base.js';\nimport { createLogger } from '../logger/index.js';\nimport { initializeDB } from './initialize.js';\nimport { MutationTracker } from './mutations/index.js';\nimport { storeUtils } from './storeUtils.js';\nimport { utils } from '../common/index.js';\n\nconst logger = await createLogger();\n\nexport class IDBManager implements IDBManagerInterface {\n\tprivate static instance: IDBManager | null = null;\n\n\tprivate dbPromise: Promise<IDBPDatabase<PaletteSchema>>;\n\n\tprivate dbData: ConfigDataInterface['db'] = config.db;\n\tprivate mode: ModeDataInterface = mode;\n\tprivate logMode: ModeDataInterface['logging'] = mode.logging;\n\n\tprivate storeUtils;\n\n\tprivate cache: Partial<{\n\t\tsettings: Settings;\n\t\tcustomColor: HSL;\n\t}> = {};\n\n\tprivate defaultKeys: ConfigDataInterface['db']['DEFAULT_KEYS'] =\n\t\tconfig.db.DEFAULT_KEYS;\n\tprivate defaultSettings: ConfigDataInterface['db']['DEFAULT_SETTINGS'] =\n\t\tconfig.db.DEFAULT_SETTINGS;\n\tprivate storeNames: ConfigDataInterface['db']['STORE_NAMES'] =\n\t\tconfig.db.STORE_NAMES;\n\n\tprivate errorUtils: CommonFunctionsMasterInterface['utils']['errors'];\n\n\tprivate mutationTracker: MutationTracker;\n\n\tprivate constructor() {\n\t\tthis.dbPromise = initializeDB();\n\n\t\tthis.dbData = this.dbData;\n\n\t\tthis.defaultKeys = config.db.DEFAULT_KEYS;\n\t\tthis.defaultSettings = config.db.DEFAULT_SETTINGS;\n\t\tthis.storeNames = config.db.STORE_NAMES;\n\n\t\tthis.storeUtils = storeUtils;\n\t\tthis.errorUtils = utils.errors;\n\n\t\tthis.mutationTracker = MutationTracker.getInstance(\n\t\t\tthis.dbData,\n\t\t\tthis.mode\n\t\t);\n\t}\n\n\t//\n\t///\n\t//// * * * * * * * * * * * * * * * * * * * * * *\n\t///// * * * * * * STATIC METHODS * * * * * * *\n\t//// * * * * * * * * * * * * * * * * * * * * * *\n\t///\n\t//\n\n\tpublic static async getInstance(): Promise<IDBManager> {\n\t\tif (!this.instance) {\n\t\t\tthis.instance = new IDBManager();\n\n\t\t\tawait this.instance.initializeDB();\n\t\t}\n\n\t\treturn this.instance;\n\t}\n\n\tpublic static resetInstance(): void {\n\t\tthis.instance = null;\n\t}\n\n\t//\n\t///\n\t//// * * * * * * * * * * * * * * * * * * * * * *\n\t///// * * * * * * * PUBLIC METHODS * * * * * * *\n\t//// * * * * * * * * * * * * * * * * * * * * * *\n\t///\n\t//\n\n\tpublic createMutationLogger<T extends object>(obj: T, key: string): T {\n\t\tconst self = this;\n\n\t\treturn new Proxy(obj, {\n\t\t\tset(target, property, value) {\n\t\t\t\tconst oldValue = target[property as keyof T];\n\t\t\t\tconst success = Reflect.set(target, property, value);\n\n\t\t\t\tif (success) {\n\t\t\t\t\tconst mutationLog: MutationLog = {\n\t\t\t\t\t\ttimestamp: new Date().toISOString(),\n\t\t\t\t\t\tkey,\n\t\t\t\t\t\taction: 'update',\n\t\t\t\t\t\tnewValue: { [property]: value },\n\t\t\t\t\t\toldValue: { [property]: oldValue },\n\t\t\t\t\t\torigin: 'Proxy'\n\t\t\t\t\t};\n\n\t\t\t\t\tif (self.logMode.info)\n\t\t\t\t\t\tlogger.info(\n\t\t\t\t\t\t\t`Mutation detected: ${JSON.stringify(mutationLog)}`,\n\t\t\t\t\t\t\t'IDBManager.createMutationLogger()'\n\t\t\t\t\t\t);\n\n\t\t\t\t\tself.mutationTracker\n\t\t\t\t\t\t.persistMutation(mutationLog)\n\t\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\t\tif (self.logMode.error)\n\t\t\t\t\t\t\t\tlogger.error(\n\t\t\t\t\t\t\t\t\t`Failed to persist mutation: ${err.message}`,\n\t\t\t\t\t\t\t\t\t'IDBManager.createMutationLogger()'\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\treturn success;\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate createPaletteObject(\n\t\ttype: string,\n\t\titems: PaletteItem[],\n\t\tpaletteID: number,\n\t\tswatches: number,\n\t\tenableAlpha: boolean,\n\t\tlimitDark: boolean,\n\t\tlimitGray: boolean,\n\t\tlimitLight: boolean\n\t): Palette {\n\t\treturn utils.palette.createObject(\n\t\t\ttype,\n\t\t\titems,\n\t\t\tswatches,\n\t\t\tpaletteID,\n\t\t\tenableAlpha,\n\t\t\tlimitDark,\n\t\t\tlimitGray,\n\t\t\tlimitLight\n\t\t);\n\t}\n\n\t// *DEV-NOTE* add this method to docs\n\tpublic async deleteEntry(\n\t\tstoreName: keyof PaletteSchema,\n\t\tkey: string\n\t): Promise<void | null> {\n\t\treturn this.errorUtils.handleAsync(async () => {\n\t\t\tif (!(await this.ensureEntryExists(storeName, key))) {\n\t\t\t\tif (this.logMode.warn) {\n\t\t\t\t\tlogger.warn(\n\t\t\t\t\t\t`Entry with key ${key} not found.`,\n\t\t\t\t\t\t'IDBManager.deleteEntry()'\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst db = await this.getDB();\n\t\t\tconst store = db\n\t\t\t\t.transaction(storeName, 'readwrite')\n\t\t\t\t.objectStore(storeName);\n\n\t\t\tawait store.delete(key);\n\n\t\t\tif (!this.mode.quiet) {\n\t\t\t\tlogger.info(\n\t\t\t\t\t`Entry with key ${key} deleted successfully.`,\n\t\t\t\t\t'IDBManager.deleteEntry()'\n\t\t\t\t);\n\t\t\t}\n\t\t}, 'IDBManager.deleteData(): Error deleting entry');\n\t}\n\n\tpublic async deleteEntries(\n\t\tstoreName: keyof PaletteSchema,\n\t\tkeys: string[]\n\t): Promise<void | null> {\n\t\treturn this.errorUtils.handleAsync(async () => {\n\t\t\tconst db = await this.getDB();\n\t\t\tconst store = db\n\t\t\t\t.transaction(storeName, 'readwrite')\n\t\t\t\t.objectStore(storeName);\n\t\t\tconst validKeys = (\n\t\t\t\tawait Promise.all(\n\t\t\t\t\tkeys.map(async key =>\n\t\t\t\t\t\t(await this.ensureEntryExists(storeName, key))\n\t\t\t\t\t\t\t? key\n\t\t\t\t\t\t\t: null\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t).filter((key): key is string => key !== null);\n\n\t\t\tawait Promise.all(validKeys.map(key => store.delete(key)));\n\n\t\t\tif (!this.mode.quiet) {\n\t\t\t\tlogger.info(\n\t\t\t\t\t`Entries deleted successfully. Keys: ${validKeys}`,\n\t\t\t\t\t'IDBManager.deleteEntries()'\n\t\t\t\t);\n\t\t\t}\n\t\t}, 'IDBManager.deleteEntries(): Error deleting entries');\n\t}\n\n\tpublic async getCurrentPaletteID(): Promise<number> {\n\t\treturn this.errorUtils.handleAsync(async () => {\n\t\t\tconst db = await this.getDB();\n\t\t\tconst settings = await db.get(\n\t\t\t\tthis.storeNames['SETTINGS'],\n\t\t\t\tthis.getDefaultKey('APP_SETTINGS')\n\t\t\t);\n\n\t\t\tif (this.mode.debug)\n\t\t\t\tlogger.info(\n\t\t\t\t\t`Fetched settings from IndexedDB: ${settings}`,\n\t\t\t\t\t'IDBManager.getCurrentPaletteID()'\n\t\t\t\t);\n\n\t\t\treturn settings?.lastPaletteID ?? 0;\n\t\t}, 'IDBManager: getCurrentPaletteID(): Error fetching current palette ID');\n\t}\n\n\tpublic async getCachedSettings(): Promise<Settings> {\n\t\tif (this.cache.settings) return this.cache.settings;\n\n\t\tconst settings = await this.getSettings();\n\n\t\tif (settings) this.cache.settings = settings;\n\n\t\treturn settings;\n\t}\n\n\tpublic async getCustomColor(): Promise<HSL | null> {\n\t\tconst key = this.defaultKeys['CUSTOM_COLOR'];\n\t\tconst storeName = this.storeNames['CUSTOM_COLOR'];\n\n\t\treturn this.errorUtils.handleAsync(async () => {\n\t\t\tconst db = await this.getDB();\n\t\t\tconst entry = await db.get(storeName, key);\n\n\t\t\tif (!entry?.color) return null;\n\n\t\t\tthis.cache.customColor = entry.color;\n\n\t\t\treturn this.createMutationLogger(entry.color, storeName);\n\t\t}, 'IDBManager.getCustomColor(): Error fetching custom color');\n\t}\n\n\tpublic async getDB(): Promise<PaletteDB> {\n\t\treturn this.dbPromise;\n\t}\n\n\tpublic getLoggedObject<T extends object>(\n\t\tobj: T | null,\n\t\tkey: string\n\t): T | null {\n\t\tif (obj) {\n\t\t\treturn this.createMutationLogger(obj, key);\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tpublic async getNextTableID(): Promise<string | null> {\n\t\treturn this.errorUtils.handleAsync(async () => {\n\t\t\tconst settings = await this.getSettings();\n\t\t\tconst lastTableID = settings.lastTableID ?? 0;\n\t\t\tconst nextID = lastTableID + 1;\n\n\t\t\tawait this.saveData('settings', 'appSettings', {\n\t\t\t\t...settings,\n\t\t\t\tlastTableID: nextID\n\t\t\t});\n\n\t\t\treturn `palette_${nextID}`;\n\t\t}, 'IDBManager.getNextTableID(): Error fetching next table ID');\n\t}\n\n\tpublic async getNextPaletteID(): Promise<number | null> {\n\t\treturn this.errorUtils.handleAsync(async () => {\n\t\t\tconst currentID = await this.getCurrentPaletteID();\n\t\t\tconst newID = currentID + 1;\n\n\t\t\tawait this.updateCurrentPaletteID(newID);\n\n\t\t\treturn newID;\n\t\t}, 'IDBManager.getNextPaletteID(): Error fetching next palette ID');\n\t}\n\n\tpublic async getSettings(): Promise<Settings> {\n\t\treturn this.errorUtils.handleAsync(async () => {\n\t\t\tconst db = await this.getDB();\n\t\t\tconst settings = await db.get(\n\t\t\t\tthis.storeNames['SETTINGS'],\n\t\t\t\tthis.getDefaultKey('APP_SETTINGS')\n\t\t\t);\n\n\t\t\treturn settings ?? this.defaultSettings;\n\t\t}, 'IDBManager.getSettings(): Error fetching settings');\n\t}\n\n\t// **DEV-NOTE** FIGURE OUT HOW TO IMPLEMENT handleAsync HERE\n\tpublic async getStore<StoreName extends keyof PaletteSchema>(\n\t\tstoreName: StoreName,\n\t\tmode: 'readonly'\n\t): Promise<\n\t\tIDBPObjectStore<PaletteSchema, [StoreName], StoreName, 'readonly'>\n\t>;\n\n\tpublic async getStore<StoreName extends keyof PaletteSchema>(\n\t\tstoreName: StoreName,\n\t\tmode: 'readwrite'\n\t): Promise<\n\t\tIDBPObjectStore<PaletteSchema, [StoreName], StoreName, 'readwrite'>\n\t>;\n\n\tpublic async getStore<StoreName extends keyof PaletteSchema>(\n\t\tstoreName: StoreName,\n\t\tmode: 'readonly' | 'readwrite'\n\t) {\n\t\tconst db = await this.getDB();\n\n\t\treturn db.transaction(storeName, mode).objectStore(storeName);\n\t}\n\n\tpublic async resetDatabase(): Promise<void | null> {\n\t\treturn this.errorUtils.handleAsync(async () => {\n\t\t\tconst db = await this.getDB();\n\t\t\tconst availableStores = Array.from(db.objectStoreNames);\n\t\t\tconst expectedStores = Object.values(this.storeNames);\n\n\t\t\tfor (const storeName of expectedStores) {\n\t\t\t\tif (!availableStores.includes(storeName)) {\n\t\t\t\t\tlogger.warn(\n\t\t\t\t\t\t`Object store \"${storeName}\" not found in IndexedDB.`,\n\t\t\t\t\t\t'IDBManager.resetDatabase()'\n\t\t\t\t\t);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tconst tx = db.transaction(storeName, 'readwrite');\n\t\t\t\tconst store = tx.objectStore(storeName);\n\n\t\t\t\tawait store.clear();\n\t\t\t\tawait tx.done;\n\n\t\t\t\tconst settingsStore = db\n\t\t\t\t\t.transaction(this.storeNames['SETTINGS'], 'readwrite')\n\t\t\t\t\t.objectStore(this.storeNames['SETTINGS']);\n\t\t\t\tawait settingsStore.put(\n\t\t\t\t\tthis.defaultSettings,\n\t\t\t\t\tthis.getDefaultKey('APP_SETTINGS')\n\t\t\t\t);\n\n\t\t\t\tif (!this.mode.quiet)\n\t\t\t\t\tlogger.info(\n\t\t\t\t\t\t`IndexedDB has been reset to default settings.`,\n\t\t\t\t\t\t'IDBManager.resetDatabase()'\n\t\t\t\t\t);\n\t\t\t}\n\t\t}, 'IDBManager.resetDatabase(): Error resetting database');\n\t}\n\n\tpublic async deleteDatabase(): Promise<void> {\n\t\tawait this.errorUtils.handleAsync(async () => {\n\t\t\tconst dbName = 'paletteDB';\n\t\t\tconst dbExists = await new Promise<boolean>(resolve => {\n\t\t\t\tconst request = indexedDB.open(dbName);\n\n\t\t\t\trequest.onsuccess = () => {\n\t\t\t\t\trequest.result.close();\n\t\t\t\t\tresolve(true);\n\t\t\t\t};\n\t\t\t\trequest.onerror = () => resolve(false);\n\t\t\t});\n\n\t\t\tif (dbExists) {\n\t\t\t\tconst deleteRequest = indexedDB.deleteDatabase(dbName);\n\n\t\t\t\tdeleteRequest.onsuccess = () => {\n\t\t\t\t\tif (!this.mode.quiet)\n\t\t\t\t\t\tlogger.info(\n\t\t\t\t\t\t\t`Database \"${dbName}\" deleted successfully.`,\n\t\t\t\t\t\t\t'IDBManager.deleteDatabase()'\n\t\t\t\t\t\t);\n\t\t\t\t};\n\t\t\t\tdeleteRequest.onerror = event => {\n\t\t\t\t\tlogger.error(\n\t\t\t\t\t\t`Error deleting database \"${dbName}\":\\nEvent: ${event}`,\n\t\t\t\t\t\t'IDBManager.deleteDatabase()'\n\t\t\t\t\t);\n\t\t\t\t};\n\t\t\t\tdeleteRequest.onblocked = () => {\n\t\t\t\t\tif (this.logMode.warn)\n\t\t\t\t\t\tlogger.warn(\n\t\t\t\t\t\t\t`Delete operation blocked. Ensure no open connections to \"${dbName}\".`,\n\t\t\t\t\t\t\t'IDBManager.deleteDatabase()'\n\t\t\t\t\t\t);\n\n\t\t\t\t\tif (this.mode.showAlerts)\n\t\t\t\t\t\talert(\n\t\t\t\t\t\t\t`Unable to delete database \"${dbName}\" because it is in use. Please close all other tabs or windows accessing this database and try again.`\n\t\t\t\t\t\t);\n\n\t\t\t\t\tif (this.mode.stackTrace)\n\t\t\t\t\t\tconsole.trace(`Blocked call stack:`);\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tif (!this.mode.quiet)\n\t\t\t\t\tlogger.warn(\n\t\t\t\t\t\t`Database \"${dbName}\" does not exist.`,\n\t\t\t\t\t\t'IDBManager.deleteDatabase()'\n\t\t\t\t\t);\n\t\t\t}\n\t\t}, 'IDBManager.deleteDatabase(): Error deleting database');\n\t}\n\n\t// *DEV-NOTE* add this method to docs\n\tpublic async resetPaletteID(): Promise<void | null> {\n\t\treturn this.errorUtils.handleAsync(async () => {\n\t\t\tconst db = await this.getDB();\n\t\t\tconst storeName = this.storeNames['SETTINGS'];\n\t\t\tconst key = this.getDefaultKey('APP_SETTINGS');\n\t\t\tconst settings = await db.get(storeName, key);\n\n\t\t\tif (!settings)\n\t\t\t\tthrow new Error('Settings not found. Cannot reset palette ID.');\n\n\t\t\tsettings.lastPaletteID = 0;\n\n\t\t\tawait db.put(storeName, { key, ...this.defaultSettings });\n\n\t\t\tif (!this.mode.quiet)\n\t\t\t\tlogger.info(\n\t\t\t\t\t`Palette ID has successfully been reset to 0`,\n\t\t\t\t\t'IDBManager.resetPaletteID()'\n\t\t\t\t);\n\t\t}, 'IDBManager.resetPaletteID(): Error resetting palette ID');\n\t}\n\n\tpublic async saveData<T>(\n\t\tstoreName: keyof PaletteSchema,\n\t\tkey: string,\n\t\tdata: T,\n\t\toldValue?: T\n\t): Promise<void | null> {\n\t\treturn this.errorUtils.handleAsync(async () => {\n\t\t\tconst db = await this.getDB();\n\n\t\t\tawait this.storeUtils.withStore(\n\t\t\t\tdb,\n\t\t\t\tstoreName,\n\t\t\t\t'readwrite',\n\t\t\t\tasync store => {\n\t\t\t\t\tawait store.put({ key, ...data });\n\n\t\t\t\t\tlogger.mutation(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttimestamp: new Date().toISOString(),\n\t\t\t\t\t\t\tkey,\n\t\t\t\t\t\t\taction: 'update',\n\t\t\t\t\t\t\tnewValue: data,\n\t\t\t\t\t\t\toldValue: oldValue || null,\n\t\t\t\t\t\t\torigin: 'saveData'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tmutationLog => {\n\t\t\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t\t\t'Mutation log triggered for saveData:',\n\t\t\t\t\t\t\t\tmutationLog,\n\t\t\t\t\t\t\t\t'IDBManager.saveData()'\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t);\n\t\t}, 'IDBManager.saveData(): Error saving data');\n\t}\n\n\tpublic async savePalette(\n\t\tid: string,\n\t\tnewPalette: StoredPalette\n\t): Promise<void | null> {\n\t\treturn this.errorUtils.handleAsync(async () => {\n\t\t\tconst store = await this.getStore('tables', 'readwrite');\n\t\t\tconst paletteToSave: StoredPalette = {\n\t\t\t\ttableID: newPalette.tableID,\n\t\t\t\tpalette: newPalette.palette\n\t\t\t};\n\n\t\t\tawait store.put({ key: id, ...paletteToSave });\n\n\t\t\tif (!this.mode.quiet)\n\t\t\t\tlogger.info(\n\t\t\t\t\t`Palette ${id} saved successfully.`,\n\t\t\t\t\t'IDBManager.savePalette()'\n\t\t\t\t);\n\t\t}, 'IDBManager.savePalette(): Error saving palette');\n\t}\n\n\tpublic async savePaletteToDB(\n\t\ttype: string,\n\t\titems: PaletteItem[],\n\t\tpaletteID: number,\n\t\tnumBoxes: number,\n\t\tenableAlpha: boolean,\n\t\tlimitDark: boolean,\n\t\tlimitGray: boolean,\n\t\tlimitLight: boolean\n\t): Promise<Palette | null> {\n\t\treturn this.errorUtils.handleAsync(async () => {\n\t\t\tconst newPalette = this.createPaletteObject(\n\t\t\t\ttype,\n\t\t\t\titems,\n\t\t\t\tpaletteID,\n\t\t\t\tnumBoxes,\n\t\t\t\tenableAlpha,\n\t\t\t\tlimitDark,\n\t\t\t\tlimitGray,\n\t\t\t\tlimitLight\n\t\t\t);\n\n\t\t\tconst idParts = newPalette.id.split('_');\n\n\t\t\tif (idParts.length !== 2 || isNaN(Number(idParts[1]))) {\n\t\t\t\tthrow new Error(`Invalid palette ID format: ${newPalette.id}`);\n\t\t\t}\n\n\t\t\tawait this.savePalette(newPalette.id, {\n\t\t\t\ttableID: parseInt(idParts[1], 10),\n\t\t\t\tpalette: newPalette\n\t\t\t});\n\n\t\t\treturn newPalette;\n\t\t}, 'IDBManager.savePaletteToDB(): Error saving palette to DB');\n\t}\n\n\tpublic async saveSettings(newSettings: Settings): Promise<void | null> {\n\t\treturn this.errorUtils.handleAsync(async () => {\n\t\t\tawait this.saveData('settings', 'appSettings', newSettings);\n\n\t\t\tif (!this.mode.quiet && this.logMode.info)\n\t\t\t\tlogger.info('Settings updated', 'IDBManager.saveSettings()');\n\t\t}, 'IDBManager.saveSettings(): Error saving settings');\n\t}\n\n\tpublic async updateEntryInPalette(\n\t\ttableID: string,\n\t\tentryIndex: number,\n\t\tnewEntry: PaletteItem\n\t): Promise<void | null> {\n\t\treturn this.errorUtils.handleAsync(async () => {\n\t\t\tif (!(await this.ensureEntryExists('tables', tableID))) {\n\t\t\t\tthrow new Error(`Palette ${tableID} not found.`);\n\t\t\t}\n\n\t\t\tconst storedPalette = await this.getTable(tableID);\n\n\t\t\tif (!storedPalette)\n\t\t\t\tthrow new Error(`Palette ${tableID} not found.`);\n\n\t\t\tconst { items } = storedPalette.palette;\n\n\t\t\tif (entryIndex >= items.length) {\n\t\t\t\tif (!this.mode.gracefulErrors)\n\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t`Entry ${entryIndex} not found in palette ${tableID}.`\n\t\t\t\t\t);\n\t\t\t\tif (this.logMode.error)\n\t\t\t\t\tlogger.error(\n\t\t\t\t\t\t`Entry ${entryIndex} not found in palette ${tableID}.`,\n\t\t\t\t\t\t'IDBManager.updateEntryInPalette()'\n\t\t\t\t\t);\n\t\t\t\tif (!this.mode.quiet && this.logMode.info)\n\t\t\t\t\tlogger.warn('updateEntryInPalette: Entry not found.');\n\t\t\t}\n\n\t\t\tconst oldEntry = items[entryIndex];\n\n\t\t\titems[entryIndex] = newEntry;\n\n\t\t\tawait this.saveData('tables', tableID, storedPalette);\n\n\t\t\tlogger.mutation(\n\t\t\t\t{\n\t\t\t\t\ttimestamp: new Date().toISOString(),\n\t\t\t\t\tkey: `${tableID}-${entryIndex}]`,\n\t\t\t\t\taction: 'update',\n\t\t\t\t\tnewValue: newEntry,\n\t\t\t\t\toldValue: oldEntry,\n\t\t\t\t\torigin: 'updateEntryInPalette'\n\t\t\t\t},\n\t\t\t\tmutationLog =>\n\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t`Mutation log trigger for updateEntryInPalette:`,\n\t\t\t\t\t\tmutationLog\n\t\t\t\t\t)\n\t\t\t);\n\n\t\t\tif (!this.mode.quiet && this.logMode.info)\n\t\t\t\tlogger.info(\n\t\t\t\t\t`Entry ${entryIndex} in palette ${tableID} updated.`\n\t\t\t\t);\n\t\t}, 'IDBManager.updateEntryInPalette(): Error updating entry in palette');\n\t}\n\n\t//\n\t///\n\t///// * * * *  * * * * * * * * * * * * * * * *\n\t////// * * * * * * PRIVATE METHODS * * * * * *\n\t///// * * * *  * * * * * * * * * * * * * * * *\n\t///\n\t//\n\n\tprivate async initializeDB(): Promise<void> {\n\t\tawait this.dbPromise;\n\n\t\tconst db = await this.getDB();\n\t\tconst storeName = this.storeNames['SETTINGS'];\n\t\tconst key = this.getDefaultKey('APP_SETTINGS');\n\n\t\tlogger.info(\n\t\t\t`Initializing DB with Store Name: ${storeName}, Key: ${key}`,\n\t\t\t'IDBManager > (private async) initializeDB()'\n\t\t);\n\n\t\tif (!storeName || !key) throw new Error('Invalid store name or key.');\n\n\t\tconst settings = await db.get(storeName, key);\n\n\t\tif (!settings) {\n\t\t\tif (!this.mode.quiet) {\n\t\t\t\tlogger.info(\n\t\t\t\t\t`Initializing default settings...`,\n\t\t\t\t\t'IDBManager > (private async) initializeDB()'\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tawait db.put(storeName, { key, ...this.defaultSettings });\n\t\t}\n\t}\n\n\tprivate async ensureEntryExists(\n\t\tstoreName: keyof PaletteSchema,\n\t\tkey: string\n\t): Promise<boolean> {\n\t\tconst db = await this.getDB();\n\t\tconst store = db\n\t\t\t.transaction(storeName, 'readonly')\n\t\t\t.objectStore(storeName);\n\n\t\treturn (await store.get(key)) !== undefined;\n\t}\n\n\tprivate getDefaultKey(\n\t\tkey: keyof ConfigDataInterface['db']['STORE_NAMES']\n\t): string {\n\t\tconst defaultKey =\n\t\t\tthis.defaultKeys[\n\t\t\t\tkey as keyof ConfigDataInterface['db']['DEFAULT_KEYS']\n\t\t\t];\n\n\t\tif (!defaultKey) {\n\t\t\tthrow new Error(`[getDefaultKey()]: Invalid default key: ${key}`);\n\t\t}\n\n\t\treturn defaultKey;\n\t}\n\n\tprivate async getTable(id: string): Promise<StoredPalette | null> {\n\t\treturn this.errorUtils.handleAsync(async () => {\n\t\t\tconst db = await this.getDB();\n\t\t\tconst result = await db.get(this.storeNames.TABLES, id);\n\n\t\t\tif (!result) {\n\t\t\t\tif (this.logMode.warn)\n\t\t\t\t\tlogger.warn(\n\t\t\t\t\t\t`Table with ID ${id} not found.`,\n\t\t\t\t\t\t'IDBManager > (private async) getTable()'\n\t\t\t\t\t);\n\t\t\t}\n\t\t\treturn result;\n\t\t}, 'IDBManager.getTable(): Error fetching table');\n\t}\n\n\tprivate async updateCurrentPaletteID(newID: number): Promise<void | null> {\n\t\treturn this.errorUtils.handleAsync(async () => {\n\t\t\tconst db = await this.getDB();\n\t\t\tconst tx = db.transaction('settings', 'readwrite');\n\t\t\tconst store = tx.objectStore('settings');\n\n\t\t\tif (this.mode.debug)\n\t\t\t\tlogger.info(\n\t\t\t\t\t`Updating curent palette ID to ${newID}`,\n\t\t\t\t\t'IDBManager > (private async) updateCurrentPaletteID()'\n\t\t\t\t);\n\n\t\t\tawait store.put({ key: 'appSettings', lastPaletteID: newID });\n\t\t\tawait tx.done;\n\n\t\t\tif (!this.mode.quiet)\n\t\t\t\tlogger.info(\n\t\t\t\t\t`Current palette ID updated to ${newID}`,\n\t\t\t\t\t'IDBManager > (private async) updateCurrentPaletteID()'\n\t\t\t\t);\n\t\t}, 'IDBManager.updateCurrentPaletteID(): Error updating current palette ID');\n\t}\n}\n","// File: src/db/instance.ts\n\nimport { IDBManager } from './IDBManager.js';\n\nlet idbInstance: IDBManager | null = null;\n\nexport const getIDBInstance = async (): Promise<IDBManager> => {\n\tif (!idbInstance) {\n\t\tidbInstance = await IDBManager.getInstance();\n\t}\n\treturn idbInstance;\n};\n","// File: src/dom/parse.ts\n\nimport { DOM_FunctionsMasterInterface } from '../types/index.js';\nimport { consts, mode } from '../common/data/base.js';\nimport { createLogger } from '../logger/index.js';\n\nconst logger = await createLogger();\n\nconst domIDs = consts.dom.ids;\nconst logMode = mode.logging;\n\nfunction checkbox(id: string): boolean | void {\n\tconst checkbox = document.getElementById(id) as HTMLInputElement;\n\n\tif (!checkbox) {\n\t\tif (logMode.error && !mode.quiet) {\n\t\t\tlogger.error(\n\t\t\t\t`Checkbox element ${id} not found`,\n\t\t\t\t'dom > parse > checkbox()'\n\t\t\t);\n\t\t}\n\n\t\treturn;\n\t}\n\n\tif (!(checkbox instanceof HTMLInputElement)) {\n\t\tif (logMode.error && !mode.quiet) {\n\t\t\tlogger.error(\n\t\t\t\t`Element ${id} is not a checkbox`,\n\t\t\t\t'dom > parse > checkbox()'\n\t\t\t);\n\t\t}\n\n\t\treturn;\n\t}\n\n\treturn checkbox ? checkbox.checked : undefined;\n}\n\nfunction paletteExportFormat(): string | void {\n\tconst formatSelectionMenu = document.getElementById(\n\t\tdomIDs.exportPaletteFormatOptions\n\t) as HTMLSelectElement;\n\n\tif (!formatSelectionMenu) {\n\t\tif (logMode.error && !mode.quiet)\n\t\t\tlogger.error(\n\t\t\t\t'Export format selection dropdown not found',\n\t\t\t\t'dom > parse > paletteExportFormat()'\n\t\t\t);\n\t}\n\n\tconst selectedFormat = formatSelectionMenu.value;\n\n\tif (\n\t\tselectedFormat !== 'CSS' &&\n\t\tselectedFormat !== 'JSON' &&\n\t\tselectedFormat !== 'XML'\n\t) {\n\t\tif (logMode.error && !mode.quiet)\n\t\t\tlogger.error(\n\t\t\t\t'Invalid export format selected',\n\t\t\t\t'dom > parse > paletteExportFormat()'\n\t\t\t);\n\n\t\treturn;\n\t} else {\n\t\treturn selectedFormat;\n\t}\n}\n\nexport const parse: DOM_FunctionsMasterInterface['parse'] = {\n\tcheckbox,\n\tpaletteExportFormat\n};\n","// File: src/palette/common/paletteHelpers/limits.js\n\nimport { HSL } from '../../../types/index.js';\nimport { core } from '../../../common/index.js';\nimport { consts, mode } from '../../../common/data/base.js';\nimport { createLogger } from '../../../logger/index.js';\n\nconst logger = await createLogger();\n\nconst logMode = mode.logging;\n\nfunction isColorInBounds(hsl: HSL): boolean {\n\tif (!core.validate.colorValues(hsl)) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`isColorInBounds: Invalid HSL value ${JSON.stringify(hsl)}`,\n\t\t\t\t'paletteHelpers > limits > isColorInBounds()'\n\t\t\t);\n\n\t\treturn false;\n\t}\n\n\treturn isTooDark(hsl) || isTooGray(hsl) || isTooLight(hsl);\n}\n\nfunction isTooDark(hsl: HSL): boolean {\n\tif (!core.validate.colorValues(hsl)) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`isTooDark: Invalid HSL value ${JSON.stringify(hsl)}`,\n\t\t\t\t'paletteHelpers > limits > isTooDark()'\n\t\t\t);\n\n\t\treturn false;\n\t}\n\n\treturn core.base.clone(hsl).value.lightness < consts.thresholds.dark;\n}\n\nfunction isTooGray(hsl: HSL): boolean {\n\tif (!core.validate.colorValues(hsl)) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`isTooGray: Invalid HSL value ${JSON.stringify(hsl)}`,\n\t\t\t\t'paletteHelpers > limits > isTooGray()'\n\t\t\t);\n\n\t\treturn false;\n\t}\n\n\treturn core.base.clone(hsl).value.saturation < consts.thresholds.gray;\n}\n\nfunction isTooLight(hsl: HSL): boolean {\n\tif (!core.validate.colorValues(hsl)) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`isTooLight: Invalid HSL value ${JSON.stringify(hsl)}`,\n\t\t\t\t'paletteHelpers > limits > isTooLight()'\n\t\t\t);\n\n\t\treturn false;\n\t}\n\n\treturn core.base.clone(hsl).value.lightness > consts.thresholds.light;\n}\n\nexport const limits = {\n\tisColorInBounds,\n\tisTooDark,\n\tisTooGray,\n\tisTooLight\n} as const;\n","// File: src/palette/common/paletteHelpers/update.js\n\nimport { Color, HSL } from '../../../types/index.js';\nimport { core, utils } from '../../../common/index.js';\n\nasync function colorBox(color: HSL, index: number): Promise<void> {\n\tconst colorBox = document.getElementById(`color-box-${index + 1}`);\n\n\tif (colorBox) {\n\t\tconst colorValues = utils.conversion.genAllColorValues(color);\n\t\tconst selectedColor = colorValues as Color;\n\n\t\tif (selectedColor) {\n\t\t\tconst hslColor = colorValues.hsl as HSL;\n\t\t\tconst hslCSSString =\n\t\t\t\tawait core.convert.colorToCSSColorString(hslColor);\n\n\t\t\tcolorBox.style.backgroundColor = hslCSSString;\n\n\t\t\tutils.palette.populateOutputBox(selectedColor, index + 1);\n\t\t}\n\t}\n}\n\nexport const update = { colorBox } as const;\n","// File: src/palette/common/paletteHelpers/index.js\n\nimport { limits } from './limits.js';\nimport { update } from './update.js';\n\nexport const paletteHelpers = { limits, update } as const;\n","// File: src/palette/common/paletteSuperUtils/create.js\n\nimport {\n\tCMYK,\n\tCMYKString,\n\tHex,\n\tHexString,\n\tHSL,\n\tHSLString,\n\tHSV,\n\tHSVString,\n\tLAB,\n\tLABString,\n\tPaletteItem,\n\tRGB,\n\tRGBString,\n\tSL,\n\tXYZ,\n\tXYZString\n} from '../../../types/index.js';\nimport { convert, core, utils } from '../../../common/index.js';\nimport { paletteHelpers } from '../paletteHelpers/index.js';\n\nconst limits = paletteHelpers.limits;\nconst update = paletteHelpers.update;\n\nconst hslTo = convert.hslTo;\n\nfunction baseColor(customColor: HSL | null, enableAlpha: boolean): HSL {\n\tconst color = core.base.clone(customColor ?? utils.random.hsl(enableAlpha));\n\n\treturn color as HSL;\n}\n\nasync function paletteItem(\n\tcolor: HSL,\n\tenableAlpha: boolean\n): Promise<PaletteItem> {\n\tconst clonedColor = core.base.clone(color) as HSL;\n\n\tclonedColor.value.alpha = enableAlpha\n\t\t? core.brand.asAlphaRange(Math.random())\n\t\t: core.brand.asAlphaRange(1);\n\n\treturn {\n\t\tcolors: {\n\t\t\tcmyk: (hslTo(clonedColor, 'cmyk') as CMYK).value,\n\t\t\thex: (hslTo(clonedColor, 'hex') as Hex).value,\n\t\t\thsl: clonedColor.value,\n\t\t\thsv: (hslTo(clonedColor, 'hsv') as HSV).value,\n\t\t\tlab: (hslTo(clonedColor, 'lab') as LAB).value,\n\t\t\trgb: (hslTo(clonedColor, 'rgb') as RGB).value,\n\t\t\txyz: (hslTo(clonedColor, 'xyz') as XYZ).value\n\t\t},\n\t\tcolorStrings: {\n\t\t\tcmykString: (\n\t\t\t\tutils.color.colorToColorString(\n\t\t\t\t\thslTo(clonedColor, 'cmyk')\n\t\t\t\t) as CMYKString\n\t\t\t).value,\n\t\t\thexString: (\n\t\t\t\tutils.color.colorToColorString(\n\t\t\t\t\thslTo(clonedColor, 'hex')\n\t\t\t\t) as HexString\n\t\t\t).value,\n\t\t\thslString: (\n\t\t\t\tutils.color.colorToColorString(clonedColor) as HSLString\n\t\t\t).value,\n\t\t\thsvString: (\n\t\t\t\tutils.color.colorToColorString(\n\t\t\t\t\thslTo(clonedColor, 'hsv')\n\t\t\t\t) as HSVString\n\t\t\t).value,\n\t\t\tlabString: (\n\t\t\t\tutils.color.colorToColorString(\n\t\t\t\t\thslTo(clonedColor, 'lab')\n\t\t\t\t) as LABString\n\t\t\t).value,\n\t\t\trgbString: (\n\t\t\t\tutils.color.colorToColorString(\n\t\t\t\t\thslTo(clonedColor, 'rgb')\n\t\t\t\t) as RGBString\n\t\t\t).value,\n\t\t\txyzString: (\n\t\t\t\tutils.color.colorToColorString(\n\t\t\t\t\thslTo(clonedColor, 'xyz')\n\t\t\t\t) as XYZString\n\t\t\t).value\n\t\t},\n\t\tcssStrings: {\n\t\t\tcmykCSSString: await core.convert.colorToCSSColorString(\n\t\t\t\thslTo(clonedColor, 'cmyk')\n\t\t\t),\n\t\t\thexCSSString: await core.convert.colorToCSSColorString(\n\t\t\t\thslTo(clonedColor, 'hex')\n\t\t\t),\n\t\t\thslCSSString: await core.convert.colorToCSSColorString(clonedColor),\n\t\t\thsvCSSString: await core.convert.colorToCSSColorString(\n\t\t\t\thslTo(clonedColor, 'hsv')\n\t\t\t),\n\t\t\tlabCSSString: await core.convert.colorToCSSColorString(\n\t\t\t\thslTo(clonedColor, 'lab')\n\t\t\t),\n\t\t\trgbCSSString: await core.convert.colorToCSSColorString(\n\t\t\t\thslTo(clonedColor, 'rgb')\n\t\t\t),\n\t\t\txyzCSSString: await core.convert.colorToCSSColorString(\n\t\t\t\thslTo(clonedColor, 'xyz')\n\t\t\t)\n\t\t}\n\t};\n}\n\nasync function paletteItemArray(\n\tbaseColor: HSL,\n\thues: number[],\n\tenableAlpha: boolean,\n\tlimitDark: boolean,\n\tlimitGray: boolean,\n\tlimitLight: boolean\n): Promise<PaletteItem[]> {\n\tconst paletteItems: PaletteItem[] = [\n\t\tawait paletteItem(baseColor, enableAlpha)\n\t];\n\n\tfor (const [i, hue] of hues.entries()) {\n\t\tlet newColor: HSL | null = null;\n\n\t\tdo {\n\t\t\tconst sl = utils.random.sl(enableAlpha) as SL;\n\n\t\t\tnewColor = utils.conversion.genAllColorValues({\n\t\t\t\tvalue: {\n\t\t\t\t\thue: core.brand.asRadial(hue),\n\t\t\t\t\t...sl.value\n\t\t\t\t},\n\t\t\t\tformat: 'hsl'\n\t\t\t}).hsl as HSL;\n\t\t} while (\n\t\t\tnewColor &&\n\t\t\t((limitGray && limits.isTooGray(newColor)) ||\n\t\t\t\t(limitDark && limits.isTooDark(newColor)) ||\n\t\t\t\t(limitLight && limits.isTooLight(newColor)))\n\t\t);\n\n\t\tif (newColor) {\n\t\t\tconst newPaletteItem = await paletteItem(newColor, enableAlpha);\n\n\t\t\tpaletteItems.push(newPaletteItem);\n\n\t\t\tupdate.colorBox(newColor, i + 1);\n\t\t}\n\t}\n\n\treturn paletteItems;\n}\n\nexport const create = {\n\tbaseColor,\n\tpaletteItem,\n\tpaletteItemArray\n} as const;\n","// File: src/palette/common/paletteUtils/adjust.js\n\nimport { HSL } from '../../../types/index.js';\nimport { core, helpers } from '../../../common/index.js';\nimport { consts, mode } from '../../../common/data/base.js';\nimport { createLogger } from '../../../logger/index.js';\n\nconst logger = await createLogger();\n\nconst adjustments = consts.adjustments;\nconst logMode = mode.logging;\n\nfunction sl(color: HSL): HSL {\n\ttry {\n\t\tif (!core.validate.colorValues(color)) {\n\t\t\tif (logMode.error)\n\t\t\t\tlogger.error(\n\t\t\t\t\t'Invalid color valus for adjustment.',\n\t\t\t\t\t'palette > common > paletteUtils > adjust > sl()'\n\t\t\t\t);\n\n\t\t\thelpers.dom.showToast('Invalid color values');\n\n\t\t\treturn color;\n\t\t}\n\n\t\tconst adjustedSaturation = Math.min(\n\t\t\tMath.max(color.value.saturation + adjustments.slaValue, 0),\n\t\t\t100\n\t\t);\n\t\tconst adjustedLightness = Math.min(100);\n\n\t\treturn {\n\t\t\tvalue: {\n\t\t\t\thue: color.value.hue,\n\t\t\t\tsaturation: core.brand.asPercentile(adjustedSaturation),\n\t\t\t\tlightness: core.brand.asPercentile(adjustedLightness),\n\t\t\t\talpha: color.value.alpha\n\t\t\t},\n\t\t\tformat: 'hsl'\n\t\t};\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`Error adjusting saturation and lightness: ${error}`,\n\t\t\t\t'palette > common > paletteUtils > adjust > sl()'\n\t\t\t);\n\n\t\treturn color;\n\t}\n}\n\nexport const adjust = { sl } as const;\n","// File: src/paelette/common/paletteUtils/probability.js\n\nimport { consts, mode } from '../../../common/data/base.js';\nimport { createLogger } from '../../../logger/index.js';\n\nconst logger = await createLogger();\n\nconst logMode = mode.logging;\nconst probabilities = consts.probabilities;\n\nfunction getWeightedRandomInterval(): number {\n\ttry {\n\t\tconst weights = probabilities.weights;\n\t\tconst probabilityValues = probabilities.values;\n\t\tconst cumulativeProbabilities: number[] = probabilityValues.reduce(\n\t\t\t(acc: number[], prob: number, i: number) => {\n\t\t\t\tacc[i] = (acc[i - 1] || 0) + prob;\n\n\t\t\t\treturn acc;\n\t\t\t},\n\t\t\t[]\n\t\t);\n\t\tconst random = Math.random();\n\n\t\tfor (let i = 0; i < cumulativeProbabilities.length; i++) {\n\t\t\tif (random < cumulativeProbabilities[i]) return weights[i];\n\t\t}\n\n\t\treturn weights[weights.length - 1];\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\t// eslint-disable-next-line prettier/prettier\n\t\t\tlogger.error(`Error generating weighted random interval: ${error}`, 'palette > common > paletteUtils > getWeightedRandomInterval()');\n\n\t\treturn 50;\n\t}\n}\n\nexport const probability = {\n\tgetWeightedRandomInterval\n} as const;\n","// File: src/palette/common/paletteUtils/index.js\n\nimport { adjust } from './adjust.js';\nimport { probability } from './probability.js';\n\nexport const paletteUtils = { adjust, probability } as const;\n","// File: src/palette/common/paletteSuperUtils/genHues.js\n\nimport { HSL } from '../../../types/index.js';\nimport { core, utils } from '../../../common/index.js';\nimport { createLogger } from '../../../logger/index.js';\nimport { mode } from '../../../common/data/base.js';\nimport { paletteUtils } from '../paletteUtils/index.js';\n\nconst logger = await createLogger();\n\nconst logMode = mode.logging;\n\nconst genAllColorValues = utils.conversion.genAllColorValues;\nconst getWeightedRandomInterval =\n\tpaletteUtils.probability.getWeightedRandomInterval;\nconst validateColorValues = core.validate.colorValues;\n\nfunction analogous(color: HSL, numBoxes: number): number[] {\n\ttry {\n\t\tif (!validateColorValues(color)) {\n\t\t\tif (logMode.error)\n\t\t\t\tlogger.error(`Invalid color value ${JSON.stringify(color)}`, 'palette > common > paletteSuperUtils > genHues > analogous()');\n\n\t\t\treturn [];\n\t\t}\n\n\t\tconst clonedColor = core.base.clone(color) as HSL;\n\n\t\tconst analogousHues: number[] = [];\n\t\tconst baseHue = clonedColor.value.hue;\n\t\tconst maxTotalDistance = 60;\n\t\tconst minTotalDistance = Math.max(20, 10 + (numBoxes - 2) * 12);\n\t\tconst totalIncrement =\n\t\t\tMath.floor(\n\t\t\t\tMath.random() * (maxTotalDistance - minTotalDistance + 1)\n\t\t\t) + minTotalDistance;\n\t\tconst increment = Math.floor(totalIncrement / (numBoxes - 1));\n\n\t\tfor (let i = 1; i < numBoxes; i++) {\n\t\t\tanalogousHues.push((baseHue + increment * i) % 360);\n\t\t}\n\n\t\treturn analogousHues;\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(`Error generating analogous hues: ${error}`, 'palette > common > paletteSuperUtils > genHues > analogous()');\n\n\t\treturn [];\n\t}\n}\n\nfunction diadic(baseHue: number): number[] {\n\ttry {\n\t\tconst clonedBaseHue = core.base.clone(baseHue);\n\t\tconst diadicHues = [];\n\t\tconst randomDistance = getWeightedRandomInterval();\n\t\tconst hue1 = clonedBaseHue;\n\t\tconst hue2 = (hue1 + randomDistance) % 360;\n\n\t\tdiadicHues.push(hue1, hue2);\n\n\t\treturn diadicHues;\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(`Error generating diadic hues: ${error}`, 'palette > common > paletteSuperUtils > genHues > diadic()');\n\n\t\treturn [];\n\t}\n}\n\nfunction hexadic(color: HSL): number[] {\n\ttry {\n\t\tconst clonedColor = core.base.clone(color);\n\n\t\tif (!validateColorValues(clonedColor)) {\n\t\t\tif (logMode.error)\n\t\t\t\tlogger.error(\n\t\t\t\t\t`Invalid color value ${JSON.stringify(clonedColor)}`,\n\t\t\t\t\t'palette > common > paletteSuperUtils > genHues > hexadic()'\n\t\t\t\t);\n\n\t\t\treturn [];\n\t\t}\n\n\t\tconst clonedBaseHSL = genAllColorValues(clonedColor).hsl as HSL;\n\n\t\tif (!clonedBaseHSL) {\n\t\t\tif (!mode.gracefulErrors)\n\t\t\t\tthrow new Error(\n\t\t\t\t\t'Unable to generate hexadic hues - missing HSL values'\n\t\t\t\t);\n\t\t\telse if (logMode.error)\n\t\t\t\tlogger.error(\n\t\t\t\t\t'Unable to generate hexadic hues - missing HSL values',\n\t\t\t\t\t'palette > common > paletteSuperUtils > genHues > hexadic()'\n\t\t\t\t);\n\t\t\telse if (!mode.quiet && logMode.verbosity > 0)\n\t\t\t\tlogger.error('Error generating hexadic hues', 'palette > common > paletteSuperUtils > genHues > hexadic()');\n\n\t\t\treturn [];\n\t\t}\n\n\t\tconst hexadicHues: number[] = [];\n\t\tconst baseHue = clonedBaseHSL.value.hue;\n\t\tconst hue1 = baseHue;\n\t\tconst hue2 = (hue1 + 180) % 360;\n\t\tconst randomDistance = Math.floor(Math.random() * 61 + 30);\n\t\tconst hue3 = (hue1 + randomDistance) % 360;\n\t\tconst hue4 = (hue3 + 180) % 360;\n\t\tconst hue5 = (hue1 + 360 - randomDistance) % 360;\n\t\tconst hue6 = (hue5 + 180) % 360;\n\n\t\thexadicHues.push(hue1, hue2, hue3, hue4, hue5, hue6);\n\n\t\treturn hexadicHues;\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(`Error generating hexadic hues: ${error}`, 'palette > common > paletteSuperUtils > genHues > hexadic()');\n\n\t\treturn [];\n\t}\n}\n\nfunction splitComplementary(baseHue: number): number[] {\n\ttry {\n\t\tconst clonedBaseHue = core.base.clone(baseHue);\n\t\tconst modifier = Math.floor(Math.random() * 11) + 20;\n\n\t\treturn [\n\t\t\t(clonedBaseHue + 180 + modifier) % 360,\n\t\t\t(clonedBaseHue + 180 - modifier + 360) % 360\n\t\t];\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(`Error generating split complementary hues: ${error}`, 'palette > common > paletteSuperUtils > genHues > splitComplementary()');\n\n\t\treturn [];\n\t}\n}\n\nfunction tetradic(baseHue: number): number[] {\n\ttry {\n\t\tconst clonedBaseHue = core.base.clone(baseHue);\n\t\tconst randomOffset = Math.floor(Math.random() * 46) + 20;\n\t\tconst distance =\n\t\t\t90 + (Math.random() < 0.5 ? -randomOffset : randomOffset);\n\n\t\treturn [\n\t\t\tclonedBaseHue,\n\t\t\t(clonedBaseHue + 180) % 360,\n\t\t\t(clonedBaseHue + distance) % 360,\n\t\t\t(clonedBaseHue + distance + 180) % 360\n\t\t];\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(`Error generating tetradic hues: ${error}`);\n\n\t\treturn [];\n\t}\n}\n\nfunction triadic(baseHue: number): number[] {\n\ttry {\n\t\tconst clonedBaseHue = core.base.clone(baseHue);\n\n\t\treturn [120, 240].map(increment => (clonedBaseHue + increment) % 360);\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(`Error generating triadic hues: ${error}`);\n\n\t\treturn [];\n\t}\n}\n\nexport const genHues = {\n\tanalogous,\n\tdiadic,\n\thexadic,\n\tsplitComplementary,\n\ttetradic,\n\ttriadic\n} as const;\n","// File: src/palette/common/paletteSuperUtils.js\n\nimport { create } from './create.js';\nimport { genHues } from './genHues.js';\n\nexport const paletteSuperUtils = {\n\tcreate,\n\tgenHues\n} as const;\n","// File: src/dom/events/palette.js\n\nimport { UIFnBaseInterface } from '../types/index.js';\nimport { consts, mode } from '../common/data/base.js';\nimport { createLogger } from '../logger/index.js';\n\nconst logger = await createLogger();\n\nconst domIDs = consts.dom.ids;\nconst logMode = mode.logging;\n\nfunction enforceSwatchRules(\n\tminimumSwatches: number,\n\tmaximumSwatches?: number\n): void {\n\tconst paletteDropdown = document.getElementById(\n\t\tdomIDs.paletteNumberOptions\n\t) as HTMLSelectElement;\n\n\tif (!paletteDropdown) {\n\t\tif (logMode.error) {\n\t\t\tlogger.error(\n\t\t\t\t'paletteDropdown not found',\n\t\t\t\t'ui > base > enforceSwatchRules()'\n\t\t\t);\n\t\t}\n\t\tif (mode.stackTrace && logMode.verbosity > 3) {\n\t\t\tconsole.trace('enforceMinimumSwatches stack trace');\n\t\t}\n\n\t\treturn;\n\t}\n\n\tconst currentValue = parseInt(paletteDropdown.value, 10);\n\n\tlet newValue = currentValue;\n\n\t// ensue the value is within the allowed range\n\tif (currentValue < minimumSwatches) {\n\t\tnewValue = minimumSwatches;\n\t} else if (\n\t\tmaximumSwatches !== undefined &&\n\t\tcurrentValue > maximumSwatches\n\t) {\n\t\tnewValue = maximumSwatches;\n\t}\n\n\tif (newValue !== currentValue) {\n\t\t// update value in the dropdown menu\n\t\tpaletteDropdown.value = newValue.toString();\n\n\t\t// trigger a change event to notify the application\n\t\tconst event = new Event('change', { bubbles: true });\n\t\ttry {\n\t\t\tpaletteDropdown.dispatchEvent(event);\n\t\t} catch (error) {\n\t\t\tif (logMode.error) {\n\t\t\t\tlogger.error(\n\t\t\t\t\t`Failed to dispatch change event to palette-number-options dropdown menu: ${error}`,\n\t\t\t\t\t'ui > base > enforceSwatchRules()'\n\t\t\t\t);\n\t\t\t}\n\t\t\tthrow new Error(`Failed to dispatch change event: ${error}`);\n\t\t}\n\t}\n}\n\nexport const base: UIFnBaseInterface = {\n\tenforceSwatchRules\n};\n","// File: src/dom/fileUtils.ts\n\nimport { DOM_FunctionsMasterInterface } from '../types/index.js';\n\nfunction download(data: string, filename: string, type: string): void {\n\tconst blob = new Blob([data], { type });\n\tconst url = URL.createObjectURL(blob);\n\tconst a = document.createElement('a');\n\n\ta.href = url;\n\ta.download = filename;\n\ta.click();\n\n\tURL.revokeObjectURL(url);\n}\n\nfunction readFile(file: File): Promise<string> {\n\treturn new Promise((resolve, reject) => {\n\t\tconst reader = new FileReader();\n\n\t\treader.onload = () => resolve(reader.result as string);\n\t\treader.onerror = () => reject(reader.error);\n\n\t\treader.readAsText(file);\n\t});\n}\n\nexport const fileUtils: DOM_FunctionsMasterInterface['fileUtils'] = {\n\tdownload,\n\treadFile\n};\n","// File: src/palette/io/parse/color.ts\n\nimport {\n\tCMYK,\n\tCMYKValue,\n\tColor,\n\tColorParser,\n\tHex,\n\tHSL,\n\tHSLValue,\n\tHSV,\n\tHSVValue,\n\tLAB,\n\tLABValue,\n\tRGB,\n\tRGBValue,\n\tXYZ,\n\tXYZValue\n} from '../../types/index.js';\nimport { common } from '../../common/index.js';\nimport { config } from '../../common/data/base.js';\n\nconst brand = common.core.brand;\nconst regex = config.regex;\n\nconst colorParsers: Record<string, ColorParser> = {};\n\nconst cmykParser: ColorParser = {\n\tparse(input: string): CMYK {\n\t\tconst match = input.match(regex.colors.cmyk);\n\n\t\tif (!match) {\n\t\t\tthrow new Error(`Invalid CMYK string format: ${input}`);\n\t\t}\n\n\t\tconst [_, cyan, magenta, yellow, key, alpha = '1'] = match;\n\n\t\tconst value: CMYKValue = {\n\t\t\tcyan: brand.asPercentile(parseFloat(cyan) / 100),\n\t\t\tmagenta: brand.asPercentile(parseFloat(magenta) / 100),\n\t\t\tyellow: brand.asPercentile(parseFloat(yellow) / 100),\n\t\t\tkey: brand.asPercentile(parseFloat(key) / 100),\n\t\t\talpha: brand.asAlphaRange(parseFloat(alpha))\n\t\t};\n\n\t\treturn { format: 'cmyk', value };\n\t}\n};\n\nconst hexParser: ColorParser = {\n\tparse(input: string): Hex {\n\t\tconst match = input.match(regex.colors.hex);\n\n\t\tif (!match) {\n\t\t\tthrow new Error(`Invalid Hex string format: ${input}`);\n\t\t}\n\n\t\tconst hex = brand.asHexSet(match[1].substring(0, 6));\n\t\tconst alpha = brand.asHexComponent(\n\t\t\tString(\n\t\t\t\tmatch[1].length === 8\n\t\t\t\t\t? parseInt(match[1].substring(6, 8), 16) / 255\n\t\t\t\t\t: 1\n\t\t\t)\n\t\t);\n\t\tconst numAlpha = brand.asAlphaRange(alpha);\n\n\t\treturn {\n\t\t\tformat: 'hex',\n\t\t\tvalue: { hex, alpha, numAlpha }\n\t\t};\n\t}\n};\n\nconst hslParser: ColorParser = {\n\tparse(input: string): HSL {\n\t\tconst match = input.match(regex.colors.hsl);\n\n\t\tif (!match) {\n\t\t\tthrow new Error(`Invalid HSL string format: ${input}`);\n\t\t}\n\n\t\tconst [_, hue, saturation, lightness, alpha = '1'] = match;\n\n\t\tconst value: HSLValue = {\n\t\t\thue: brand.asRadial(parseFloat(hue)),\n\t\t\tsaturation: brand.asPercentile(parseFloat(saturation) / 100),\n\t\t\tlightness: brand.asPercentile(parseFloat(lightness) / 100),\n\t\t\talpha: brand.asAlphaRange(parseFloat(alpha))\n\t\t};\n\n\t\treturn { format: 'hsl', value };\n\t}\n};\n\nconst hsvParser: ColorParser = {\n\tparse(input: string): HSV {\n\t\tconst match = input.match(regex.colors.hsv);\n\n\t\tif (!match) {\n\t\t\tthrow new Error(`Invalid HSV string format: ${input}`);\n\t\t}\n\n\t\tconst [_, hue, saturation, value, alpha = '1'] = match;\n\n\t\tconst hsvValue: HSVValue = {\n\t\t\thue: brand.asRadial(parseFloat(hue)),\n\t\t\tsaturation: brand.asPercentile(parseFloat(saturation) / 100),\n\t\t\tvalue: brand.asPercentile(parseFloat(value) / 100),\n\t\t\talpha: brand.asAlphaRange(parseFloat(alpha))\n\t\t};\n\n\t\treturn { format: 'hsv', value: hsvValue };\n\t}\n};\n\nconst labParser: ColorParser = {\n\tparse(input: string): LAB {\n\t\tconst match = input.match(regex.colors.lab);\n\n\t\tif (!match) {\n\t\t\tthrow new Error(`Invalid LAB string format: ${input}`);\n\t\t}\n\n\t\tconst [_, l, a, b, alpha = '1'] = match;\n\n\t\tconst labValue: LABValue = {\n\t\t\tl: brand.asLAB_L(parseFloat(l)),\n\t\t\ta: brand.asLAB_A(parseFloat(a)),\n\t\t\tb: brand.asLAB_B(parseFloat(b)),\n\t\t\talpha: brand.asAlphaRange(parseFloat(alpha))\n\t\t};\n\n\t\treturn { format: 'lab', value: labValue };\n\t}\n};\n\nconst rgbParser: ColorParser = {\n\tparse(input: string): RGB {\n\t\tconst match = input.match(regex.colors.rgb);\n\n\t\tif (!match) {\n\t\t\tthrow new Error(`Invalid RGB string format: ${input}`);\n\t\t}\n\n\t\tconst [_, red, green, blue, alpha = '1'] = match;\n\n\t\tconst rgbValue: RGBValue = {\n\t\t\tred: brand.asByteRange(parseFloat(red)),\n\t\t\tgreen: brand.asByteRange(parseFloat(green)),\n\t\t\tblue: brand.asByteRange(parseFloat(blue)),\n\t\t\talpha: brand.asAlphaRange(parseFloat(alpha))\n\t\t};\n\n\t\treturn { format: 'rgb', value: rgbValue };\n\t}\n};\n\nconst xyzParser: ColorParser = {\n\tparse(input: string): XYZ {\n\t\tconst match = input.match(regex.colors.xyz);\n\n\t\tif (!match) {\n\t\t\tthrow new Error(`Invalid XYZ string format: ${input}`);\n\t\t}\n\n\t\tconst [_, x, y, z, alpha = '1'] = match;\n\n\t\tconst xyzValue: XYZValue = {\n\t\t\tx: brand.asXYZ_X(parseFloat(x)),\n\t\t\ty: brand.asXYZ_Y(parseFloat(y)),\n\t\t\tz: brand.asXYZ_Z(parseFloat(z)),\n\t\t\talpha: brand.asAlphaRange(parseFloat(alpha))\n\t\t};\n\n\t\treturn { format: 'xyz', value: xyzValue };\n\t}\n};\n\ncolorParsers['cmyk'] = cmykParser;\ncolorParsers['hex'] = hexParser;\ncolorParsers['hsl'] = hslParser;\ncolorParsers['hsv'] = hsvParser;\ncolorParsers['lab'] = labParser;\ncolorParsers['rgb'] = rgbParser;\ncolorParsers['xyz'] = xyzParser;\n\nexport function asColorString(format: string, input: string): Color {\n\tconst parser = colorParsers[format.toLowerCase()];\n\n\tif (!parser) {\n\t\tthrow new Error(`No parser available for format: ${format}`);\n\t}\n\n\treturn parser.parse(input);\n}\n\n// ******** CSS COLOR STRINGS ********\n\nexport function asCSSColorString(format: string, input: string): string {\n\tconst color = asColorString(format, input);\n\n\tswitch (color.format) {\n\t\tcase 'cmyk':\n\t\t\tconst cmyk = color.value as CMYK['value'];\n\t\t\treturn `cmyk(${cmyk.cyan * 100}%, ${cmyk.magenta * 100}%, ${cmyk.yellow * 100}%, ${cmyk.key * 100}${\n\t\t\t\tcmyk.alpha !== 1 ? `, ${cmyk.alpha}` : ''\n\t\t\t})`;\n\n\t\tcase 'hex':\n\t\t\tconst hex = color.value as Hex['value'];\n\t\t\treturn `#${hex.hex}${String(hex.alpha) !== 'FF' ? hex.alpha : ''}`;\n\n\t\tcase 'hsl':\n\t\t\tconst hsl = color.value as HSL['value'];\n\t\t\treturn `hsl(${hsl.hue}, ${hsl.saturation * 100}%, ${hsl.lightness * 100}%${\n\t\t\t\thsl.alpha !== 1 ? `, ${hsl.alpha}` : ''\n\t\t\t})`;\n\n\t\tcase 'hsv':\n\t\t\tconst hsv = color.value as HSV['value'];\n\t\t\treturn `hsv(${hsv.hue}, ${hsv.saturation * 100}%, ${hsv.value * 100}%${\n\t\t\t\thsv.alpha !== 1 ? `, ${hsv.alpha}` : ''\n\t\t\t})`;\n\n\t\tcase 'lab':\n\t\t\tconst lab = color.value as LAB['value'];\n\t\t\treturn `lab(${lab.l}, ${lab.a}, ${lab.b}${\n\t\t\t\tlab.alpha !== 1 ? `, ${lab.alpha}` : ''\n\t\t\t})`;\n\n\t\tcase 'rgb':\n\t\t\tconst rgb = color.value as RGB['value'];\n\t\t\treturn `rgb(${rgb.red}, ${rgb.green}, ${rgb.blue}${\n\t\t\t\trgb.alpha !== 1 ? `, ${rgb.alpha}` : ''\n\t\t\t})`;\n\n\t\tcase 'xyz':\n\t\t\tconst xyz = color.value as XYZ['value'];\n\t\t\treturn `xyz(${xyz.x}, ${xyz.y}, ${xyz.z}${\n\t\t\t\txyz.alpha !== 1 ? `, ${xyz.alpha}` : ''\n\t\t\t})`;\n\n\t\tdefault:\n\t\t\tthrow new Error(`Unsupported color format: ${color.format}`);\n\t}\n}\n","// File: src/io/parse/colorValue.ts\n\nimport {\n\tCMYKValue,\n\tHexValue,\n\tHSLValue,\n\tHSVValue,\n\tLABValue,\n\tRGBValue,\n\tXYZValue\n} from '../../types/index.js';\nimport { asColorString } from './color.js';\n\nfunction asCMYKValue(colorString: string): CMYKValue {\n\tconst parsed = asColorString('cmyk', colorString);\n\n\tif (parsed && parsed.format === 'cmyk') {\n\t\treturn parsed.value as CMYKValue;\n\t}\n\n\tthrow new Error(`Invalid CMYK color string: ${colorString}`);\n}\n\nfunction asHexValue(colorValue: string): HexValue {\n\tconst parsed = asColorString('hex', colorValue);\n\n\tif (parsed && parsed.format === 'hex') {\n\t\treturn parsed.value as HexValue;\n\t}\n\n\tthrow new Error(`Invalid Hex color value: ${colorValue}`);\n}\n\nfunction asHSLValue(colorValue: string): HSLValue {\n\tconst parsed = asColorString('hsl', colorValue);\n\n\tif (parsed && parsed.format === 'hsl') {\n\t\treturn parsed.value as HSLValue;\n\t}\n\n\tthrow new Error(`Invalid HSL color value: ${colorValue}`);\n}\n\nfunction asHSVValue(colorValue: string): HSVValue {\n\tconst parsed = asColorString('hsv', colorValue);\n\n\tif (parsed && parsed.format === 'hsv') {\n\t\treturn parsed.value as HSVValue;\n\t}\n\n\tthrow new Error(`Invalid HSV color value: ${colorValue}`);\n}\n\nfunction asLABValue(colorValue: string): LABValue {\n\tconst parsed = asColorString('lab', colorValue);\n\n\tif (parsed && parsed.format === 'lab') {\n\t\treturn parsed.value as LABValue;\n\t}\n\n\tthrow new Error(`Invalid LAB color value: ${colorValue}`);\n}\n\nfunction asRGBValue(colorValue: string): RGBValue {\n\tconst parsed = asColorString('rgb', colorValue);\n\n\tif (parsed && parsed.format === 'rgb') {\n\t\treturn parsed.value as RGBValue;\n\t}\n\n\tthrow new Error(`Invalid RGB color value: ${colorValue}`);\n}\n\nfunction asXYZValue(colorValue: string): XYZValue {\n\tconst parsed = asColorString('xyz', colorValue);\n\n\tif (parsed && parsed.format === 'xyz') {\n\t\treturn parsed.value as XYZValue;\n\t}\n\n\tthrow new Error(`Invalid XYZ color value: ${colorValue}`);\n}\n\nexport const asColorValue = {\n\tcmyk: asCMYKValue,\n\thex: asHexValue,\n\thsl: asHSLValue,\n\thsv: asHSVValue,\n\tlab: asLABValue,\n\trgb: asRGBValue,\n\txyz: asXYZValue\n};\n","// File: src/io/parse/base.ts\n\nimport {\n\tCMYKValue,\n\tHexValue,\n\tHSLValue,\n\tHSVValue,\n\tIO_Interface,\n\tLABValue,\n\tRGBValue,\n\tXYZValue\n} from '../../types/index.js';\nimport { common } from '../../common/index.js';\nimport { config, mode } from '../../common/data/base.js';\nimport { createLogger } from '../../logger/index.js';\n\nconst logger = await createLogger();\n\nconst brand = common.core.brand;\nconst logMode = mode.logging;\nconst regex = {\n\tcmyk: config.regex.colors.cmyk,\n\thex: config.regex.colors.hex,\n\thsl: config.regex.colors.hsl,\n\thsv: config.regex.colors.hsv,\n\tlab: config.regex.colors.lab,\n\trgb: config.regex.colors.rgb,\n\txyz: config.regex.colors.xyz\n};\n\nfunction parseCMYKColorValue(rawCMYK: string | null): CMYKValue {\n\tif (!rawCMYK) {\n\t\tif (!mode.quiet && logMode.warn && logMode.verbosity >= 2) {\n\t\t\tlogger.warn(\n\t\t\t\t'A CMYK element could not be found while parsing palette file. Injecting default values.',\n\t\t\t\t'io > parse > base > parseCMYKColorValue()'\n\t\t\t);\n\t\t} else {\n\t\t\tlogger.debug(\n\t\t\t\t'Missing CMYK element in palette file.',\n\t\t\t\t'io > parse > base > parseCMYKColorValue()'\n\t\t\t);\n\t\t}\n\n\t\tif (mode.stackTrace) console.trace('Stack Trace:');\n\n\t\treturn {\n\t\t\tcyan: brand.asPercentile(0),\n\t\t\tmagenta: brand.asPercentile(0),\n\t\t\tyellow: brand.asPercentile(0),\n\t\t\tkey: brand.asPercentile(0),\n\t\t\talpha: brand.asAlphaRange(1)\n\t\t};\n\t}\n\n\tconst match = rawCMYK.match(regex.cmyk);\n\n\treturn match\n\t\t? {\n\t\t\t\tcyan: brand.asPercentile(parseFloat(match[1])),\n\t\t\t\tmagenta: brand.asPercentile(parseFloat(match[2])),\n\t\t\t\tyellow: brand.asPercentile(parseFloat(match[3])),\n\t\t\t\tkey: brand.asPercentile(parseFloat(match[4])),\n\t\t\t\talpha: brand.asAlphaRange(parseFloat(match[5] ?? '1'))\n\t\t\t}\n\t\t: {\n\t\t\t\tcyan: brand.asPercentile(0),\n\t\t\t\tmagenta: brand.asPercentile(0),\n\t\t\t\tyellow: brand.asPercentile(0),\n\t\t\t\tkey: brand.asPercentile(0),\n\t\t\t\talpha: brand.asAlphaRange(1)\n\t\t\t};\n}\n\nfunction parseHexColorValue(rawHex: string | null): HexValue {\n\tif (!rawHex) {\n\t\tif (!mode.quiet && logMode.warn && logMode.verbosity >= 2) {\n\t\t\tlogger.warn(\n\t\t\t\t'A Hex element could not be found while parsing palette file. Injecting default values.',\n\t\t\t\t'io > parse > base > parseHexColorValue()'\n\t\t\t);\n\t\t} else {\n\t\t\tlogger.debug(\n\t\t\t\t'Missing Hex element in palette file.',\n\t\t\t\t'io > parse > base > parseHexColorValue()'\n\t\t\t);\n\t\t}\n\n\t\tif (mode.stackTrace) console.trace('Stack Trace:');\n\n\t\treturn {\n\t\t\thex: brand.asHexSet('#000000'),\n\t\t\talpha: brand.asHexComponent('FF'),\n\t\t\tnumAlpha: brand.asAlphaRange(1)\n\t\t};\n\t}\n\n\tconst match = rawHex.match(regex.hex);\n\n\treturn match\n\t\t? {\n\t\t\t\thex: brand.asHexSet(`#${match[1]}`),\n\t\t\t\talpha: brand.asHexComponent(match[2] || 'FF'),\n\t\t\t\tnumAlpha: brand.asAlphaRange(\n\t\t\t\t\tparseInt(match[2] || 'FF', 16) / 255\n\t\t\t\t)\n\t\t\t}\n\t\t: {\n\t\t\t\thex: brand.asHexSet('#000000'),\n\t\t\t\talpha: brand.asHexComponent('FF'),\n\t\t\t\tnumAlpha: brand.asAlphaRange(1)\n\t\t\t};\n}\n\nfunction parseHSLColorValue(rawHSL: string | null): HSLValue {\n\tif (!rawHSL) {\n\t\tif (!mode.quiet && logMode.warn && logMode.verbosity >= 2) {\n\t\t\tlogger.warn(\n\t\t\t\t'An HSL element could not be found while parsing palette file. Injecting default values.',\n\t\t\t\t'io > parse > base > parseHSLColorValue()'\n\t\t\t);\n\t\t} else {\n\t\t\tlogger.debug(\n\t\t\t\t'Missing HSL element in palette file.',\n\t\t\t\t'io > parse > base > parseHSLColorValue()'\n\t\t\t);\n\t\t}\n\n\t\tif (mode.stackTrace) console.trace('Stack Trace:');\n\n\t\treturn {\n\t\t\thue: brand.asRadial(0),\n\t\t\tsaturation: brand.asPercentile(0),\n\t\t\tlightness: brand.asPercentile(0),\n\t\t\talpha: brand.asAlphaRange(1)\n\t\t};\n\t}\n\n\tconst match = rawHSL.match(regex.hsl);\n\n\treturn match\n\t\t? {\n\t\t\t\thue: brand.asRadial(parseFloat(match[1])),\n\t\t\t\tsaturation: brand.asPercentile(parseFloat(match[2])),\n\t\t\t\tlightness: brand.asPercentile(parseFloat(match[3])),\n\t\t\t\talpha: brand.asAlphaRange(parseFloat(match[4] ?? '1'))\n\t\t\t}\n\t\t: {\n\t\t\t\thue: brand.asRadial(0),\n\t\t\t\tsaturation: brand.asPercentile(0),\n\t\t\t\tlightness: brand.asPercentile(0),\n\t\t\t\talpha: brand.asAlphaRange(1)\n\t\t\t};\n}\n\nfunction parseHSVColorValue(rawHSV: string | null): HSVValue {\n\tif (!rawHSV) {\n\t\tif (!mode.quiet && logMode.warn && logMode.verbosity >= 2) {\n\t\t\tlogger.warn(\n\t\t\t\t'An HSV element could not be found while parsing palette file. Injecting default values.',\n\t\t\t\t'io > parse > base > parseHSVColorValue()'\n\t\t\t);\n\t\t} else {\n\t\t\tlogger.debug(\n\t\t\t\t'Missing HSV element in palette file.',\n\t\t\t\t'io > parse > base > parseHSVColorValue()'\n\t\t\t);\n\t\t}\n\n\t\tif (mode.stackTrace) console.trace('Stack Trace:');\n\n\t\treturn {\n\t\t\thue: brand.asRadial(0),\n\t\t\tsaturation: brand.asPercentile(0),\n\t\t\tvalue: brand.asPercentile(0),\n\t\t\talpha: brand.asAlphaRange(1)\n\t\t};\n\t}\n\n\tconst match = rawHSV.match(regex.hsv);\n\n\treturn match\n\t\t? {\n\t\t\t\thue: brand.asRadial(parseFloat(match[1])),\n\t\t\t\tsaturation: brand.asPercentile(parseFloat(match[2])),\n\t\t\t\tvalue: brand.asPercentile(parseFloat(match[3])),\n\t\t\t\talpha: brand.asAlphaRange(parseFloat(match[4] ?? '1'))\n\t\t\t}\n\t\t: {\n\t\t\t\thue: brand.asRadial(0),\n\t\t\t\tsaturation: brand.asPercentile(0),\n\t\t\t\tvalue: brand.asPercentile(0),\n\t\t\t\talpha: brand.asAlphaRange(1)\n\t\t\t};\n}\n\nfunction parseLABColorValue(rawLAB: string | null): LABValue {\n\tif (!rawLAB) {\n\t\tif (!mode.quiet && logMode.warn && logMode.verbosity >= 2) {\n\t\t\tlogger.warn(\n\t\t\t\t'A LAB element could not be found while parsing palette file. Injecting default values.',\n\t\t\t\t'io > parse > base > parseLABColorValue()'\n\t\t\t);\n\t\t} else {\n\t\t\tlogger.debug(\n\t\t\t\t'Missing LAB element in palette file.',\n\t\t\t\t'io > parse > base > parseLABColorValue()'\n\t\t\t);\n\t\t}\n\n\t\tif (mode.stackTrace) console.trace('Stack Trace:');\n\n\t\treturn {\n\t\t\tl: brand.asLAB_L(0),\n\t\t\ta: brand.asLAB_A(0),\n\t\t\tb: brand.asLAB_B(0),\n\t\t\talpha: brand.asAlphaRange(1)\n\t\t};\n\t}\n\n\tconst match = rawLAB.match(regex.lab);\n\n\treturn match\n\t\t? {\n\t\t\t\tl: brand.asLAB_L(parseFloat(match[1])),\n\t\t\t\ta: brand.asLAB_A(parseFloat(match[2])),\n\t\t\t\tb: brand.asLAB_B(parseFloat(match[3])),\n\t\t\t\talpha: brand.asAlphaRange(parseFloat(match[4] ?? '1'))\n\t\t\t}\n\t\t: {\n\t\t\t\tl: brand.asLAB_L(0),\n\t\t\t\ta: brand.asLAB_A(0),\n\t\t\t\tb: brand.asLAB_B(0),\n\t\t\t\talpha: brand.asAlphaRange(1)\n\t\t\t};\n}\n\nfunction parseRGBColorValue(rawRGB: string | null): RGBValue {\n\tif (!rawRGB) {\n\t\tif (!mode.quiet && logMode.warn && logMode.verbosity >= 2) {\n\t\t\tlogger.warn(\n\t\t\t\t'An RGB element could not be found while parsing palette file. Injecting default values.',\n\t\t\t\t'io > parse > base > parseRGBColorValue()'\n\t\t\t);\n\t\t} else {\n\t\t\tlogger.debug(\n\t\t\t\t'Missing RGB element in palette file.',\n\t\t\t\t'io > parse > base > parseRGBColorValue()'\n\t\t\t);\n\t\t}\n\n\t\tif (mode.stackTrace) console.trace('Stack Trace:');\n\n\t\treturn {\n\t\t\tred: brand.asByteRange(0),\n\t\t\tgreen: brand.asByteRange(0),\n\t\t\tblue: brand.asByteRange(0),\n\t\t\talpha: brand.asAlphaRange(1)\n\t\t};\n\t}\n\n\tconst match = rawRGB.match(regex.rgb);\n\n\treturn match\n\t\t? {\n\t\t\t\tred: brand.asByteRange(parseFloat(match[1])),\n\t\t\t\tgreen: brand.asByteRange(parseFloat(match[2])),\n\t\t\t\tblue: brand.asByteRange(parseFloat(match[3])),\n\t\t\t\talpha: brand.asAlphaRange(parseFloat(match[4] ?? '1'))\n\t\t\t}\n\t\t: {\n\t\t\t\tred: brand.asByteRange(0),\n\t\t\t\tgreen: brand.asByteRange(0),\n\t\t\t\tblue: brand.asByteRange(0),\n\t\t\t\talpha: brand.asAlphaRange(1)\n\t\t\t};\n}\n\nfunction parseXYZColorValue(rawXYZ: string | null): XYZValue {\n\tif (!rawXYZ) {\n\t\tif (!mode.quiet && logMode.warn && logMode.verbosity >= 2) {\n\t\t\tlogger.warn(\n\t\t\t\t'An XYZ element could not be found while parsing palette file. Injecting default values.',\n\t\t\t\t'io > parse > base > parseXYZColorValue()'\n\t\t\t);\n\t\t} else {\n\t\t\tlogger.debug(\n\t\t\t\t'Missing XYZ element in palette file.',\n\t\t\t\t'io > parse > base > parseXYZColorValue()'\n\t\t\t);\n\t\t}\n\n\t\tif (mode.stackTrace) console.trace('Stack Trace:');\n\n\t\treturn {\n\t\t\tx: brand.asXYZ_X(0),\n\t\t\ty: brand.asXYZ_Y(0),\n\t\t\tz: brand.asXYZ_Z(0),\n\t\t\talpha: brand.asAlphaRange(1)\n\t\t};\n\t}\n\n\tconst match = rawXYZ.match(regex.xyz);\n\n\treturn match\n\t\t? {\n\t\t\t\tx: brand.asXYZ_X(parseFloat(match[1])),\n\t\t\t\ty: brand.asXYZ_Y(parseFloat(match[2])),\n\t\t\t\tz: brand.asXYZ_Z(parseFloat(match[3])),\n\t\t\t\talpha: brand.asAlphaRange(parseFloat(match[4] ?? '1'))\n\t\t\t}\n\t\t: {\n\t\t\t\tx: brand.asXYZ_X(0),\n\t\t\t\ty: brand.asXYZ_Y(0),\n\t\t\t\tz: brand.asXYZ_Z(0),\n\t\t\t\talpha: brand.asAlphaRange(1)\n\t\t\t};\n}\n\nexport const color: IO_Interface['parse']['color'] = {\n\tcmyk: parseCMYKColorValue,\n\thex: parseHexColorValue,\n\thsl: parseHSLColorValue,\n\thsv: parseHSVColorValue,\n\tlab: parseLABColorValue,\n\trgb: parseRGBColorValue,\n\txyz: parseXYZColorValue\n};\n","// File: src/io/parse/json.ts\n\nimport { Palette } from '../../types/index.js';\nimport { createLogger } from '../../logger/factory.js';\nimport { mode } from '../../common/data/base.js';\n\nconst logger = await createLogger();\nconst logMode = mode.logging;\n\nfunction file(jsonData: string): Promise<Palette | null> {\n\ttry {\n\t\tconst parsed = JSON.parse(jsonData);\n\n\t\t// Validate that the parsed object matches the expected structure\n\t\tif (!parsed.items || !Array.isArray(parsed.items)) {\n\t\t\tthrow new Error('Invalid JSON structure for Palette');\n\t\t}\n\n\t\treturn Promise.resolve(parsed as Palette);\n\t} catch (error) {\n\t\tif (!mode.quiet && logMode.error && logMode.verbosity > 1) {\n\t\t\tlogger.error(\n\t\t\t\t`Error parsing JSON file: ${error}`,\n\t\t\t\t'io > parse > json > file()'\n\t\t\t);\n\n\t\t\tif (mode.showAlerts)\n\t\t\t\talert(`Error parsing JSON file. See console for details.`);\n\t\t}\n\n\t\treturn Promise.resolve(null);\n\t}\n}\n\nexport const json = {\n\tfile\n};\n","// File: src/io/parse/index.ts\n\nimport { IO_Interface } from '../../types/index.js';\nimport { asColorValue } from './colorValue.js';\nimport { asColorString, asCSSColorString } from './color.js';\nimport { color } from './base.js';\nimport { json } from './json.js';\n\nexport const parse: IO_Interface['parse'] = {\n\tasColorValue,\n\tasColorString,\n\tasCSSColorString,\n\tcolor,\n\tjson\n};\n","// File: src/io/deserialize.ts\n\nimport {\n\tCMYKValueString,\n\tHexValueString,\n\tHSLValueString,\n\tHSVValueString,\n\tIO_Interface,\n\tLABValueString,\n\tPalette,\n\tPaletteItem,\n\tRGBValueString,\n\tXYZValueString\n} from '../types/index.js';\nimport { common } from '../common/index.js';\nimport { config, defaults, mode } from '../common/data/base.js';\nimport { createLogger } from '../logger/factory.js';\nimport { parse } from './parse/index.js';\n\nconst logger = await createLogger();\n\nconst defaultColors = {\n\tcmyk: defaults.colors.base.branded.cmyk,\n\thex: defaults.colors.base.branded.hex,\n\thsl: defaults.colors.base.branded.hsl,\n\thsv: defaults.colors.base.branded.hsv,\n\tlab: defaults.colors.base.branded.lab,\n\trgb: defaults.colors.base.branded.rgb,\n\txyz: defaults.colors.base.branded.xyz\n};\nconst logMode = mode.logging;\nconst regex = config.regex;\n\nconst getFormattedTimestamp = common.core.getFormattedTimestamp;\nconst convertToColorString = common.utils.color.colorToColorString;\nconst convertToCSSColorString = common.core.convert.colorToCSSColorString;\n\nasync function fromCSS(data: string): Promise<Palette> {\n\ttry {\n\t\t// 1. parse metadata\n\t\tconst metadataMatch = data.match(regex.file.palette.css.metadata);\n\t\tconst metadataRaw = metadataMatch ? metadataMatch[1] : '{}';\n\t\tconst metadataJSON = JSON.parse(metadataRaw);\n\n\t\t// 2. extract individual metadata properties\n\t\tconst id = metadataJSON.id || 'ERROR_(PALETTE_ID)';\n\t\tconst name = metadataJSON.name || undefined;\n\t\tconst swatches = metadataJSON.swatches || 1;\n\t\tconst type = metadataJSON.type || '???';\n\t\tconst timestamp = metadataJSON.timestamp || getFormattedTimestamp();\n\n\t\t// 3. parse flags\n\t\tconst flags = {\n\t\t\tenableAlpha: metadataJSON.flags?.enableAlpha || false,\n\t\t\tlimitDarkness: metadataJSON.flags?.limitDarkness || false,\n\t\t\tlimitGrayness: metadataJSON.flags?.limitGrayness || false,\n\t\t\tlimitLightness: metadataJSON.flags?.limitLightness || false\n\t\t};\n\n\t\t// 4. parse custom color if provided\n\t\tconst { customColor: rawCustomColor } = metadataJSON;\n\t\tconst customColor =\n\t\t\trawCustomColor && rawCustomColor.hslColor\n\t\t\t\t? {\n\t\t\t\t\t\tcolors: {\n\t\t\t\t\t\t\tcmyk:\n\t\t\t\t\t\t\t\trawCustomColor.convertedColors?.cmyk ??\n\t\t\t\t\t\t\t\tdefaultColors.cmyk.value,\n\t\t\t\t\t\t\thex:\n\t\t\t\t\t\t\t\trawCustomColor.convertedColors?.hex ??\n\t\t\t\t\t\t\t\tdefaultColors.hex.value,\n\t\t\t\t\t\t\thsl:\n\t\t\t\t\t\t\t\trawCustomColor.convertedColors?.hsl ??\n\t\t\t\t\t\t\t\tdefaultColors.hsl.value,\n\t\t\t\t\t\t\thsv:\n\t\t\t\t\t\t\t\trawCustomColor.convertedColors?.hsv ??\n\t\t\t\t\t\t\t\tdefaultColors.hsv.value,\n\t\t\t\t\t\t\tlab:\n\t\t\t\t\t\t\t\trawCustomColor.convertedColors?.lab ??\n\t\t\t\t\t\t\t\tdefaultColors.lab.value,\n\t\t\t\t\t\t\trgb:\n\t\t\t\t\t\t\t\trawCustomColor.convertedColors?.rgb ??\n\t\t\t\t\t\t\t\tdefaultColors.rgb.value,\n\t\t\t\t\t\t\txyz:\n\t\t\t\t\t\t\t\trawCustomColor.convertedColors?.xyz ??\n\t\t\t\t\t\t\t\tdefaultColors.xyz.value\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcolorStrings: {\n\t\t\t\t\t\t\tcmykString: convertToColorString({\n\t\t\t\t\t\t\t\tvalue:\n\t\t\t\t\t\t\t\t\trawCustomColor.convertedColors?.cmyk ??\n\t\t\t\t\t\t\t\t\tdefaultColors.cmyk,\n\t\t\t\t\t\t\t\tformat: 'cmyk'\n\t\t\t\t\t\t\t}).value as CMYKValueString,\n\t\t\t\t\t\t\thexString: convertToColorString({\n\t\t\t\t\t\t\t\tvalue:\n\t\t\t\t\t\t\t\t\trawCustomColor.convertedColors?.hex ??\n\t\t\t\t\t\t\t\t\tdefaultColors.hex,\n\t\t\t\t\t\t\t\tformat: 'hex'\n\t\t\t\t\t\t\t}).value as HexValueString,\n\t\t\t\t\t\t\thslString: convertToColorString({\n\t\t\t\t\t\t\t\tvalue:\n\t\t\t\t\t\t\t\t\trawCustomColor.convertedColors?.hsl ??\n\t\t\t\t\t\t\t\t\tdefaultColors.hsl,\n\t\t\t\t\t\t\t\tformat: 'hsl'\n\t\t\t\t\t\t\t}).value as HSLValueString,\n\t\t\t\t\t\t\thsvString: convertToColorString({\n\t\t\t\t\t\t\t\tvalue:\n\t\t\t\t\t\t\t\t\trawCustomColor.convertedColors?.hsv ??\n\t\t\t\t\t\t\t\t\tdefaultColors.hsv,\n\t\t\t\t\t\t\t\tformat: 'hsv'\n\t\t\t\t\t\t\t}).value as HSVValueString,\n\t\t\t\t\t\t\tlabString: convertToColorString({\n\t\t\t\t\t\t\t\tvalue:\n\t\t\t\t\t\t\t\t\trawCustomColor.convertedColors?.lab ??\n\t\t\t\t\t\t\t\t\tdefaultColors.lab,\n\t\t\t\t\t\t\t\tformat: 'lab'\n\t\t\t\t\t\t\t}).value as LABValueString,\n\t\t\t\t\t\t\trgbString: convertToColorString({\n\t\t\t\t\t\t\t\tvalue:\n\t\t\t\t\t\t\t\t\trawCustomColor.convertedColors?.rgb ??\n\t\t\t\t\t\t\t\t\tdefaultColors.rgb,\n\t\t\t\t\t\t\t\tformat: 'rgb'\n\t\t\t\t\t\t\t}).value as RGBValueString,\n\t\t\t\t\t\t\txyzString: convertToColorString({\n\t\t\t\t\t\t\t\tvalue:\n\t\t\t\t\t\t\t\t\trawCustomColor.convertedColors?.xyz ??\n\t\t\t\t\t\t\t\t\tdefaultColors.xyz,\n\t\t\t\t\t\t\t\tformat: 'xyz'\n\t\t\t\t\t\t\t}).value as XYZValueString\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcssStrings: {\n\t\t\t\t\t\t\tcmykCSSString: await convertToCSSColorString({\n\t\t\t\t\t\t\t\tvalue:\n\t\t\t\t\t\t\t\t\trawCustomColor.convertedColors?.cmyk ??\n\t\t\t\t\t\t\t\t\tdefaultColors.cmyk,\n\t\t\t\t\t\t\t\tformat: 'cmyk'\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\thexCSSString: await convertToCSSColorString({\n\t\t\t\t\t\t\t\tvalue:\n\t\t\t\t\t\t\t\t\trawCustomColor.convertedColors?.hex ??\n\t\t\t\t\t\t\t\t\tdefaultColors.hex,\n\t\t\t\t\t\t\t\tformat: 'hex'\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\thslCSSString: await convertToCSSColorString({\n\t\t\t\t\t\t\t\tvalue:\n\t\t\t\t\t\t\t\t\trawCustomColor.convertedColors?.hsl ??\n\t\t\t\t\t\t\t\t\tdefaultColors.hsl,\n\t\t\t\t\t\t\t\tformat: 'hsl'\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\thsvCSSString: await convertToCSSColorString({\n\t\t\t\t\t\t\t\tvalue:\n\t\t\t\t\t\t\t\t\trawCustomColor.convertedColors?.hsv ??\n\t\t\t\t\t\t\t\t\tdefaultColors.hsv,\n\t\t\t\t\t\t\t\tformat: 'hsv'\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\tlabCSSString: await convertToCSSColorString({\n\t\t\t\t\t\t\t\tvalue:\n\t\t\t\t\t\t\t\t\trawCustomColor.convertedColors?.lab ??\n\t\t\t\t\t\t\t\t\tdefaultColors.lab,\n\t\t\t\t\t\t\t\tformat: 'lab'\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\trgbCSSString: await convertToCSSColorString({\n\t\t\t\t\t\t\t\tvalue:\n\t\t\t\t\t\t\t\t\trawCustomColor.convertedColors?.rgb ??\n\t\t\t\t\t\t\t\t\tdefaultColors.rgb,\n\t\t\t\t\t\t\t\tformat: 'rgb'\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\txyzCSSString: await convertToCSSColorString({\n\t\t\t\t\t\t\t\tvalue:\n\t\t\t\t\t\t\t\t\trawCustomColor.convertedColors?.xyz ??\n\t\t\t\t\t\t\t\t\tdefaultColors.xyz,\n\t\t\t\t\t\t\t\tformat: 'xyz'\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t: false;\n\t\tif (!customColor) {\n\t\t\tif (!mode.quiet && logMode.info && logMode.verbosity > 1) {\n\t\t\t\tlogger.info(\n\t\t\t\t\t`No custom color data found in CSS file. Assigning boolean value 'false' for Palette property Palette['metadata']['customColor'].`,\n\t\t\t\t\t'io > deserialize > fromCSS'\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\t// 5. parse palette items\n\t\tconst items: PaletteItem[] = [];\n\t\tconst itemBlocks = Array.from(\n\t\t\tdata.matchAll(regex.file.palette.css.color)\n\t\t);\n\n\t\tfor (const match of itemBlocks) {\n\t\t\tconst properties = match[2].split(';').reduce(\n\t\t\t\t(acc, line) => {\n\t\t\t\t\tconst [key, value] = line.split(':').map(s => s.trim());\n\n\t\t\t\t\tif (key && value) {\n\t\t\t\t\t\tacc[key.replace('--', '')] = value.replace(/[\";]/g, '');\n\t\t\t\t\t}\n\n\t\t\t\t\treturn acc;\n\t\t\t\t},\n\t\t\t\t{} as Record<string, string>\n\t\t\t);\n\n\t\t\t// 2.1. create each PaletteItem with required properties\n\t\t\titems.push({\n\t\t\t\tcolors: {\n\t\t\t\t\tcmyk:\n\t\t\t\t\t\tparse.asColorValue.cmyk(properties.cmyk) ??\n\t\t\t\t\t\tdefaultColors.cmyk.value,\n\t\t\t\t\thex:\n\t\t\t\t\t\tparse.asColorValue.hex(properties.hex) ??\n\t\t\t\t\t\tdefaultColors.hex.value,\n\t\t\t\t\thsl:\n\t\t\t\t\t\tparse.asColorValue.hsl(properties.hsl) ??\n\t\t\t\t\t\tdefaultColors.hsl.value,\n\t\t\t\t\thsv:\n\t\t\t\t\t\tparse.asColorValue.hsv(properties.hsv) ??\n\t\t\t\t\t\tdefaultColors.hsv.value,\n\t\t\t\t\tlab:\n\t\t\t\t\t\tparse.asColorValue.lab(properties.lab) ??\n\t\t\t\t\t\tdefaultColors.lab.value,\n\t\t\t\t\trgb:\n\t\t\t\t\t\tparse.asColorValue.rgb(properties.rgb) ??\n\t\t\t\t\t\tdefaultColors.rgb.value,\n\t\t\t\t\txyz:\n\t\t\t\t\t\tparse.asColorValue.xyz(properties.xyz) ??\n\t\t\t\t\t\tdefaultColors.xyz.value\n\t\t\t\t},\n\t\t\t\tcolorStrings: {\n\t\t\t\t\tcmykString: convertToColorString({\n\t\t\t\t\t\tvalue:\n\t\t\t\t\t\t\tparse.asColorValue.cmyk(properties.cmyk) ??\n\t\t\t\t\t\t\tdefaultColors.cmyk,\n\t\t\t\t\t\tformat: 'cmyk'\n\t\t\t\t\t}).value as CMYKValueString,\n\t\t\t\t\thexString: convertToColorString({\n\t\t\t\t\t\tvalue:\n\t\t\t\t\t\t\tparse.asColorValue.hex(properties.hex) ??\n\t\t\t\t\t\t\tdefaultColors.hex,\n\t\t\t\t\t\tformat: 'hex'\n\t\t\t\t\t}).value as HexValueString,\n\t\t\t\t\thslString: convertToColorString({\n\t\t\t\t\t\tvalue:\n\t\t\t\t\t\t\tparse.asColorValue.hsl(properties.hsl) ??\n\t\t\t\t\t\t\tdefaultColors.hsl,\n\t\t\t\t\t\tformat: 'hsl'\n\t\t\t\t\t}).value as HSLValueString,\n\t\t\t\t\thsvString: convertToColorString({\n\t\t\t\t\t\tvalue:\n\t\t\t\t\t\t\tparse.asColorValue.hsv(properties.hsv) ??\n\t\t\t\t\t\t\tdefaultColors.hsv,\n\t\t\t\t\t\tformat: 'hsv'\n\t\t\t\t\t}).value as HSVValueString,\n\t\t\t\t\tlabString: convertToColorString({\n\t\t\t\t\t\tvalue:\n\t\t\t\t\t\t\tparse.asColorValue.lab(properties.lab) ??\n\t\t\t\t\t\t\tdefaultColors.lab,\n\t\t\t\t\t\tformat: 'lab'\n\t\t\t\t\t}).value as LABValueString,\n\t\t\t\t\trgbString: convertToColorString({\n\t\t\t\t\t\tvalue:\n\t\t\t\t\t\t\tparse.asColorValue.rgb(properties.rgb) ??\n\t\t\t\t\t\t\tdefaultColors.rgb,\n\t\t\t\t\t\tformat: 'rgb'\n\t\t\t\t\t}).value as RGBValueString,\n\t\t\t\t\txyzString: convertToColorString({\n\t\t\t\t\t\tvalue:\n\t\t\t\t\t\t\tparse.asColorValue.xyz(properties.xyz) ??\n\t\t\t\t\t\t\tdefaultColors.xyz,\n\t\t\t\t\t\tformat: 'xyz'\n\t\t\t\t\t}).value as XYZValueString\n\t\t\t\t},\n\t\t\t\tcssStrings: {\n\t\t\t\t\tcmykCSSString: await convertToCSSColorString({\n\t\t\t\t\t\tvalue:\n\t\t\t\t\t\t\tparse.asColorValue.cmyk(properties.cmyk) ??\n\t\t\t\t\t\t\tdefaultColors.cmyk,\n\t\t\t\t\t\tformat: 'cmyk'\n\t\t\t\t\t}),\n\t\t\t\t\thexCSSString: await convertToCSSColorString({\n\t\t\t\t\t\tvalue:\n\t\t\t\t\t\t\tparse.asColorValue.hex(properties.hex) ??\n\t\t\t\t\t\t\tdefaultColors.hex,\n\t\t\t\t\t\tformat: 'hex'\n\t\t\t\t\t}),\n\t\t\t\t\thslCSSString: await convertToCSSColorString({\n\t\t\t\t\t\tvalue:\n\t\t\t\t\t\t\tparse.asColorValue.hsl(properties.hsl) ??\n\t\t\t\t\t\t\tdefaultColors.hsl,\n\t\t\t\t\t\tformat: 'hsl'\n\t\t\t\t\t}),\n\t\t\t\t\thsvCSSString: await convertToCSSColorString({\n\t\t\t\t\t\tvalue:\n\t\t\t\t\t\t\tparse.asColorValue.hsv(properties.hsv) ??\n\t\t\t\t\t\t\tdefaultColors.hsv,\n\t\t\t\t\t\tformat: 'hsv'\n\t\t\t\t\t}),\n\t\t\t\t\tlabCSSString: await convertToCSSColorString({\n\t\t\t\t\t\tvalue:\n\t\t\t\t\t\t\tparse.asColorValue.lab(properties.lab) ??\n\t\t\t\t\t\t\tdefaultColors.lab,\n\t\t\t\t\t\tformat: 'lab'\n\t\t\t\t\t}),\n\t\t\t\t\trgbCSSString: await convertToCSSColorString({\n\t\t\t\t\t\tvalue:\n\t\t\t\t\t\t\tparse.asColorValue.rgb(properties.rgb) ??\n\t\t\t\t\t\t\tdefaultColors.rgb,\n\t\t\t\t\t\tformat: 'rgb'\n\t\t\t\t\t}),\n\t\t\t\t\txyzCSSString: await convertToCSSColorString({\n\t\t\t\t\t\tvalue:\n\t\t\t\t\t\t\tparse.asColorValue.xyz(properties.xyz) ??\n\t\t\t\t\t\t\tdefaultColors.xyz,\n\t\t\t\t\t\tformat: 'xyz'\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\t// 4. construct and return the palette object\n\t\treturn {\n\t\t\tid,\n\t\t\titems,\n\t\t\tmetadata: {\n\t\t\t\tcustomColor,\n\t\t\t\tflags,\n\t\t\t\tname,\n\t\t\t\tswatches,\n\t\t\t\ttype,\n\t\t\t\ttimestamp\n\t\t\t}\n\t\t};\n\t} catch (error) {\n\t\tif (logMode.error && logMode.verbosity > 1)\n\t\t\tlogger.error(\n\t\t\t\t`Error occurred during CSS deserialization: ${error}`,\n\t\t\t\t'io > deserialize > fromCSS'\n\t\t\t);\n\n\t\tthrow new Error('Failed to deserialize CSS Palette.');\n\t}\n}\n\nasync function fromJSON(data: string): Promise<Palette> {\n\ttry {\n\t\tconst parsed = JSON.parse(data);\n\n\t\tif (!parsed.items || !Array.isArray(parsed.items)) {\n\t\t\tthrow new Error(\n\t\t\t\t'Invalid JSON format: Missing or invalid `items` property.'\n\t\t\t);\n\t\t}\n\n\t\treturn parsed as Palette;\n\t} catch (error) {\n\t\tif (error instanceof Error) {\n\t\t\tif (logMode.error)\n\t\t\t\tlogger.error(\n\t\t\t\t\t`Failed to deserialize JSON: ${error.message}`,\n\t\t\t\t\t'io > deserialize > fromJSON'\n\t\t\t\t);\n\n\t\t\tthrow new Error('Failed to deserialize palette from JSPM file');\n\t\t} else {\n\t\t\tif (logMode.error)\n\t\t\t\tlogger.error(\n\t\t\t\t\t`Failed to deserialize JSON: ${error}`,\n\t\t\t\t\t'io > deserialize > fromJSON'\n\t\t\t\t);\n\n\t\t\tthrow new Error('Failed to deserialize palette from JSPM file');\n\t\t}\n\t}\n}\n\nasync function fromXML(data: string): Promise<Palette> {\n\tconst parser = new DOMParser();\n\tconst xmlDoc = parser.parseFromString(data, 'application/xml');\n\tconst parseError = xmlDoc.querySelector('parsererror');\n\n\tif (parseError) {\n\t\tthrow new Error(`Invalid XML format: ${parseError.textContent}`);\n\t}\n\n\tconst paletteElement = xmlDoc.querySelector('Palette');\n\n\tif (!paletteElement) {\n\t\tthrow new Error('Missing <Palette> root element.');\n\t}\n\n\t// 1. parse metadata\n\tconst id = paletteElement.getAttribute('id') || 'ERROR_(PALETTE_ID)';\n\tconst metadataElement = paletteElement.querySelector('Metadata');\n\n\tif (!metadataElement) {\n\t\tthrow new Error('Missing <Metadata> element in XML.');\n\t}\n\n\tconst name =\n\t\tmetadataElement.querySelector('Name')?.textContent || 'Unnamed Palette';\n\tconst timestamp =\n\t\tmetadataElement.querySelector('Timestamp')?.textContent ||\n\t\tnew Date().toISOString();\n\tconst swatches = parseInt(\n\t\tmetadataElement.querySelector('Swatches')?.textContent || '0',\n\t\t10\n\t);\n\tconst type = metadataElement.querySelector('Type')?.textContent || '???';\n\n\tconst flagsElement = metadataElement.querySelector('Flags');\n\tconst flags = {\n\t\tenableAlpha:\n\t\t\tflagsElement?.querySelector('EnableAlpha')?.textContent === 'true',\n\t\tlimitDarkness:\n\t\t\tflagsElement?.querySelector('LimitDarkness')?.textContent ===\n\t\t\t'true',\n\t\tlimitGrayness:\n\t\t\tflagsElement?.querySelector('LimitGrayness')?.textContent ===\n\t\t\t'true',\n\t\tlimitLightness:\n\t\t\tflagsElement?.querySelector('LimitLightness')?.textContent ===\n\t\t\t'true'\n\t};\n\n\tconst customColorElement = metadataElement.querySelector('CustomColor');\n\n\tlet customColor: Palette['metadata']['customColor'] = false;\n\n\tif (customColorElement && customColorElement.textContent !== 'false') {\n\t\tconst customCMYKValue = parse.color.cmyk(\n\t\t\tcustomColorElement.querySelector('CMYK')?.textContent || null\n\t\t);\n\t\tconst customHexValue = parse.color.hex(\n\t\t\tcustomColorElement.querySelector('Hex')?.textContent || null\n\t\t);\n\t\tconst customHSLValue = parse.color.hsl(\n\t\t\tcustomColorElement.querySelector('HSL')?.textContent || null\n\t\t);\n\t\tconst customHSVValue = parse.color.hsv(\n\t\t\tcustomColorElement.querySelector('HSV')?.textContent || null\n\t\t);\n\t\tconst customLABValue = parse.color.lab(\n\t\t\tcustomColorElement.querySelector('LAB')?.textContent || null\n\t\t);\n\t\tconst customRGBValue = parse.color.rgb(\n\t\t\tcustomColorElement.querySelector('RGB')?.textContent || null\n\t\t);\n\t\tconst customXYZValue = parse.color.xyz(\n\t\t\tcustomColorElement.querySelector('XYZ')?.textContent || null\n\t\t);\n\n\t\tconst customCMYKStringValue = convertToColorString({\n\t\t\tvalue: customCMYKValue,\n\t\t\tformat: 'cmyk'\n\t\t}).value as CMYKValueString;\n\t\tconst customHexStringValue = convertToColorString({\n\t\t\tvalue: customHexValue,\n\t\t\tformat: 'hex'\n\t\t}).value as HexValueString;\n\t\tconst customHSLStringValue = convertToColorString({\n\t\t\tvalue: customHSLValue,\n\t\t\tformat: 'hsl'\n\t\t}).value as HSLValueString;\n\t\tconst customHSVStringValue = convertToColorString({\n\t\t\tvalue: customHSVValue,\n\t\t\tformat: 'hsv'\n\t\t}).value as HSVValueString;\n\t\tconst customLABStringValue = convertToColorString({\n\t\t\tvalue: customLABValue,\n\t\t\tformat: 'lab'\n\t\t}).value as LABValueString;\n\t\tconst customRGBStringValue = convertToColorString({\n\t\t\tvalue: customRGBValue,\n\t\t\tformat: 'rgb'\n\t\t}).value as RGBValueString;\n\t\tconst customXYZStringValue = convertToColorString({\n\t\t\tvalue: customXYZValue,\n\t\t\tformat: 'xyz'\n\t\t}).value as XYZValueString;\n\n\t\tconst customCMYKCSSStringValue = await convertToCSSColorString({\n\t\t\tvalue: customCMYKValue,\n\t\t\tformat: 'cmyk'\n\t\t});\n\t\tconst customHexCSSStringValue = await convertToCSSColorString({\n\t\t\tvalue: customHexValue,\n\t\t\tformat: 'hex'\n\t\t});\n\t\tconst customHSLCSSStringValue = await convertToCSSColorString({\n\t\t\tvalue: customHSLValue,\n\t\t\tformat: 'hsl'\n\t\t});\n\t\tconst customHSVCSSStringValue = await convertToCSSColorString({\n\t\t\tvalue: customHSVValue,\n\t\t\tformat: 'hsv'\n\t\t});\n\t\tconst customLABCSSStringValue = await convertToCSSColorString({\n\t\t\tvalue: customLABValue,\n\t\t\tformat: 'lab'\n\t\t});\n\t\tconst customRGBCSSStringValue = await convertToCSSColorString({\n\t\t\tvalue: customRGBValue,\n\t\t\tformat: 'rgb'\n\t\t});\n\t\tconst customXYZCSSStringValue = await convertToCSSColorString({\n\t\t\tvalue: customXYZValue,\n\t\t\tformat: 'xyz'\n\t\t});\n\n\t\tcustomColor = {\n\t\t\tcolors: {\n\t\t\t\tcmyk: customCMYKValue,\n\t\t\t\thex: customHexValue,\n\t\t\t\thsl: customHSLValue,\n\t\t\t\thsv: customHSVValue,\n\t\t\t\tlab: customLABValue,\n\t\t\t\trgb: customRGBValue,\n\t\t\t\txyz: customXYZValue\n\t\t\t},\n\t\t\tcolorStrings: {\n\t\t\t\tcmykString: customCMYKStringValue,\n\t\t\t\thexString: customHexStringValue,\n\t\t\t\thslString: customHSLStringValue,\n\t\t\t\thsvString: customHSVStringValue,\n\t\t\t\tlabString: customLABStringValue,\n\t\t\t\trgbString: customRGBStringValue,\n\t\t\t\txyzString: customXYZStringValue\n\t\t\t},\n\t\t\tcssStrings: {\n\t\t\t\tcmykCSSString: customCMYKCSSStringValue,\n\t\t\t\thexCSSString: customHexCSSStringValue,\n\t\t\t\thslCSSString: customHSLCSSStringValue,\n\t\t\t\thsvCSSString: customHSVCSSStringValue,\n\t\t\t\tlabCSSString: customLABCSSStringValue,\n\t\t\t\trgbCSSString: customRGBCSSStringValue,\n\t\t\t\txyzCSSString: customXYZCSSStringValue\n\t\t\t}\n\t\t};\n\t}\n\n\t// 2. parse palette items\n\tconst items: PaletteItem[] = Array.from(\n\t\tpaletteElement.querySelectorAll('PaletteItem')\n\t).map(itemElement => {\n\t\tconst id = parseInt(itemElement.getAttribute('id') || '0', 10);\n\n\t\tconst colors = {\n\t\t\tcmyk: parse.color.cmyk(\n\t\t\t\titemElement.querySelector('Colors > CMYK')?.textContent || null\n\t\t\t),\n\t\t\thex: parse.color.hex(\n\t\t\t\titemElement.querySelector('Colors > Hex')?.textContent || null\n\t\t\t),\n\t\t\thsl: parse.color.hsl(\n\t\t\t\titemElement.querySelector('Colors > HSL')?.textContent || null\n\t\t\t),\n\t\t\thsv: parse.color.hsv(\n\t\t\t\titemElement.querySelector('Colors > HSV')?.textContent || null\n\t\t\t),\n\t\t\tlab: parse.color.lab(\n\t\t\t\titemElement.querySelector('Colors > LAB')?.textContent || null\n\t\t\t),\n\t\t\trgb: parse.color.rgb(\n\t\t\t\titemElement.querySelector('Colors > RGB')?.textContent || null\n\t\t\t),\n\t\t\txyz: parse.color.xyz(\n\t\t\t\titemElement.querySelector('Colors > XYZ')?.textContent || null\n\t\t\t)\n\t\t};\n\n\t\tconst cssStrings = {\n\t\t\tcmykCSSString:\n\t\t\t\titemElement.querySelector('CSS_Colors > CMYK_CSS')\n\t\t\t\t\t?.textContent || '',\n\t\t\thexCSSString:\n\t\t\t\titemElement.querySelector('CSS_Colors > Hex_CSS')\n\t\t\t\t\t?.textContent || '',\n\t\t\thslCSSString:\n\t\t\t\titemElement.querySelector('CSS_Colors > HSL_CSS')\n\t\t\t\t\t?.textContent || '',\n\t\t\thsvCSSString:\n\t\t\t\titemElement.querySelector('CSS_Colors > HSV_CSS')\n\t\t\t\t\t?.textContent || '',\n\t\t\tlabCSSString:\n\t\t\t\titemElement.querySelector('CSS_Colors > LAB_CSS')\n\t\t\t\t\t?.textContent || '',\n\t\t\trgbCSSString:\n\t\t\t\titemElement.querySelector('CSS_Colors > RGB_CSS')\n\t\t\t\t\t?.textContent || '',\n\t\t\txyzCSSString:\n\t\t\t\titemElement.querySelector('CSS_Colors > XYZ_CSS')\n\t\t\t\t\t?.textContent || ''\n\t\t};\n\n\t\t// 2.1 derive color strings from colors\n\t\tconst colorStrings = {\n\t\t\tcmykString: convertToColorString({\n\t\t\t\tvalue: colors.cmyk,\n\t\t\t\tformat: 'cmyk'\n\t\t\t}).value as CMYKValueString,\n\t\t\thexString: convertToColorString({\n\t\t\t\tvalue: colors.hex,\n\t\t\t\tformat: 'hex'\n\t\t\t}).value as HexValueString,\n\t\t\thslString: convertToColorString({\n\t\t\t\tvalue: colors.hsl,\n\t\t\t\tformat: 'hsl'\n\t\t\t}).value as HSLValueString,\n\t\t\thsvString: convertToColorString({\n\t\t\t\tvalue: colors.hsv,\n\t\t\t\tformat: 'hsv'\n\t\t\t}).value as HSVValueString,\n\t\t\tlabString: convertToColorString({\n\t\t\t\tvalue: colors.lab,\n\t\t\t\tformat: 'lab'\n\t\t\t}).value as LABValueString,\n\t\t\trgbString: convertToColorString({\n\t\t\t\tvalue: colors.rgb,\n\t\t\t\tformat: 'rgb'\n\t\t\t}).value as RGBValueString,\n\t\t\txyzString: convertToColorString({\n\t\t\t\tvalue: colors.xyz,\n\t\t\t\tformat: 'xyz'\n\t\t\t}).value as XYZValueString\n\t\t};\n\n\t\treturn { id, colors, colorStrings, cssStrings };\n\t});\n\n\t// 3. return the constructed Palette\n\treturn {\n\t\tid,\n\t\titems,\n\t\tmetadata: { name, timestamp, swatches, type, flags, customColor }\n\t};\n}\n\nexport const deserialize: IO_Interface['deserialize'] = {\n\tfromCSS,\n\tfromJSON,\n\tfromXML\n};\n","// File: src/io/deserialize.ts\n\nimport { IO_Interface, Palette } from '../types/index.js';\nimport { createLogger } from '../logger/index.js';\nimport { mode } from '../common/data/base.js';\n\nconst logger = await createLogger();\n\nconst logMode = mode.logging;\n\nasync function toCSS(palette: Palette): Promise<string> {\n\treturn new Promise((resolve, reject) => {\n\t\ttry {\n\t\t\t// 1. serialize metadata\n\t\t\tconst metadata = `\n\t\t\t\t/* Palette Metadata */\n\t\t\t\t.palette {\n\t\t\t\t\t--id: \"${palette.id}\";\n\t\t\t\t\t--name: \"${palette.metadata.name ?? 'Unnamed Palette'}\";\n\t\t\t\t\t--swatches: ${palette.metadata.swatches};\n\t\t\t\t\t--type: \"${palette.metadata.type}\";\n\t\t\t\t\t--timestamp: \"${palette.metadata.timestamp}\";\n\t\t\t\t\t--enableAlpha: ${palette.metadata.flags.enableAlpha};\n\t\t\t\t\t--limitDarkness: ${palette.metadata.flags.limitDarkness};\n\t\t\t\t\t--limitGrayness: ${palette.metadata.flags.limitGrayness};\n\t\t\t\t\t--limitLightness: ${palette.metadata.flags.limitLightness};\n\t\t\t\t}`.trim();\n\n\t\t\t// 2. serialize custom color if present\n\t\t\tconst customColor = palette.metadata.customColor\n\t\t\t\t? `\n\t\t\t\t/* Optional Custom Color */\n\t\t\t\t.palette-custom {\n\t\t\t\t\t--custom-cmyk-color: \"${palette.metadata.customColor.colors.cmyk}\";\n\t\t\t\t\t--custom-hex-color: \"${palette.metadata.customColor.colors.hex}\";\n\t\t\t\t\t--custom-hsl-color: \"${palette.metadata.customColor.colors.hsl}\";\n\t\t\t\t\t--custom-hsv-color: \"${palette.metadata.customColor.colors.hsv}\";\n\t\t\t\t\t--custom-lab-color: \"${palette.metadata.customColor.colors.lab}\";\n\t\t\t\t\t--custom-rgb-color: \"${palette.metadata.customColor.colors.rgb}\";\n\t\t\t\t\t--custom-xyz-color: \"${palette.metadata.customColor.colors.xyz}\";\n\t\t\t\t}`.trim()\n\t\t\t\t: '';\n\n\t\t\t// 3. serialize palette items\n\t\t\tconst items = palette.items\n\t\t\t\t.map(item => {\n\t\t\t\t\tconst backgroundColor = item.cssStrings.hslCSSString;\n\n\t\t\t\t\treturn `\n\t\t\t\t\t/* Palette Item */\n\t\t\t\t\t.color {\n\t\t\t\t\t\t--cmyk-color: \"${item.cssStrings.cmykCSSString}\";\n\t\t\t\t\t\t--hex-color: \"${item.cssStrings.hexCSSString}\";\n\t\t\t\t\t\t--hsl-color: \"${item.cssStrings.hslCSSString}\";\n\t\t\t\t\t\t--hsv-color: \"${item.cssStrings.hsvCSSString}\";\n\t\t\t\t\t\t--lab-color: \"${item.cssStrings.labCSSString}\";\n\t\t\t\t\t\t--rgb-color: \"${item.cssStrings.rgbCSSString}\";\n\t\t\t\t\t\t--xyz-color: \"${item.cssStrings.xyzCSSString}\";\n\t\t\t\t\t\tbackground-color: ${backgroundColor};\n\t\t\t\t\t}`.trim();\n\t\t\t\t})\n\t\t\t\t.join('\\n\\n');\n\n\t\t\t// 4. combine CSS data\n\t\t\tconst cssData = [metadata, customColor, items]\n\t\t\t\t.filter(Boolean)\n\t\t\t\t.join('\\n\\n');\n\n\t\t\t// 5. resolve serialized CSS data\n\t\t\tresolve(cssData.trim());\n\t\t} catch (error) {\n\t\t\tif (!mode.quiet && logMode.error) {\n\t\t\t\tif (logMode.verbosity > 1) {\n\t\t\t\t\tlogger.error(`Failed to convert palette to CSS: ${error}`, 'io > serialize > toCSS()');\n\t\t\t\t} else {\n\t\t\t\t\tlogger.error('Failed to convert palette to CSS', 'io > serialize > toCSS()');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (mode.stackTrace) {\n\t\t\t\tconsole.trace('Stack Trace:');\n\t\t\t}\n\n\t\t\treject(new Error(`Failed to convert palette to CSS: ${error}`));\n\t\t}\n\t});\n}\n\nasync function toJSON(palette: Palette): Promise<string> {\n\treturn new Promise((resolve, reject) => {\n\t\ttry {\n\t\t\tconst jsonData = JSON.stringify(palette, null, 2);\n\n\t\t\tresolve(jsonData);\n\t\t} catch (error) {\n\t\t\tif (!mode.quiet && logMode.error) {\n\t\t\t\tif (logMode.verbosity > 1) {\n\t\t\t\t\tlogger.error(`Failed to convert palette to JSON: ${error}`);\n\t\t\t\t} else {\n\t\t\t\t\tlogger.error('Failed to convert palette to JSON');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (mode.stackTrace) {\n\t\t\t\tconsole.trace('Stack Trace:');\n\t\t\t}\n\n\t\t\treject(new Error(`Failed to convert palette to JSON: ${error}`));\n\t\t}\n\t});\n}\n\nasync function toXML(palette: Palette): Promise<string> {\n\treturn new Promise((resolve, reject) => {\n\t\ttry {\n\t\t\t// 1. serialize palette metadata\n\t\t\tconst customColorXML = palette.metadata.customColor\n\t\t\t\t? `\n\t\t\t\t<CustomColor>\n\t\t\t\t\t<CMYK>${palette.metadata.customColor.colors.cmyk}</CMYK>\n\t\t\t\t\t<Hex>${palette.metadata.customColor.colors.hex}</Hex>\n\t\t\t\t\t<HSL>${palette.metadata.customColor.colors.hsl}</HSL>\n\t\t\t\t\t<HSV>${palette.metadata.customColor.colors.hsv}</HSV>\n\t\t\t\t\t<LAB>${palette.metadata.customColor.colors.lab}</LAB>\n\t\t\t\t\t<RGB>${palette.metadata.customColor.colors.rgb}</RGB>\n\t\t\t\t\t<XYZ>${palette.metadata.customColor.colors.xyz}</XYZ>\n\t\t\t\t</CustomColor>`.trim()\n\t\t\t\t: '<CustomColor>false</CustomColor>';\n\n\t\t\tconst metadata = `\n\t\t\t\t<Metadata>\n\t\t\t\t\t<Name>${palette.metadata.name ?? 'Unnamed Palette'}</Name>\n\t\t\t\t\t<Timestamp>${palette.metadata.timestamp}</Timestamp>\n\t\t\t\t\t<Swatches>${palette.metadata.swatches}</Swatches>\n\t\t\t\t\t<Type>${palette.metadata.type}</Type>\n\t\t\t\t\t${customColorXML}\n\t\t\t\t\t<Flags>\n\t\t\t\t\t\t<EnableAlpha>${palette.metadata.flags.enableAlpha}</EnableAlpha>\n\t\t\t\t\t\t<LimitDarkness>${palette.metadata.flags.limitDarkness}</LimitDarkness>\n\t\t\t\t\t\t<LimitGrayness>${palette.metadata.flags.limitGrayness}</LimitGrayness>\n\t\t\t\t\t\t<LimitLightness>${palette.metadata.flags.limitLightness}</LimitLightness>\n\t\t\t\t\t</Flags>\n\t\t\t\t</Metadata>`.trim();\n\n\t\t\t// 2. serialize palette items\n\t\t\tconst xmlItems = palette.items\n\t\t\t\t.map((item, index) =>\n\t\t\t\t\t`\n\t\t\t\t\t<PaletteItem id=\"${index + 1}\">\n\t\t\t\t\t\t<Colors>\n\t\t\t\t\t\t\t<CMYK>${item.colors.cmyk}</CMYK>\n\t\t\t\t\t\t\t<Hex>${item.colors.hex}</Hex>\n\t\t\t\t\t\t\t<HSL>${item.colors.hsl}</HSL>\n\t\t\t\t\t\t\t<HSV>${item.colors.hsv}</HSV>\n\t\t\t\t\t\t\t<LAB>${item.colors.lab}</LAB>\n\t\t\t\t\t\t\t<RGB>${item.colors.rgb}</RGB>\n\t\t\t\t\t\t\t<XYZ>${item.colors.xyz}</XYZ>\n\t\t\t\t\t\t</Colors>\n\t\t\t\t\t\t<CSS_Colors>\n\t\t\t\t\t\t\t<CMYK_CSS>${item.cssStrings.cmykCSSString}</CMYK_CSS>\n\t\t\t\t\t\t\t<Hex_CSS>${item.cssStrings.hexCSSString}</Hex_CSS>\n\t\t\t\t\t\t\t<HSL_CSS>${item.cssStrings.hslCSSString}</HSL_CSS>\n\t\t\t\t\t\t\t<HSV_CSS>${item.cssStrings.hsvCSSString}</HSV_CSS>\n\t\t\t\t\t\t\t<LAB_CSS>${item.cssStrings.labCSSString}</LAB_CSS>\n\t\t\t\t\t\t\t<RGB_CSS>${item.cssStrings.rgbCSSString}</RGB_CSS>\n\t\t\t\t\t\t\t<XYZ_CSS>${item.cssStrings.xyzCSSString}</XYZ_CSS>\n\t\t\t\t\t\t</CSS_Colors>\n\t\t\t\t\t</PaletteItem>`.trim()\n\t\t\t\t)\n\t\t\t\t.join('\\n');\n\n\t\t\t// 3. combine metadata and items into the palette XML\n\t\t\tconst xmlData = `\n\t\t\t\t<Palette id=${palette.id}>\n\t\t\t\t\t${metadata}\n\t\t\t\t\t<Items>\n\t\t\t\t\t\t${xmlItems}\n\t\t\t\t\t</Items>\n\t\t\t\t</Palette>`.trim();\n\n\t\t\tresolve(xmlData.trim());\n\t\t} catch (error) {\n\t\t\tif (!mode.quiet && logMode.error) {\n\t\t\t\tif (logMode.verbosity > 1) {\n\t\t\t\t\tlogger.error(`Failed to convert palette to XML: ${error}`);\n\t\t\t\t} else {\n\t\t\t\t\tlogger.error('Failed to convert palette to XML');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (mode.stackTrace) {\n\t\t\t\tconsole.trace('Stack Trace:');\n\t\t\t}\n\n\t\t\treject(new Error(`Failed to convert palette to XML: ${error}`));\n\t\t}\n\t});\n}\n\nexport const serialize: IO_Interface['serialize'] = {\n\ttoCSS,\n\ttoJSON,\n\ttoXML\n};\n","// File: src/io/base.ts\n\nimport { Palette } from '../types/index.js';\nimport { deserialize } from './deserialize.js';\nimport { fileUtils } from '../dom/fileUtils.js';\nimport { serialize } from './serialize.js';\n\n// *DEV-NOTE* improve error handling and logging throughout\n\nexport const file = {\n\tasync importFromFile(file: File): Promise<Palette> {\n\t\treturn file.text().then(importPalette);\n\t},\n\tasync exportToFile(\n\t\tpalette: Palette,\n\t\tformat: 'css' | 'json' | 'xml'\n\t): Promise<void> {\n\t\tconst data = await exportPalette(palette, format);\n\t\tconst mimeType = {\n\t\t\tcss: 'text/css',\n\t\t\tjson: 'application/json',\n\t\t\txml: 'application/xml'\n\t\t}[format];\n\n\t\tfileUtils.download(data, `palette_${palette.id}.${format}`, mimeType);\n\t}\n};\n\nfunction detectFileType(data: string): 'css' | 'json' | 'xml' {\n\tif (data.trim().startsWith('{')) return 'json';\n\tif (data.trim().startsWith('<')) return 'xml';\n\n\treturn 'css';\n}\n\nexport async function exportPalette(\n\tpalette: Palette,\n\tformat: 'css' | 'json' | 'xml'\n): Promise<string> {\n\tswitch (format) {\n\t\tcase 'css':\n\t\t\tconst cssData = await serialize.toCSS(palette);\n\n\t\t\treturn cssData;\n\t\tcase 'json':\n\t\t\tconst jsonData = await serialize.toJSON(palette);\n\n\t\t\treturn jsonData;\n\t\tcase 'xml':\n\t\t\tconst xmlData = await serialize.toXML(palette);\n\n\t\t\treturn xmlData;\n\t\tdefault:\n\t\t\tthrow new Error('Unsupported export format');\n\t}\n}\n\nexport async function importPalette(data: string): Promise<Palette> {\n\tconst fileType = detectFileType(data);\n\n\tswitch (fileType) {\n\t\tcase 'css':\n\t\t\tconst cssPalette = await deserialize.fromCSS(data);\n\n\t\t\tif (!cssPalette) throw new Error('Invalid CSS');\n\n\t\t\treturn cssPalette;\n\t\tcase 'json':\n\t\t\tconst jsonPalette = await deserialize.fromJSON(data);\n\n\t\t\tif (!jsonPalette) throw new Error('Invalid JSON');\n\n\t\t\treturn jsonPalette;\n\t\tcase 'xml':\n\t\t\tconst xmlPalette = await deserialize.fromXML(data);\n\n\t\t\tif (!xmlPalette) throw new Error('Invalid XML');\n\n\t\t\treturn xmlPalette;\n\t\tdefault:\n\t\t\tthrow new Error('Unsupported file format');\n\t}\n}\n","// File: src/io/index.ts\n\nimport { IO_Interface } from '../types/index.js';\nimport { file, exportPalette, importPalette } from './base.js';\nimport { deserialize } from './deserialize.js';\nimport { parse } from './parse/index.js';\nimport { serialize } from './serialize.js';\n\nexport const io: IO_Interface = {\n\tdeserialize,\n\texportPalette,\n\tfile,\n\timportPalette,\n\tparse,\n\tserialize\n};\n","// File: src/ui/UIManager.ts\n\nimport {\n\tColor,\n\tColorSpace,\n\tCommonFunctionsMasterInterface,\n\tConstsDataInterface,\n\tHSL,\n\tModeDataInterface,\n\tPalette,\n\tSL,\n\tStoredPalette,\n\tSV,\n\tUIManagerInterface\n} from '../types/index.js';\nimport { common, core, helpers, utils } from '../common/index.js';\nimport { createLogger } from '../logger/index.js';\nimport { consts, mode } from '../common/data/base.js';\nimport { fileUtils } from '../dom/fileUtils.js';\nimport { io } from '../io/index.js';\n\nconst logger = await createLogger();\n\nexport class UIManager implements UIManagerInterface {\n\tprivate static instanceCounter = 0; // static instance ID counter\n\tprivate static instances = new Map<number, UIManager>(); // instance registry\n\tprivate id: number; // unique instance ID\n\tprivate currentPalette: Palette | null = null;\n\tprivate paletteHistory: Palette[] = [];\n\n\tprivate errorUtils: CommonFunctionsMasterInterface['utils']['errors'];\n\tprivate conversionUtils: CommonFunctionsMasterInterface['convert'];\n\tprivate fileUtils = fileUtils;\n\tprivate io = io;\n\n\tprivate elements: ConstsDataInterface['dom']['elements'];\n\n\tprivate logMode: ModeDataInterface['logging'] = mode.logging;\n\tprivate mode: ModeDataInterface = mode;\n\n\tprivate getCurrentPaletteFn?: () => Promise<Palette | null>;\n\tprivate getStoredPalette?: (id: string) => Promise<StoredPalette | null>;\n\n\tconstructor(elements: ConstsDataInterface['dom']['elements']) {\n\t\tthis.id = UIManager.instanceCounter++;\n\t\tUIManager.instances.set(this.id, this);\n\t\tthis.paletteHistory = [];\n\t\tthis.errorUtils = utils.errors;\n\t\tthis.conversionUtils = common.convert;\n\t\tthis.elements = elements;\n\t\tthis.io = io;\n\t}\n\n\t/* PUBLIC METHODS */\n\n\tpublic addPaletteToHistory(palette: Palette): void {\n\t\tthis.paletteHistory.unshift(palette);\n\n\t\tif (this.paletteHistory.length >= 50) this.paletteHistory.pop();\n\t}\n\n\tpublic applyCustomColor(): HSL {\n\t\ttry {\n\t\t\tconst colorPicker = document.getElementById(\n\t\t\t\t'custom-color-picker'\n\t\t\t) as HTMLInputElement | null;\n\n\t\t\tif (!colorPicker) {\n\t\t\t\tthrow new Error('Color picker element not found');\n\t\t\t}\n\n\t\t\tconst rawValue = colorPicker.value.trim();\n\n\t\t\t// *DEV-NOTE* Add this to the Data object\n\t\t\tconst selectedFormat = (\n\t\t\t\tdocument.getElementById(\n\t\t\t\t\t'custom-color-format'\n\t\t\t\t) as HTMLSelectElement | null\n\t\t\t)?.value as ColorSpace;\n\n\t\t\tif (!utils.color.isColorSpace(selectedFormat)) {\n\t\t\t\tif (!this.mode.gracefulErrors)\n\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t`Unsupported color format: ${selectedFormat}`\n\t\t\t\t\t);\n\t\t\t}\n\n\t\t\tconst parsedColor = utils.color.parseColor(\n\t\t\t\tselectedFormat,\n\t\t\t\trawValue\n\t\t\t) as Exclude<Color, SL | SV>;\n\n\t\t\tif (!parsedColor) {\n\t\t\t\tif (!this.mode.gracefulErrors)\n\t\t\t\t\tthrow new Error(`Invalid color value: ${rawValue}`);\n\t\t\t}\n\n\t\t\tconst hslColor = utils.color.isHSLColor(parsedColor)\n\t\t\t\t? parsedColor\n\t\t\t\t: this.conversionUtils.toHSL(parsedColor);\n\n\t\t\treturn hslColor;\n\t\t} catch (error) {\n\t\t\tif (this.logMode.error)\n\t\t\t\tlogger.error(\n\t\t\t\t\t`Failed to apply custom color: ${error}. Returning randomly generated hex color`,\n\t\t\t\t\t'UIManager.applyCustomColor()'\n\t\t\t\t);\n\n\t\t\treturn utils.random.hsl(false) as HSL;\n\t\t}\n\t}\n\n\tpublic async applyFirstColorToUI(color: HSL): Promise<HSL> {\n\t\ttry {\n\t\t\tconst colorBox1 = this.elements.divs.colorBox1;\n\n\t\t\tif (!colorBox1) {\n\t\t\t\tif (this.logMode.error)\n\t\t\t\t\tlogger.error(\n\t\t\t\t\t\t'color-box-1 is null',\n\t\t\t\t\t\t'UIManager.applyFirstColorToUI()'\n\t\t\t\t\t);\n\n\t\t\t\treturn color;\n\t\t\t}\n\n\t\t\tconst formatColorString =\n\t\t\t\tawait core.convert.colorToCSSColorString(color);\n\n\t\t\tif (!formatColorString) {\n\t\t\t\tif (this.logMode.error)\n\t\t\t\t\tlogger.error(\n\t\t\t\t\t\t'Unexpected or unsupported color format.',\n\t\t\t\t\t\t'UIManager.applyFirstColorToUI()'\n\t\t\t\t\t);\n\n\t\t\t\treturn color;\n\t\t\t}\n\n\t\t\tcolorBox1.style.backgroundColor = formatColorString;\n\n\t\t\tutils.palette.populateOutputBox(color, 1);\n\n\t\t\treturn color;\n\t\t} catch (error) {\n\t\t\tif (this.logMode.error)\n\t\t\t\tlogger.error(\n\t\t\t\t\t`Failed to apply first color to UI: ${error}`,\n\t\t\t\t\t'UIManager.applyFirstColorToUI()'\n\t\t\t\t);\n\t\t\treturn utils.random.hsl(false) as HSL;\n\t\t}\n\t}\n\n\tpublic copyToClipboard(text: string, tooltipElement: HTMLElement): void {\n\t\ttry {\n\t\t\tconst colorValue = text.replace('Copied to clipboard!', '').trim();\n\n\t\t\tnavigator.clipboard\n\t\t\t\t.writeText(colorValue)\n\t\t\t\t.then(() => {\n\t\t\t\t\thelpers.dom.showTooltip(tooltipElement);\n\n\t\t\t\t\tif (\n\t\t\t\t\t\t!this.mode.quiet &&\n\t\t\t\t\t\tthis.mode.debug &&\n\t\t\t\t\t\tthis.logMode.verbosity > 2 &&\n\t\t\t\t\t\tthis.logMode.info\n\t\t\t\t\t) {\n\t\t\t\t\t\tlogger.info(\n\t\t\t\t\t\t\t`Copied color value: ${colorValue}`,\n\t\t\t\t\t\t\t'UIManager.copyToClipboard()'\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\tsetTimeout(\n\t\t\t\t\t\t() => tooltipElement.classList.remove('show'),\n\t\t\t\t\t\tconsts.timeouts.tooltip || 1000\n\t\t\t\t\t);\n\t\t\t\t})\n\t\t\t\t.catch(err => {\n\t\t\t\t\tif (this.logMode.error)\n\t\t\t\t\t\tlogger.error(\n\t\t\t\t\t\t\t`Error copying to clipboard: ${err}`,\n\t\t\t\t\t\t\t'UIManager.copyToClipboard()'\n\t\t\t\t\t\t);\n\t\t\t\t});\n\t\t} catch (error) {\n\t\t\tif (this.logMode.error)\n\t\t\t\tlogger.error(\n\t\t\t\t\t`Failed to copy to clipboard: ${error}`,\n\t\t\t\t\t'UIManager.copyToClipboard()'\n\t\t\t\t);\n\t\t}\n\t}\n\n\tpublic createPaletteTable(palette: StoredPalette): HTMLElement {\n\t\tconst fragment = document.createDocumentFragment();\n\t\tconst table = document.createElement('table');\n\t\ttable.classList.add('palette-table');\n\n\t\tpalette.palette.items.forEach((item, index) => {\n\t\t\tconst row = document.createElement('tr');\n\t\t\tconst cell = document.createElement('td');\n\t\t\tconst colorBox = document.createElement('div');\n\n\t\t\tcell.textContent = `Color ${index + 1}`;\n\t\t\tcolorBox.classList.add('color-box');\n\t\t\tcolorBox.style.backgroundColor = item.cssStrings.hexCSSString;\n\n\t\t\trow.appendChild(colorBox);\n\t\t\trow.appendChild(cell);\n\t\t\ttable.appendChild(row);\n\t\t});\n\n\t\tfragment.appendChild(table);\n\n\t\treturn fragment as unknown as HTMLElement;\n\t}\n\n\tpublic desaturateColor(selectedColor: number): void {\n\t\ttry {\n\t\t\tthis.getElementsForSelectedColor(selectedColor);\n\t\t} catch (error) {\n\t\t\tif (this.logMode.error)\n\t\t\t\tlogger.error(\n\t\t\t\t\t`Failed to desaturate color: ${error}`,\n\t\t\t\t\t'UIManager.desaturateColor()'\n\t\t\t\t);\n\t\t}\n\t}\n\n\tpublic getElementsForSelectedColor(selectedColor: number): {\n\t\tselectedColorTextOutputBox: HTMLElement | null;\n\t\tselectedColorBox: HTMLElement | null;\n\t\tselectedColorStripe: HTMLElement | null;\n\t} {\n\t\tconst selectedColorBox = document.getElementById(\n\t\t\t`color-box-${selectedColor}`\n\t\t);\n\n\t\tif (!selectedColorBox) {\n\t\t\tif (this.logMode.warn)\n\t\t\t\tlogger.warn(\n\t\t\t\t\t`Element not found for color ${selectedColor}`,\n\t\t\t\t\t'UIManager.getElementsForSelectedColor()'\n\t\t\t\t);\n\n\t\t\thelpers.dom.showToast('Please select a valid color.');\n\n\t\t\treturn {\n\t\t\t\tselectedColorTextOutputBox: null,\n\t\t\t\tselectedColorBox: null,\n\t\t\t\tselectedColorStripe: null\n\t\t\t};\n\t\t}\n\n\t\treturn {\n\t\t\tselectedColorTextOutputBox: document.getElementById(\n\t\t\t\t`color-text-output-box-${selectedColor}`\n\t\t\t),\n\t\t\tselectedColorBox,\n\t\t\tselectedColorStripe: document.getElementById(\n\t\t\t\t`color-stripe-${selectedColor}`\n\t\t\t)\n\t\t};\n\t}\n\n\tpublic getID(): number {\n\t\treturn this.id;\n\t}\n\n\tpublic static getAllInstances(): UIManager[] {\n\t\treturn Array.from(UIManager.instances.values());\n\t}\n\n\tpublic async getCurrentPalette(): Promise<Palette | null> {\n\t\tif (this.getCurrentPaletteFn) {\n\t\t\treturn await this.getCurrentPaletteFn();\n\t\t}\n\t\treturn (\n\t\t\tthis.currentPalette ||\n\t\t\t(this.paletteHistory.length > 0 ? this.paletteHistory[0] : null)\n\t\t);\n\t}\n\n\tpublic static getInstanceById(id: number): UIManager | undefined {\n\t\treturn UIManager.instances.get(id);\n\t}\n\n\tpublic static deleteInstanceById(id: number): void {\n\t\tUIManager.instances.delete(id);\n\t}\n\n\tpublic async handleExport(format: string): Promise<void> {\n\t\ttry {\n\t\t\tconst palette = await this.getCurrentPalette();\n\n\t\t\tif (!palette) {\n\t\t\t\tlogger.error('No palette available for export');\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tswitch (format) {\n\t\t\t\tcase 'css':\n\t\t\t\t\tthis.io.exportPalette(palette, format);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'json':\n\t\t\t\t\tthis.io.exportPalette(palette, format);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'xml':\n\t\t\t\t\tthis.io.exportPalette(palette, format);\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new Error(`Unsupported export format: ${format}`);\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tif (this.logMode.error && this.logMode.verbosity > 1)\n\t\t\t\tlogger.error(`Failed to export palette: ${error}`);\n\t\t}\n\t}\n\n\tpublic async handleImport(\n\t\tfile: File,\n\t\tformat: 'JSON' | 'XML' | 'CSS'\n\t): Promise<void> {\n\t\ttry {\n\t\t\tconst data = await this.fileUtils.readFile(file);\n\n\t\t\tlet palette: Palette | null = null;\n\n\t\t\tswitch (format) {\n\t\t\t\tcase 'JSON':\n\t\t\t\t\tpalette = await this.io.deserialize.fromJSON(data);\n\t\t\t\t\tif (!palette) {\n\t\t\t\t\t\tif (this.logMode.error && this.logMode.verbosity > 1) {\n\t\t\t\t\t\t\tlogger.error('Failed to deserialize JSON data');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'XML':\n\t\t\t\t\tpalette = (await this.io.deserialize.fromXML(data)) || null;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'CSS':\n\t\t\t\t\tpalette = (await this.io.deserialize.fromCSS(data)) || null;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new Error(`Unsupported format: ${format}`);\n\t\t\t}\n\n\t\t\tif (!palette) {\n\t\t\t\tif (this.logMode.error && this.logMode.verbosity > 1) {\n\t\t\t\t\tlogger.error(`Failed to deserialize ${format} data`);\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.addPaletteToHistory(palette);\n\n\t\t\tif (this.logMode.info && this.logMode.verbosity > 1) {\n\t\t\t\tlogger.info(\n\t\t\t\t\t`Successfully imported palette in ${format} format.`\n\t\t\t\t);\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tlogger.error(`Failed to import file: ${error}`);\n\t\t}\n\t}\n\n\tpublic pullParamsFromUI(): {\n\t\ttype: number;\n\t\tswatches: number;\n\t\tenableAlpha: boolean;\n\t\tlimitDarkness: boolean;\n\t\tlimitGrayness: boolean;\n\t\tlimitLightness: boolean;\n\t} {\n\t\ttry {\n\t\t\tconst paletteTypeOptionsElement =\n\t\t\t\tconsts.dom.elements.inputs.paletteTypeOptions;\n\t\t\tconst numBoxesElement =\n\t\t\t\tconsts.dom.elements.inputs.paletteNumberOptions;\n\t\t\tconst enableAlphaCheckbox =\n\t\t\t\tconsts.dom.elements.inputs.enableAlphaCheckbox;\n\t\t\tconst limitDarknessCheckbox =\n\t\t\t\tconsts.dom.elements.inputs.limitDarknessCheckbox;\n\t\t\tconst limitGraynessCheckbox =\n\t\t\t\tconsts.dom.elements.inputs.limitGraynessCheckbox;\n\t\t\tconst limitLightnessCheckbox =\n\t\t\t\tconsts.dom.elements.inputs.limitLightnessCheckbox;\n\n\t\t\treturn {\n\t\t\t\ttype: paletteTypeOptionsElement\n\t\t\t\t\t? parseInt(paletteTypeOptionsElement.value, 10)\n\t\t\t\t\t: 0,\n\t\t\t\tswatches: numBoxesElement\n\t\t\t\t\t? parseInt(numBoxesElement.value, 10)\n\t\t\t\t\t: 0,\n\t\t\t\tenableAlpha: enableAlphaCheckbox?.checked || false,\n\t\t\t\tlimitDarkness: limitDarknessCheckbox?.checked || false,\n\t\t\t\tlimitGrayness: limitGraynessCheckbox?.checked || false,\n\t\t\t\tlimitLightness: limitLightnessCheckbox?.checked || false\n\t\t\t};\n\t\t} catch (error) {\n\t\t\tif (this.logMode.error)\n\t\t\t\tlogger.error(`Failed to pull parameters from UI: ${error}`);\n\n\t\t\treturn {\n\t\t\t\ttype: 0,\n\t\t\t\tswatches: 0,\n\t\t\t\tenableAlpha: false,\n\t\t\t\tlimitDarkness: false,\n\t\t\t\tlimitGrayness: false,\n\t\t\t\tlimitLightness: false\n\t\t\t};\n\t\t}\n\t}\n\n\tpublic async renderPalette(tableId: string): Promise<void | null> {\n\t\tif (!this.getStoredPalette) {\n\t\t\tthrow new Error('Palette fetching function has not been set.');\n\t\t}\n\n\t\treturn this.errorUtils.handleAsync(async () => {\n\t\t\tconst storedPalette = await this.getStoredPalette!(tableId);\n\t\t\tconst paletteRow = document.getElementById('palette-row');\n\n\t\t\tif (!storedPalette)\n\t\t\t\tthrow new Error(`Palette ${tableId} not found.`);\n\t\t\tif (!paletteRow) throw new Error('Palette row element not found.');\n\n\t\t\tpaletteRow.innerHTML = '';\n\n\t\t\tconst tableElement = this.createPaletteTable(storedPalette);\n\t\t\tpaletteRow.appendChild(tableElement);\n\n\t\t\tif (!this.mode.quiet) logger.info(`Rendered palette ${tableId}.`);\n\t\t}, 'UIManager.renderPalette(): Error rendering palette');\n\t}\n\n\tpublic saturateColor(selectedColor: number): void {\n\t\ttry {\n\t\t\tthis.getElementsForSelectedColor(selectedColor);\n\t\t\t// *DEV-NOTE* unfinished function\n\t\t} catch (error) {\n\t\t\tif (this.logMode.error)\n\t\t\t\tlogger.error(`Failed to saturate color: ${error}`);\n\t\t}\n\t}\n\n\tpublic setCurrentPalette(palette: Palette): void {\n\t\tthis.currentPalette = palette;\n\t}\n\n\tpublic setGetCurrentPaletteFn(fn: () => Promise<Palette | null>): void {\n\t\tthis.getCurrentPaletteFn = fn;\n\t}\n\n\tpublic setGetStoredPalette(\n\t\tgetter: (id: string) => Promise<StoredPalette | null>\n\t): void {\n\t\tthis.getStoredPalette = getter;\n\t}\n\n\t/* PRIVATE METHODS */\n}\n","// File: src/ui/index.ts\n\nimport { UIFnMasterInterface } from '../types/index.js';\nimport { base } from './base.js';\n\nexport { UIManager } from './UIManager.js';\n\nexport const ui: UIFnMasterInterface = {\n\t...base\n};\n","// File: src/palette/main/types/analogous.js\n\nimport {\n\tGenPaletteArgs,\n\tHSL,\n\tPalette,\n\tPaletteItem\n} from '../../../types/index.js';\nimport { core } from '../../../common/index.js';\nimport { IDBManager } from '../../../db/index.js';\nimport { paletteSuperUtils } from '../../common/index.js';\nimport { ui } from '../../../ui/index.js';\n\nconst create = paletteSuperUtils.create;\nconst genHues = paletteSuperUtils.genHues;\n\nexport async function analogous(args: GenPaletteArgs): Promise<Palette> {\n\t// ensure at least 2 color swatches\n\tif (args.swatches < 2) ui.enforceSwatchRules(2);\n\n\tconst baseColor = create.baseColor(args.customColor, args.enableAlpha);\n\tconst hues = genHues.analogous(baseColor, args.swatches);\n\tconst paletteItems: PaletteItem[] = [];\n\n\tfor (const [i, hue] of hues.entries()) {\n\t\tconst newColor: HSL = {\n\t\t\tvalue: {\n\t\t\t\thue: core.brand.asRadial(hue),\n\t\t\t\tsaturation: core.brand.asPercentile(\n\t\t\t\t\tMath.min(\n\t\t\t\t\t\t100,\n\t\t\t\t\t\tMath.max(\n\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\tbaseColor.value.saturation +\n\t\t\t\t\t\t\t\t(Math.random() - 0.5) * 10\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\tlightness: core.brand.asPercentile(\n\t\t\t\t\tMath.min(\n\t\t\t\t\t\t100,\n\t\t\t\t\t\tMath.max(\n\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\tbaseColor.value.lightness + (i % 2 === 0 ? 5 : -5)\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\talpha: args.enableAlpha\n\t\t\t\t\t? core.brand.asAlphaRange(Math.random())\n\t\t\t\t\t: core.brand.asAlphaRange(1)\n\t\t\t},\n\t\t\tformat: 'hsl'\n\t\t};\n\n\t\tconst paletteItem = await create.paletteItem(\n\t\t\tnewColor,\n\t\t\targs.enableAlpha\n\t\t);\n\n\t\tpaletteItems.push(paletteItem);\n\t}\n\n\tconst idbManager = await IDBManager.getInstance();\n\n\tconst paletteID = await idbManager.getNextPaletteID();\n\n\tif (!paletteID) throw new Error('Palette ID is either null or undefined.');\n\n\tconst analogousPalette = await idbManager.savePaletteToDB(\n\t\t'analogous',\n\t\tpaletteItems,\n\t\tpaletteID,\n\t\targs.swatches,\n\t\targs.enableAlpha,\n\t\targs.limitDark,\n\t\targs.limitGray,\n\t\targs.limitLight\n\t);\n\n\tif (!analogousPalette)\n\t\tthrow new Error('Analogous palette is null or undefined.');\n\telse return analogousPalette;\n}\n","// File: src/palette/main/types/complementary.js\n\nimport { GenPaletteArgs, HSL, Palette } from '../../../types/index.js';\nimport { IDBManager } from '../../../db/index.js';\nimport { common } from '../../../common/index.js';\nimport { paletteSuperUtils } from '../../common/index.js';\nimport { ui } from '../../../ui/index.js';\n\nconst brand = common.core.brand;\nconst create = paletteSuperUtils.create;\n\nexport async function complementary(args: GenPaletteArgs): Promise<Palette> {\n\t// ensure at least 2 color swatches\n\tif (args.swatches !== 2) ui.enforceSwatchRules(2);\n\n\tconst swatches = 2;\n\n\tconst baseColor = create.baseColor(args.customColor, args.enableAlpha);\n\tconst complementaryHue = (baseColor.value.hue + 180) % 360;\n\tconst complementaryColor: HSL = {\n\t\tvalue: {\n\t\t\thue: brand.asRadial(complementaryHue),\n\t\t\tsaturation: baseColor.value.saturation,\n\t\t\tlightness: baseColor.value.lightness,\n\t\t\talpha: brand.asAlphaRange(args.enableAlpha ? Math.random() : 1)\n\t\t},\n\t\tformat: 'hsl'\n\t};\n\tconst basePaletteItem = await create.paletteItem(\n\t\tbaseColor,\n\t\targs.enableAlpha\n\t);\n\n\tconst complementaryPaletteItem = await create.paletteItem(\n\t\tcomplementaryColor,\n\t\targs.enableAlpha\n\t);\n\n\tconst idbManager = await IDBManager.getInstance();\n\tconst paletteID = await idbManager.getNextPaletteID();\n\n\tif (!paletteID) throw new Error('Palette ID is either null or undefined.');\n\n\tconst complementaryPalette = await idbManager.savePaletteToDB(\n\t\t'complementary',\n\t\t[basePaletteItem, complementaryPaletteItem],\n\t\tpaletteID,\n\t\tswatches,\n\t\targs.enableAlpha,\n\t\targs.limitDark,\n\t\targs.limitGray,\n\t\targs.limitLight\n\t);\n\n\tif (!complementaryPalette) {\n\t\tthrow new Error('Complementary palette is null or undefined.');\n\t}\n\n\treturn complementaryPalette;\n}\n","// File: src/palette/main/types/diadic.js\n\nimport {\n\tGenPaletteArgs,\n\tHSL,\n\tPalette,\n\tPaletteItem\n} from '../../../types/index.js';\nimport { IDBManager } from '../../../db/index.js';\nimport { core } from '../../../common/index.js';\nimport { consts } from '../../../common/data/base.js';\nimport { paletteSuperUtils } from '../../common/index.js';\nimport { ui } from '../../../ui/index.js';\n\nconst create = paletteSuperUtils.create;\nconst genHues = paletteSuperUtils.genHues;\nconst paletteRanges = consts.paletteRanges;\n\nexport async function diadic(args: GenPaletteArgs): Promise<Palette> {\n\t// ensure exactly 2 color swatches\n\tif (args.swatches !== 2) ui.enforceSwatchRules(2, 2);\n\n\tconst baseColor = create.baseColor(args.customColor, args.enableAlpha);\n\tconst hues = genHues.diadic(baseColor.value.hue);\n\tconst paletteItems: PaletteItem[] = [];\n\n\tfor (let i = 0; i < 2; i++) {\n\t\tconst saturationShift =\n\t\t\tMath.random() * paletteRanges.diadic.satShift -\n\t\t\tpaletteRanges.diadic.satShift / 2;\n\t\tconst lightnessShift =\n\t\t\tMath.random() * paletteRanges.diadic.lightShift -\n\t\t\tpaletteRanges.diadic.lightShift / 2;\n\t\tconst newColor: HSL = {\n\t\t\tvalue: {\n\t\t\t\thue: core.brand.asRadial(hues[i % hues.length]),\n\t\t\t\tsaturation: core.brand.asPercentile(\n\t\t\t\t\tMath.min(\n\t\t\t\t\t\t100,\n\t\t\t\t\t\tMath.max(\n\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\tbaseColor.value.saturation + saturationShift\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\tlightness: core.brand.asPercentile(\n\t\t\t\t\tMath.min(\n\t\t\t\t\t\t100,\n\t\t\t\t\t\tMath.max(0, baseColor.value.lightness + lightnessShift)\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\talpha: args.enableAlpha\n\t\t\t\t\t? core.brand.asAlphaRange(Math.random())\n\t\t\t\t\t: core.brand.asAlphaRange(1)\n\t\t\t},\n\t\t\tformat: 'hsl'\n\t\t};\n\n\t\tconst paletteItem = await create.paletteItem(\n\t\t\tnewColor,\n\t\t\targs.enableAlpha\n\t\t);\n\t\tpaletteItems.push(paletteItem);\n\t}\n\n\tconst idbManager = await IDBManager.getInstance();\n\tconst paletteID = await idbManager.getNextPaletteID();\n\n\tif (!paletteID) throw new Error('Palette ID is either null or undefined.');\n\n\tconst diadicPalette = await idbManager.savePaletteToDB(\n\t\t'diadic',\n\t\tpaletteItems,\n\t\tpaletteID,\n\t\t2,\n\t\targs.enableAlpha,\n\t\targs.limitDark,\n\t\targs.limitGray,\n\t\targs.limitLight\n\t);\n\n\tif (!diadicPalette)\n\t\tthrow new Error(`Diadic palette is either null or undefined.`);\n\telse return diadicPalette;\n}\n","// File: src/palette/main/types/hexadic.js\n\nimport {\n\tGenPaletteArgs,\n\tHSL,\n\tPalette,\n\tPaletteItem\n} from '../../../types/index.js';\nimport { IDBManager } from '../../../db/index.js';\nimport { core } from '../../../common/index.js';\nimport { consts } from '../../../common/data/base.js';\nimport { paletteSuperUtils } from '../../common/index.js';\nimport { ui } from '../../../ui/index.js';\n\nconst create = paletteSuperUtils.create;\nconst genHues = paletteSuperUtils.genHues;\nconst paletteRanges = consts.paletteRanges;\n\nexport async function hexadic(args: GenPaletteArgs): Promise<Palette> {\n\t// ensure exactly 6 color swatches\n\tif (args.swatches !== 6) ui.enforceSwatchRules(6, 6);\n\n\tconst baseColor = create.baseColor(args.customColor, args.enableAlpha);\n\tconst hues = genHues.hexadic(baseColor);\n\n\tconst paletteItems: PaletteItem[] = [];\n\tfor (const hue of hues) {\n\t\tconst saturationShift =\n\t\t\tMath.random() * paletteRanges.hexad.satShift -\n\t\t\tpaletteRanges.hexad.satShift / 2;\n\t\tconst lightnessShift =\n\t\t\tMath.random() * paletteRanges.hexad.lightShift -\n\t\t\tpaletteRanges.hexad.lightShift / 2;\n\t\tconst newColor: HSL = {\n\t\t\tvalue: {\n\t\t\t\thue: core.brand.asRadial(hue),\n\t\t\t\tsaturation: core.brand.asPercentile(\n\t\t\t\t\tMath.min(\n\t\t\t\t\t\t100,\n\t\t\t\t\t\tMath.max(\n\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\tbaseColor.value.saturation + saturationShift\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\tlightness: core.brand.asPercentile(\n\t\t\t\t\tMath.min(\n\t\t\t\t\t\t100,\n\t\t\t\t\t\tMath.max(0, baseColor.value.lightness + lightnessShift)\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\talpha: args.enableAlpha\n\t\t\t\t\t? core.brand.asAlphaRange(Math.random())\n\t\t\t\t\t: core.brand.asAlphaRange(1)\n\t\t\t},\n\t\t\tformat: 'hsl'\n\t\t};\n\n\t\tconst paletteItem = await create.paletteItem(\n\t\t\tnewColor,\n\t\t\targs.enableAlpha\n\t\t);\n\n\t\tpaletteItems.push(paletteItem);\n\t}\n\n\tconst idbManager = await IDBManager.getInstance();\n\tconst paletteID = await idbManager.getNextPaletteID();\n\n\tif (!paletteID) throw new Error('Palette ID is either null or undefined.');\n\n\tconst hexadicPalette = await idbManager.savePaletteToDB(\n\t\t'hexadic',\n\t\tpaletteItems,\n\t\tpaletteID,\n\t\targs.swatches,\n\t\targs.enableAlpha,\n\t\targs.limitDark,\n\t\targs.limitGray,\n\t\targs.limitLight\n\t);\n\n\tif (!hexadicPalette) {\n\t\tthrow new Error('Hexadic palette is either null or undefined.');\n\t} else {\n\t\treturn hexadicPalette;\n\t}\n}\n","// File: src/palette/main/types/monochromatic.js\n\nimport { GenPaletteArgs, Palette, PaletteItem } from '../../../types/index.js';\nimport { IDBManager } from '../../../db/index.js';\nimport { core, utils } from '../../../common/index.js';\nimport { paletteSuperUtils } from '../../common/index.js';\nimport { ui } from '../../../ui/index.js';\n\nconst create = paletteSuperUtils.create;\n\nexport async function monochromatic(args: GenPaletteArgs): Promise<Palette> {\n\t// ensure at least 2 color swatches\n\tif (args.swatches < 2) ui.enforceSwatchRules(2);\n\n\tconst baseColor = create.baseColor(args.customColor, args.enableAlpha);\n\tconst paletteItems: PaletteItem[] = [];\n\tconst basePaletteItem = await create.paletteItem(\n\t\tbaseColor,\n\t\targs.enableAlpha\n\t);\n\n\tpaletteItems.push(basePaletteItem);\n\n\tfor (let i = 1; i < args.swatches; i++) {\n\t\tconst hueShift = Math.random() * 10 - 5;\n\t\tconst newColor = utils.conversion.genAllColorValues({\n\t\t\tvalue: {\n\t\t\t\thue: core.brand.asRadial(\n\t\t\t\t\t(baseColor.value.hue + hueShift + 360) % 360\n\t\t\t\t),\n\t\t\t\tsaturation: core.brand.asPercentile(\n\t\t\t\t\tMath.min(\n\t\t\t\t\t\t100,\n\t\t\t\t\t\tMath.max(0, baseColor.value.saturation - i * 5)\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\tlightness: core.brand.asPercentile(\n\t\t\t\t\tMath.min(\n\t\t\t\t\t\t100,\n\t\t\t\t\t\tMath.max(0, baseColor.value.lightness + (i * 10 - 20))\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\talpha: args.enableAlpha\n\t\t\t\t\t? core.brand.asAlphaRange(Math.random())\n\t\t\t\t\t: core.brand.asAlphaRange(1)\n\t\t\t},\n\t\t\tformat: 'hsl'\n\t\t}).hsl;\n\n\t\tif (newColor) {\n\t\t\tconst paletteItem = await create.paletteItem(\n\t\t\t\tnewColor,\n\t\t\t\targs.enableAlpha\n\t\t\t);\n\n\t\t\tpaletteItems.push(paletteItem);\n\t\t}\n\t}\n\n\tconst idbManager = await IDBManager.getInstance();\n\tconst paletteID = await idbManager.getNextPaletteID();\n\n\tif (!paletteID) throw new Error('Palette ID is either null or undefined.');\n\n\tconst monochromaticPalette = await idbManager.savePaletteToDB(\n\t\t'monochromatic',\n\t\tpaletteItems,\n\t\tpaletteID,\n\t\targs.swatches,\n\t\targs.enableAlpha,\n\t\targs.limitDark,\n\t\targs.limitGray,\n\t\targs.limitLight\n\t);\n\n\tif (!monochromaticPalette) {\n\t\tthrow new Error('Monochromatic palette is either null or undefined.');\n\t} else {\n\t\treturn monochromaticPalette;\n\t}\n}\n","// File: src/paletteGen/palettes/types/random.js\n\nimport { GenPaletteArgs, Palette, PaletteItem } from '../../../types/index.js';\nimport { IDBManager } from '../../../db/index.js';\nimport { paletteHelpers, paletteSuperUtils } from '../../common/index.js';\nimport { utils } from '../../../common/index.js';\n\nconst create = paletteSuperUtils.create;\nconst update = paletteHelpers.update;\n\nexport async function random(args: GenPaletteArgs): Promise<Palette> {\n\tconst baseColor = create.baseColor(args.customColor, args.enableAlpha);\n\tconst paletteItems: PaletteItem[] = [\n\t\tawait create.paletteItem(baseColor, args.enableAlpha)\n\t];\n\n\tfor (let i = 1; i < args.swatches; i++) {\n\t\tconst randomColor = utils.random.hsl(args.enableAlpha);\n\t\tconst nextPaletteItem = await create.paletteItem(\n\t\t\trandomColor,\n\t\t\targs.enableAlpha\n\t\t);\n\n\t\tpaletteItems.push(nextPaletteItem);\n\n\t\tupdate.colorBox(randomColor, i);\n\t}\n\n\tconst idbManager = await IDBManager.getInstance();\n\tconst paletteID = await idbManager.getNextPaletteID();\n\n\tif (!paletteID) throw new Error('Palette ID is either null or undefined.');\n\n\tconst randomPalette = await idbManager.savePaletteToDB(\n\t\t'random',\n\t\tpaletteItems,\n\t\tpaletteID,\n\t\targs.swatches,\n\t\targs.enableAlpha,\n\t\targs.limitDark,\n\t\targs.limitGray,\n\t\targs.limitLight\n\t);\n\n\tif (!randomPalette)\n\t\tthrow new Error('Random palette is either null or undefined.');\n\telse return randomPalette;\n}\n","// File: src/palette/main/types/splitComplementary.js\n\nimport {\n\tGenPaletteArgs,\n\tHSL,\n\tPalette,\n\tPaletteItem\n} from '../../../types/index.js';\nimport { core, utils } from '../../../common/index.js';\nimport { consts } from '../../../common/data/base.js';\nimport { IDBManager } from '../../../db/index.js';\nimport { paletteSuperUtils } from '../../common/index.js';\nimport { ui } from '../../../ui/index.js';\n\nconst create = paletteSuperUtils.create;\nconst genHues = paletteSuperUtils.genHues;\nconst paletteRanges = consts.paletteRanges;\n\nexport async function splitComplementary(\n\targs: GenPaletteArgs\n): Promise<Palette> {\n\t// ensure exactly 3 color swatches\n\tif (args.swatches !== 3) ui.enforceSwatchRules(3, 3);\n\n\t// base color setup\n\tconst baseColor = create.baseColor(args.customColor, args.enableAlpha);\n\n\t// generate split complementary hues\n\tconst [hue1, hue2] = genHues.splitComplementary(baseColor.value.hue);\n\n\t// initialize palette items array\n\tconst paletteItems: PaletteItem[] = [];\n\n\t// add base color as the first item in the array\n\tconst basePaletteItem = await create.paletteItem(\n\t\tbaseColor,\n\t\targs.enableAlpha\n\t);\n\tpaletteItems.push(basePaletteItem);\n\n\tfor (const [index, hue] of [hue1, hue2].entries()) {\n\t\tconst adjustedHSL: HSL = {\n\t\t\tvalue: {\n\t\t\t\thue: core.brand.asRadial(hue),\n\t\t\t\tsaturation: core.brand.asPercentile(\n\t\t\t\t\tMath.max(\n\t\t\t\t\t\t0,\n\t\t\t\t\t\tMath.min(\n\t\t\t\t\t\t\tbaseColor.value.saturation +\n\t\t\t\t\t\t\t\t(index === 0\n\t\t\t\t\t\t\t\t\t? -paletteRanges.splitComp.satShift\n\t\t\t\t\t\t\t\t\t: paletteRanges.splitComp.satShift),\n\t\t\t\t\t\t\t100\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\tlightness: core.brand.asPercentile(\n\t\t\t\t\tMath.max(\n\t\t\t\t\t\t0,\n\t\t\t\t\t\tMath.min(\n\t\t\t\t\t\t\tbaseColor.value.lightness +\n\t\t\t\t\t\t\t\t(index === 0\n\t\t\t\t\t\t\t\t\t? -paletteRanges.splitComp.lightShift\n\t\t\t\t\t\t\t\t\t: paletteRanges.splitComp.lightShift),\n\t\t\t\t\t\t\t100\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\talpha: args.enableAlpha\n\t\t\t\t\t? core.brand.asAlphaRange(Math.random())\n\t\t\t\t\t: core.brand.asAlphaRange(1)\n\t\t\t},\n\t\t\tformat: 'hsl'\n\t\t};\n\n\t\tconst adjustedColor =\n\t\t\tutils.conversion.genAllColorValues(adjustedHSL).hsl;\n\n\t\tif (adjustedColor) {\n\t\t\tconst paletteItem = await create.paletteItem(\n\t\t\t\tadjustedColor,\n\t\t\t\targs.enableAlpha\n\t\t\t);\n\n\t\t\tpaletteItems.push(paletteItem);\n\t\t}\n\t}\n\n\tconst idbManager = await IDBManager.getInstance();\n\tconst paletteID = await idbManager.getNextPaletteID();\n\n\tif (!paletteID) throw new Error('Palette ID is either null or undefined.');\n\n\tconst splitComplementaryPalette = await idbManager.savePaletteToDB(\n\t\t'splitComplementary',\n\t\tpaletteItems,\n\t\tpaletteID,\n\t\targs.swatches,\n\t\targs.enableAlpha,\n\t\targs.limitDark,\n\t\targs.limitGray,\n\t\targs.limitLight\n\t);\n\n\tif (!splitComplementaryPalette) {\n\t\tthrow new Error(\n\t\t\t'Split complementary palette is either null or undefined.'\n\t\t);\n\t}\n\n\treturn splitComplementaryPalette;\n}\n","// File: src/palette/main/types/tetradic.js\n\nimport {\n\tGenPaletteArgs,\n\tHSL,\n\tPalette,\n\tPaletteItem\n} from '../../../types/index.js';\nimport { core, utils } from '../../../common/index.js';\nimport { consts } from '../../../common/data/base.js';\nimport { IDBManager } from '../../../db/index.js';\nimport { paletteSuperUtils } from '../../common/index.js';\nimport { ui } from '../../../ui/index.js';\n\nconst create = paletteSuperUtils.create;\nconst genHues = paletteSuperUtils.genHues;\nconst paletteRanges = consts.paletteRanges;\n\nexport async function tetradic(args: GenPaletteArgs): Promise<Palette> {\n\t// ensure exactly 4 swatches\n\tif (args.swatches !== 4) ui.enforceSwatchRules(4, 4);\n\n\t// base color setup\n\tconst baseColor = create.baseColor(args.customColor, args.enableAlpha);\n\n\t// generate tetradic hues\n\tconst tetradicHues = genHues.tetradic(baseColor.value.hue);\n\n\t// initialize palette items array\n\tconst paletteItems: PaletteItem[] = [];\n\n\t// add the base color as the first palette item\n\tconst basePaletteItem = await create.paletteItem(\n\t\tbaseColor,\n\t\targs.enableAlpha\n\t);\n\n\tpaletteItems.push(basePaletteItem);\n\n\t// add the tetradic colors sequentially\n\tfor (let index = 0; index < tetradicHues.length; index++) {\n\t\tconst hue = tetradicHues[index];\n\t\tconst adjustedHSL: HSL = {\n\t\t\tvalue: {\n\t\t\t\thue: core.brand.asRadial(hue),\n\t\t\t\tsaturation: core.brand.asPercentile(\n\t\t\t\t\tMath.max(\n\t\t\t\t\t\t0,\n\t\t\t\t\t\tMath.min(\n\t\t\t\t\t\t\tbaseColor.value.saturation +\n\t\t\t\t\t\t\t\t(index % 2 === 0\n\t\t\t\t\t\t\t\t\t? -paletteRanges.tetra.satShift\n\t\t\t\t\t\t\t\t\t: paletteRanges.tetra.satShift),\n\t\t\t\t\t\t\t100\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\tlightness: core.brand.asPercentile(\n\t\t\t\t\tMath.max(\n\t\t\t\t\t\t0,\n\t\t\t\t\t\tMath.min(\n\t\t\t\t\t\t\tbaseColor.value.lightness +\n\t\t\t\t\t\t\t\t(index % 2 === 0\n\t\t\t\t\t\t\t\t\t? -paletteRanges.tetra.lightShift\n\t\t\t\t\t\t\t\t\t: paletteRanges.tetra.lightShift),\n\t\t\t\t\t\t\t100\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\talpha: args.enableAlpha\n\t\t\t\t\t? core.brand.asAlphaRange(Math.random())\n\t\t\t\t\t: core.brand.asAlphaRange(1)\n\t\t\t},\n\t\t\tformat: 'hsl'\n\t\t};\n\n\t\t// generate all color values and create the palette item\n\t\tconst adjustedColor = utils.conversion.genAllColorValues(adjustedHSL)\n\t\t\t.hsl as HSL;\n\t\tconst paletteItem = await create.paletteItem(\n\t\t\tadjustedColor,\n\t\t\targs.enableAlpha\n\t\t);\n\t\tpaletteItems.push(paletteItem);\n\t}\n\n\tconst idbManager = await IDBManager.getInstance();\n\tconst paletteID = await idbManager.getNextPaletteID();\n\n\tif (!paletteID) throw new Error('Palette ID is either null or undefined.');\n\n\t// save the palette to the database\n\tconst tetradicPalette = await idbManager.savePaletteToDB(\n\t\t'tetradic',\n\t\tpaletteItems,\n\t\tpaletteID,\n\t\targs.swatches,\n\t\targs.enableAlpha,\n\t\targs.limitDark,\n\t\targs.limitGray,\n\t\targs.limitLight\n\t);\n\n\t// handle null or undefined palette\n\tif (!tetradicPalette) {\n\t\tthrow new Error('Tetradic palette is either null or undefined.');\n\t}\n\n\treturn tetradicPalette;\n}\n","// File: src/palette/main/types/triadic.js\n\nimport {\n\tGenPaletteArgs,\n\tHSL,\n\tPalette,\n\tPaletteItem\n} from '../../../types/index.js';\nimport { core, utils } from '../../../common/index.js';\nimport { consts } from '../../../common/data/base.js';\nimport { IDBManager } from '../../../db/index.js';\nimport { paletteSuperUtils } from '../../common/index.js';\nimport { ui } from '../../../ui/index.js';\n\nconst conversion = utils.conversion;\nconst create = paletteSuperUtils.create;\nconst genHues = paletteSuperUtils.genHues;\nconst paletteRanges = consts.paletteRanges;\n\nexport async function triadic(args: GenPaletteArgs): Promise<Palette> {\n\t// ensure exactly 3 swatches\n\tif (args.swatches !== 3) ui.enforceSwatchRules(3, 3);\n\n\t// base color setup\n\tconst baseColor = create.baseColor(args.customColor, args.enableAlpha);\n\n\t// generate triadic hues\n\tconst hues = genHues.triadic(baseColor.value.hue);\n\n\t// initialize palette items array\n\tconst paletteItems: PaletteItem[] = [];\n\n\t// add the base color as the first palette item\n\tconst basePaletteItem = await create.paletteItem(\n\t\tbaseColor,\n\t\targs.enableAlpha\n\t);\n\tpaletteItems.push(basePaletteItem);\n\n\t// add the triadic colors sequentially\n\tfor (let index = 0; index < hues.length; index++) {\n\t\tconst hue = hues[index];\n\t\tconst adjustedHSL: HSL = {\n\t\t\tvalue: {\n\t\t\t\thue: core.brand.asRadial(hue),\n\t\t\t\tsaturation: core.brand.asPercentile(\n\t\t\t\t\tMath.max(\n\t\t\t\t\t\t0,\n\t\t\t\t\t\tMath.min(\n\t\t\t\t\t\t\tbaseColor.value.saturation +\n\t\t\t\t\t\t\t\t(index % 2 === 0\n\t\t\t\t\t\t\t\t\t? -paletteRanges.triad.satShift\n\t\t\t\t\t\t\t\t\t: paletteRanges.triad.satShift),\n\t\t\t\t\t\t\t100\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\tlightness: core.brand.asPercentile(\n\t\t\t\t\tMath.max(\n\t\t\t\t\t\t0,\n\t\t\t\t\t\tMath.min(\n\t\t\t\t\t\t\tbaseColor.value.lightness +\n\t\t\t\t\t\t\t\t(index % 2 === 0\n\t\t\t\t\t\t\t\t\t? -paletteRanges.triad.lightShift\n\t\t\t\t\t\t\t\t\t: paletteRanges.triad.lightShift),\n\t\t\t\t\t\t\t100\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\talpha: args.enableAlpha\n\t\t\t\t\t? core.brand.asAlphaRange(Math.random())\n\t\t\t\t\t: core.brand.asAlphaRange(1)\n\t\t\t},\n\t\t\tformat: 'hsl'\n\t\t};\n\n\t\t// generate all color values and create the palette item\n\t\tconst adjustedColor = conversion.genAllColorValues(adjustedHSL)\n\t\t\t.hsl as HSL;\n\t\tconst paletteItem = await create.paletteItem(\n\t\t\tadjustedColor,\n\t\t\targs.enableAlpha\n\t\t);\n\t\tpaletteItems.push(paletteItem);\n\t}\n\n\tconst idbManager = await IDBManager.getInstance();\n\tconst paletteID = await idbManager.getNextPaletteID();\n\n\tif (!paletteID) throw new Error('Palette ID is either null or undefined.');\n\n\t// save the palette to the database\n\tconst triadicPalette = await idbManager.savePaletteToDB(\n\t\t'triadic',\n\t\tpaletteItems,\n\t\tpaletteID,\n\t\targs.swatches,\n\t\targs.enableAlpha,\n\t\targs.limitDark,\n\t\targs.limitGray,\n\t\targs.limitLight\n\t);\n\n\t// handle null or undefined palette\n\tif (!triadicPalette) {\n\t\tthrow new Error('Triadic palette is either null or undefined.');\n\t}\n\n\treturn triadicPalette;\n}\n","// File: src/palete/main/index.js\n\nimport { GenPaletteFnInterface } from '../../types/index.js';\nimport { analogous } from './types/analogous.js';\nimport { complementary } from './types/complementary.js';\nimport { diadic } from './types/diadic.js';\nimport { hexadic } from './types/hexadic.js';\nimport { monochromatic } from './types/monochromatic.js';\nimport { random } from './types/random.js';\nimport { splitComplementary } from './types/splitComplementary.js';\nimport { tetradic } from './types/tetradic.js';\nimport { triadic } from './types/triadic.js';\n\nexport const genPalette: GenPaletteFnInterface = {\n\tanalogous,\n\tcomplementary,\n\tdiadic,\n\thexadic,\n\tmonochromatic,\n\trandom,\n\tsplitComplementary,\n\ttetradic,\n\ttriadic\n};\n","// File: src/palette/main.js\n\nimport {\n\tGenPaletteArgs,\n\tHSL,\n\tPalette,\n\tPaletteItem,\n\tPaletteOptions\n} from '../types/index.js';\nimport { IDBManager } from '../db/index.js';\nimport { core, helpers, utils } from '../common/index.js';\nimport { createLogger } from '../logger/index.js';\nimport { defaults, mode } from '../common/data/base.js';\nimport { genPalette as genPaletteType } from './main/index.js';\nimport { paletteHelpers } from './common/index.js';\nimport { transform } from '../common/transform/index.js';\n\nconst logger = await createLogger();\n\nconst defaultPalette = defaults.palette.unbranded.data;\nconst defaultBrandedPalete = transform.brandPalette(defaultPalette);\n\nconst limits = paletteHelpers.limits;\nconst logMode = mode.logging;\n\nconst isTooDark = limits.isTooDark;\nconst isTooGray = limits.isTooGray;\nconst isTooLight = limits.isTooLight;\n\nasync function genPalette(options: PaletteOptions): Promise<void> {\n\ttry {\n\t\tlet { swatches, customColor } = options;\n\n\t\tif (logMode.info && logMode.verbosity > 2)\n\t\t\tlogger.info(\n\t\t\t\t'Retrieving existing IDBManager instance.',\n\t\t\t\t'palette > main > genPalette()'\n\t\t\t);\n\n\t\tconst idb = await IDBManager.getInstance();\n\n\t\tif (customColor === null || customColor === undefined) {\n\t\t\tif (logMode.error)\n\t\t\t\tlogger.error(\n\t\t\t\t\t'Custom color is null or undefined.',\n\t\t\t\t\t'palette > main > genPalette()'\n\t\t\t\t);\n\n\t\t\treturn;\n\t\t}\n\n\t\tconst validatedCustomColor: HSL =\n\t\t\t((await helpers.dom.validateAndConvertColor(customColor)) as HSL) ??\n\t\t\tutils.random.hsl(options.flags.enableAlpha);\n\n\t\tif (mode.debug && logMode.info && logMode.verbosity > 2)\n\t\t\tlogger.info(\n\t\t\t\t`Custom color: ${JSON.stringify(customColor)}`,\n\t\t\t\t'palette > main > genPalette()'\n\t\t\t);\n\n\t\toptions.customColor = validatedCustomColor;\n\n\t\tconst palette = await generate.selectedPalette(options);\n\n\t\tif (palette.items.length === 0) {\n\t\t\tif (logMode.error)\n\t\t\t\tlogger.error(\n\t\t\t\t\t'Colors array is empty or invalid.',\n\t\t\t\t\t'palette > main > genPalette()'\n\t\t\t\t);\n\n\t\t\treturn;\n\t\t}\n\n\t\tif (!mode.quiet && logMode.info && logMode.verbosity > 0)\n\t\t\tlogger.info(\n\t\t\t\t`Colors array generated: ${JSON.stringify(palette.items)}`,\n\t\t\t\t'palette > main > genPalette()'\n\t\t\t);\n\n\t\tconst tableId = await idb.getNextTableID();\n\n\t\tif (!tableId) throw new Error('Table ID is null or undefined.');\n\n\t\tawait genPaletteDOMBox(palette.items, swatches, tableId);\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`Error starting palette generation: ${error}`,\n\t\t\t\t'palette > main > genPalette()'\n\t\t\t);\n\t}\n}\n\nasync function genPaletteDOMBox(\n\titems: PaletteItem[],\n\tnumBoxes: number,\n\ttableId: string\n): Promise<void> {\n\ttry {\n\t\tconst paletteRow = document.getElementById('palette-row');\n\t\tconst idbManager = await IDBManager.getInstance();\n\n\t\tif (!paletteRow) {\n\t\t\tif (logMode.error)\n\t\t\t\tlogger.error(\n\t\t\t\t\t'paletteRow is undefined.',\n\t\t\t\t\t'palette > main > genPaletteDOMBox()'\n\t\t\t\t);\n\n\t\t\treturn;\n\t\t}\n\n\t\tpaletteRow.innerHTML = '';\n\n\t\tconst fragment = document.createDocumentFragment();\n\n\t\tfor (let i = 0; i < Math.min(items.length, numBoxes); i++) {\n\t\t\tconst item = items[i];\n\t\t\tconst color: HSL = { value: item.colors.hsl, format: 'hsl' };\n\t\t\tconst { colorStripe } = await helpers.dom.makePaletteBox(\n\t\t\t\tcolor,\n\t\t\t\ti + 1\n\t\t\t);\n\n\t\t\tfragment.appendChild(colorStripe);\n\n\t\t\tutils.palette.populateOutputBox(color, i + 1);\n\t\t}\n\n\t\tpaletteRow.appendChild(fragment);\n\n\t\tif (!mode.quiet && logMode.info && logMode.verbosity > 1)\n\t\t\tlogger.info(\n\t\t\t\t'Palette boxes generated and rendered.',\n\t\t\t\t'palette > main > genPaletteDOMBox()'\n\t\t\t);\n\n\t\tawait idbManager.saveData('tables', tableId, { palette: items });\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`Error generating palette box: ${error}`,\n\t\t\t\t'palette > main > genPaletteDOMBox()'\n\t\t\t);\n\t}\n}\n\nexport const start = {\n\tgenPalette,\n\tgenPaletteDOMBox\n} as const;\n\n// ******** GENERATE ********\n\nfunction limitedHSL(\n\tbaseHue: number,\n\tlimitDark: boolean,\n\tlimitGray: boolean,\n\tlimitLight: boolean,\n\talphaValue: number | null\n): HSL {\n\tlet hsl: HSL;\n\n\tdo {\n\t\thsl = {\n\t\t\tvalue: {\n\t\t\t\thue: core.brand.asRadial(baseHue),\n\t\t\t\tsaturation: core.brand.asPercentile(Math.random() * 100),\n\t\t\t\tlightness: core.brand.asPercentile(Math.random() * 100),\n\t\t\t\talpha: alphaValue\n\t\t\t\t\t? core.brand.asAlphaRange(alphaValue)\n\t\t\t\t\t: core.brand.asAlphaRange(1)\n\t\t\t},\n\t\t\tformat: 'hsl'\n\t\t};\n\t} while (\n\t\t(limitGray && isTooGray(hsl)) ||\n\t\t(limitDark && isTooDark(hsl)) ||\n\t\t(limitLight && isTooLight(hsl))\n\t);\n\n\treturn hsl;\n}\n\nasync function selectedPalette(options: PaletteOptions): Promise<Palette> {\n\ttry {\n\t\tconst { customColor, flags, swatches, type } = options;\n\n\t\tconst args: GenPaletteArgs = {\n\t\t\tswatches,\n\t\t\tcustomColor,\n\t\t\tenableAlpha: flags.enableAlpha,\n\t\t\tlimitDark: flags.limitDarkness,\n\t\t\tlimitGray: flags.limitGrayness,\n\t\t\tlimitLight: flags.limitLightness\n\t\t};\n\n\t\tswitch (type) {\n\t\t\tcase 1:\n\t\t\t\treturn genPaletteType.random(args);\n\t\t\tcase 2:\n\t\t\t\treturn genPaletteType.complementary(args);\n\t\t\tcase 3:\n\t\t\t\treturn genPaletteType.triadic(args);\n\t\t\tcase 4:\n\t\t\t\treturn genPaletteType.tetradic(args);\n\t\t\tcase 5:\n\t\t\t\treturn genPaletteType.splitComplementary(args);\n\t\t\tcase 6:\n\t\t\t\treturn genPaletteType.analogous(args);\n\t\t\tcase 7:\n\t\t\t\treturn genPaletteType.hexadic(args);\n\t\t\tcase 8:\n\t\t\t\treturn genPaletteType.diadic(args);\n\t\t\tcase 9:\n\t\t\t\treturn genPaletteType.monochromatic(args);\n\t\t\tdefault:\n\t\t\t\tif (logMode.error)\n\t\t\t\t\tlogger.error(\n\t\t\t\t\t\t'Invalid palette type.',\n\t\t\t\t\t\t'palette > main > selectedPalette()'\n\t\t\t\t\t);\n\n\t\t\t\treturn Promise.resolve(defaultBrandedPalete);\n\t\t}\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`Error generating palette: ${error}`,\n\t\t\t\t'palette > main > selectedPalette()'\n\t\t\t);\n\n\t\treturn Promise.resolve(defaultBrandedPalete);\n\t}\n}\n\nexport const generate = {\n\tlimitedHSL,\n\tselectedPalette\n} as const;\n","// File: src/dom/events/base.js\n\nimport {\n\tDOM_FunctionsMasterInterface,\n\tHSL,\n\tPaletteOptions\n} from '../types/index.js';\nimport { core, superUtils, utils } from '../common/index.js';\nimport { consts, mode } from '../common/data/base.js';\nimport { createLogger } from '../logger/index.js';\nimport { parse } from './parse.js';\nimport { IDBManager } from '../db/index.js';\nimport { start } from '../palette/index.js';\nimport { UIManager } from '../ui/index.js';\n\nconst logger = await createLogger();\n\nconst buttonDebounce = consts.debounce.button || 300;\nconst domIDs = consts.dom.ids;\nconst logMode = mode.logging;\nconst uiElements = consts.dom.elements;\n\nconst idb = await IDBManager.getInstance();\nconst uiManager = new UIManager(uiElements);\n\nfunction addEventListener<K extends keyof HTMLElementEventMap>(\n\tid: string,\n\teventType: K,\n\tcallback: (ev: HTMLElementEventMap[K]) => void\n): void {\n\tconst element = document.getElementById(id);\n\n\tif (element) {\n\t\telement.addEventListener(eventType, callback);\n\t} else if (logMode.warn) {\n\t\tif (mode.debug && logMode.warn && logMode.verbosity > 2)\n\t\t\tlogger.warn(\n\t\t\t\t`Element with id \"${id}\" not found.`,\n\t\t\t\t'dom > events > addEventListener()'\n\t\t\t);\n\t}\n}\n\nconst handlePaletteGen = core.base.debounce(() => {\n\ttry {\n\t\tconst params = superUtils.dom.getGenButtonArgs();\n\n\t\tif (!params) {\n\t\t\tif (logMode.error) {\n\t\t\t\tlogger.error(\n\t\t\t\t\t'Failed to retrieve generateButton parameters',\n\t\t\t\t\t'dom > events > handlePaletteGen()'\n\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\tconst {\n\t\t\tswatches,\n\t\t\tcustomColor,\n\t\t\ttype,\n\t\t\tenableAlpha,\n\t\t\tlimitDarkness,\n\t\t\tlimitGrayness,\n\t\t\tlimitLightness\n\t\t} = params;\n\n\t\tif (!type || !swatches) {\n\t\t\tif (logMode.error) {\n\t\t\t\tlogger.error(\n\t\t\t\t\t'paletteType and/or swatches are undefined',\n\t\t\t\t\t'dom > events > handlePaletteGen()'\n\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\tconst options: PaletteOptions = {\n\t\t\tcustomColor,\n\t\t\tflags: {\n\t\t\t\tenableAlpha,\n\t\t\t\tlimitDarkness,\n\t\t\t\tlimitGrayness,\n\t\t\t\tlimitLightness\n\t\t\t},\n\t\t\tswatches,\n\t\t\ttype\n\t\t};\n\n\t\tstart.genPalette(options);\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`Failed to handle generate button click: ${error}`,\n\t\t\t\t'dom > events > handlePaletteGen()'\n\t\t\t);\n\t}\n}, buttonDebounce);\n\nfunction initializeEventListeners(): void {\n\tconst addConversionListener = (id: string, colorSpace: string) => {\n\t\tconst button = document.getElementById(id) as HTMLButtonElement | null;\n\n\t\tif (button) {\n\t\t\tif (core.guards.isColorSpace(colorSpace)) {\n\t\t\t\tbutton.addEventListener('click', () =>\n\t\t\t\t\tsuperUtils.dom.switchColorSpace(colorSpace)\n\t\t\t\t);\n\t\t\t}\n\t\t} else {\n\t\t\tif (logMode.warn)\n\t\t\t\tlogger.warn(\n\t\t\t\t\t`Element with id \"${id}\" not found.`,\n\t\t\t\t\t'dom > events > initializeEventListeners()'\n\t\t\t\t);\n\t\t}\n\t};\n\n\taddConversionListener('show-as-cmyk-button', 'cmyk');\n\taddConversionListener('show-as-hex-button', 'hex');\n\taddConversionListener('show-as-hsl-button', 'hsl');\n\taddConversionListener('show-as-hsv-button', 'hsv');\n\taddConversionListener('show-as-lab-button', 'lab');\n\taddConversionListener('show-as-rgb-button', 'rgb');\n\n\taddEventListener(\n\t\tdomIDs.advancedMenuButton,\n\t\t'click',\n\t\tasync (e: MouseEvent) => {\n\t\t\te.preventDefault();\n\n\t\t\tuiElements.divs.advancedMenu?.classList.remove('hidden');\n\t\t\tuiElements.divs.advancedMenu?.setAttribute('aria-hidden', 'false');\n\t\t}\n\t);\n\n\taddEventListener(\n\t\tdomIDs.applyCustomColorButton,\n\t\t'click',\n\t\tasync (e: MouseEvent) => {\n\t\t\te.preventDefault();\n\n\t\t\tconst customHSLColor = uiManager.applyCustomColor();\n\t\t\tconst customHSLColorClone = core.base.clone(customHSLColor);\n\n\t\t\tawait idb.saveData(\n\t\t\t\t'customColor',\n\t\t\t\t'appSettings',\n\t\t\t\tcustomHSLColorClone\n\t\t\t);\n\n\t\t\tif (!mode.quiet && logMode.info)\n\t\t\t\tlogger.info(\n\t\t\t\t\t'Custom color saved to IndexedDB',\n\t\t\t\t\t'dom > events > applyCustomColorButton click event'\n\t\t\t\t);\n\n\t\t\t// *DEV-NOTE* unfinished, I think? Double-check this\n\t\t}\n\t);\n\n\taddEventListener(\n\t\tdomIDs.clearCustomColorButton,\n\t\t'click',\n\t\tasync (e: MouseEvent) => {\n\t\t\te.preventDefault();\n\n\t\t\tuiElements.inputs.customColorInput!.value = '#ff0000';\n\n\t\t\tif (!mode.quiet && logMode.info)\n\t\t\t\tlogger.info(\n\t\t\t\t\t'Custom color cleared',\n\t\t\t\t\t'dom > events > clearCustomColorButton click event'\n\t\t\t\t);\n\t\t}\n\t);\n\n\taddEventListener(\n\t\tdomIDs.customColorMenuButton,\n\t\t'click',\n\t\tasync (e: MouseEvent) => {\n\t\t\te.preventDefault();\n\n\t\t\tuiElements.divs.customColorMenu?.classList.add('hidden');\n\t\t\tuiElements.divs.customColorMenu?.setAttribute(\n\t\t\t\t'aria-hidden',\n\t\t\t\t'true'\n\t\t\t);\n\t\t}\n\t);\n\n\tif (!uiElements.inputs.customColorInput)\n\t\tthrow new Error('Custom color input element not found');\n\n\tuiElements.inputs.customColorInput.addEventListener('input', () => {\n\t\tif (!uiElements.spans.customColorDisplay)\n\t\t\tthrow new Error('Custom color display element not found');\n\n\t\tuiElements.spans.customColorDisplay.textContent =\n\t\t\tuiElements.inputs.customColorInput!.value;\n\t});\n\n\taddEventListener(\n\t\tdomIDs.deleteDatabaseButton,\n\t\t'click',\n\t\tasync (e: MouseEvent) => {\n\t\t\te.preventDefault();\n\n\t\t\t// only allow if application is in development mode\n\t\t\tif (String(mode.environment) === 'prod') {\n\t\t\t\tif (logMode.warn) {\n\t\t\t\t\tlogger.warn(\n\t\t\t\t\t\t'Cannot delete database in production mode.',\n\t\t\t\t\t\t'dom > events > deleteDatabaseButton click event'\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst confirmDelete = confirm(\n\t\t\t\t'Are you sure you want to delete the entire database? This action cannot be undone.'\n\t\t\t);\n\n\t\t\tif (!confirmDelete) return;\n\n\t\t\ttry {\n\t\t\t\tconst idbManager = await IDBManager.getInstance();\n\t\t\t\tawait idbManager.deleteDatabase();\n\n\t\t\t\tif (mode.showAlerts) alert('Database deleted successfully!');\n\t\t\t\tif (logMode.info)\n\t\t\t\t\tlogger.info(\n\t\t\t\t\t\t'Database deleted successfully.',\n\t\t\t\t\t\t'dom > events > deleteDatabaseButton click event'\n\t\t\t\t\t);\n\t\t\t} catch (error) {\n\t\t\t\tif (logMode.error)\n\t\t\t\t\tlogger.error(\n\t\t\t\t\t\t`Failed to delete database: ${error}`,\n\t\t\t\t\t\t`common > utils > random > hsl()`\n\t\t\t\t\t);\n\n\t\t\t\tif (mode.showAlerts) alert('Failed to delete database.');\n\t\t\t}\n\t\t}\n\t);\n\n\taddEventListener(\n\t\tdomIDs.desaturateButton,\n\t\t'click',\n\t\tasync (e: MouseEvent) => {\n\t\t\te.preventDefault();\n\n\t\t\tconst selectedColor = uiElements.select.selectedColorOption\n\t\t\t\t? parseInt(uiElements.select.selectedColorOption.value, 10)\n\t\t\t\t: 0;\n\n\t\t\tif (!mode.quiet && logMode.clicks)\n\t\t\t\tlogger.info(\n\t\t\t\t\t'desaturateButton clicked',\n\t\t\t\t\t'dom > events > desaturateButton click event'\n\t\t\t\t);\n\n\t\t\tuiManager.desaturateColor(selectedColor);\n\t\t}\n\t);\n\n\taddEventListener(\n\t\tdomIDs.developerMenuButton,\n\t\t'click',\n\t\tasync (e: MouseEvent) => {\n\t\t\te.preventDefault();\n\n\t\t\tif (String(mode.environment) === 'prod') {\n\t\t\t\tif (!mode.quiet && logMode.error)\n\t\t\t\t\tlogger.error(\n\t\t\t\t\t\t'Cannot access developer menu in production mode.',\n\t\t\t\t\t\t'dom > events > developerMenuButton click event'\n\t\t\t\t\t);\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tuiElements.divs.developerMenu?.classList.remove('hidden');\n\t\t\tuiElements.divs.developerMenu?.setAttribute('aria-hidden', 'false');\n\t\t}\n\t);\n\n\taddEventListener(\n\t\tdomIDs.exportPaletteButton,\n\t\t'click',\n\t\tasync (e: MouseEvent) => {\n\t\t\te.preventDefault();\n\n\t\t\tconst format = parse.paletteExportFormat();\n\n\t\t\tif (mode.debug && logMode.info && logMode.verbosity > 1)\n\t\t\t\tlogger.info(\n\t\t\t\t\t`Export Palette Button click event: Export format selected: ${format}`,\n\t\t\t\t\t'dom > events > exportPaletteButton click event'\n\t\t\t\t);\n\n\t\t\tif (!format) {\n\t\t\t\tif (logMode.error && !mode.quiet && logMode.verbosity > 1) {\n\t\t\t\t\tlogger.error(\n\t\t\t\t\t\t'Export format not selected',\n\t\t\t\t\t\t'dom > events > exportPaletteButton click event'\n\t\t\t\t\t);\n\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tuiManager.handleExport(format);\n\t\t\t}\n\t\t}\n\t);\n\n\taddEventListener(domIDs.generateButton, 'click', async (e: MouseEvent) => {\n\t\te.preventDefault();\n\n\t\t// captures data from UI at the time the Generate Button is clicked\n\t\tconst {\n\t\t\ttype,\n\t\t\tswatches,\n\t\t\tenableAlpha,\n\t\t\tlimitDarkness,\n\t\t\tlimitGrayness,\n\t\t\tlimitLightness\n\t\t} = uiManager.pullParamsFromUI();\n\n\t\tif (logMode.info && logMode.verbosity > 1)\n\t\t\tlogger.info(\n\t\t\t\t'Generate Button click event: Retrieved parameters from UI.',\n\t\t\t\t'dom > events > generateButton click event'\n\t\t\t);\n\n\t\tlet customColor = (await idb.getCustomColor()) as HSL | null;\n\n\t\tif (!customColor) {\n\t\t\tcustomColor = utils.random.hsl(true);\n\t\t} else {\n\t\t\tif (mode.debug && logMode.info)\n\t\t\t\tlogger.info(\n\t\t\t\t\t`User-generated Custom Color found in IndexedDB: ${JSON.stringify(\n\t\t\t\t\t\tcustomColor\n\t\t\t\t\t)}`,\n\t\t\t\t\t'dom > events > generateButton click event'\n\t\t\t\t);\n\t\t}\n\n\t\tconst paletteOptions: PaletteOptions = {\n\t\t\tcustomColor: core.base.clone(customColor),\n\t\t\tflags: {\n\t\t\t\tenableAlpha,\n\t\t\t\tlimitDarkness,\n\t\t\t\tlimitGrayness,\n\t\t\t\tlimitLightness\n\t\t\t},\n\t\t\tswatches,\n\t\t\ttype\n\t\t};\n\n\t\tif (mode.debug && logMode.info) {\n\t\t\tlogger.info(\n\t\t\t\t`paletteOptions object data:`,\n\t\t\t\t'dom > events > generateButton click event'\n\t\t\t);\n\t\t\tlogger.info(\n\t\t\t\t`paletteType: ${paletteOptions.type}`,\n\t\t\t\t'dom > events > generateButton click event'\n\t\t\t);\n\t\t\tlogger.info(\n\t\t\t\t`swatches: ${paletteOptions.swatches}`,\n\t\t\t\t'dom > events > generateButton click event'\n\t\t\t);\n\t\t\tlogger.info(\n\t\t\t\t`customColor: ${JSON.stringify(paletteOptions.customColor)}`,\n\t\t\t\t'dom > events > generateButton click event'\n\t\t\t);\n\t\t\tlogger.info(\n\t\t\t\t`enableAlpha: ${paletteOptions.flags.enableAlpha}`,\n\t\t\t\t'dom > events > generateButton click event'\n\t\t\t);\n\t\t\tlogger.info(\n\t\t\t\t`limitDarkness: ${paletteOptions.flags.limitDarkness}`,\n\t\t\t\t'dom > events > generateButton click event'\n\t\t\t);\n\t\t\tlogger.info(\n\t\t\t\t`limitGrayness: ${paletteOptions.flags.limitGrayness}`,\n\t\t\t\t'dom > events > generateButton click event'\n\t\t\t);\n\t\t\tlogger.info(\n\t\t\t\t`limitLightness: ${paletteOptions.flags.limitLightness}`,\n\t\t\t\t'dom > events > generateButton click event'\n\t\t\t);\n\t\t}\n\n\t\tawait start.genPalette(paletteOptions);\n\t});\n\n\taddEventListener(domIDs.helpMenuButton, 'click', async (e: MouseEvent) => {\n\t\te.preventDefault();\n\n\t\tuiElements.divs.helpMenu?.classList.remove('hidden');\n\t\tuiElements.divs.helpMenu?.setAttribute('aria-hidden', 'false');\n\t});\n\n\taddEventListener(\n\t\tdomIDs.historyMenuButton,\n\t\t'click',\n\t\tasync (e: MouseEvent) => {\n\t\t\te.preventDefault();\n\n\t\t\tuiElements.divs.historyMenu?.classList.remove('hidden');\n\t\t\tuiElements.divs.historyMenu?.setAttribute('aria-hidden', 'false');\n\t\t}\n\t);\n\n\taddEventListener(\n\t\tdomIDs.importExportMenuButton,\n\t\t'click',\n\t\tasync (e: MouseEvent) => {\n\t\t\te.preventDefault();\n\n\t\t\tuiElements.divs.importExportMenu?.classList.remove('hidden');\n\t\t\tuiElements.divs.importExportMenu?.setAttribute(\n\t\t\t\t'aria-hidden',\n\t\t\t\t'false'\n\t\t\t);\n\t\t}\n\t);\n\n\taddEventListener(domIDs.importPaletteInput, 'change', async (e: Event) => {\n\t\tconst input = e.target as HTMLInputElement;\n\n\t\tif (input.files && input.files.length > 0) {\n\t\t\tconst file = input.files[0];\n\n\t\t\t// *DEV-NOTE* implement a way to determine whether file describes CSS, JSON, or XML import\n\t\t\tconst format = 'JSON';\n\n\t\t\tawait uiManager.handleImport(file, format);\n\t\t}\n\t});\n\n\taddEventListener(\n\t\tdomIDs.resetDatabaseButton,\n\t\t'click',\n\t\tasync (e: MouseEvent) => {\n\t\t\te.preventDefault();\n\n\t\t\tif (String(mode.environment) === 'prod') {\n\t\t\t\tif (!mode.quiet && logMode.error)\n\t\t\t\t\tlogger.error(\n\t\t\t\t\t\t'Cannot reset database in production mode.',\n\t\t\t\t\t\t'dom > events > resetDatabaseButton click event'\n\t\t\t\t\t);\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst confirmReset = confirm(\n\t\t\t\t'Are you sure you want to reset the database?'\n\t\t\t);\n\n\t\t\tif (!confirmReset) return;\n\n\t\t\ttry {\n\t\t\t\tconst idbManager = await IDBManager.getInstance();\n\n\t\t\t\tidbManager.resetDatabase();\n\n\t\t\t\tif (!mode.quiet && logMode.info)\n\t\t\t\t\tlogger.info(\n\t\t\t\t\t\t'Database has been successfully reset.',\n\t\t\t\t\t\t'dom > events > resetDatabaseButton click event'\n\t\t\t\t\t);\n\n\t\t\t\tif (mode.showAlerts) alert('IndexedDB successfully reset!');\n\t\t\t} catch (error) {\n\t\t\t\tif (logMode.error)\n\t\t\t\t\tlogger.error(\n\t\t\t\t\t\t`Failed to reset database: ${error}`,\n\t\t\t\t\t\t'dom > events > resetDatabaseButton click event'\n\t\t\t\t\t);\n\n\t\t\t\tif (mode.showAlerts) alert('Failed to reset database.');\n\t\t\t}\n\t\t}\n\t);\n\n\taddEventListener(\n\t\tdomIDs.resetPaletteIDButton,\n\t\t'click',\n\t\tasync (e: MouseEvent) => {\n\t\t\te.preventDefault();\n\n\t\t\tif (String(mode.environment) === 'prod') {\n\t\t\t\tif (!mode.quiet && logMode.error)\n\t\t\t\t\tlogger.error(\n\t\t\t\t\t\t'Cannot reset palette ID in production mode.',\n\t\t\t\t\t\t'dom > events > resetPaletteIDButton click event'\n\t\t\t\t\t);\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst confirmReset = confirm(\n\t\t\t\t'Are you sure you want to reset the palette ID?'\n\t\t\t);\n\n\t\t\tif (!confirmReset) return;\n\n\t\t\ttry {\n\t\t\t\tawait idb.resetPaletteID();\n\n\t\t\t\tif (!mode.quiet && logMode.info)\n\t\t\t\t\tlogger.info(\n\t\t\t\t\t\t'Palette ID has been successfully reset.',\n\t\t\t\t\t\t'dom > events > resetPaletteIDButton click event'\n\t\t\t\t\t);\n\n\t\t\t\tif (mode.showAlerts) alert('Palette ID reset successfully!');\n\t\t\t} catch (error) {\n\t\t\t\tif (logMode.error)\n\t\t\t\t\tlogger.error(`Failed to reset palette ID: ${error}`);\n\n\t\t\t\tif (mode.showAlerts) alert('Failed to reset palette ID.');\n\t\t\t}\n\t\t}\n\t);\n\n\taddEventListener(domIDs.saturateButton, 'click', async (e: MouseEvent) => {\n\t\te.preventDefault();\n\n\t\tif (!uiElements.select.selectedColorOption) {\n\t\t\tthrow new Error('Selected color option not found');\n\t\t}\n\n\t\tconst selectedColor = uiElements.inputs.selectedColorOption\n\t\t\t? parseInt(uiElements.select.selectedColorOption.value, 10)\n\t\t\t: 0;\n\n\t\tuiManager.saturateColor(selectedColor);\n\t});\n\n\twindow.addEventListener('click', async (e: MouseEvent) => {\n\t\tif (uiElements.divs.advancedMenu)\n\t\t\tif (e.target === uiElements.divs.advancedMenu) {\n\t\t\t\tuiElements.divs.advancedMenu.classList.add('hidden');\n\t\t\t\tuiElements.divs.advancedMenu.setAttribute(\n\t\t\t\t\t'aria-hidden',\n\t\t\t\t\t'true'\n\t\t\t\t);\n\t\t\t}\n\t});\n\n\twindow.addEventListener('click', async (e: MouseEvent) => {\n\t\tif (uiElements.divs.customColorMenu)\n\t\t\tif (e.target === uiElements.divs.customColorMenu) {\n\t\t\t\tuiElements.divs.customColorMenu.classList.add('hidden');\n\t\t\t\tuiElements.divs.customColorMenu.setAttribute(\n\t\t\t\t\t'aria-hidden',\n\t\t\t\t\t'true'\n\t\t\t\t);\n\t\t\t}\n\t});\n\n\twindow.addEventListener('click', async (e: MouseEvent) => {\n\t\tif (uiElements.divs.developerMenu)\n\t\t\tif (e.target === uiElements.divs.developerMenu) {\n\t\t\t\tuiElements.divs.developerMenu.classList.add('hidden');\n\t\t\t\tuiElements.divs.developerMenu.setAttribute(\n\t\t\t\t\t'aria-hidden',\n\t\t\t\t\t'true'\n\t\t\t\t);\n\t\t\t}\n\t});\n\n\twindow.addEventListener('click', async (e: MouseEvent) => {\n\t\tif (uiElements.divs.helpMenu)\n\t\t\tif (e.target === uiElements.divs.helpMenu) {\n\t\t\t\tuiElements.divs.helpMenu.classList.add('hidden');\n\t\t\t\tuiElements.divs.helpMenu.setAttribute('aria-hidden', 'true');\n\t\t\t}\n\t});\n\n\twindow.addEventListener('click', async (e: MouseEvent) => {\n\t\tif (uiElements.divs.historyMenu)\n\t\t\tif (e.target === uiElements.divs.historyMenu) {\n\t\t\t\tuiElements.divs.historyMenu.classList.add('hidden');\n\t\t\t\tuiElements.divs.historyMenu.setAttribute('aria-hidden', 'true');\n\t\t\t}\n\t});\n\n\twindow.addEventListener('click', async (e: MouseEvent) => {\n\t\tif (uiElements.divs.importExportMenu)\n\t\t\tif (e.target === uiElements.divs.importExportMenu) {\n\t\t\t\tuiElements.divs.importExportMenu.classList.add('hidden');\n\t\t\t\tuiElements.divs.importExportMenu.setAttribute(\n\t\t\t\t\t'aria-hidden',\n\t\t\t\t\t'true'\n\t\t\t\t);\n\t\t\t}\n\t});\n}\n\nexport const base: DOM_FunctionsMasterInterface['events'] = {\n\taddEventListener,\n\thandlePaletteGen,\n\tinitializeEventListeners\n};\n","// File: src/dom/validate.ts\n\nimport { DOM_FunctionsMasterInterface } from '../types/index.js';\nimport { consts, mode } from '../common/data/base.js';\nimport { createLogger } from '../logger/index.js';\n\nconst logger = await createLogger();\n\nconst logMode = mode.logging;\n\nfunction validateElements(): void {\n\tconst ids = consts.dom.ids;\n\tconst missingElements: string[] = [];\n\n\tObject.values(ids).forEach(id => {\n\t\tconst element = document.getElementById(id);\n\n\t\tif (!element) {\n\t\t\tif (logMode.error)\n\t\t\t\tlogger.error(\n\t\t\t\t\t`Element with ID \"${id}\" not found`,\n\t\t\t\t\t'dom > validate > validateElements()'\n\t\t\t\t);\n\t\t\tmissingElements.push(id);\n\t\t}\n\t});\n\n\tif (missingElements.length) {\n\t\tif (logMode.warn)\n\t\t\tlogger.warn(\n\t\t\t\t`Some DOM elements are missing (${missingElements.length}): ${missingElements.join(\n\t\t\t\t\t', '\n\t\t\t\t)}`,\n\t\t\t\t'dom > validate > validateElements()'\n\t\t\t);\n\t} else {\n\t\tif (logMode.info && mode.debug && logMode.verbosity > 1)\n\t\t\tlogger.info(\n\t\t\t\t'All required DOM elements are present.',\n\t\t\t\t'dom > validate > validateElements()'\n\t\t\t);\n\t}\n}\n\nexport const validate: DOM_FunctionsMasterInterface['validate'] = {\n\telements: validateElements\n};\n","// File: src/dom/index.js\n\nimport { DOM_FunctionsMasterInterface } from '../types/index.js';\nimport { base } from './events.js';\nimport { fileUtils } from './fileUtils.js';\nimport { parse } from './parse.js';\nimport { validate } from './validate.js';\n\nconst events = { ...base };\n\nexport const dom: DOM_FunctionsMasterInterface = {\n\tevents,\n\tfileUtils,\n\tparse,\n\tvalidate\n};\n","// ColorGen - version 0.6.0-dev\n\n// Author: Viihna Leraine (viihna@ViihnaTech.com / viihna.78 (Signal) / Viihna-Lehraine (Github))\n// Licensed under GNU GPLv3 (https://www.gnu.org/licenses/gpl-3.0.html)\n\n// You may use this code for any purpose EXCEPT for the creation of proprietary derivatives. I encourage you to improve on my code or to include it in other projects if you find it helpful. Please credit me as the original author.\n\n// This application comes with ABSOLUTELY NO WARRANTY OR GUARANTEE OF ANY KIND.\n\n// File: src/app.js\n\nimport { consts, mode } from './common/data/base.js';\nimport { getIDBInstance } from './db/instance.js';\nimport { createLogger } from './logger/index.js';\nimport { dom } from './dom/index.js';\n\nconst logger = await createLogger();\n\nconst logMode = mode.logging;\n\nif (mode.debug)\n\tlogger.info('Executing main application script', 'app.js [STEP 1]');\n\nif (document.readyState === 'loading') {\n\tif (mode.debug)\n\t\tlogger.info(\n\t\t\t'DOM content not yet loaded. Adding DOMContentLoaded event listener and awaiting...',\n\t\t\t'app.js [STEP 2]'\n\t\t);\n\n\tdocument.addEventListener('DOMContentLoaded', initializeApp);\n} else {\n\tif (mode.debug)\n\t\tlogger.info(\n\t\t\t'DOM content already loaded. Initializing application immediately.',\n\t\t\t'app.js [STEP 2]: ERROR'\n\t\t);\n\n\tinitializeApp();\n}\n\nasync function initializeApp(): Promise<void> {\n\tlogger.info('DOM content loaded - Initializing application', 'app.js');\n\n\ttry {\n\t\tif (mode.logging.verbosity > 1)\n\t\t\tlogger.info(\n\t\t\t\t'Creating new IDBManager instance. Initializing database and its dependencies.',\n\t\t\t\t'app.js, ['\n\t\t\t);\n\n\t\tif (mode.expose.idbManager) {\n\t\t\tif (mode.debug)\n\t\t\t\tlogger.info(\n\t\t\t\t\t'Exposing IDBManager instance to window.',\n\t\t\t\t\t'app.js'\n\t\t\t\t);\n\n\t\t\ttry {\n\t\t\t\t(async () => {\n\t\t\t\t\tconst idbManager = await getIDBInstance();\n\n\t\t\t\t\tlogger.info(\n\t\t\t\t\t\t`IDBManager instance successfully initialized.`,\n\t\t\t\t\t\t'app.js > initializeApp()'\n\t\t\t\t\t);\n\n\t\t\t\t\t// binds the IDBManager instance to the window object\n\t\t\t\t\twindow.idbManager = idbManager;\n\n\t\t\t\t\tlogger.info(\n\t\t\t\t\t\t'IDBManager instance successfully exposed to window.',\n\t\t\t\t\t\t'app.js > initializeApp()'\n\t\t\t\t\t);\n\t\t\t\t})();\n\t\t\t} catch (error) {\n\t\t\t\tif (logMode.error)\n\t\t\t\t\tlogger.error(\n\t\t\t\t\t\t`Failed to expose IDBManager instance to window. Error: ${error}`\n\t\t\t\t\t);\n\n\t\t\t\tif (mode.showAlerts)\n\t\t\t\t\talert('An error occurred. Check console for details.');\n\t\t\t}\n\t\t}\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`Failed to create initial IDBManager instance. Error: ${error}`\n\t\t\t);\n\n\t\tif (mode.showAlerts)\n\t\t\talert('An error occurred. Check console for details.');\n\t}\n\n\tconst selectedColorOption = consts.dom.elements.inputs.selectedColorOption;\n\n\tif (mode.debug) {\n\t\tif (logMode.debug)\n\t\t\tif (!mode.quiet && logMode.verbosity > 1) {\n\t\t\t\tlogger.debug('Validating DOM elements');\n\t\t\t}\n\n\t\tdom.validate.elements();\n\t} else {\n\t\tif (!mode.quiet) {\n\t\t\tlogger.info('Skipping DOM element validation');\n\t\t}\n\t}\n\n\tconst selectedColor = selectedColorOption\n\t\t? parseInt(selectedColorOption.value, 10)\n\t\t: 0;\n\n\tif (!mode.quiet && mode.debug)\n\t\tlogger.debug(`Selected color: ${selectedColor}`);\n\n\ttry {\n\t\tdom.events.initializeEventListeners();\n\n\t\tif (!mode.quiet)\n\t\t\tlogger.info('Event listeners have been successfully initialized');\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(`Failed to initialize event listeners.\\n${error}`);\n\n\t\tif (mode.showAlerts)\n\t\t\talert('An error occurred. Check console for details.');\n\t}\n\n\tif (!mode.quiet && logMode.info)\n\t\tlogger.info(\n\t\t\t'Application successfully initialized. Awaiting user input.'\n\t\t);\n}\n"],"names":["validate","brand","debounce","base","hexAlphaToNumericAlpha","convert","isColorSpace","isColorString","getFormattedTimestamp","getElement","regex","adjustments","limits","paletteRanges","probabilities","timeouts","domIDs","dom","idb","palette","logger","logMode","conversion","color","hslTo","genAllColorValues","sl","random","parse","isTooDark","isTooGray","isTooLight","update","create","getWeightedRandomInterval","analogous","diadic","hexadic","splitComplementary","tetradic","triadic","genHues","file","genPalette","genPaletteType"],"mappings":"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","x_google_ignoreList":[6]}