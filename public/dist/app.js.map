{"version":3,"file":"app.js","sources":["../../../src/data/config.ts","../../../src/logger/AppLogger.ts","../../../src/data/mode.ts","../../../src/logger/factory.ts","../../../src/data/sets.ts","../../../src/common/core.ts","../../../src/data/defaults.ts","../../../src/common/helpers/conversion.ts","../../../src/common/transform.ts","../../../src/common/utils/color.ts","../../../src/common/convert.ts","../../../src/data/consts.ts","../../../src/common/helpers/dom.ts","../../../src/common/helpers/index.ts","../../../src/data/dom.ts","../../../src/common/utils/conversion.ts","../../../src/common/utils/errors.ts","../../../src/common/utils/palette.ts","../../../src/common/utils/random.ts","../../../src/common/utils/index.ts","../../../src/common/superUtils.ts","../../../src/common/index.ts","../../node_modules/idb/build/index.js","../../../src/db/initialize.ts","../../../src/db/utils.ts","../../../src/db/IDBManager.ts","../../../src/db/instance.ts","../../../src/dom/parse.ts","../../../src/dom/fileUtils.ts","../../../src/io/parse/color.ts","../../../src/io/parse/colorValue.ts","../../../src/io/parse/base.ts","../../../src/io/parse/json.ts","../../../src/io/parse/index.ts","../../../src/io/deserialize.ts","../../../src/io/serialize.ts","../../../src/io/base.ts","../../../src/io/index.ts","../../../src/ui/UIManager.ts","../../../src/palette/common/helpers/limits.ts","../../../src/palette/common/helpers/update.ts","../../../src/palette/common/helpers/index.ts","../../../src/palette/common/superUtils/create.ts","../../../src/palette/common/utils/adjust.ts","../../../src/palette/common/utils/probability.ts","../../../src/palette/common/utils/index.ts","../../../src/palette/common/superUtils/genHues.ts","../../../src/palette/common/superUtils/index.ts","../../../src/ui/base.ts","../../../src/ui/index.ts","../../../src/palette/main/types/analogous.ts","../../../src/palette/main/types/complementary.ts","../../../src/palette/main/types/diadic.ts","../../../src/palette/main/types/hexadic.ts","../../../src/palette/main/types/monochromatic.ts","../../../src/palette/main/types/random.ts","../../../src/palette/main/types/splitComplementary.ts","../../../src/palette/main/types/tetradic.ts","../../../src/palette/main/types/triadic.ts","../../../src/palette/main/index.ts","../../../src/palette/main.ts","../../../src/dom/eventListeners.ts","../../../src/dom/validate.ts","../../../src/dom/index.ts","../../../src/app.ts"],"sourcesContent":["// File: src/data/config.js\n\nimport { ConfigDataInterface, ColorSpace } from '../types/index.js';\n\nconst DEFAULT_KEYS = {\n\tAPP_SETTINGS: 'appSettings',\n\tCUSTOM_COLOR: 'customColor'\n};\n\nconst DEFAULT_SETTINGS = {\n\tcolorSpace: 'hsl' as ColorSpace,\n\tlastTableID: 0,\n\ttheme: 'light' as 'light' | 'dark',\n\tloggingEnabled: true\n};\n\nconst STORE_NAMES = {\n\tAPP_SETTINGS: 'appSettings',\n\tCUSTOM_COLOR: 'customColor',\n\tMUTATIONS: 'mutations',\n\tPALLETES: 'palettes',\n\tSETTINGS: 'settings',\n\tTABLES: 'tables'\n};\n\nconst db = { DEFAULT_KEYS, DEFAULT_SETTINGS, STORE_NAMES };\n\nconst regex: ConfigDataInterface['regex'] = {\n\tcolors: {\n\t\tcmyk: /cmyk\\((\\d+)%?,\\s*(\\d+)%?,\\s*(\\d+)%?,\\s*(\\d+)%?(?:,\\s*([\\d.]+))?\\)/i,\n\t\thex: /^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{8})$/,\n\t\thsl: /hsl\\(([\\d.]+),\\s*([\\d.]+)%?,\\s*([\\d.]+)%?(?:,\\s*([\\d.]+))?\\)/i,\n\t\thsv: /hsv\\(([\\d.]+),\\s*([\\d.]+)%?,\\s*([\\d.]+)%?(?:,\\s*([\\d.]+))?\\)/i,\n\t\tlab: /lab\\(([\\d.]+),\\s*([\\d.]+),\\s*([\\d.]+)(?:,\\s*([\\d.]+))?\\)/i,\n\t\trgb: /rgb\\(([\\d.]+),\\s*([\\d.]+),\\s*([\\d.]+)(?:,\\s*([\\d.]+))?\\)/i,\n\t\txyz: /xyz\\(([\\d.]+),\\s*([\\d.]+),\\s*([\\d.]+)(?:,\\s*([\\d.]+))?\\)/i\n\t},\n\tfile: {\n\t\tpalette: {\n\t\t\tcss: {\n\t\t\t\tcolor: /\\.color-\\d+\\s*{\\s*([\\s\\S]*?)\\s*}/i,\n\t\t\t\tmetadata: /\\.palette\\s*{\\s*([\\s\\S]*?)\\s*}/i\n\t\t\t}\n\t\t}\n\t}\n};\n\nexport const configData: ConfigDataInterface = { db, regex } as const;\n","// File: logger/AppLogger.js\n\nimport {\n\tAppLogger_ClassInterface,\n\tModeDataInterface,\n\tMutationLog\n} from '../types/index.js';\n\nexport class AppLogger implements AppLogger_ClassInterface {\n\tprivate static instance: AppLogger | null = null;\n\tprivate mode: ModeDataInterface;\n\n\tprivate constructor(mode: ModeDataInterface) {\n\t\tthis.mode = mode;\n\t}\n\n\tpublic static getInstance(mode: ModeDataInterface): AppLogger {\n\t\tif (!AppLogger.instance) {\n\t\t\tAppLogger.instance = new AppLogger(mode);\n\t\t}\n\t\treturn AppLogger.instance;\n\t}\n\n\tpublic log(\n\t\tmessage: string,\n\t\tlevel: 'debug' | 'info' | 'warn' | 'error' = 'info',\n\t\tdebugLevel: number = 0,\n\t\tcaller?: string\n\t): void {\n\t\tthis.logMessage(message, level, debugLevel, caller);\n\t}\n\n\tpublic async logAsync(\n\t\tmessage: string,\n\t\tlevel: 'debug' | 'info' | 'warn' | 'error' = 'info',\n\t\tdebugLevel: number = 0,\n\t\tcaller?: string\n\t): Promise<void> {\n\t\tthis.logMessage(message, level, debugLevel, caller);\n\t}\n\n\tpublic logMutation(\n\t\tdata: MutationLog,\n\t\tlogCallback: (data: MutationLog) => void = () => {}\n\t): void {\n\t\tthis.log(this.formatMutationLog(data), 'info');\n\n\t\tlogCallback(data);\n\t}\n\n\tprivate logMessage(\n\t\tmessage: string,\n\t\tlevel: 'debug' | 'info' | 'warn' | 'error',\n\t\tdebugLevel: number,\n\t\tcaller?: string\n\t): void {\n\t\tif (\n\t\t\t(level === 'info' && this.mode.quiet) ||\n\t\t\tdebugLevel < this.getDebugThreshold(level)\n\t\t) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst callerInfo = caller || this.getCallerInfo();\n\t\tconst timestamp = this.getFormattedTimestamp();\n\n\t\ttry {\n\t\t\tconsole.log(\n\t\t\t\t`%c[${level.toUpperCase()}]%c ${timestamp} [${callerInfo}] %c${message}`,\n\t\t\t\tthis.getLevelColor(level),\n\t\t\t\t'color: gray',\n\t\t\t\t'color: inherit'\n\t\t\t);\n\t\t} catch (error) {\n\t\t\tconsole.error(\n\t\t\t\t`AppLogger encountered an unexpected error: ${error}`\n\t\t\t);\n\t\t}\n\n\t\tif (\n\t\t\tcallerInfo === 'Unknown caller' &&\n\t\t\tdebugLevel > 1 &&\n\t\t\tthis.mode.stackTrace\n\t\t) {\n\t\t\tconsole.trace('Full Stack Trace:');\n\t\t}\n\t}\n\n\tprivate formatMutationLog(data: MutationLog): string {\n\t\treturn `Mutation logged: ${JSON.stringify(data)}`;\n\t}\n\n\tprivate getDebugThreshold(\n\t\tlevel: 'debug' | 'info' | 'warn' | 'error'\n\t): number {\n\t\tswitch (level) {\n\t\t\tcase 'debug':\n\t\t\t\treturn 2;\n\t\t\tcase 'info':\n\t\t\t\treturn 1;\n\t\t\tcase 'warn':\n\t\t\t\treturn 0;\n\t\t\tcase 'error':\n\t\t\t\treturn 0;\n\t\t\tdefault:\n\t\t\t\treturn 0;\n\t\t}\n\t}\n\n\tprivate getCallerInfo(): string {\n\t\tconst stack = new Error().stack;\n\n\t\tif (stack) {\n\t\t\tconst stackLines = stack.split('\\n');\n\n\t\t\tfor (const line of stackLines) {\n\t\t\t\tif (!line.includes('AppLogger') && line.includes('at ')) {\n\t\t\t\t\tconst match =\n\t\t\t\t\t\tline.match(/at\\s+(.*)\\s+\\((.*):(\\d+):(\\d+)\\)/) ||\n\t\t\t\t\t\tline.match(/at\\s+(.*):(\\d+):(\\d+)/);\n\t\t\t\t\tif (match) {\n\t\t\t\t\t\treturn match[1]\n\t\t\t\t\t\t\t? `${match[1]} (${match[2]}:${match[3]})`\n\t\t\t\t\t\t\t: `${match[2]}:${match[3]}`;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn 'Unknown caller';\n\t}\n\n\tprivate getFormattedTimestamp(): string {\n\t\treturn new Date().toLocaleString('en-US', {\n\t\t\tyear: 'numeric',\n\t\t\tmonth: '2-digit',\n\t\t\tday: '2-digit',\n\t\t\thour: '2-digit',\n\t\t\tminute: '2-digit',\n\t\t\tsecond: '2-digit',\n\t\t\thour12: false\n\t\t});\n\t}\n\n\tprivate getLevelColor(level: 'debug' | 'info' | 'warn' | 'error'): string {\n\t\tswitch (level) {\n\t\t\tcase 'debug':\n\t\t\t\treturn 'color: green';\n\t\t\tcase 'info':\n\t\t\t\treturn 'color: blue';\n\t\t\tcase 'warn':\n\t\t\t\treturn 'color: orange';\n\t\t\tcase 'error':\n\t\t\t\treturn 'color: red';\n\t\t\tdefault:\n\t\t\t\treturn 'color: black';\n\t\t}\n\t}\n}\n","// File: data/mode.js\n\nimport { ModeDataInterface } from '../types/index.js';\n\nexport const modeData: ModeDataInterface = {\n\tenvironment: 'dev',\n\tdebug: true,\n\tdebugLevel: 1,\n\texpose: { idbManager: true, logger: true, uiManager: true },\n\tgracefulErrors: false,\n\tlogging: {\n\t\targs: true,\n\t\tclicks: false,\n\t\tdebug: true,\n\t\terror: true,\n\t\tinfo: true,\n\t\tverbosity: 3,\n\t\twarn: true\n\t},\n\tquiet: false,\n\tshowAlerts: true,\n\tstackTrace: true\n} as const;\n","// File: logger/factory.js\n\nimport { MutationLog } from '../types/index.js';\nimport { AppLogger } from './AppLogger.js';\nimport { modeData as mode } from '../data/mode.js';\n\nexport const createLogger = async () => {\n\tconst debugLevel = mode.debugLevel;\n\tconst appLogger = AppLogger.getInstance(mode);\n\n\treturn {\n\t\tdebug: (message: string, caller?: string) =>\n\t\t\tappLogger.log(message, 'debug', debugLevel, caller),\n\t\tinfo: (message: string, caller?: string) =>\n\t\t\tappLogger.log(message, 'info', debugLevel, caller),\n\t\twarn: (message: string, caller?: string) =>\n\t\t\tappLogger.log(message, 'warn', debugLevel, caller),\n\t\terror: (message: string, caller?: string) =>\n\t\t\tappLogger.log(message, 'error', debugLevel, caller),\n\t\tmutation: (\n\t\t\tdata: MutationLog,\n\t\t\tlogCallback: (data: MutationLog) => void,\n\t\t\tcaller?: string\n\t\t) => {\n\t\t\tappLogger.logMutation(data, logCallback);\n\n\t\t\tif (caller) {\n\t\t\t\tappLogger.log(\n\t\t\t\t\t`Mutation logged by ${caller}`,\n\t\t\t\t\t'debug',\n\t\t\t\t\tdebugLevel\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t};\n};\n\nexport const createAsyncLogger = async () => {\n\tconst debugLevel = mode.debugLevel;\n\tconst appLogger = AppLogger.getInstance(mode);\n\n\treturn {\n\t\tdebug: (message: string, caller?: string) =>\n\t\t\tappLogger.logAsync(message, 'debug', debugLevel, caller),\n\t\tinfo: (message: string, caller?: string) =>\n\t\t\tappLogger.logAsync(message, 'info', debugLevel, caller),\n\t\twarn: (message: string, caller?: string) =>\n\t\t\tappLogger.logAsync(message, 'warn', debugLevel, caller),\n\t\terror: (message: string, caller?: string) =>\n\t\t\tappLogger.logAsync(message, 'error', debugLevel, caller),\n\t\tmutation: (\n\t\t\tdata: MutationLog,\n\t\t\tlogCallback: (data: MutationLog) => void,\n\t\t\tcaller?: string\n\t\t) => {\n\t\t\tappLogger.logMutation(data, logCallback);\n\n\t\t\tif (caller) {\n\t\t\t\tappLogger.logAsync(\n\t\t\t\t\t`Mutation logged by ${caller}`,\n\t\t\t\t\t'debug',\n\t\t\t\t\tdebugLevel\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t};\n};\n","// File: data/sets.js\n\nimport { DataSetsInterface } from '../types/index.js';\n\nexport const dataSets: DataSetsInterface = {\n\tByteRange: [0, 255] as const,\n\tHexSet: 'HexSet' as const,\n\tLAB_L: [0, 100] as const,\n\tLAB_A: [-128, 127] as const,\n\tLAB_B: [-128, 127] as const,\n\tPercentile: [0, 100] as const,\n\tRadial: [0, 360] as const,\n\tXYZ_X: [0, 95.047] as const,\n\tXYZ_Y: [0, 100] as const,\n\tXYZ_Z: [0, 108.883] as const\n} as const;\n","// File: common/core.js\n\nimport {\n\tByteRange,\n\tCMYK,\n\tCMYK_StringProps,\n\tColor,\n\tColorSpace,\n\tColor_StringProps,\n\tCommonFn_MasterInterface,\n\tHex,\n\tHexSet,\n\tHex_StringProps,\n\tHSL,\n\tHSL_StringProps,\n\tHSV,\n\tHSV_StringProps,\n\tLAB,\n\tLAB_StringProps,\n\tLAB_L,\n\tLAB_A,\n\tLAB_B,\n\tNumericRangeKey,\n\tPercentile,\n\tRadial,\n\tRangeKeyMap,\n\tRGB,\n\tRGB_StringProps,\n\tSL,\n\tSV,\n\tUnbrandedCMYK,\n\tUnbrandedHex,\n\tUnbrandedHSL,\n\tUnbrandedHSV,\n\tUnbrandedLAB,\n\tUnbrandedRGB,\n\tUnbrandedSL,\n\tUnbrandedSV,\n\tUnbrandedXYZ,\n\tXYZ,\n\tXYZ_StringProps,\n\tXYZ_X,\n\tXYZ_Y,\n\tXYZ_Z\n} from '../types/index.js';\nimport { dataSets as sets } from '../data/sets.js';\n\nconst _sets = sets;\n\n// ******** SECTION 0 - Brand ********\n\nfunction asBranded<T extends keyof RangeKeyMap>(\n\tvalue: number,\n\trangeKey: T\n): RangeKeyMap[T] {\n\tvalidate.range(value, rangeKey);\n\n\treturn value as RangeKeyMap[T];\n}\n\nfunction asByteRange(value: number): ByteRange {\n\tvalidate.range(value, 'ByteRange');\n\n\treturn value as ByteRange;\n}\n\nfunction asHexSet(value: string): HexSet {\n\tif (/^#[0-9a-fA-F]{8}$/.test(value)) {\n\t\tvalue = value.slice(0, 7);\n\t}\n\tif (!validate.hexSet(value)) {\n\t\tthrow new Error(`Invalid HexSet value: ${value}`);\n\t}\n\treturn value as HexSet;\n}\n\nfunction asLAB_L(value: number): LAB_L {\n\tvalidate.range(value, 'LAB_L');\n\n\treturn value as LAB_L;\n}\n\nfunction asLAB_A(value: number): LAB_A {\n\tvalidate.range(value, 'LAB_A');\n\n\treturn value as LAB_A;\n}\n\nfunction asLAB_B(value: number): LAB_B {\n\tvalidate.range(value, 'LAB_B');\n\n\treturn value as LAB_B;\n}\n\nfunction asPercentile(value: number): Percentile {\n\tvalidate.range(value, 'Percentile');\n\n\treturn value as Percentile;\n}\n\nfunction asRadial(value: number): Radial {\n\tvalidate.range(value, 'Radial');\n\n\treturn value as Radial;\n}\n\nfunction asXYZ_X(value: number): XYZ_X {\n\tvalidate.range(value, 'XYZ_X');\n\n\treturn value as XYZ_X;\n}\n\nfunction asXYZ_Y(value: number): XYZ_Y {\n\tvalidate.range(value, 'XYZ_Y');\n\n\treturn value as XYZ_Y;\n}\n\nfunction asXYZ_Z(value: number): XYZ_Z {\n\tvalidate.range(value, 'XYZ_Z');\n\n\treturn value as XYZ_Z;\n}\n\nexport const brand: CommonFn_MasterInterface['core']['brand'] = {\n\tasBranded,\n\tasByteRange,\n\tasHexSet,\n\tasLAB_L,\n\tasLAB_A,\n\tasLAB_B,\n\tasPercentile,\n\tasRadial,\n\tasXYZ_X,\n\tasXYZ_Y,\n\tasXYZ_Z\n};\n\n// ******** SECTION 1 ********\n\nfunction initializeDefaultColors() {\n\treturn {\n\t\tcmyk: {\n\t\t\tvalue: {\n\t\t\t\tcyan: brand.asPercentile(0),\n\t\t\t\tmagenta: brand.asPercentile(0),\n\t\t\t\tyellow: brand.asPercentile(0),\n\t\t\t\tkey: brand.asPercentile(0)\n\t\t\t},\n\t\t\tformat: 'cmyk'\n\t\t},\n\t\thex: {\n\t\t\tvalue: {\n\t\t\t\thex: brand.asHexSet('#000000')\n\t\t\t},\n\t\t\tformat: 'hex'\n\t\t},\n\t\thsl: {\n\t\t\tvalue: {\n\t\t\t\thue: brand.asRadial(0),\n\t\t\t\tsaturation: brand.asPercentile(0),\n\t\t\t\tlightness: brand.asPercentile(0)\n\t\t\t},\n\t\t\tformat: 'hsl'\n\t\t},\n\t\thsv: {\n\t\t\tvalue: {\n\t\t\t\thue: brand.asRadial(0),\n\t\t\t\tsaturation: brand.asPercentile(0),\n\t\t\t\tvalue: brand.asPercentile(0)\n\t\t\t},\n\t\t\tformat: 'hsv'\n\t\t},\n\t\tlab: {\n\t\t\tvalue: {\n\t\t\t\tl: brand.asLAB_L(0),\n\t\t\t\ta: brand.asLAB_A(0),\n\t\t\t\tb: brand.asLAB_B(0)\n\t\t\t},\n\t\t\tformat: 'lab'\n\t\t},\n\t\trgb: {\n\t\t\tvalue: {\n\t\t\t\tred: brand.asByteRange(0),\n\t\t\t\tgreen: brand.asByteRange(0),\n\t\t\t\tblue: brand.asByteRange(0)\n\t\t\t},\n\t\t\tformat: 'rgb'\n\t\t},\n\t\tsl: {\n\t\t\tvalue: {\n\t\t\t\tsaturation: brand.asPercentile(0),\n\t\t\t\tlightness: brand.asPercentile(0)\n\t\t\t},\n\t\t\tformat: 'sl'\n\t\t},\n\t\tsv: {\n\t\t\tvalue: {\n\t\t\t\tsaturation: brand.asPercentile(0),\n\t\t\t\tvalue: brand.asPercentile(0)\n\t\t\t},\n\t\t\tformat: 'sv'\n\t\t},\n\t\txyz: {\n\t\t\tvalue: {\n\t\t\t\tx: brand.asXYZ_X(0),\n\t\t\t\ty: brand.asXYZ_Y(0),\n\t\t\t\tz: brand.asXYZ_Z(0)\n\t\t\t},\n\t\t\tformat: 'xyz'\n\t\t}\n\t};\n}\n\n// ******** SECTION 1 ********\n\nfunction clampToRange(value: number, rangeKey: NumericRangeKey): number {\n\tconst [min, max] = _sets[rangeKey];\n\n\treturn Math.min(Math.max(value, min), max);\n}\n\nfunction clone<T>(value: T): T {\n\treturn structuredClone(value);\n}\n\nfunction debounce<T extends (...args: Parameters<T>) => void>(\n\tfunc: T,\n\tdelay: number\n) {\n\tlet timeout: ReturnType<typeof setTimeout> | null = null;\n\n\treturn (...args: Parameters<T>): void => {\n\t\tif (timeout) clearTimeout(timeout);\n\n\t\ttimeout = setTimeout(() => {\n\t\t\tfunc(...args);\n\t\t}, delay);\n\t};\n}\n\nfunction parseCustomColor(rawValue: string): HSL | null {\n\ttry {\n\t\tconst match = rawValue.match(\n\t\t\t/hsl\\((\\d+),\\s*(\\d+)%?,\\s*(\\d+)%?,\\s*(\\d*\\.?\\d+)\\)/\n\t\t);\n\n\t\tif (match) {\n\t\t\tconst [, hue, saturation, lightness] = match;\n\n\t\t\treturn {\n\t\t\t\tvalue: {\n\t\t\t\t\thue: brand.asRadial(parseInt(hue)),\n\t\t\t\t\tsaturation: brand.asPercentile(parseInt(saturation)),\n\t\t\t\t\tlightness: brand.asPercentile(parseInt(lightness))\n\t\t\t\t},\n\t\t\t\tformat: 'hsl'\n\t\t\t};\n\t\t} else {\n\t\t\tconsole.error(\n\t\t\t\t'Invalid HSL custom color. Expected format: hsl(H, S%, L%, A)\\ncaller: parseCustomColor()'\n\t\t\t);\n\n\t\t\treturn null;\n\t\t}\n\t} catch (error) {\n\t\tconsole.error(`parseCustomColor error: ${error}`);\n\n\t\treturn null;\n\t}\n}\n\nexport const base: CommonFn_MasterInterface['core']['base'] = {\n\tclampToRange,\n\tclone,\n\tdebounce,\n\tparseCustomColor\n} as const;\n\n// ******** SECTION 2 - Brand Color ********\n\nfunction asCMYK(color: UnbrandedCMYK): CMYK {\n\tconst brandedCyan = brand.asPercentile(color.value.cyan);\n\tconst brandedMagenta = brand.asPercentile(color.value.magenta);\n\tconst brandedYellow = brand.asPercentile(color.value.yellow);\n\tconst brandedKey = brand.asPercentile(color.value.key);\n\n\treturn {\n\t\tvalue: {\n\t\t\tcyan: brandedCyan,\n\t\t\tmagenta: brandedMagenta,\n\t\t\tyellow: brandedYellow,\n\t\t\tkey: brandedKey\n\t\t},\n\t\tformat: 'cmyk'\n\t};\n}\n\nfunction asHex(color: UnbrandedHex): Hex {\n\tlet hex = color.value.hex;\n\n\tif (!hex.startsWith('#')) hex = `#${hex}`;\n\n\tif (!/^#[0-9A-Fa-f]{8}$/.test(hex))\n\t\tthrow new Error(`Invalid Hex color format: ${hex}`);\n\n\tconst hexRaw = hex.slice(0, 7);\n\n\tconst brandedHex = brand.asHexSet(hexRaw);\n\n\treturn {\n\t\tvalue: { hex: brandedHex },\n\t\tformat: 'hex'\n\t};\n}\n\nfunction asHSL(color: UnbrandedHSL): HSL {\n\tconst brandedHue = brand.asRadial(color.value.hue);\n\tconst brandedSaturation = brand.asPercentile(color.value.saturation);\n\tconst brandedLightness = brand.asPercentile(color.value.lightness);\n\n\treturn {\n\t\tvalue: {\n\t\t\thue: brandedHue,\n\t\t\tsaturation: brandedSaturation,\n\t\t\tlightness: brandedLightness\n\t\t},\n\t\tformat: 'hsl'\n\t};\n}\n\nfunction asHSV(color: UnbrandedHSV): HSV {\n\tconst brandedHue = brand.asRadial(color.value.hue);\n\tconst brandedSaturation = brand.asPercentile(color.value.saturation);\n\tconst brandedValue = brand.asPercentile(color.value.value);\n\n\treturn {\n\t\tvalue: {\n\t\t\thue: brandedHue,\n\t\t\tsaturation: brandedSaturation,\n\t\t\tvalue: brandedValue\n\t\t},\n\t\tformat: 'hsv'\n\t};\n}\n\nfunction asLAB(color: UnbrandedLAB): LAB {\n\tconst brandedL = brand.asLAB_L(color.value.l);\n\tconst brandedA = brand.asLAB_A(color.value.a);\n\tconst brandedB = brand.asLAB_B(color.value.b);\n\n\treturn {\n\t\tvalue: {\n\t\t\tl: brandedL,\n\t\t\ta: brandedA,\n\t\t\tb: brandedB\n\t\t},\n\t\tformat: 'lab'\n\t};\n}\n\nfunction asRGB(color: UnbrandedRGB): RGB {\n\tconst brandedRed = brand.asByteRange(color.value.red);\n\tconst brandedGreen = brand.asByteRange(color.value.green);\n\tconst brandedBlue = brand.asByteRange(color.value.blue);\n\n\treturn {\n\t\tvalue: {\n\t\t\tred: brandedRed,\n\t\t\tgreen: brandedGreen,\n\t\t\tblue: brandedBlue\n\t\t},\n\t\tformat: 'rgb'\n\t};\n}\n\nfunction asSL(color: UnbrandedSL): SL {\n\tconst brandedSaturation = brand.asPercentile(color.value.saturation);\n\tconst brandedLightness = brand.asPercentile(color.value.lightness);\n\n\treturn {\n\t\tvalue: {\n\t\t\tsaturation: brandedSaturation,\n\t\t\tlightness: brandedLightness\n\t\t},\n\t\tformat: 'sl'\n\t};\n}\n\nfunction asSV(color: UnbrandedSV): SV {\n\tconst brandedSaturation = brand.asPercentile(color.value.saturation);\n\tconst brandedValue = brand.asPercentile(color.value.value);\n\n\treturn {\n\t\tvalue: {\n\t\t\tsaturation: brandedSaturation,\n\t\t\tvalue: brandedValue\n\t\t},\n\t\tformat: 'sv'\n\t};\n}\n\nfunction asXYZ(color: UnbrandedXYZ): XYZ {\n\tconst brandedX = brand.asXYZ_X(color.value.x);\n\tconst brandedY = brand.asXYZ_Y(color.value.y);\n\tconst brandedZ = brand.asXYZ_Z(color.value.z);\n\n\treturn {\n\t\tvalue: {\n\t\t\tx: brandedX,\n\t\t\ty: brandedY,\n\t\t\tz: brandedZ\n\t\t},\n\t\tformat: 'xyz'\n\t};\n}\n\nexport const brandColor: CommonFn_MasterInterface['core']['brandColor'] = {\n\tasCMYK,\n\tasHex,\n\tasHSL,\n\tasHSV,\n\tasLAB,\n\tasRGB,\n\tasSL,\n\tasSV,\n\tasXYZ\n};\n\n// ******** SECTION 3 - Convert ********\n\nfunction cmykStringToValue(cmyk: CMYK_StringProps['value']): CMYK['value'] {\n\treturn {\n\t\tcyan: brand.asPercentile(parseFloat(cmyk.cyan) / 100),\n\t\tmagenta: brand.asPercentile(parseFloat(cmyk.magenta) / 100),\n\t\tyellow: brand.asPercentile(parseFloat(cmyk.yellow) / 100),\n\t\tkey: brand.asPercentile(parseFloat(cmyk.key) / 100)\n\t};\n}\n\nfunction cmykValueToString(cmyk: CMYK['value']): CMYK_StringProps['value'] {\n\treturn {\n\t\tcyan: `${cmyk.cyan * 100}%`,\n\t\tmagenta: `${cmyk.magenta * 100}%`,\n\t\tyellow: `${cmyk.yellow * 100}%`,\n\t\tkey: `${cmyk.key * 100}%`\n\t};\n}\n\nasync function colorStringToColor(\n\tcolorString: Color_StringProps\n): Promise<Color> {\n\tconst clonedColor = clone(colorString);\n\n\tconst parseValue = (value: string | number): number =>\n\t\ttypeof value === 'string' && value.endsWith('%')\n\t\t\t? parseFloat(value.slice(0, -1))\n\t\t\t: Number(value);\n\n\tconst newValue = Object.entries(clonedColor.value).reduce(\n\t\t(acc, [key, val]) => {\n\t\t\tacc[key as keyof (typeof clonedColor)['value']] = parseValue(\n\t\t\t\tval\n\t\t\t) as never;\n\t\t\treturn acc;\n\t\t},\n\t\t{} as Record<keyof (typeof clonedColor)['value'], number>\n\t);\n\n\tswitch (clonedColor.format) {\n\t\tcase 'cmyk':\n\t\t\treturn { format: 'cmyk', value: newValue as CMYK['value'] };\n\t\tcase 'hsl':\n\t\t\treturn { format: 'hsl', value: newValue as HSL['value'] };\n\t\tcase 'hsv':\n\t\t\treturn { format: 'hsv', value: newValue as HSV['value'] };\n\t\tcase 'sl':\n\t\t\treturn { format: 'sl', value: newValue as SL['value'] };\n\t\tcase 'sv':\n\t\t\treturn { format: 'sv', value: newValue as SV['value'] };\n\t\tdefault:\n\t\t\tconsole.error('Unsupported format for colorStringToColor');\n\n\t\t\tconst defaultColors = initializeDefaultColors();\n\n\t\t\tconst unbrandedHSL = defaultColors.hsl;\n\n\t\t\tconst brandedHue = brand.asRadial(unbrandedHSL.value.hue);\n\t\t\tconst brandedSaturation = brand.asPercentile(\n\t\t\t\tunbrandedHSL.value.saturation\n\t\t\t);\n\t\t\tconst brandedLightness = brand.asPercentile(\n\t\t\t\tunbrandedHSL.value.lightness\n\t\t\t);\n\n\t\t\treturn {\n\t\t\t\tvalue: {\n\t\t\t\t\thue: brandedHue,\n\t\t\t\t\tsaturation: brandedSaturation,\n\t\t\t\t\tlightness: brandedLightness\n\t\t\t\t},\n\t\t\t\tformat: 'hsl'\n\t\t\t};\n\t}\n}\n\nasync function colorToCSSColorString(color: Color): Promise<string> {\n\ttry {\n\t\tswitch (color.format) {\n\t\t\tcase 'cmyk':\n\t\t\t\treturn `cmyk(${color.value.cyan}, ${color.value.magenta}, ${color.value.yellow}, ${color.value.key}`;\n\t\t\tcase 'hex':\n\t\t\t\treturn String(color.value.hex);\n\t\t\tcase 'hsl':\n\t\t\t\treturn `hsl(${color.value.hue}, ${color.value.saturation}%, ${color.value.lightness}%`;\n\t\t\tcase 'hsv':\n\t\t\t\treturn `hsv(${color.value.hue}, ${color.value.saturation}%, ${color.value.value}%`;\n\t\t\tcase 'lab':\n\t\t\t\treturn `lab(${color.value.l}, ${color.value.a}, ${color.value.b})`;\n\t\t\tcase 'rgb':\n\t\t\t\treturn `rgb(${color.value.red}, ${color.value.green}, ${color.value.blue})`;\n\t\t\tcase 'xyz':\n\t\t\t\treturn `xyz(${color.value.x}, ${color.value.y}, ${color.value.z}`;\n\t\t\tdefault:\n\t\t\t\tconsole.error(`Unexpected color format: ${color.format}`);\n\n\t\t\t\treturn '#FFFFFF';\n\t\t}\n\t} catch (error) {\n\t\tthrow new Error(`getCSSColorString error: ${error}`);\n\t}\n}\n\nfunction hexStringToValue(hex: Hex_StringProps['value']): Hex['value'] {\n\treturn { hex: brand.asHexSet(hex.hex) };\n}\n\nfunction hexValueToString(hex: Hex['value']): Hex_StringProps['value'] {\n\treturn { hex: hex.hex };\n}\n\nfunction hslStringToValue(hsl: HSL_StringProps['value']): HSL['value'] {\n\treturn {\n\t\thue: brand.asRadial(parseFloat(hsl.hue)),\n\t\tsaturation: brand.asPercentile(parseFloat(hsl.saturation) / 100),\n\t\tlightness: brand.asPercentile(parseFloat(hsl.lightness) / 100)\n\t};\n}\n\nfunction hslValueToString(hsl: HSL['value']): HSL_StringProps['value'] {\n\treturn {\n\t\thue: `${hsl.hue}°`,\n\t\tsaturation: `${hsl.saturation * 100}%`,\n\t\tlightness: `${hsl.lightness * 100}%`\n\t};\n}\n\nfunction hsvStringToValue(hsv: HSV_StringProps['value']): HSV['value'] {\n\treturn {\n\t\thue: brand.asRadial(parseFloat(hsv.hue)),\n\t\tsaturation: brand.asPercentile(parseFloat(hsv.saturation) / 100),\n\t\tvalue: brand.asPercentile(parseFloat(hsv.value) / 100)\n\t};\n}\n\nfunction hsvValueToString(hsv: HSV['value']): HSV_StringProps['value'] {\n\treturn {\n\t\thue: `${hsv.hue}°`,\n\t\tsaturation: `${hsv.saturation * 100}%`,\n\t\tvalue: `${hsv.value * 100}%`\n\t};\n}\n\nfunction labValueToString(lab: LAB['value']): LAB_StringProps['value'] {\n\treturn {\n\t\tl: `${lab.l}`,\n\t\ta: `${lab.a}`,\n\t\tb: `${lab.b}`\n\t};\n}\n\nfunction labStringToValue(lab: LAB_StringProps['value']): LAB['value'] {\n\treturn {\n\t\tl: brand.asLAB_L(parseFloat(lab.l)),\n\t\ta: brand.asLAB_A(parseFloat(lab.a)),\n\t\tb: brand.asLAB_B(parseFloat(lab.b))\n\t};\n}\n\nfunction rgbValueToString(rgb: RGB['value']): RGB_StringProps['value'] {\n\treturn {\n\t\tred: `${rgb.red}`,\n\t\tgreen: `${rgb.green}`,\n\t\tblue: `${rgb.blue}`\n\t};\n}\n\nfunction rgbStringToValue(rgb: RGB_StringProps['value']): RGB['value'] {\n\treturn {\n\t\tred: brand.asByteRange(parseFloat(rgb.red)),\n\t\tgreen: brand.asByteRange(parseFloat(rgb.green)),\n\t\tblue: brand.asByteRange(parseFloat(rgb.blue))\n\t};\n}\n\nfunction toColorValueRange<T extends keyof RangeKeyMap>(\n\tvalue: string | number,\n\trangeKey: T\n): RangeKeyMap[T] {\n\tvalidate.range(value, rangeKey);\n\n\tif (rangeKey === 'HexSet') {\n\t\treturn brand.asHexSet(value as string) as unknown as RangeKeyMap[T];\n\t}\n\n\treturn brand.asBranded(\n\t\tvalue as number,\n\t\trangeKey\n\t) as unknown as RangeKeyMap[T];\n}\n\nfunction xyzValueToString(xyz: XYZ['value']): XYZ_StringProps['value'] {\n\treturn {\n\t\tx: `${xyz.x}`,\n\t\ty: `${xyz.y}`,\n\t\tz: `${xyz.z}`\n\t};\n}\n\nfunction xyzStringToValue(xyz: XYZ_StringProps['value']): XYZ['value'] {\n\treturn {\n\t\tx: brand.asXYZ_X(parseFloat(xyz.x)),\n\t\ty: brand.asXYZ_Y(parseFloat(xyz.y)),\n\t\tz: brand.asXYZ_Z(parseFloat(xyz.z))\n\t};\n}\n\nconst stringToValue = {\n\tcmyk: cmykStringToValue,\n\thex: hexStringToValue,\n\thsl: hslStringToValue,\n\thsv: hsvStringToValue,\n\tlab: labStringToValue,\n\trgb: rgbStringToValue,\n\txyz: xyzStringToValue\n};\n\nconst valueToString = {\n\tcmyk: cmykValueToString,\n\thex: hexValueToString,\n\thsl: hslValueToString,\n\thsv: hsvValueToString,\n\tlab: labValueToString,\n\trgb: rgbValueToString,\n\txyz: xyzValueToString\n};\n\nexport const convert: CommonFn_MasterInterface['core']['convert'] = {\n\tcolorStringToColor,\n\tstringToValue,\n\ttoColorValueRange,\n\tcolorToCSSColorString,\n\tvalueToString\n};\n\n// ******** SECTION 4 - Guards ********\n\nfunction isColor(value: unknown): value is Color {\n\tif (typeof value !== 'object' || value === null) return false;\n\n\tconst color = value as Color;\n\tconst validFormats: Color['format'][] = [\n\t\t'cmyk',\n\t\t'hex',\n\t\t'hsl',\n\t\t'hsv',\n\t\t'lab',\n\t\t'rgb',\n\t\t'sl',\n\t\t'sv',\n\t\t'xyz'\n\t];\n\n\treturn (\n\t\t'value' in color &&\n\t\t'format' in color &&\n\t\tvalidFormats.includes(color.format)\n\t);\n}\n\nfunction isColorSpace(value: unknown): value is ColorSpace {\n\tconst validColorSpaces: ColorSpace[] = [\n\t\t'cmyk',\n\t\t'hex',\n\t\t'hsl',\n\t\t'hsv',\n\t\t'lab',\n\t\t'rgb',\n\t\t'xyz'\n\t];\n\n\treturn (\n\t\ttypeof value === 'string' &&\n\t\tvalidColorSpaces.includes(value as ColorSpace)\n\t);\n}\n\nfunction isColorString(value: unknown): value is Color_StringProps {\n\tif (typeof value !== 'object' || value === null) return false;\n\n\tconst colorString = value as Color_StringProps;\n\tconst validStringFormats: Color_StringProps['format'][] = [\n\t\t'cmyk',\n\t\t'hsl',\n\t\t'hsv',\n\t\t'sl',\n\t\t'sv'\n\t];\n\n\treturn (\n\t\t'value' in colorString &&\n\t\t'format' in colorString &&\n\t\tvalidStringFormats.includes(colorString.format)\n\t);\n}\n\nfunction isInRange<T extends keyof typeof _sets>(\n\tvalue: number | string,\n\trangeKey: T\n): boolean {\n\tif (rangeKey === 'HexSet') {\n\t\treturn validate.hexSet(value as string);\n\t}\n\n\tif (rangeKey === 'HexSet') {\n\t\treturn validate.hexSet(value as string);\n\t}\n\n\tif (typeof value === 'number' && Array.isArray(_sets[rangeKey])) {\n\t\tconst [min, max] = _sets[rangeKey] as [number, number];\n\n\t\treturn value >= min && value <= max;\n\t}\n\n\tthrow new Error(`Invalid range or value for ${String(rangeKey)}`);\n}\n\nexport const guards: CommonFn_MasterInterface['core']['guards'] = {\n\tisColor,\n\tisColorSpace,\n\tisColorString,\n\tisInRange\n};\n\n// ******** SECTION 5 - Sanitize ********\n\nfunction lab(value: number, output: 'l' | 'a' | 'b'): LAB_L | LAB_A | LAB_B {\n\tif (output === 'l') {\n\t\treturn brand.asLAB_L(Math.round(Math.min(Math.max(value, 0), 100)));\n\t} else if (output === 'a') {\n\t\treturn brand.asLAB_A(Math.round(Math.min(Math.max(value, -125), 125)));\n\t} else if (output === 'b') {\n\t\treturn brand.asLAB_B(Math.round(Math.min(Math.max(value, -125), 125)));\n\t} else throw new Error('Unable to return LAB value');\n}\n\nfunction percentile(value: number): Percentile {\n\tconst rawPercentile = Math.round(Math.min(Math.max(value, 0), 100));\n\n\treturn brand.asPercentile(rawPercentile);\n}\n\nfunction radial(value: number): Radial {\n\tconst rawRadial = Math.round(Math.min(Math.max(value, 0), 360)) & 360;\n\n\treturn brand.asRadial(rawRadial);\n}\n\nfunction rgb(value: number): ByteRange {\n\tconst rawByteRange = Math.round(Math.min(Math.max(value, 0), 255));\n\n\treturn toColorValueRange(rawByteRange, 'ByteRange');\n}\n\nexport const sanitize = {\n\tlab,\n\tpercentile,\n\tradial,\n\trgb\n};\n\n// ******** SECTION 5.1 - Validate *********\n\nfunction colorValues(color: Color | SL | SV): boolean {\n\tconst clonedColor = clone(color);\n\tconst isNumericValid = (value: unknown): boolean =>\n\t\ttypeof value === 'number' && !isNaN(value);\n\tconst normalizePercentage = (value: string | number): number => {\n\t\tif (typeof value === 'string' && value.endsWith('%')) {\n\t\t\treturn parseFloat(value.slice(0, -1));\n\t\t}\n\n\t\treturn typeof value === 'number' ? value : NaN;\n\t};\n\n\tswitch (clonedColor.format) {\n\t\tcase 'cmyk':\n\t\t\treturn (\n\t\t\t\t[\n\t\t\t\t\tclonedColor.value.cyan,\n\t\t\t\t\tclonedColor.value.magenta,\n\t\t\t\t\tclonedColor.value.yellow,\n\t\t\t\t\tclonedColor.value.key\n\t\t\t\t].every(isNumericValid) &&\n\t\t\t\tclonedColor.value.cyan >= 0 &&\n\t\t\t\tclonedColor.value.cyan <= 100 &&\n\t\t\t\tclonedColor.value.magenta >= 0 &&\n\t\t\t\tclonedColor.value.magenta <= 100 &&\n\t\t\t\tclonedColor.value.yellow >= 0 &&\n\t\t\t\tclonedColor.value.yellow <= 100 &&\n\t\t\t\tclonedColor.value.key >= 0 &&\n\t\t\t\tclonedColor.value.key <= 100\n\t\t\t);\n\t\tcase 'hex':\n\t\t\treturn /^#[0-9A-Fa-f]{6}$/.test(clonedColor.value.hex);\n\t\tcase 'hsl':\n\t\t\tconst isValidHSLHue =\n\t\t\t\tisNumericValid(clonedColor.value.hue) &&\n\t\t\t\tclonedColor.value.hue >= 0 &&\n\t\t\t\tclonedColor.value.hue <= 360;\n\t\t\tconst isValidHSLSaturation =\n\t\t\t\tnormalizePercentage(clonedColor.value.saturation) >= 0 &&\n\t\t\t\tnormalizePercentage(clonedColor.value.saturation) <= 100;\n\t\t\tconst isValidHSLLightness = clonedColor.value.lightness\n\t\t\t\t? normalizePercentage(clonedColor.value.lightness) >= 0 &&\n\t\t\t\t\tnormalizePercentage(clonedColor.value.lightness) <= 100\n\t\t\t\t: true;\n\n\t\t\treturn isValidHSLHue && isValidHSLSaturation && isValidHSLLightness;\n\t\tcase 'hsv':\n\t\t\tconst isValidHSVHue =\n\t\t\t\tisNumericValid(clonedColor.value.hue) &&\n\t\t\t\tclonedColor.value.hue >= 0 &&\n\t\t\t\tclonedColor.value.hue <= 360;\n\t\t\tconst isValidHSVSaturation =\n\t\t\t\tnormalizePercentage(clonedColor.value.saturation) >= 0 &&\n\t\t\t\tnormalizePercentage(clonedColor.value.saturation) <= 100;\n\t\t\tconst isValidHSVValue = clonedColor.value.value\n\t\t\t\t? normalizePercentage(clonedColor.value.value) >= 0 &&\n\t\t\t\t\tnormalizePercentage(clonedColor.value.value) <= 100\n\t\t\t\t: true;\n\n\t\t\treturn isValidHSVHue && isValidHSVSaturation && isValidHSVValue;\n\t\tcase 'lab':\n\t\t\treturn (\n\t\t\t\t[\n\t\t\t\t\tclonedColor.value.l,\n\t\t\t\t\tclonedColor.value.a,\n\t\t\t\t\tclonedColor.value.b\n\t\t\t\t].every(isNumericValid) &&\n\t\t\t\tclonedColor.value.l >= 0 &&\n\t\t\t\tclonedColor.value.l <= 100 &&\n\t\t\t\tclonedColor.value.a >= -125 &&\n\t\t\t\tclonedColor.value.a <= 125 &&\n\t\t\t\tclonedColor.value.b >= -125 &&\n\t\t\t\tclonedColor.value.b <= 125\n\t\t\t);\n\t\tcase 'rgb':\n\t\t\treturn (\n\t\t\t\t[\n\t\t\t\t\tclonedColor.value.red,\n\t\t\t\t\tclonedColor.value.green,\n\t\t\t\t\tclonedColor.value.blue\n\t\t\t\t].every(isNumericValid) &&\n\t\t\t\tclonedColor.value.red >= 0 &&\n\t\t\t\tclonedColor.value.red <= 255 &&\n\t\t\t\tclonedColor.value.green >= 0 &&\n\t\t\t\tclonedColor.value.green <= 255 &&\n\t\t\t\tclonedColor.value.blue >= 0 &&\n\t\t\t\tclonedColor.value.blue <= 255\n\t\t\t);\n\t\tcase 'sl':\n\t\t\treturn (\n\t\t\t\t[\n\t\t\t\t\tclonedColor.value.saturation,\n\t\t\t\t\tclonedColor.value.lightness\n\t\t\t\t].every(isNumericValid) &&\n\t\t\t\tclonedColor.value.saturation >= 0 &&\n\t\t\t\tclonedColor.value.saturation <= 100 &&\n\t\t\t\tclonedColor.value.lightness >= 0 &&\n\t\t\t\tclonedColor.value.lightness <= 100\n\t\t\t);\n\t\tcase 'sv':\n\t\t\treturn (\n\t\t\t\t[clonedColor.value.saturation, clonedColor.value.value].every(\n\t\t\t\t\tisNumericValid\n\t\t\t\t) &&\n\t\t\t\tclonedColor.value.saturation >= 0 &&\n\t\t\t\tclonedColor.value.saturation <= 100 &&\n\t\t\t\tclonedColor.value.value >= 0 &&\n\t\t\t\tclonedColor.value.value <= 100\n\t\t\t);\n\t\tcase 'xyz':\n\t\t\treturn (\n\t\t\t\t[\n\t\t\t\t\tclonedColor.value.x,\n\t\t\t\t\tclonedColor.value.y,\n\t\t\t\t\tclonedColor.value.z\n\t\t\t\t].every(isNumericValid) &&\n\t\t\t\tclonedColor.value.x >= 0 &&\n\t\t\t\tclonedColor.value.x <= 95.047 &&\n\t\t\t\tclonedColor.value.y >= 0 &&\n\t\t\t\tclonedColor.value.y <= 100.0 &&\n\t\t\t\tclonedColor.value.z >= 0 &&\n\t\t\t\tclonedColor.value.z <= 108.883\n\t\t\t);\n\t\tdefault:\n\t\t\tconsole.error(`Unsupported color format: ${color.format}`);\n\n\t\t\treturn false;\n\t}\n}\n\nfunction hex(value: string, pattern: RegExp): boolean {\n\treturn pattern.test(value);\n}\n\nfunction hexComponent(value: string): boolean {\n\treturn hex(value, /^[A-Fa-f0-9]{2}$/);\n}\n\nfunction hexSet(value: string): boolean {\n\treturn /^#[0-9a-fA-F]{6}$/.test(value);\n}\n\nfunction range<T extends keyof typeof _sets>(\n\tvalue: number | string,\n\trangeKey: T\n): void {\n\tif (!isInRange(value, rangeKey)) {\n\t\tif (rangeKey === 'HexSet') {\n\t\t\tthrow new Error(`Invalid value for ${String(rangeKey)}: ${value}`);\n\t\t}\n\n\t\tconst [min, max] = _sets[rangeKey] as [number, number];\n\n\t\tthrow new Error(\n\t\t\t`Value ${value} is out of range for ${String(rangeKey)} [${min}, ${max}]`\n\t\t);\n\t}\n}\n\nexport const validate: CommonFn_MasterInterface['core']['validate'] = {\n\tcolorValues,\n\thex,\n\thexComponent,\n\thexSet,\n\trange\n};\n\n// ******** SECTION 6 - Other ********\n\nfunction getFormattedTimestamp(): string {\n\tconst now = new Date();\n\tconst year = now.getFullYear();\n\tconst month = String(now.getMonth() + 1).padStart(2, '0');\n\tconst day = String(now.getDate()).padStart(2, '0');\n\tconst hours = String(now.getHours()).padStart(2, '0');\n\tconst minutes = String(now.getMinutes()).padStart(2, '0');\n\tconst seconds = String(now.getSeconds()).padStart(2, '0');\n\n\treturn `${year}-${month}-${day} ${hours}:${minutes}:${seconds}`;\n}\n\nexport const other = { getFormattedTimestamp };\n\nexport { clone };\n\n// ******** SECTION 7 - Final Export ********\n\nexport const coreUtils: CommonFn_MasterInterface['core'] = {\n\tbase,\n\tbrand,\n\tbrandColor,\n\tconvert,\n\tguards,\n\t...other,\n\tsanitize,\n\tvalidate\n} as const;\n","// File: data/defaults.js\n\nimport {\n\tDefaultDataInterface,\n\tMutationLog,\n\tUnbrandedPalette,\n\tUnbrandedPaletteItem,\n\tUnbrandedStoredPalette\n} from '../types/index.js';\nimport { brand } from '../common/core.js';\n\nconst colors: DefaultDataInterface['colors'] = {\n\tbase: {\n\t\tbranded: {\n\t\t\tcmyk: {\n\t\t\t\tvalue: {\n\t\t\t\t\tcyan: brand.asPercentile(0),\n\t\t\t\t\tmagenta: brand.asPercentile(0),\n\t\t\t\t\tyellow: brand.asPercentile(0),\n\t\t\t\t\tkey: brand.asPercentile(0)\n\t\t\t\t},\n\t\t\t\tformat: 'cmyk'\n\t\t\t},\n\t\t\thex: {\n\t\t\t\tvalue: {\n\t\t\t\t\thex: brand.asHexSet('#000000')\n\t\t\t\t},\n\t\t\t\tformat: 'hex'\n\t\t\t},\n\t\t\thsl: {\n\t\t\t\tvalue: {\n\t\t\t\t\thue: brand.asRadial(0),\n\t\t\t\t\tsaturation: brand.asPercentile(0),\n\t\t\t\t\tlightness: brand.asPercentile(0)\n\t\t\t\t},\n\t\t\t\tformat: 'hsl'\n\t\t\t},\n\t\t\thsv: {\n\t\t\t\tvalue: {\n\t\t\t\t\thue: brand.asRadial(0),\n\t\t\t\t\tsaturation: brand.asPercentile(0),\n\t\t\t\t\tvalue: brand.asPercentile(0)\n\t\t\t\t},\n\t\t\t\tformat: 'hsv'\n\t\t\t},\n\t\t\tlab: {\n\t\t\t\tvalue: {\n\t\t\t\t\tl: brand.asLAB_L(0),\n\t\t\t\t\ta: brand.asLAB_A(0),\n\t\t\t\t\tb: brand.asLAB_B(0)\n\t\t\t\t},\n\t\t\t\tformat: 'lab'\n\t\t\t},\n\t\t\trgb: {\n\t\t\t\tvalue: {\n\t\t\t\t\tred: brand.asByteRange(0),\n\t\t\t\t\tgreen: brand.asByteRange(0),\n\t\t\t\t\tblue: brand.asByteRange(0)\n\t\t\t\t},\n\t\t\t\tformat: 'rgb'\n\t\t\t},\n\t\t\tsl: {\n\t\t\t\tvalue: {\n\t\t\t\t\tsaturation: brand.asPercentile(0),\n\t\t\t\t\tlightness: brand.asPercentile(0)\n\t\t\t\t},\n\t\t\t\tformat: 'sl'\n\t\t\t},\n\t\t\tsv: {\n\t\t\t\tvalue: {\n\t\t\t\t\tsaturation: brand.asPercentile(0),\n\t\t\t\t\tvalue: brand.asPercentile(0)\n\t\t\t\t},\n\t\t\t\tformat: 'sv'\n\t\t\t},\n\t\t\txyz: {\n\t\t\t\tvalue: {\n\t\t\t\t\tx: brand.asXYZ_X(0),\n\t\t\t\t\ty: brand.asXYZ_Y(0),\n\t\t\t\t\tz: brand.asXYZ_Z(0)\n\t\t\t\t},\n\t\t\t\tformat: 'xyz'\n\t\t\t}\n\t\t},\n\t\tunbranded: {\n\t\t\tcmyk: {\n\t\t\t\tvalue: {\n\t\t\t\t\tcyan: 0,\n\t\t\t\t\tmagenta: 0,\n\t\t\t\t\tyellow: 0,\n\t\t\t\t\tkey: 0\n\t\t\t\t},\n\t\t\t\tformat: 'cmyk'\n\t\t\t},\n\t\t\thex: {\n\t\t\t\tvalue: {\n\t\t\t\t\thex: '#000000FF'\n\t\t\t\t},\n\t\t\t\tformat: 'hex'\n\t\t\t},\n\t\t\thsl: {\n\t\t\t\tvalue: {\n\t\t\t\t\thue: 0,\n\t\t\t\t\tsaturation: 0,\n\t\t\t\t\tlightness: 0\n\t\t\t\t},\n\t\t\t\tformat: 'hsl'\n\t\t\t},\n\t\t\thsv: {\n\t\t\t\tvalue: {\n\t\t\t\t\thue: 0,\n\t\t\t\t\tsaturation: 0,\n\t\t\t\t\tvalue: 0\n\t\t\t\t},\n\t\t\t\tformat: 'hsv'\n\t\t\t},\n\t\t\tlab: {\n\t\t\t\tvalue: {\n\t\t\t\t\tl: 0,\n\t\t\t\t\ta: 0,\n\t\t\t\t\tb: 0\n\t\t\t\t},\n\t\t\t\tformat: 'lab'\n\t\t\t},\n\t\t\tsl: {\n\t\t\t\tvalue: {\n\t\t\t\t\tsaturation: 0,\n\t\t\t\t\tlightness: 0\n\t\t\t\t},\n\t\t\t\tformat: 'sl'\n\t\t\t},\n\t\t\trgb: {\n\t\t\t\tvalue: {\n\t\t\t\t\tred: 0,\n\t\t\t\t\tgreen: 0,\n\t\t\t\t\tblue: 0\n\t\t\t\t},\n\t\t\t\tformat: 'rgb'\n\t\t\t},\n\t\t\tsv: {\n\t\t\t\tvalue: {\n\t\t\t\t\tsaturation: 0,\n\t\t\t\t\tvalue: 0\n\t\t\t\t},\n\t\t\t\tformat: 'sv'\n\t\t\t},\n\t\t\txyz: {\n\t\t\t\tvalue: {\n\t\t\t\t\tx: 0,\n\t\t\t\t\ty: 0,\n\t\t\t\t\tz: 0\n\t\t\t\t},\n\t\t\t\tformat: 'xyz'\n\t\t\t}\n\t\t}\n\t},\n\tcss: {\n\t\tcmyk: 'cmyk(0%, 0%, 0%, 0%)',\n\t\thex: '#000000',\n\t\thsl: 'hsl(0, 0%, 0%)',\n\t\thsv: 'hsv(0, 0%, 0%)',\n\t\tlab: 'lab(0, 0, 0)',\n\t\trgb: 'rgb(0, 0, 0)',\n\t\tsl: 'sl(0%, 0%)',\n\t\tsv: 'sv(0%, 0%)',\n\t\txyz: 'xyz(0, 0, 0)'\n\t},\n\tstrings: {\n\t\tcmyk: {\n\t\t\tvalue: {\n\t\t\t\tcyan: '0',\n\t\t\t\tmagenta: '0',\n\t\t\t\tyellow: '0',\n\t\t\t\tkey: '0'\n\t\t\t},\n\t\t\tformat: 'cmyk'\n\t\t},\n\t\thex: {\n\t\t\tvalue: {\n\t\t\t\thex: '#000000'\n\t\t\t},\n\t\t\tformat: 'hex'\n\t\t},\n\t\thsl: {\n\t\t\tvalue: {\n\t\t\t\thue: '0',\n\t\t\t\tsaturation: '0',\n\t\t\t\tlightness: '0'\n\t\t\t},\n\t\t\tformat: 'hsl'\n\t\t},\n\t\thsv: {\n\t\t\tvalue: {\n\t\t\t\thue: '0',\n\t\t\t\tsaturation: '0',\n\t\t\t\tvalue: '0'\n\t\t\t},\n\t\t\tformat: 'hsv'\n\t\t},\n\t\tlab: {\n\t\t\tvalue: {\n\t\t\t\tl: '0',\n\t\t\t\ta: '0',\n\t\t\t\tb: '0'\n\t\t\t},\n\t\t\tformat: 'lab'\n\t\t},\n\t\trgb: {\n\t\t\tvalue: {\n\t\t\t\tred: '0',\n\t\t\t\tgreen: '0',\n\t\t\t\tblue: '0'\n\t\t\t},\n\t\t\tformat: 'rgb'\n\t\t},\n\t\tsl: {\n\t\t\tvalue: {\n\t\t\t\tsaturation: '0',\n\t\t\t\tlightness: '0'\n\t\t\t},\n\t\t\tformat: 'sl'\n\t\t},\n\t\tsv: {\n\t\t\tvalue: {\n\t\t\t\tsaturation: '0',\n\t\t\t\tvalue: '0'\n\t\t\t},\n\t\t\tformat: 'sv'\n\t\t},\n\t\txyz: {\n\t\t\tvalue: {\n\t\t\t\tx: '0',\n\t\t\t\ty: '0',\n\t\t\t\tz: '0'\n\t\t\t},\n\t\t\tformat: 'xyz'\n\t\t}\n\t}\n};\n\nconst mutation: MutationLog = {\n\ttimestamp: new Date().toISOString(),\n\tkey: 'default_key',\n\taction: 'update' as 'update',\n\tnewValue: { value: 'new_value' },\n\toldValue: { value: 'old_value' },\n\torigin: 'DEFAULT'\n};\n\nconst idb: DefaultDataInterface['idb'] = {\n\tmutation\n};\n\nconst unbrandedData: UnbrandedPalette = {\n\tid: `null-palette-${Date.now()}`,\n\titems: [],\n\tmetadata: {\n\t\tcustomColor: false,\n\t\tflags: {\n\t\t\tenableAlpha: false,\n\t\t\tlimitDarkness: false,\n\t\t\tlimitGrayness: false,\n\t\t\tlimitLightness: false\n\t\t},\n\t\tname: 'UNBRANDED DEFAULT PALETTE',\n\t\tswatches: 1,\n\t\ttype: '???',\n\t\ttimestamp: '???'\n\t}\n};\n\nconst unbrandedItem: UnbrandedPaletteItem = {\n\tcolors: {\n\t\tmain: {\n\t\t\tcmyk: { cyan: 0, magenta: 0, yellow: 0, key: 0 },\n\t\t\thex: { hex: '#000000' },\n\t\t\thsl: { hue: 0, saturation: 0, lightness: 0 },\n\t\t\thsv: { hue: 0, saturation: 0, value: 0 },\n\t\t\tlab: { l: 0, a: 0, b: 0 },\n\t\t\trgb: { red: 0, green: 0, blue: 0 },\n\t\t\txyz: { x: 0, y: 0, z: 0 }\n\t\t},\n\t\tstringProps: {\n\t\t\tcmyk: {\n\t\t\t\tcyan: '0%',\n\t\t\t\tmagenta: '0%',\n\t\t\t\tyellow: '0%',\n\t\t\t\tkey: '0%'\n\t\t\t},\n\t\t\thex: { hex: '#000000FF' },\n\t\t\thsl: { hue: '0', saturation: '0%', lightness: '0%' },\n\t\t\thsv: { hue: '0', saturation: '0%', value: '0%' },\n\t\t\tlab: { l: '0', a: '0', b: '0' },\n\t\t\trgb: { red: '0', green: '0', blue: '0' },\n\t\t\txyz: { x: '0', y: '0', z: '0' }\n\t\t},\n\t\tcss: {\n\t\t\tcmyk: 'cmyk(0%, 0%, 0%, 100%)',\n\t\t\thex: '#000000',\n\t\t\thsl: 'hsl(0, 0%, 0%)',\n\t\t\thsv: 'hsv(0, 0%, 0%)',\n\t\t\tlab: 'lab(0, 0, 0)',\n\t\t\trgb: 'rgb(0, 0, 0)',\n\t\t\txyz: 'xyz(0, 0, 0)'\n\t\t}\n\t}\n};\n\nconst unbrandedStored: UnbrandedStoredPalette = {\n\ttableID: 1,\n\tpalette: unbrandedData\n};\n\nconst palette: DefaultDataInterface['palette'] = {\n\tunbranded: {\n\t\tdata: unbrandedData,\n\t\titem: unbrandedItem,\n\t\tstored: unbrandedStored\n\t}\n} as const;\n\nexport const defaultData: DefaultDataInterface = {\n\tcolors,\n\tidb,\n\tpalette\n} as const;\n","// File: common/helpers/conversion.js\n\nimport { CommonFn_MasterInterface, HSL, RGB } from '../../types/index.js';\nimport { createLogger } from '../../logger/index.js';\nimport { coreUtils } from '../core.js';\nimport { defaultData as defaults } from '../../data/defaults.js';\nimport { modeData as mode } from '../../data/mode.js';\n\nconst logMode = mode.logging;\n\nconst thisModule = 'common/helpers/conversion.js';\n\nconst logger = await createLogger();\n\nexport function applyGammaCorrection(value: number): number {\n\tconst thisMethod = 'applyGammaCorrection()';\n\n\ttry {\n\t\treturn value > 0.0031308\n\t\t\t? 1.055 * Math.pow(value, 1 / 2.4) - 0.055\n\t\t\t: 12.92 * value;\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`Error applying gamma correction: ${error}`,\n\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t);\n\n\t\treturn value;\n\t}\n}\n\nexport function clampRGB(rgb: RGB): RGB {\n\tconst thisMethod = 'clampRGB()';\n\tconst defaultRGBUnbranded = coreUtils.base.clone(\n\t\tdefaults.colors.base.unbranded.rgb\n\t);\n\tconst defaultRGBBranded = coreUtils.brandColor.asRGB(defaultRGBUnbranded);\n\n\tif (!coreUtils.validate.colorValues(rgb)) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`Invalid RGB value ${JSON.stringify(rgb)}`,\n\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t);\n\n\t\treturn defaultRGBBranded;\n\t}\n\n\ttry {\n\t\treturn {\n\t\t\tvalue: {\n\t\t\t\tred: coreUtils.brand.asByteRange(\n\t\t\t\t\tMath.round(Math.min(Math.max(0, rgb.value.red), 1) * 255)\n\t\t\t\t),\n\t\t\t\tgreen: coreUtils.brand.asByteRange(\n\t\t\t\t\tMath.round(Math.min(Math.max(0, rgb.value.green), 1) * 255)\n\t\t\t\t),\n\t\t\t\tblue: coreUtils.brand.asByteRange(\n\t\t\t\t\tMath.round(Math.min(Math.max(0, rgb.value.blue), 1) * 255)\n\t\t\t\t)\n\t\t\t},\n\t\t\tformat: 'rgb'\n\t\t};\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`Error clamping RGB values: ${error}`,\n\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t);\n\n\t\treturn rgb;\n\t}\n}\n\nexport function hueToRGB(p: number, q: number, t: number): number {\n\tconst thisMethod = 'hueToRGB()';\n\n\ttry {\n\t\tconst clonedP = coreUtils.base.clone(p);\n\t\tconst clonedQ = coreUtils.base.clone(q);\n\n\t\tlet clonedT = coreUtils.base.clone(t);\n\n\t\tif (clonedT < 0) clonedT += 1;\n\t\tif (clonedT > 1) clonedT -= 1;\n\t\tif (clonedT < 1 / 6) return clonedP + (clonedQ - clonedP) * 6 * clonedT;\n\t\tif (clonedT < 1 / 2) return clonedQ;\n\t\tif (clonedT < 2 / 3)\n\t\t\treturn clonedP + (clonedQ - clonedP) * (2 / 3 - clonedT) * 6;\n\n\t\treturn clonedP;\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`Error converting hue to RGB: ${error}`,\n\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t);\n\n\t\treturn 0;\n\t}\n}\n\nexport function hslAddFormat(value: HSL['value']): HSL {\n\tconst thisMethod = 'hslAddFormat()';\n\tconst defaultHSLUnbranded = coreUtils.base.clone(\n\t\tdefaults.colors.base.unbranded.hsl\n\t);\n\tconst defaultHSLBranded = coreUtils.brandColor.asHSL(defaultHSLUnbranded);\n\n\ttry {\n\t\tif (!coreUtils.validate.colorValues({ value: value, format: 'hsl' })) {\n\t\t\tif (logMode.error)\n\t\t\t\tlogger.error(\n\t\t\t\t\t`Invalid HSL value ${JSON.stringify(value)}`,\n\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t);\n\n\t\t\treturn defaultHSLBranded;\n\t\t}\n\n\t\treturn { value: value, format: 'hsl' } as HSL;\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`Error adding HSL format: ${error}`,\n\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t);\n\n\t\treturn defaultHSLBranded;\n\t}\n}\n\nexport const conversionHelpers: CommonFn_MasterInterface['helpers']['conversion'] =\n\t{\n\t\tapplyGammaCorrection,\n\t\tclampRGB,\n\t\thslAddFormat,\n\t\thueToRGB\n\t} as const;\n","// File: common/transform.js\n\nimport {\n\tColor,\n\tCommonFn_MasterInterface,\n\tHex,\n\tPalette,\n\tUnbrandedColor,\n\tUnbrandedPalette\n} from '../types/index.js';\nimport { brand } from './core.js';\nimport { createLogger } from '../logger/index.js';\nimport { modeData as mode } from '../data/mode.js';\n\nconst thisModule = 'common/transform/base.ts';\n\nconst logger = await createLogger();\n\nfunction addHashToHex(hex: Hex): Hex {\n\ttry {\n\t\treturn hex.value.hex.startsWith('#')\n\t\t\t? hex\n\t\t\t: {\n\t\t\t\t\tvalue: {\n\t\t\t\t\t\thex: brand.asHexSet(`#${hex.value}}`)\n\t\t\t\t\t},\n\t\t\t\t\tformat: 'hex' as 'hex'\n\t\t\t\t};\n\t} catch (error) {\n\t\tthrow new Error(`addHashToHex error: ${error}`);\n\t}\n}\nfunction brandPalette(data: UnbrandedPalette): Palette {\n\treturn {\n\t\t...data,\n\t\tmetadata: {\n\t\t\t...data.metadata,\n\t\t\tcustomColor: data.metadata.customColor\n\t\t\t\t? {\n\t\t\t\t\t\tcolors: {\n\t\t\t\t\t\t\tmain: {\n\t\t\t\t\t\t\t\tcmyk: {\n\t\t\t\t\t\t\t\t\tcyan: brand.asPercentile(\n\t\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.main\n\t\t\t\t\t\t\t\t\t\t\t.cmyk.cyan ?? 0\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\tmagenta: brand.asPercentile(\n\t\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.main\n\t\t\t\t\t\t\t\t\t\t\t.cmyk.magenta ?? 0\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\tyellow: brand.asPercentile(\n\t\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.main\n\t\t\t\t\t\t\t\t\t\t\t.cmyk.yellow ?? 0\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\tkey: brand.asPercentile(\n\t\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.main\n\t\t\t\t\t\t\t\t\t\t\t.cmyk.key ?? 0\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\thex: {\n\t\t\t\t\t\t\t\t\thex: brand.asHexSet(\n\t\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.main\n\t\t\t\t\t\t\t\t\t\t\t.hex.hex ?? '#000000FF'\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\thsl: {\n\t\t\t\t\t\t\t\t\thue: brand.asRadial(\n\t\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.main\n\t\t\t\t\t\t\t\t\t\t\t.hsl.hue ?? 0\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\tsaturation: brand.asPercentile(\n\t\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.main\n\t\t\t\t\t\t\t\t\t\t\t.hsl.saturation ?? 0\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\tlightness: brand.asPercentile(\n\t\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.main\n\t\t\t\t\t\t\t\t\t\t\t.hsl.lightness ?? 0\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\thsv: {\n\t\t\t\t\t\t\t\t\thue: brand.asRadial(\n\t\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.main\n\t\t\t\t\t\t\t\t\t\t\t.hsv.hue ?? 0\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\tsaturation: brand.asPercentile(\n\t\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.main\n\t\t\t\t\t\t\t\t\t\t\t.hsv.saturation ?? 0\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\tvalue: brand.asPercentile(\n\t\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.main\n\t\t\t\t\t\t\t\t\t\t\t.hsv.value ?? 0\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tlab: {\n\t\t\t\t\t\t\t\t\tl: brand.asLAB_L(\n\t\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.main\n\t\t\t\t\t\t\t\t\t\t\t.lab.l ?? 0\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\ta: brand.asLAB_A(\n\t\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.main\n\t\t\t\t\t\t\t\t\t\t\t.lab.a ?? 0\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\tb: brand.asLAB_B(\n\t\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.main\n\t\t\t\t\t\t\t\t\t\t\t.lab.b ?? 0\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\trgb: {\n\t\t\t\t\t\t\t\t\tred: brand.asByteRange(\n\t\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.main\n\t\t\t\t\t\t\t\t\t\t\t.rgb.red ?? 0\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\tgreen: brand.asByteRange(\n\t\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.main\n\t\t\t\t\t\t\t\t\t\t\t.rgb.green ?? 0\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\tblue: brand.asByteRange(\n\t\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.main\n\t\t\t\t\t\t\t\t\t\t\t.rgb.blue ?? 0\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\txyz: {\n\t\t\t\t\t\t\t\t\tx: brand.asXYZ_X(\n\t\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.main\n\t\t\t\t\t\t\t\t\t\t\t.xyz.x ?? 0\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\ty: brand.asXYZ_Y(\n\t\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.main\n\t\t\t\t\t\t\t\t\t\t\t.xyz.y ?? 0\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\tz: brand.asXYZ_Z(\n\t\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.main\n\t\t\t\t\t\t\t\t\t\t\t.xyz.z ?? 0\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tstringProps: {\n\t\t\t\t\t\t\t\tcmyk: {\n\t\t\t\t\t\t\t\t\tcyan: String(\n\t\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.main\n\t\t\t\t\t\t\t\t\t\t\t.cmyk.cyan ?? 0\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\tmagenta: String(\n\t\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.main\n\t\t\t\t\t\t\t\t\t\t\t.cmyk.magenta ?? 0\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\tyellow: String(\n\t\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.main\n\t\t\t\t\t\t\t\t\t\t\t.cmyk.yellow ?? 0\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\tkey: String(\n\t\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.main\n\t\t\t\t\t\t\t\t\t\t\t.cmyk.key ?? 0\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\thex: {\n\t\t\t\t\t\t\t\t\thex: String(\n\t\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.main\n\t\t\t\t\t\t\t\t\t\t\t.hex.hex ?? '#000000FF'\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\thsl: {\n\t\t\t\t\t\t\t\t\thue: String(\n\t\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.main\n\t\t\t\t\t\t\t\t\t\t\t.hsl.hue ?? 0\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\tsaturation: String(\n\t\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.main\n\t\t\t\t\t\t\t\t\t\t\t.hsl.saturation ?? 0\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\tlightness: String(\n\t\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.main\n\t\t\t\t\t\t\t\t\t\t\t.hsl.lightness ?? 0\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\thsv: {\n\t\t\t\t\t\t\t\t\thue: String(\n\t\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.main\n\t\t\t\t\t\t\t\t\t\t\t.hsv.hue ?? 0\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\tsaturation: String(\n\t\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.main\n\t\t\t\t\t\t\t\t\t\t\t.hsv.saturation ?? 0\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\tvalue: String(\n\t\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.main\n\t\t\t\t\t\t\t\t\t\t\t.hsv.value ?? 0\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tlab: {\n\t\t\t\t\t\t\t\t\tl: String(\n\t\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.main\n\t\t\t\t\t\t\t\t\t\t\t.lab.l ?? 0\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\ta: String(\n\t\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.main\n\t\t\t\t\t\t\t\t\t\t\t.lab.a ?? 0\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\tb: String(\n\t\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.main\n\t\t\t\t\t\t\t\t\t\t\t.lab.b ?? 0\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\trgb: {\n\t\t\t\t\t\t\t\t\tred: String(\n\t\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.main\n\t\t\t\t\t\t\t\t\t\t\t.rgb.red ?? 0\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\tgreen: String(\n\t\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.main\n\t\t\t\t\t\t\t\t\t\t\t.rgb.green ?? 0\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\tblue: String(\n\t\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.main\n\t\t\t\t\t\t\t\t\t\t\t.rgb.blue ?? 0\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\txyz: {\n\t\t\t\t\t\t\t\t\tx: String(\n\t\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.main\n\t\t\t\t\t\t\t\t\t\t\t.xyz.x ?? 0\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\ty: String(\n\t\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.main\n\t\t\t\t\t\t\t\t\t\t\t.xyz.y ?? 0\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\tz: String(\n\t\t\t\t\t\t\t\t\t\tdata.metadata.customColor.colors.main\n\t\t\t\t\t\t\t\t\t\t\t.xyz.z ?? 0\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcss: {\n\t\t\t\t\t\t\t\tcmyk: `cmyk(${data.metadata.customColor.colors.main.cmyk.cyan}%, ${data.metadata.customColor.colors.main.cmyk.magenta}%, ${data.metadata.customColor.colors.main.cmyk.yellow}%, ${data.metadata.customColor.colors.main.cmyk.key}%)`,\n\t\t\t\t\t\t\t\thex: `${data.metadata.customColor.colors.main.hex.hex}`,\n\t\t\t\t\t\t\t\thsl: `hsl(${data.metadata.customColor.colors.main.hsl.hue}, ${data.metadata.customColor.colors.main.hsl.saturation}%, ${data.metadata.customColor.colors.main.hsl.lightness}%)`,\n\t\t\t\t\t\t\t\thsv: `hsv(${data.metadata.customColor.colors.main.hsv.hue}, ${data.metadata.customColor.colors.main.hsv.saturation}%, ${data.metadata.customColor.colors.main.hsv.value}%)`,\n\t\t\t\t\t\t\t\tlab: `lab(${data.metadata.customColor.colors.main.lab.l}, ${data.metadata.customColor.colors.main.lab.a}, ${data.metadata.customColor.colors.main.lab.b})`,\n\t\t\t\t\t\t\t\trgb: `rgb(${data.metadata.customColor.colors.main.rgb.red}, ${data.metadata.customColor.colors.main.rgb.green}, ${data.metadata.customColor.colors.main.rgb.blue})`,\n\t\t\t\t\t\t\t\txyz: `xyz(${data.metadata.customColor.colors.main.xyz.x}, ${data.metadata.customColor.colors.main.xyz.y}, ${data.metadata.customColor.colors.main.xyz.z})`\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t: false\n\t\t},\n\t\titems: data.items.map(item => ({\n\t\t\tcolors: {\n\t\t\t\tmain: {\n\t\t\t\t\tcmyk: {\n\t\t\t\t\t\tcyan: brand.asPercentile(\n\t\t\t\t\t\t\titem.colors.main.cmyk.cyan ?? 0\n\t\t\t\t\t\t),\n\t\t\t\t\t\tmagenta: brand.asPercentile(\n\t\t\t\t\t\t\titem.colors.main.cmyk.magenta ?? 0\n\t\t\t\t\t\t),\n\t\t\t\t\t\tyellow: brand.asPercentile(\n\t\t\t\t\t\t\titem.colors.main.cmyk.yellow ?? 0\n\t\t\t\t\t\t),\n\t\t\t\t\t\tkey: brand.asPercentile(item.colors.main.cmyk.key ?? 0)\n\t\t\t\t\t},\n\t\t\t\t\thex: {\n\t\t\t\t\t\thex: brand.asHexSet(\n\t\t\t\t\t\t\titem.colors.main.hex.hex ?? '#000000'\n\t\t\t\t\t\t)\n\t\t\t\t\t},\n\t\t\t\t\thsl: {\n\t\t\t\t\t\thue: brand.asRadial(item.colors.main.hsl.hue ?? 0),\n\t\t\t\t\t\tsaturation: brand.asPercentile(\n\t\t\t\t\t\t\titem.colors.main.hsl.saturation ?? 0\n\t\t\t\t\t\t),\n\t\t\t\t\t\tlightness: brand.asPercentile(\n\t\t\t\t\t\t\titem.colors.main.hsl.lightness ?? 0\n\t\t\t\t\t\t)\n\t\t\t\t\t},\n\t\t\t\t\thsv: {\n\t\t\t\t\t\thue: brand.asRadial(item.colors.main.hsv.hue ?? 0),\n\t\t\t\t\t\tsaturation: brand.asPercentile(\n\t\t\t\t\t\t\titem.colors.main.hsv.saturation ?? 0\n\t\t\t\t\t\t),\n\t\t\t\t\t\tvalue: brand.asPercentile(\n\t\t\t\t\t\t\titem.colors.main.hsv.value ?? 0\n\t\t\t\t\t\t)\n\t\t\t\t\t},\n\t\t\t\t\tlab: {\n\t\t\t\t\t\tl: brand.asLAB_L(item.colors.main.lab.l ?? 0),\n\t\t\t\t\t\ta: brand.asLAB_A(item.colors.main.lab.a ?? 0),\n\t\t\t\t\t\tb: brand.asLAB_B(item.colors.main.lab.b ?? 0)\n\t\t\t\t\t},\n\t\t\t\t\trgb: {\n\t\t\t\t\t\tred: brand.asByteRange(item.colors.main.rgb.red ?? 0),\n\t\t\t\t\t\tgreen: brand.asByteRange(\n\t\t\t\t\t\t\titem.colors.main.rgb.green ?? 0\n\t\t\t\t\t\t),\n\t\t\t\t\t\tblue: brand.asByteRange(item.colors.main.rgb.blue ?? 0)\n\t\t\t\t\t},\n\t\t\t\t\txyz: {\n\t\t\t\t\t\tx: brand.asXYZ_X(item.colors.main.xyz.x ?? 0),\n\t\t\t\t\t\ty: brand.asXYZ_Y(item.colors.main.xyz.y ?? 0),\n\t\t\t\t\t\tz: brand.asXYZ_Z(item.colors.main.xyz.z ?? 0)\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tstringProps: {\n\t\t\t\t\tcmyk: {\n\t\t\t\t\t\tcyan: String(item.colors.main.cmyk.cyan ?? 0),\n\t\t\t\t\t\tmagenta: String(item.colors.main.cmyk.magenta ?? 0),\n\t\t\t\t\t\tyellow: String(item.colors.main.cmyk.yellow ?? 0),\n\t\t\t\t\t\tkey: String(item.colors.main.cmyk.key ?? 0)\n\t\t\t\t\t},\n\t\t\t\t\thex: {\n\t\t\t\t\t\thex: String(item.colors.main.hex.hex ?? '#000000')\n\t\t\t\t\t},\n\t\t\t\t\thsl: {\n\t\t\t\t\t\thue: String(item.colors.main.hsl.hue ?? 0),\n\t\t\t\t\t\tsaturation: String(\n\t\t\t\t\t\t\titem.colors.main.hsl.saturation ?? 0\n\t\t\t\t\t\t),\n\t\t\t\t\t\tlightness: String(item.colors.main.hsl.lightness ?? 0)\n\t\t\t\t\t},\n\t\t\t\t\thsv: {\n\t\t\t\t\t\thue: String(item.colors.main.hsv.hue ?? 0),\n\t\t\t\t\t\tsaturation: String(\n\t\t\t\t\t\t\titem.colors.main.hsv.saturation ?? 0\n\t\t\t\t\t\t),\n\t\t\t\t\t\tvalue: String(item.colors.main.hsv.value ?? 0)\n\t\t\t\t\t},\n\t\t\t\t\tlab: {\n\t\t\t\t\t\tl: String(item.colors.main.lab.l ?? 0),\n\t\t\t\t\t\ta: String(item.colors.main.lab.a ?? 0),\n\t\t\t\t\t\tb: String(item.colors.main.lab.b ?? 0)\n\t\t\t\t\t},\n\t\t\t\t\trgb: {\n\t\t\t\t\t\tred: String(item.colors.main.rgb.red ?? 0),\n\t\t\t\t\t\tgreen: String(item.colors.main.rgb.green ?? 0),\n\t\t\t\t\t\tblue: String(item.colors.main.rgb.blue ?? 0)\n\t\t\t\t\t},\n\t\t\t\t\txyz: {\n\t\t\t\t\t\tx: String(item.colors.main.xyz.x ?? 0),\n\t\t\t\t\t\ty: String(item.colors.main.xyz.y ?? 0),\n\t\t\t\t\t\tz: String(item.colors.main.xyz.z ?? 0)\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tcss: {\n\t\t\t\t\tcmyk: `cmyk(${item.colors.main.cmyk.cyan}%, ${item.colors.main.cmyk.magenta}%, ${item.colors.main.cmyk.yellow}%, ${item.colors.main.cmyk.key}%)`,\n\t\t\t\t\thex: `${item.colors.main.hex.hex}}`,\n\t\t\t\t\thsl: `hsl(${item.colors.main.hsl.hue}, ${item.colors.main.hsl.saturation}%, ${item.colors.main.hsl.lightness}%)`,\n\t\t\t\t\thsv: `hsv(${item.colors.main.hsv.hue}, ${item.colors.main.hsv.saturation}%, ${item.colors.main.hsv.value}%)`,\n\t\t\t\t\tlab: `lab(${item.colors.main.lab.l}, ${item.colors.main.lab.a}, ${item.colors.main.lab.b})`,\n\t\t\t\t\trgb: `rgb(${item.colors.main.rgb.red}, ${item.colors.main.rgb.green}, ${item.colors.main.rgb.blue})`,\n\t\t\t\t\txyz: `xyz(${item.colors.main.xyz.x}, ${item.colors.main.xyz.y}, ${item.colors.main.xyz.z})`\n\t\t\t\t}\n\t\t\t}\n\t\t}))\n\t};\n}\n\nfunction componentToHex(component: number): string {\n\tconst thisMethod = 'common > transform > base > componentToHex()';\n\n\ttry {\n\t\tconst hex = Math.max(0, Math.min(255, component)).toString(16);\n\n\t\treturn hex.length === 1 ? '0' + hex : hex;\n\t} catch (error) {\n\t\tif (!mode.quiet && mode.logging.error)\n\t\t\tlogger.error(\n\t\t\t\t`componentToHex error: ${error}`,\n\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t);\n\n\t\treturn '00';\n\t}\n}\n\nfunction defaultColorValue(color: UnbrandedColor): Color {\n\tswitch (color.format) {\n\t\tcase 'cmyk':\n\t\t\treturn {\n\t\t\t\tvalue: {\n\t\t\t\t\tcyan: brand.asPercentile(0),\n\t\t\t\t\tmagenta: brand.asPercentile(0),\n\t\t\t\t\tyellow: brand.asPercentile(0),\n\t\t\t\t\tkey: brand.asPercentile(0)\n\t\t\t\t},\n\t\t\t\tformat: 'cmyk'\n\t\t\t};\n\t\tcase 'hex':\n\t\t\treturn {\n\t\t\t\tvalue: {\n\t\t\t\t\thex: brand.asHexSet('#000000')\n\t\t\t\t},\n\t\t\t\tformat: 'hex'\n\t\t\t};\n\t\tcase 'hsl':\n\t\t\treturn {\n\t\t\t\tvalue: {\n\t\t\t\t\thue: brand.asRadial(0),\n\t\t\t\t\tsaturation: brand.asPercentile(0),\n\t\t\t\t\tlightness: brand.asPercentile(0)\n\t\t\t\t},\n\t\t\t\tformat: 'hsl'\n\t\t\t};\n\t\tcase 'hsv':\n\t\t\treturn {\n\t\t\t\tvalue: {\n\t\t\t\t\thue: brand.asRadial(0),\n\t\t\t\t\tsaturation: brand.asPercentile(0),\n\t\t\t\t\tvalue: brand.asPercentile(0)\n\t\t\t\t},\n\t\t\t\tformat: 'hsv'\n\t\t\t};\n\t\tcase 'lab':\n\t\t\treturn {\n\t\t\t\tvalue: {\n\t\t\t\t\tl: brand.asLAB_L(0),\n\t\t\t\t\ta: brand.asLAB_A(0),\n\t\t\t\t\tb: brand.asLAB_B(0)\n\t\t\t\t},\n\t\t\t\tformat: 'lab'\n\t\t\t};\n\t\tcase 'rgb':\n\t\t\treturn {\n\t\t\t\tvalue: {\n\t\t\t\t\tred: brand.asByteRange(0),\n\t\t\t\t\tgreen: brand.asByteRange(0),\n\t\t\t\t\tblue: brand.asByteRange(0)\n\t\t\t\t},\n\t\t\t\tformat: 'rgb'\n\t\t\t};\n\t\tcase 'sl':\n\t\t\treturn {\n\t\t\t\tvalue: {\n\t\t\t\t\tsaturation: brand.asPercentile(0),\n\t\t\t\t\tlightness: brand.asPercentile(0)\n\t\t\t\t},\n\t\t\t\tformat: 'sl'\n\t\t\t};\n\t\tcase 'sv':\n\t\t\treturn {\n\t\t\t\tvalue: {\n\t\t\t\t\tsaturation: brand.asPercentile(0),\n\t\t\t\t\tvalue: brand.asPercentile(0)\n\t\t\t\t},\n\t\t\t\tformat: 'sv'\n\t\t\t};\n\t\tcase 'xyz':\n\t\t\treturn {\n\t\t\t\tvalue: {\n\t\t\t\t\tx: brand.asXYZ_X(0),\n\t\t\t\t\ty: brand.asXYZ_Y(0),\n\t\t\t\t\tz: brand.asXYZ_Z(0)\n\t\t\t\t},\n\t\t\t\tformat: 'xyz'\n\t\t\t};\n\t\tdefault:\n\t\t\tthrow new Error(`\n\t\t\t\tUnknown color format\\nDetails: ${JSON.stringify(color)}`);\n\t}\n}\n\nexport const transformUtils: CommonFn_MasterInterface['transform'] = {\n\taddHashToHex,\n\tcomponentToHex,\n\tbrandPalette,\n\tdefaultColorValue\n};\n\nexport { componentToHex };\n","// File: common/utils/color.js\n\nimport {\n\tCMYK,\n\tCMYK_StringProps,\n\tColor,\n\tColorFormat,\n\tColorSpace,\n\tColorSpaceExtended,\n\tColor_StringProps,\n\tCommonFn_MasterInterface,\n\tHex,\n\tHex_StringProps,\n\tHSL,\n\tHSL_StringProps,\n\tHSV,\n\tHSV_StringProps,\n\tLAB,\n\tLAB_StringProps,\n\tRGB,\n\tRGB_StringProps,\n\tSL,\n\tSL_StringProps,\n\tStoredPalette,\n\tSV,\n\tSV_StringProps,\n\tXYZ,\n\tXYZ_StringProps\n} from '../../types/index.js';\nimport { coreUtils } from '../core.js';\nimport { createLogger } from '../../logger/index.js';\nimport { defaultData as defaults } from '../../data/defaults.js';\nimport { modeData as mode } from '../../data/mode.js';\n\nconst logMode = mode.logging;\nconst thisModule = 'common/utils/color.js';\n\nconst logger = await createLogger();\n\n// ******** SECTION 1: Robust Type Guards ********\n\nfunction isColorFormat<T extends Color>(\n\tcolor: Color,\n\tformat: T['format']\n): color is T {\n\treturn color.format === format;\n}\n\nfunction isColorSpace(value: string): value is ColorSpace {\n\treturn ['cmyk', 'hex', 'hsl', 'hsv', 'lab', 'rgb', 'xyz'].includes(value);\n}\n\nfunction isColorSpaceExtended(value: string): value is ColorSpaceExtended {\n\treturn [\n\t\t'cmyk',\n\t\t'hex',\n\t\t'hsl',\n\t\t'hsv',\n\t\t'lab',\n\t\t'rgb',\n\t\t'sl',\n\t\t'sv',\n\t\t'xyz'\n\t].includes(value);\n}\n\nfunction isColorString(value: unknown): value is Color_StringProps {\n\tif (typeof value === 'object' && value !== null) {\n\t\tconst colorString = value as Exclude<\n\t\t\tColor_StringProps,\n\t\t\tHex_StringProps\n\t\t>;\n\t\tconst validStringFormats: Exclude<\n\t\t\tColor_StringProps,\n\t\t\tHex_StringProps\n\t\t>['format'][] = ['cmyk', 'hsl', 'hsv', 'lab', 'rgb', 'sl', 'sv', 'xyz'];\n\n\t\treturn (\n\t\t\t'value' in colorString &&\n\t\t\t'format' in colorString &&\n\t\t\tvalidStringFormats.includes(colorString.format)\n\t\t);\n\t}\n\n\treturn typeof value === 'string' && /^#[0-9A-Fa-f]{6,8}$/.test(value);\n}\n\nfunction isFormat(format: unknown): format is ColorFormat {\n\treturn (\n\t\ttypeof format === 'string' &&\n\t\t['cmyk', 'hex', 'hsl', 'hsv', 'lab', 'rgb', 'sl', 'sv', 'xyz'].includes(\n\t\t\tformat\n\t\t)\n\t);\n}\n\n// ******** SECTION 2: Narrow Type Guards ********\n\nfunction isCMYKColor(value: unknown): value is CMYK {\n\treturn (\n\t\ttypeof value === 'object' &&\n\t\tvalue !== null &&\n\t\t'format' in value &&\n\t\t(value as CMYK).format === 'cmyk' &&\n\t\t'value' in value &&\n\t\ttypeof (value as CMYK).value.cyan === 'number' &&\n\t\ttypeof (value as CMYK).value.magenta === 'number' &&\n\t\ttypeof (value as CMYK).value.yellow === 'number' &&\n\t\ttypeof (value as CMYK).value.key === 'number'\n\t);\n}\n\nfunction isCMYKFormat(color: Color): color is CMYK {\n\treturn isColorFormat(color, 'cmyk');\n}\n\nfunction isCMYKString(value: unknown): value is CMYK_StringProps {\n\treturn (\n\t\tisColorString(value) &&\n\t\ttypeof value === 'object' &&\n\t\tvalue !== null &&\n\t\t'format' in value &&\n\t\t(value as CMYK_StringProps).format === 'cmyk' &&\n\t\t'value' in value &&\n\t\ttypeof (value as CMYK_StringProps).value.cyan === 'string' &&\n\t\ttypeof (value as CMYK_StringProps).value.magenta === 'string' &&\n\t\ttypeof (value as CMYK_StringProps).value.yellow === 'string' &&\n\t\ttypeof (value as CMYK_StringProps).value.key === 'string'\n\t);\n}\n\nfunction isHex(value: unknown): value is Hex {\n\treturn (\n\t\ttypeof value === 'object' &&\n\t\tvalue !== null &&\n\t\t'format' in value &&\n\t\t(value as Hex).format === 'hex' &&\n\t\t'value' in value &&\n\t\ttypeof (value as Hex).value.hex === 'string'\n\t);\n}\n\nfunction isHexFormat(color: Color): color is Hex {\n\treturn isColorFormat(color, 'hex');\n}\n\nfunction isHSLColor(value: unknown): value is HSL {\n\treturn (\n\t\ttypeof value === 'object' &&\n\t\tvalue !== null &&\n\t\t'format' in value &&\n\t\t(value as HSL).format === 'hsl' &&\n\t\t'value' in value &&\n\t\ttypeof (value as HSL).value.hue === 'number' &&\n\t\ttypeof (value as HSL).value.saturation === 'number' &&\n\t\ttypeof (value as HSL).value.lightness === 'number'\n\t);\n}\n\nfunction isHSLFormat(color: Color): color is HSL {\n\treturn isColorFormat(color, 'hsl');\n}\n\nfunction isHSLString(value: unknown): value is HSL_StringProps {\n\treturn (\n\t\tisColorString(value) &&\n\t\ttypeof value === 'object' &&\n\t\tvalue !== null &&\n\t\t'format' in value &&\n\t\t(value as HSL_StringProps).format === 'hsl' &&\n\t\t'value' in value &&\n\t\ttypeof (value as HSL_StringProps).value.hue === 'number' &&\n\t\ttypeof (value as HSL_StringProps).value.saturation === 'string' &&\n\t\ttypeof (value as HSL_StringProps).value.lightness === 'string'\n\t);\n}\n\nfunction isHSVColor(value: unknown): value is HSV {\n\treturn (\n\t\tcoreUtils.guards.isColor(value) &&\n\t\ttypeof value === 'object' &&\n\t\tvalue !== null &&\n\t\t'format' in value &&\n\t\t(value as HSV).format === 'hsv' &&\n\t\t'value' in value &&\n\t\ttypeof (value as HSV).value.hue === 'number' &&\n\t\ttypeof (value as HSV).value.saturation === 'number' &&\n\t\ttypeof (value as HSV).value.value === 'number'\n\t);\n}\n\nfunction isHSVFormat(color: Color): color is HSV {\n\treturn isColorFormat(color, 'hsv');\n}\n\nfunction isHSVString(value: unknown): value is HSV_StringProps {\n\treturn (\n\t\tisColorString(value) &&\n\t\ttypeof value === 'object' &&\n\t\tvalue !== null &&\n\t\t'format' in value &&\n\t\t(value as HSV_StringProps).format === 'hsv' &&\n\t\t'value' in value &&\n\t\ttypeof (value as HSV_StringProps).value.hue === 'number' &&\n\t\ttypeof (value as HSV_StringProps).value.saturation === 'string' &&\n\t\ttypeof (value as HSV_StringProps).value.value === 'string'\n\t);\n}\n\nfunction isLAB(value: unknown): value is LAB {\n\treturn (\n\t\tcoreUtils.guards.isColor(value) &&\n\t\ttypeof value === 'object' &&\n\t\tvalue !== null &&\n\t\t'format' in value &&\n\t\t(value as LAB).format === 'lab' &&\n\t\t'value' in value &&\n\t\ttypeof (value as LAB).value.l === 'number' &&\n\t\ttypeof (value as LAB).value.a === 'number' &&\n\t\ttypeof (value as LAB).value.b === 'number'\n\t);\n}\n\nfunction isLABFormat(color: Color): color is LAB {\n\treturn isColorFormat(color, 'lab');\n}\n\nfunction isRGB(value: unknown): value is RGB {\n\treturn (\n\t\tcoreUtils.guards.isColor(value) &&\n\t\ttypeof value === 'object' &&\n\t\tvalue !== null &&\n\t\t'format' in value &&\n\t\t(value as RGB).format === 'rgb' &&\n\t\t'value' in value &&\n\t\ttypeof (value as RGB).value.red === 'number' &&\n\t\ttypeof (value as RGB).value.green === 'number' &&\n\t\ttypeof (value as RGB).value.blue === 'number'\n\t);\n}\n\nfunction isRGBFormat(color: Color): color is RGB {\n\treturn isColorFormat(color, 'rgb');\n}\n\nfunction isSLColor(value: unknown): value is SL {\n\treturn (\n\t\ttypeof value === 'object' &&\n\t\tvalue !== null &&\n\t\t'format' in value &&\n\t\t(value as SL).format === 'sl' &&\n\t\t'value' in value &&\n\t\ttypeof (value as SL).value.saturation === 'number' &&\n\t\ttypeof (value as SL).value.lightness === 'number'\n\t);\n}\n\nfunction isSLFormat(color: Color): color is SL {\n\treturn isColorFormat(color, 'sl');\n}\n\nfunction isSLString(value: unknown): value is SL_StringProps {\n\treturn (\n\t\ttypeof value === 'object' &&\n\t\tvalue !== null &&\n\t\t'format' in value &&\n\t\t(value as SL_StringProps).format === 'sl' &&\n\t\t'value' in value &&\n\t\ttypeof (value as SL_StringProps).value.saturation === 'string' &&\n\t\ttypeof (value as SL_StringProps).value.lightness === 'string'\n\t);\n}\n\nfunction isSVColor(value: unknown): value is SV {\n\treturn (\n\t\ttypeof value === 'object' &&\n\t\tvalue !== null &&\n\t\t'format' in value &&\n\t\t(value as SV).format === 'sv' &&\n\t\t'value' in value &&\n\t\ttypeof (value as SV).value.saturation === 'number' &&\n\t\ttypeof (value as SV).value.value === 'number'\n\t);\n}\n\nfunction isSVFormat(color: Color): color is SV {\n\treturn isColorFormat(color, 'sv');\n}\n\nfunction isSVString(value: unknown): value is SV_StringProps {\n\treturn (\n\t\ttypeof value === 'object' &&\n\t\tvalue !== null &&\n\t\t'format' in value &&\n\t\t(value as SV_StringProps).format === 'sv' &&\n\t\t'value' in value &&\n\t\ttypeof (value as SV_StringProps).value.saturation === 'string' &&\n\t\ttypeof (value as SV_StringProps).value.value === 'string'\n\t);\n}\n\nfunction isXYZ(value: unknown): value is XYZ {\n\treturn (\n\t\ttypeof value === 'object' &&\n\t\tvalue !== null &&\n\t\t'format' in value &&\n\t\t(value as XYZ).format === 'xyz' &&\n\t\t'value' in value &&\n\t\ttypeof (value as XYZ).value.x === 'number' &&\n\t\ttypeof (value as XYZ).value.y === 'number' &&\n\t\ttypeof (value as XYZ).value.z === 'number'\n\t);\n}\n\nfunction isXYZFormat(color: Color): color is XYZ {\n\treturn isColorFormat(color, 'xyz');\n}\n\n// ***** SECTION 3: Utility Guards *****\n\nfunction ensureHash(value: string): string {\n\treturn value.startsWith('#') ? value : `#${value}`;\n}\n\nfunction isConvertibleColor(\n\tcolor: Color\n): color is CMYK | Hex | HSL | HSV | LAB | RGB {\n\treturn (\n\t\tcolor.format === 'cmyk' ||\n\t\tcolor.format === 'hex' ||\n\t\tcolor.format === 'hsl' ||\n\t\tcolor.format === 'hsv' ||\n\t\tcolor.format === 'lab' ||\n\t\tcolor.format === 'rgb'\n\t);\n}\n\nfunction isInputElement(element: HTMLElement | null): element is HTMLElement {\n\treturn element instanceof HTMLInputElement;\n}\n\nfunction isStoredPalette(obj: unknown): obj is StoredPalette {\n\tif (typeof obj !== 'object' || obj === null) return false;\n\n\tconst candidate = obj as Partial<StoredPalette>;\n\n\treturn (\n\t\ttypeof candidate.tableID === 'number' &&\n\t\ttypeof candidate.palette === 'object' &&\n\t\tArray.isArray(candidate.palette.items) &&\n\t\ttypeof candidate.palette.id === 'string'\n\t);\n}\n\nasync function narrowToColor(\n\tcolor: Color | Color_StringProps\n): Promise<Color | null> {\n\tif (isColorString(color)) {\n\t\treturn coreUtils.convert.colorStringToColor(color);\n\t}\n\n\tswitch (color.format as ColorSpaceExtended) {\n\t\tcase 'cmyk':\n\t\tcase 'hex':\n\t\tcase 'hsl':\n\t\tcase 'hsv':\n\t\tcase 'lab':\n\t\tcase 'sl':\n\t\tcase 'sv':\n\t\tcase 'rgb':\n\t\tcase 'xyz':\n\t\t\treturn color;\n\t\tdefault:\n\t\t\treturn null;\n\t}\n}\n\n// ******** SECTION 4: TRANSFORM UTILS ********\n\nfunction colorToColorString(color: Color): Color_StringProps {\n\tconst thisMethod = 'colorToColorString()';\n\tconst clonedColor = coreUtils.base.clone(color);\n\n\tif (isColorString(clonedColor)) {\n\t\tif (logMode.error) {\n\t\t\tlogger.info(\n\t\t\t\t`Already formatted as color string: ${JSON.stringify(color)}`,\n\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t);\n\t\t}\n\n\t\treturn clonedColor;\n\t}\n\n\tif (isCMYKColor(clonedColor)) {\n\t\tconst newValue = formatPercentageValues(\n\t\t\tclonedColor.value\n\t\t) as CMYK['value'];\n\n\t\treturn {\n\t\t\tformat: 'cmyk',\n\t\t\tvalue: {\n\t\t\t\tcyan: `${newValue.cyan}%`,\n\t\t\t\tmagenta: `${newValue.magenta}%`,\n\t\t\t\tyellow: `${newValue.yellow}%`,\n\t\t\t\tkey: `${newValue.key}%`\n\t\t\t} as CMYK_StringProps['value']\n\t\t};\n\t} else if (isHex(clonedColor)) {\n\t\tconst newValue = formatPercentageValues(\n\t\t\t(clonedColor as Hex).value\n\t\t) as Hex['value'];\n\n\t\treturn {\n\t\t\tformat: 'hex',\n\t\t\tvalue: {\n\t\t\t\thex: `${newValue.hex}`\n\t\t\t} as Hex_StringProps['value']\n\t\t};\n\t} else if (isHSLColor(clonedColor)) {\n\t\tconst newValue = formatPercentageValues(\n\t\t\tclonedColor.value\n\t\t) as HSL['value'];\n\n\t\treturn {\n\t\t\tformat: 'hsl',\n\t\t\tvalue: {\n\t\t\t\thue: `${newValue.hue}`,\n\t\t\t\tsaturation: `${newValue.saturation}%`,\n\t\t\t\tlightness: `${newValue.lightness}%`\n\t\t\t} as HSL_StringProps['value']\n\t\t};\n\t} else if (isHSVColor(clonedColor)) {\n\t\tconst newValue = formatPercentageValues(\n\t\t\tclonedColor.value\n\t\t) as HSV['value'];\n\n\t\treturn {\n\t\t\tformat: 'hsv',\n\t\t\tvalue: {\n\t\t\t\thue: `${newValue.hue}`,\n\t\t\t\tsaturation: `${newValue.saturation}%`,\n\t\t\t\tvalue: `${newValue.value}%`\n\t\t\t} as HSV_StringProps['value']\n\t\t};\n\t} else if (isLAB(clonedColor)) {\n\t\tconst newValue = formatPercentageValues(\n\t\t\tclonedColor.value\n\t\t) as LAB['value'];\n\n\t\treturn {\n\t\t\tformat: 'lab',\n\t\t\tvalue: {\n\t\t\t\tl: `${newValue.l}`,\n\t\t\t\ta: `${newValue.a}`,\n\t\t\t\tb: `${newValue.b}`\n\t\t\t} as LAB_StringProps['value']\n\t\t};\n\t} else if (isRGB(clonedColor)) {\n\t\tconst newValue = formatPercentageValues(\n\t\t\tclonedColor.value\n\t\t) as RGB['value'];\n\n\t\treturn {\n\t\t\tformat: 'rgb',\n\t\t\tvalue: {\n\t\t\t\tred: `${newValue.red}`,\n\t\t\t\tgreen: `${newValue.green}`,\n\t\t\t\tblue: `${newValue.blue}`\n\t\t\t} as RGB_StringProps['value']\n\t\t};\n\t} else if (isXYZ(clonedColor)) {\n\t\tconst newValue = formatPercentageValues(\n\t\t\tclonedColor.value\n\t\t) as XYZ['value'];\n\n\t\treturn {\n\t\t\tformat: 'xyz',\n\t\t\tvalue: {\n\t\t\t\tx: `${newValue.x}`,\n\t\t\t\ty: `${newValue.y}`,\n\t\t\t\tz: `${newValue.z}`\n\t\t\t} as XYZ_StringProps['value']\n\t\t};\n\t} else {\n\t\tif (!mode.gracefulErrors) {\n\t\t\tthrow new Error(`Unsupported format: ${clonedColor.format}`);\n\t\t} else if (logMode.error) {\n\t\t\tlogger.error(\n\t\t\t\t`Unsupported format: ${clonedColor.format}`,\n\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t);\n\t\t} else if (!mode.quiet && logMode.warn) {\n\t\t\tlogger.warn(\n\t\t\t\t'Failed to convert to color string.',\n\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t);\n\t\t}\n\n\t\treturn defaults.colors.strings.hsl;\n\t}\n}\n\nfunction formatPercentageValues<T extends Record<string, unknown>>(\n\tvalue: T\n): T {\n\treturn Object.entries(value).reduce(\n\t\t(acc, [key, val]) => {\n\t\t\t(acc as Record<string, unknown>)[key] = [\n\t\t\t\t'saturation',\n\t\t\t\t'lightness',\n\t\t\t\t'value',\n\t\t\t\t'cyan',\n\t\t\t\t'magenta',\n\t\t\t\t'yellow',\n\t\t\t\t'key'\n\t\t\t].includes(key)\n\t\t\t\t? `${val}%`\n\t\t\t\t: val;\n\t\t\treturn acc;\n\t\t},\n\t\t{} as Record<string, unknown>\n\t) as T;\n}\n\nfunction getColorString(color: Color): string | null {\n\tconst thisMethod = 'getColorString()';\n\n\ttry {\n\t\tconst formatters = {\n\t\t\tcmyk: (c: CMYK) =>\n\t\t\t\t`cmyk(${c.value.cyan}, ${c.value.magenta}, ${c.value.yellow}, ${c.value.key})`,\n\t\t\thex: (c: Hex) => c.value.hex,\n\t\t\thsl: (c: HSL) =>\n\t\t\t\t`hsl(${c.value.hue}, ${c.value.saturation}%, ${c.value.lightness}%)`,\n\t\t\thsv: (c: HSV) =>\n\t\t\t\t`hsv(${c.value.hue}, ${c.value.saturation}%, ${c.value.value}%)`,\n\t\t\tlab: (c: LAB) => `lab(${c.value.l}, ${c.value.a}, ${c.value.b})`,\n\t\t\trgb: (c: RGB) =>\n\t\t\t\t`rgb(${c.value.red}, ${c.value.green}, ${c.value.blue})`,\n\t\t\txyz: (c: XYZ) => `xyz(${c.value.x}, ${c.value.y}, ${c.value.z})`\n\t\t};\n\n\t\tswitch (color.format) {\n\t\t\tcase 'cmyk':\n\t\t\t\treturn formatters.cmyk(color);\n\t\t\tcase 'hex':\n\t\t\t\treturn formatters.hex(color);\n\t\t\tcase 'hsl':\n\t\t\t\treturn formatters.hsl(color);\n\t\t\tcase 'hsv':\n\t\t\t\treturn formatters.hsv(color);\n\t\t\tcase 'lab':\n\t\t\t\treturn formatters.lab(color);\n\t\t\tcase 'rgb':\n\t\t\t\treturn formatters.rgb(color);\n\t\t\tcase 'xyz':\n\t\t\t\treturn formatters.xyz(color);\n\t\t\tdefault:\n\t\t\t\tif (!logMode.error)\n\t\t\t\t\tlogger.error(\n\t\t\t\t\t\t`Unsupported color format for ${color}`,\n\t\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t\t);\n\n\t\t\t\treturn null;\n\t\t}\n\t} catch (error) {\n\t\tif (!logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`getColorString error: ${error}`,\n\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t);\n\n\t\treturn null;\n\t}\n}\n\nfunction hexAlphaToNumericAlpha(hexAlpha: string): number {\n\treturn parseInt(hexAlpha, 16) / 255;\n}\n\nconst parseColor = (colorSpace: ColorSpace, value: string): Color | null => {\n\tconst thisMethod = 'parseColor';\n\n\ttry {\n\t\tswitch (colorSpace) {\n\t\t\tcase 'cmyk': {\n\t\t\t\tconst [c, m, y, k] = parseComponents(value, 5);\n\n\t\t\t\treturn {\n\t\t\t\t\tvalue: {\n\t\t\t\t\t\tcyan: coreUtils.brand.asPercentile(c),\n\t\t\t\t\t\tmagenta: coreUtils.brand.asPercentile(m),\n\t\t\t\t\t\tyellow: coreUtils.brand.asPercentile(y),\n\t\t\t\t\t\tkey: coreUtils.brand.asPercentile(k)\n\t\t\t\t\t},\n\t\t\t\t\tformat: 'cmyk'\n\t\t\t\t};\n\t\t\t}\n\t\t\tcase 'hex':\n\t\t\t\tconst hexValue = value.startsWith('#') ? value : `#${value}`;\n\n\t\t\t\treturn {\n\t\t\t\t\tvalue: {\n\t\t\t\t\t\thex: coreUtils.brand.asHexSet(hexValue)\n\t\t\t\t\t},\n\t\t\t\t\tformat: 'hex'\n\t\t\t\t};\n\t\t\tcase 'hsl': {\n\t\t\t\tconst [h, s, l] = parseComponents(value, 4);\n\n\t\t\t\treturn {\n\t\t\t\t\tvalue: {\n\t\t\t\t\t\thue: coreUtils.brand.asRadial(h),\n\t\t\t\t\t\tsaturation: coreUtils.brand.asPercentile(s),\n\t\t\t\t\t\tlightness: coreUtils.brand.asPercentile(l)\n\t\t\t\t\t},\n\t\t\t\t\tformat: 'hsl'\n\t\t\t\t};\n\t\t\t}\n\t\t\tcase 'hsv': {\n\t\t\t\tconst [h, s, v] = parseComponents(value, 4);\n\n\t\t\t\treturn {\n\t\t\t\t\tvalue: {\n\t\t\t\t\t\thue: coreUtils.brand.asRadial(h),\n\t\t\t\t\t\tsaturation: coreUtils.brand.asPercentile(s),\n\t\t\t\t\t\tvalue: coreUtils.brand.asPercentile(v)\n\t\t\t\t\t},\n\t\t\t\t\tformat: 'hsv'\n\t\t\t\t};\n\t\t\t}\n\t\t\tcase 'lab': {\n\t\t\t\tconst [l, a, b] = parseComponents(value, 4);\n\t\t\t\treturn {\n\t\t\t\t\tvalue: {\n\t\t\t\t\t\tl: coreUtils.brand.asLAB_L(l),\n\t\t\t\t\t\ta: coreUtils.brand.asLAB_A(a),\n\t\t\t\t\t\tb: coreUtils.brand.asLAB_B(b)\n\t\t\t\t\t},\n\t\t\t\t\tformat: 'lab'\n\t\t\t\t};\n\t\t\t}\n\t\t\tcase 'rgb': {\n\t\t\t\tconst components = value.split(',').map(Number);\n\n\t\t\t\tif (components.some(isNaN))\n\t\t\t\t\tthrow new Error('Invalid RGB format');\n\n\t\t\t\tconst [r, g, b] = components;\n\n\t\t\t\treturn {\n\t\t\t\t\tvalue: {\n\t\t\t\t\t\tred: coreUtils.brand.asByteRange(r),\n\t\t\t\t\t\tgreen: coreUtils.brand.asByteRange(g),\n\t\t\t\t\t\tblue: coreUtils.brand.asByteRange(b)\n\t\t\t\t\t},\n\t\t\t\t\tformat: 'rgb'\n\t\t\t\t};\n\t\t\t}\n\t\t\tdefault:\n\t\t\t\tconst message = `Unsupported color format: ${colorSpace}`;\n\n\t\t\t\tif (mode.gracefulErrors) {\n\t\t\t\t\tif (logMode.error) logger.error(message);\n\t\t\t\t\telse if (!mode.quiet && logMode.warn)\n\t\t\t\t\t\tlogger.warn(\n\t\t\t\t\t\t\t`Failed to parse color: ${message}`,\n\t\t\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\tthrow new Error(message);\n\t\t\t\t}\n\n\t\t\t\treturn null;\n\t\t}\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`parseColor error: ${error}`,\n\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t);\n\n\t\treturn null;\n\t}\n};\n\nfunction parseComponents(value: string, count: number): number[] {\n\tconst thisMethod = 'parseComponents()';\n\n\ttry {\n\t\tconst components = value\n\t\t\t.split(',')\n\t\t\t.map(val =>\n\t\t\t\tval.trim().endsWith('%')\n\t\t\t\t\t? parseFloat(val)\n\t\t\t\t\t: parseFloat(val) * 100\n\t\t\t);\n\n\t\tif (components.length !== count)\n\t\t\tif (!mode.gracefulErrors)\n\t\t\t\tthrow new Error(`Expected ${count} components.`);\n\t\t\telse if (logMode.error) {\n\t\t\t\tif (!mode.quiet && logMode.warn)\n\t\t\t\t\tlogger.warn(\n\t\t\t\t\t\t`Expected ${count} components.`,\n\t\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t\t);\n\n\t\t\t\treturn [];\n\t\t\t}\n\n\t\treturn components;\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`Error parsing components: ${error}`,\n\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t);\n\n\t\treturn [];\n\t}\n}\n\nfunction stripHashFromHex(hex: Hex): Hex {\n\tconst thisMethod = 'stripHashFromHex()';\n\n\ttry {\n\t\tconst hexString = `${hex.value.hex}`;\n\n\t\treturn hex.value.hex.startsWith('#')\n\t\t\t? {\n\t\t\t\t\tvalue: {\n\t\t\t\t\t\thex: coreUtils.brand.asHexSet(hexString.slice(1))\n\t\t\t\t\t},\n\t\t\t\t\tformat: 'hex' as 'hex'\n\t\t\t\t}\n\t\t\t: hex;\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`stripHashFromHex error: ${error}`,\n\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t);\n\n\t\tconst unbrandedHex = coreUtils.base.clone(\n\t\t\tdefaults.colors.base.unbranded.hex\n\t\t);\n\n\t\treturn coreUtils.brandColor.asHex(unbrandedHex);\n\t}\n}\n\nfunction stripPercentFromValues<T extends Record<string, number | string>>(\n\tvalue: T\n): { [K in keyof T]: T[K] extends `${number}%` ? number : T[K] } {\n\treturn Object.entries(value).reduce(\n\t\t(acc, [key, val]) => {\n\t\t\tconst parsedValue =\n\t\t\t\ttypeof val === 'string' && val.endsWith('%')\n\t\t\t\t\t? parseFloat(val.slice(0, -1))\n\t\t\t\t\t: val;\n\t\t\tacc[key as keyof T] = parsedValue as T[keyof T] extends `${number}%`\n\t\t\t\t? number\n\t\t\t\t: T[keyof T];\n\t\t\treturn acc;\n\t\t},\n\t\t{} as { [K in keyof T]: T[K] extends `${number}%` ? number : T[K] }\n\t);\n}\n\nexport const colorUtils: CommonFn_MasterInterface['utils']['color'] = {\n\tcolorToColorString,\n\tensureHash,\n\tformatPercentageValues,\n\tgetColorString,\n\tisCMYKColor,\n\tisCMYKFormat,\n\tisCMYKString,\n\tisColorFormat,\n\tisColorString,\n\tisColorSpace,\n\tisColorSpaceExtended,\n\tisConvertibleColor,\n\tisFormat,\n\tisHex,\n\tisHexFormat,\n\tisHSLColor,\n\tisHSLFormat,\n\tisHSLString,\n\tisInputElement,\n\tisHSVColor,\n\tisHSVFormat,\n\tisHSVString,\n\tisLAB,\n\tisLABFormat,\n\tisRGB,\n\tisRGBFormat,\n\tisSLColor,\n\tisSLFormat,\n\tisSLString,\n\tisStoredPalette,\n\tisSVColor,\n\tisSVFormat,\n\tisSVString,\n\tisXYZ,\n\tisXYZFormat,\n\tnarrowToColor,\n\tparseColor,\n\tparseComponents,\n\tstripHashFromHex,\n\tstripPercentFromValues\n} as const;\n\nexport { hexAlphaToNumericAlpha, stripHashFromHex };\n","// File: common/convert.js\n\nimport {\n\tCMYK,\n\tColor,\n\tColorSpaceExtended,\n\tCommonFn_MasterInterface,\n\tHex,\n\tHSL,\n\tHSV,\n\tLAB,\n\tRGB,\n\tSL,\n\tSV,\n\tXYZ,\n\tXYZ_X,\n\tXYZ_Y,\n\tXYZ_Z\n} from '../types/index.js';\nimport {\n\tapplyGammaCorrection,\n\tclampRGB,\n\thueToRGB\n} from './helpers/conversion.js';\nimport { base, brand, brandColor, clone, sanitize, validate } from './core.js';\nimport { componentToHex } from './transform.js';\nimport { createLogger } from '../logger/index.js';\nimport { defaultData as defaults } from '../data/defaults.js';\nimport { stripHashFromHex } from './utils/color.js';\nimport { modeData as mode } from '../data/mode.js';\n\nconst defaultColors = defaults.colors.base.unbranded;\nconst logMode = mode.logging;\n\nconst thisModule = 'common/convert/base.js';\n\nconst logger = await createLogger();\n\nconst defaultCMYKUnbranded = base.clone(defaultColors.cmyk);\nconst defaultHexUnbranded = base.clone(defaultColors.hex);\nconst defaultHSLUnbranded = base.clone(defaultColors.hsl);\nconst defaultHSVUnbranded = base.clone(defaultColors.hsv);\nconst defaultLABUnbranded = base.clone(defaultColors.lab);\nconst defaultRGBUnbranded = base.clone(defaultColors.rgb);\nconst defaultSLUnbranded = base.clone(defaultColors.sl);\nconst defaultSVUnbranded = base.clone(defaultColors.sv);\nconst defaultXYZUnbranded = base.clone(defaultColors.xyz);\n\nconst defaultCMYKBranded = brandColor.asCMYK(defaultCMYKUnbranded);\nconst defaultHexBranded = brandColor.asHex(defaultHexUnbranded);\nconst defaultHSLBranded = brandColor.asHSL(defaultHSLUnbranded);\nconst defaultHSVBranded = brandColor.asHSV(defaultHSVUnbranded);\nconst defaultLABBranded = brandColor.asLAB(defaultLABUnbranded);\nconst defaultRGBBranded = brandColor.asRGB(defaultRGBUnbranded);\nconst defaultSLBranded = brandColor.asSL(defaultSLUnbranded);\nconst defaultSVBranded = brandColor.asSV(defaultSVUnbranded);\nconst defaultXYZBranded = brandColor.asXYZ(defaultXYZUnbranded);\n\nfunction cmykToHSL(cmyk: CMYK): HSL {\n\tconst thisMethod = 'cmykToHSL()';\n\n\ttry {\n\t\tif (!validate.colorValues(cmyk)) {\n\t\t\tif (logMode.error)\n\t\t\t\tlogger.error(\n\t\t\t\t\t`Invalid CMYK value ${JSON.stringify(cmyk)}`,\n\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t);\n\n\t\t\treturn defaultHSLBranded;\n\t\t}\n\n\t\treturn rgbToHSL(cmykToRGB(base.clone(cmyk)));\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`cmykToHSL() error: ${error}`,\n\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t);\n\n\t\treturn defaultHSLBranded;\n\t}\n}\n\nfunction cmykToRGB(cmyk: CMYK): RGB {\n\tconst thisMethod = 'cmykToRGB()';\n\n\ttry {\n\t\tif (!validate.colorValues(cmyk)) {\n\t\t\tif (logMode.error)\n\t\t\t\tlogger.error(\n\t\t\t\t\t`Invalid CMYK value ${JSON.stringify(cmyk)}`,\n\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t);\n\n\t\t\treturn defaultRGBBranded;\n\t\t}\n\n\t\tconst clonedCMYK = base.clone(cmyk);\n\t\tconst r =\n\t\t\t255 *\n\t\t\t(1 - clonedCMYK.value.cyan / 100) *\n\t\t\t(1 - clonedCMYK.value.key / 100);\n\t\tconst g =\n\t\t\t255 *\n\t\t\t(1 - clonedCMYK.value.magenta / 100) *\n\t\t\t(1 - clonedCMYK.value.key / 100);\n\t\tconst b =\n\t\t\t255 *\n\t\t\t(1 - clonedCMYK.value.yellow / 100) *\n\t\t\t(1 - clonedCMYK.value.key / 100);\n\t\tconst rgb: RGB = {\n\t\t\tvalue: {\n\t\t\t\tred: brand.asByteRange(Math.round(r)),\n\t\t\t\tgreen: brand.asByteRange(Math.round(g)),\n\t\t\t\tblue: brand.asByteRange(Math.round(b))\n\t\t\t},\n\t\t\tformat: 'rgb'\n\t\t};\n\n\t\treturn clampRGB(rgb);\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`cmykToRGB error: ${error}`,\n\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t);\n\n\t\treturn defaultRGBBranded;\n\t}\n}\n\nfunction hexToHSL(hex: Hex): HSL {\n\tconst thisMethod = 'hexToHSL()';\n\ttry {\n\t\tif (!validate.colorValues(hex)) {\n\t\t\tif (logMode.error)\n\t\t\t\tlogger.error(\n\t\t\t\t\t`Invalid Hex value ${JSON.stringify(hex)}`,\n\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t);\n\n\t\t\treturn defaultHSLBranded;\n\t\t}\n\n\t\treturn rgbToHSL(hexToRGB(base.clone(hex)));\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`hexToHSL() error: ${error}`,\n\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t);\n\n\t\treturn defaultHSLBranded;\n\t}\n}\n\nfunction hexToHSLWrapper(input: string | Hex): HSL {\n\tconst thisMethod = 'hexToHSLWrapper()';\n\n\ttry {\n\t\tconst clonedInput = base.clone(input);\n\n\t\tconst hex: Hex =\n\t\t\ttypeof clonedInput === 'string'\n\t\t\t\t? {\n\t\t\t\t\t\tvalue: {\n\t\t\t\t\t\t\thex: brand.asHexSet(clonedInput)\n\t\t\t\t\t\t},\n\t\t\t\t\t\tformat: 'hex'\n\t\t\t\t\t}\n\t\t\t\t: {\n\t\t\t\t\t\tvalue: {\n\t\t\t\t\t\t\thex: brand.asHexSet(clonedInput.value.hex)\n\t\t\t\t\t\t},\n\t\t\t\t\t\tformat: 'hex'\n\t\t\t\t\t};\n\t\treturn hexToHSL(hex);\n\t} catch (error) {\n\t\tif (logMode.error) {\n\t\t\tlogger.error(\n\t\t\t\t`Error converting hex to HSL: ${error}`,\n\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t);\n\t\t}\n\n\t\treturn defaultHSLBranded;\n\t}\n}\n\nfunction hexToRGB(hex: Hex): RGB {\n\tconst thisMethod = 'hexToRGB()';\n\n\ttry {\n\t\tif (!validate.colorValues(hex)) {\n\t\t\tif (logMode.error)\n\t\t\t\tlogger.error(\n\t\t\t\t\t`Invalid Hex value ${JSON.stringify(hex)}`,\n\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t);\n\n\t\t\treturn defaultRGBBranded;\n\t\t}\n\n\t\tconst clonedHex = clone(hex);\n\t\tconst strippedHex = stripHashFromHex(clonedHex).value.hex;\n\t\tconst bigint = parseInt(strippedHex, 16);\n\n\t\treturn {\n\t\t\tvalue: {\n\t\t\t\tred: brand.asByteRange(Math.round((bigint >> 16) & 255)),\n\t\t\t\tgreen: brand.asByteRange(Math.round((bigint >> 8) & 255)),\n\t\t\t\tblue: brand.asByteRange(Math.round(bigint & 255))\n\t\t\t},\n\t\t\tformat: 'rgb'\n\t\t};\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`hexToRGB error: ${error}`,\n\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t);\n\n\t\treturn defaultRGBBranded;\n\t}\n}\n\nfunction hslToCMYK(hsl: HSL): CMYK {\n\tconst thisMethod = 'hslToCMYK()';\n\n\ttry {\n\t\tif (!validate.colorValues(hsl)) {\n\t\t\tif (logMode.error)\n\t\t\t\tlogger.error(\n\t\t\t\t\t`Invalid HSL value ${JSON.stringify(hsl)}`,\n\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t);\n\n\t\t\treturn defaultCMYKBranded;\n\t\t}\n\n\t\treturn rgbToCMYK(hslToRGB(clone(hsl)));\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`Error converting HSL ${JSON.stringify(hsl)} to CMYK: ${error}`,\n\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t);\n\n\t\treturn defaultCMYKBranded;\n\t}\n}\n\nfunction hslToHex(hsl: HSL): Hex {\n\tconst thisMethod = 'hslToHex()';\n\n\ttry {\n\t\tif (!validate.colorValues(hsl)) {\n\t\t\tif (logMode.error)\n\t\t\t\tlogger.error(\n\t\t\t\t\t`Invalid HSL value ${JSON.stringify(hsl)}`,\n\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t);\n\n\t\t\treturn defaultHexBranded;\n\t\t}\n\n\t\treturn rgbToHex(hslToRGB(clone(hsl)));\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`hslToHex error: ${error}`,\n\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t);\n\n\t\treturn defaultHexBranded;\n\t}\n}\n\nfunction hslToHSV(hsl: HSL): HSV {\n\tconst thisMethod = 'hslToHSV()';\n\n\ttry {\n\t\tif (!validate.colorValues(hsl)) {\n\t\t\tif (logMode.error)\n\t\t\t\tlogger.error(\n\t\t\t\t\t`Invalid HSL value ${JSON.stringify(hsl)}`,\n\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t);\n\n\t\t\treturn defaultHSVBranded;\n\t\t}\n\n\t\tconst clonedHSL = clone(hsl);\n\t\tconst s = clonedHSL.value.saturation / 100;\n\t\tconst l = clonedHSL.value.lightness / 100;\n\t\tconst value = l + s * Math.min(l, 1 - 1);\n\t\tconst newSaturation = value === 0 ? 0 : 2 * (1 - l / value);\n\n\t\treturn {\n\t\t\tvalue: {\n\t\t\t\thue: brand.asRadial(Math.round(clonedHSL.value.hue)),\n\t\t\t\tsaturation: brand.asPercentile(Math.round(newSaturation * 100)),\n\t\t\t\tvalue: brand.asPercentile(Math.round(value * 100))\n\t\t\t},\n\t\t\tformat: 'hsv'\n\t\t};\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`hslToHSV() error: ${error}`,\n\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t);\n\n\t\treturn defaultHSVBranded;\n\t}\n}\n\nfunction hslToLAB(hsl: HSL): LAB {\n\tconst thisMethod = 'hslToLAB()';\n\n\ttry {\n\t\tif (!validate.colorValues(hsl)) {\n\t\t\tif (logMode.error)\n\t\t\t\tlogger.error(\n\t\t\t\t\t`Invalid HSL value ${JSON.stringify(hsl)}`,\n\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t);\n\n\t\t\treturn defaultLABBranded;\n\t\t}\n\n\t\treturn xyzToLAB(rgbToXYZ(hslToRGB(clone(hsl))));\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`hslToLab() error: ${error}`,\n\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t);\n\n\t\treturn defaultLABBranded;\n\t}\n}\n\nfunction hslToRGB(hsl: HSL): RGB {\n\tconst thisMethod = 'hslToRGB()';\n\n\ttry {\n\t\tif (!validate.colorValues(hsl)) {\n\t\t\tif (logMode.error)\n\t\t\t\tlogger.error(\n\t\t\t\t\t`Invalid HSL value ${JSON.stringify(hsl)}`,\n\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t);\n\n\t\t\treturn defaultRGBBranded;\n\t\t}\n\n\t\tconst clonedHSL = clone(hsl);\n\t\tconst s = clonedHSL.value.saturation / 100;\n\t\tconst l = clonedHSL.value.lightness / 100;\n\t\tconst q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n\t\tconst p = 2 * l - q;\n\n\t\treturn {\n\t\t\tvalue: {\n\t\t\t\tred: brand.asByteRange(\n\t\t\t\t\tMath.round(\n\t\t\t\t\t\thueToRGB(p, q, clonedHSL.value.hue + 1 / 3) * 255\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\tgreen: brand.asByteRange(\n\t\t\t\t\tMath.round(hueToRGB(p, q, clonedHSL.value.hue) * 255)\n\t\t\t\t),\n\t\t\t\tblue: brand.asByteRange(\n\t\t\t\t\tMath.round(\n\t\t\t\t\t\thueToRGB(p, q, clonedHSL.value.hue - 1 / 3) * 255\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t},\n\t\t\tformat: 'rgb'\n\t\t};\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`hslToRGB error: ${error}`,\n\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t);\n\n\t\treturn defaultRGBBranded;\n\t}\n}\n\nfunction hslToSL(hsl: HSL): SL {\n\tconst thisMethod = 'hslToSL()';\n\n\ttry {\n\t\tif (!validate.colorValues(hsl)) {\n\t\t\tif (logMode.error)\n\t\t\t\tlogger.error(\n\t\t\t\t\t`Invalid HSL value ${JSON.stringify(hsl)}`,\n\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t);\n\n\t\t\treturn defaultSLBranded;\n\t\t}\n\n\t\treturn {\n\t\t\tvalue: {\n\t\t\t\tsaturation: hsl.value.saturation,\n\t\t\t\tlightness: hsl.value.lightness\n\t\t\t},\n\t\t\tformat: 'sl' as 'sl'\n\t\t};\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`Error converting HSL to SL: ${error}`,\n\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t);\n\n\t\treturn defaultSLBranded;\n\t}\n}\n\nfunction hslToSV(hsl: HSL): SV {\n\tconst thisMethod = 'hslToSV()';\n\n\ttry {\n\t\tif (!validate.colorValues(hsl)) {\n\t\t\tif (logMode.error)\n\t\t\t\tlogger.error(\n\t\t\t\t\t`Invalid HSL value ${JSON.stringify(hsl)}`,\n\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t);\n\n\t\t\treturn defaultSVBranded;\n\t\t}\n\n\t\treturn hsvToSV(rgbToHSV(hslToRGB(clone(hsl))));\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`Error converting HSL to SV: ${error}`,\n\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t);\n\n\t\treturn defaultSVBranded;\n\t}\n}\n\nfunction hslToXYZ(hsl: HSL): XYZ {\n\tconst thisMethod = 'hslToXYZ()';\n\n\ttry {\n\t\tif (!validate.colorValues(hsl)) {\n\t\t\tif (logMode.error)\n\t\t\t\tlogger.error(\n\t\t\t\t\t`Invalid HSL value ${JSON.stringify(hsl)}`,\n\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t);\n\n\t\t\treturn defaultXYZBranded;\n\t\t}\n\n\t\treturn labToXYZ(hslToLAB(clone(hsl)));\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`hslToXYZ error: ${error}`,\n\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t);\n\n\t\treturn defaultXYZBranded;\n\t}\n}\n\nfunction hsvToHSL(hsv: HSV): HSL {\n\tconst thisMethod = 'hsvToHSL()';\n\n\ttry {\n\t\tif (!validate.colorValues(hsv)) {\n\t\t\tif (logMode.error)\n\t\t\t\tlogger.error(\n\t\t\t\t\t`Invalid HSV value ${JSON.stringify(hsv)}`,\n\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t);\n\n\t\t\treturn defaultHSLBranded;\n\t\t}\n\n\t\tconst clonedHSV = clone(hsv);\n\t\tconst newSaturation =\n\t\t\tclonedHSV.value.value * (1 - clonedHSV.value.saturation / 100) ===\n\t\t\t\t0 || clonedHSV.value.value === 0\n\t\t\t\t? 0\n\t\t\t\t: (clonedHSV.value.value -\n\t\t\t\t\t\tclonedHSV.value.value *\n\t\t\t\t\t\t\t(1 - clonedHSV.value.saturation / 100)) /\n\t\t\t\t\tMath.min(\n\t\t\t\t\t\tclonedHSV.value.value,\n\t\t\t\t\t\t100 - clonedHSV.value.value\n\t\t\t\t\t);\n\t\tconst lightness =\n\t\t\tclonedHSV.value.value * (1 - clonedHSV.value.saturation / 200);\n\n\t\treturn {\n\t\t\tvalue: {\n\t\t\t\thue: brand.asRadial(Math.round(clonedHSV.value.hue)),\n\t\t\t\tsaturation: brand.asPercentile(Math.round(newSaturation * 100)),\n\t\t\t\tlightness: brand.asPercentile(Math.round(lightness))\n\t\t\t},\n\t\t\tformat: 'hsl'\n\t\t};\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`hsvToHSL() error: ${error}`,\n\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t);\n\n\t\treturn defaultHSLBranded;\n\t}\n}\n\nfunction hsvToSV(hsv: HSV): SV {\n\tconst thisMethod = 'hsvToSV()';\n\n\ttry {\n\t\tif (!validate.colorValues(hsv)) {\n\t\t\tif (logMode.error)\n\t\t\t\tlogger.error(\n\t\t\t\t\t`Invalid HSV value ${JSON.stringify(hsv)}`,\n\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t);\n\n\t\t\treturn defaultSVBranded;\n\t\t}\n\n\t\treturn {\n\t\t\tvalue: {\n\t\t\t\tsaturation: hsv.value.saturation,\n\t\t\t\tvalue: hsv.value.value\n\t\t\t},\n\t\t\tformat: 'sv' as 'sv'\n\t\t};\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`Error converting HSV to SV: ${error}`,\n\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t);\n\n\t\treturn defaultSVBranded;\n\t}\n}\n\nfunction labToHSL(lab: LAB): HSL {\n\tconst thisMethod = 'labToHSL()';\n\n\ttry {\n\t\tif (!validate.colorValues(lab)) {\n\t\t\tif (logMode.error)\n\t\t\t\tlogger.error(\n\t\t\t\t\t`Invalid LAB value ${JSON.stringify(lab)}`,\n\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t);\n\n\t\t\treturn defaultHSLBranded;\n\t\t}\n\n\t\treturn rgbToHSL(labToRGB(clone(lab)));\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`labToHSL() error: ${error}`,\n\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t);\n\n\t\treturn defaultHSLBranded;\n\t}\n}\n\nfunction labToRGB(lab: LAB): RGB {\n\ttry {\n\t\tif (!validate.colorValues(lab)) {\n\t\t\tif (logMode.error)\n\t\t\t\tlogger.error(\n\t\t\t\t\t`Invalid LAB value ${JSON.stringify(lab)}`,\n\t\t\t\t\t`${thisModule} > labToRGB()`\n\t\t\t\t);\n\n\t\t\treturn defaultRGBBranded;\n\t\t}\n\n\t\treturn xyzToRGB(labToXYZ(clone(lab)));\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`labToRGB error: ${error}`,\n\t\t\t\t`${thisModule} > labToRGB()`\n\t\t\t);\n\n\t\treturn defaultRGBBranded;\n\t}\n}\n\nfunction labToXYZ(lab: LAB): XYZ {\n\tconst thisMethod = 'labToXYZ()';\n\n\ttry {\n\t\tif (!validate.colorValues(lab)) {\n\t\t\tif (logMode.error)\n\t\t\t\tlogger.error(\n\t\t\t\t\t`Invalid LAB value ${JSON.stringify(lab)}`,\n\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t);\n\n\t\t\treturn defaultXYZBranded;\n\t\t}\n\n\t\tconst clonedLAB = clone(lab);\n\t\tconst refX = 95.047,\n\t\t\trefY = 100.0,\n\t\t\trefZ = 108.883;\n\n\t\tlet y = (clonedLAB.value.l + 16) / 116;\n\t\tlet x = clonedLAB.value.a / 500 + y;\n\t\tlet z = y - clonedLAB.value.b / 200;\n\n\t\tconst pow = Math.pow;\n\n\t\treturn {\n\t\t\tvalue: {\n\t\t\t\tx: brand.asXYZ_X(\n\t\t\t\t\tMath.round(\n\t\t\t\t\t\trefX *\n\t\t\t\t\t\t\t(pow(x, 3) > 0.008856\n\t\t\t\t\t\t\t\t? pow(x, 3)\n\t\t\t\t\t\t\t\t: (x - 16 / 116) / 7.787)\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\ty: brand.asXYZ_Y(\n\t\t\t\t\tMath.round(\n\t\t\t\t\t\trefY *\n\t\t\t\t\t\t\t(pow(y, 3) > 0.008856\n\t\t\t\t\t\t\t\t? pow(y, 3)\n\t\t\t\t\t\t\t\t: (y - 16 / 116) / 7.787)\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\tz: brand.asXYZ_Z(\n\t\t\t\t\tMath.round(\n\t\t\t\t\t\trefZ *\n\t\t\t\t\t\t\t(pow(z, 3) > 0.008856\n\t\t\t\t\t\t\t\t? pow(z, 3)\n\t\t\t\t\t\t\t\t: (z - 16 / 116) / 7.787)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t},\n\t\t\tformat: 'xyz'\n\t\t};\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`labToXYZ error: ${error}`,\n\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t);\n\n\t\treturn defaultXYZBranded;\n\t}\n}\n\nfunction rgbToCMYK(rgb: RGB): CMYK {\n\tconst thisMethod = 'rgbToCMYK()';\n\n\ttry {\n\t\tif (!validate.colorValues(rgb)) {\n\t\t\tif (logMode.error)\n\t\t\t\tlogger.error(\n\t\t\t\t\t`Invalid RGB value ${JSON.stringify(rgb)}`,\n\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t);\n\n\t\t\treturn defaultCMYKBranded;\n\t\t}\n\n\t\tconst clonedRGB = clone(rgb);\n\n\t\tconst redPrime = clonedRGB.value.red / 255;\n\t\tconst greenPrime = clonedRGB.value.green / 255;\n\t\tconst bluePrime = clonedRGB.value.blue / 255;\n\n\t\tconst key = sanitize.percentile(\n\t\t\tMath.round(1 - Math.max(redPrime, greenPrime, bluePrime))\n\t\t);\n\t\tconst cyan = sanitize.percentile(\n\t\t\tMath.round((1 - redPrime - key) / (1 - key) || 0)\n\t\t);\n\t\tconst magenta = sanitize.percentile(\n\t\t\tMath.round((1 - greenPrime - key) / (1 - key) || 0)\n\t\t);\n\t\tconst yellow = sanitize.percentile(\n\t\t\tMath.round((1 - bluePrime - key) / (1 - key) || 0)\n\t\t);\n\t\tconst format: 'cmyk' = 'cmyk';\n\n\t\tconst cmyk = { value: { cyan, magenta, yellow, key }, format };\n\n\t\tif (!mode.quiet)\n\t\t\tlogger.info(\n\t\t\t\t`Converted RGB ${JSON.stringify(clonedRGB)} to CMYK: ${JSON.stringify(clone(cmyk))}`,\n\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t);\n\n\t\treturn cmyk;\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`Error converting RGB to CMYK: ${error}`,\n\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t);\n\n\t\treturn defaultCMYKBranded;\n\t}\n}\n\nfunction rgbToHex(rgb: RGB): Hex {\n\tconst thisMethod = 'rgbToHex()';\n\n\ttry {\n\t\tif (!validate.colorValues(rgb)) {\n\t\t\tif (logMode.error)\n\t\t\t\tlogger.error(\n\t\t\t\t\t`Invalid RGB value ${JSON.stringify(rgb)}`,\n\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t);\n\n\t\t\treturn defaultHexBranded;\n\t\t}\n\n\t\tconst clonedRGB = clone(rgb);\n\n\t\tif (\n\t\t\t[\n\t\t\t\tclonedRGB.value.red,\n\t\t\t\tclonedRGB.value.green,\n\t\t\t\tclonedRGB.value.blue\n\t\t\t].some(v => isNaN(v) || v < 0 || v > 255)\n\t\t) {\n\t\t\tif (logMode.warn)\n\t\t\t\tlogger.warn(\n\t\t\t\t\t`Invalid RGB values:\\nR=${JSON.stringify(clonedRGB.value.red)}\\nG=${JSON.stringify(clonedRGB.value.green)}\\nB=${JSON.stringify(clonedRGB.value.blue)}`,\n\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t);\n\n\t\t\treturn {\n\t\t\t\tvalue: {\n\t\t\t\t\thex: brand.asHexSet('#000000FF')\n\t\t\t\t},\n\t\t\t\tformat: 'hex' as 'hex'\n\t\t\t};\n\t\t}\n\n\t\treturn {\n\t\t\tvalue: {\n\t\t\t\thex: brand.asHexSet(\n\t\t\t\t\t`#${componentToHex(clonedRGB.value.red)}${componentToHex(clonedRGB.value.green)}${componentToHex(clonedRGB.value.blue)}`\n\t\t\t\t)\n\t\t\t},\n\t\t\tformat: 'hex' as 'hex'\n\t\t};\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.warn(\n\t\t\t\t`rgbToHex error: ${error}`,\n\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t);\n\n\t\treturn defaultHexBranded;\n\t}\n}\n\nfunction rgbToHSL(rgb: RGB): HSL {\n\tconst thisMethod = 'rgbToHSL()';\n\n\ttry {\n\t\tif (!validate.colorValues(rgb)) {\n\t\t\tif (logMode.error) {\n\t\t\t\tlogger.error(\n\t\t\t\t\t`Invalid RGB value ${JSON.stringify(rgb)}`,\n\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t);\n\t\t\t}\n\t\t\treturn defaultHSLBranded;\n\t\t}\n\n\t\tconst clonedRGB = clone(rgb);\n\n\t\tconst red = (clonedRGB.value.red as unknown as number) / 255;\n\t\tconst green = (clonedRGB.value.green as unknown as number) / 255;\n\t\tconst blue = (clonedRGB.value.blue as unknown as number) / 255;\n\n\t\tconst max = Math.max(red, green, blue);\n\t\tconst min = Math.min(red, green, blue);\n\n\t\tlet hue = 0,\n\t\t\tsaturation = 0,\n\t\t\tlightness = (max + min) / 2;\n\n\t\tif (max !== min) {\n\t\t\tconst delta = max - min;\n\n\t\t\tsaturation =\n\t\t\t\tlightness > 0.5 ? delta / (2 - max - min) : delta / (max + min);\n\n\t\t\tswitch (max) {\n\t\t\t\tcase red:\n\t\t\t\t\thue = (green - blue) / delta + (green < blue ? 6 : 0);\n\t\t\t\t\tbreak;\n\t\t\t\tcase green:\n\t\t\t\t\thue = (blue - red) / delta + 2;\n\t\t\t\t\tbreak;\n\t\t\t\tcase blue:\n\t\t\t\t\thue = (red - green) / delta + 4;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\thue *= 60;\n\t\t}\n\n\t\treturn {\n\t\t\tvalue: {\n\t\t\t\thue: brand.asRadial(Math.round(hue)),\n\t\t\t\tsaturation: brand.asPercentile(Math.round(saturation * 100)),\n\t\t\t\tlightness: brand.asPercentile(Math.round(lightness * 100))\n\t\t\t},\n\t\t\tformat: 'hsl'\n\t\t};\n\t} catch (error) {\n\t\tif (logMode.error) {\n\t\t\tlogger.error(\n\t\t\t\t`rgbToHSL() error: ${error}`,\n\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t);\n\t\t}\n\n\t\treturn defaultHSLBranded;\n\t}\n}\n\nfunction rgbToHSV(rgb: RGB): HSV {\n\tconst thisMethod = 'rgbToHSV()';\n\n\ttry {\n\t\tif (!validate.colorValues(rgb)) {\n\t\t\tif (logMode.error) {\n\t\t\t\tlogger.error(\n\t\t\t\t\t`Invalid RGB value ${JSON.stringify(rgb)}`,\n\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t);\n\t\t\t}\n\t\t\treturn defaultHSVBranded;\n\t\t}\n\n\t\tconst red = (rgb.value.red as unknown as number) / 255;\n\t\tconst green = (rgb.value.green as unknown as number) / 255;\n\t\tconst blue = (rgb.value.blue as unknown as number) / 255;\n\n\t\tconst max = Math.max(red, green, blue);\n\t\tconst min = Math.min(red, green, blue);\n\t\tconst delta = max - min;\n\n\t\tlet hue = 0;\n\n\t\tconst value = max;\n\t\tconst saturation = max === 0 ? 0 : delta / max;\n\n\t\tif (max !== min) {\n\t\t\tswitch (max) {\n\t\t\t\tcase red:\n\t\t\t\t\thue = (green - blue) / delta + (green < blue ? 6 : 0);\n\t\t\t\t\tbreak;\n\t\t\t\tcase green:\n\t\t\t\t\thue = (blue - red) / delta + 2;\n\t\t\t\t\tbreak;\n\t\t\t\tcase blue:\n\t\t\t\t\thue = (red - green) / delta + 4;\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\thue *= 60;\n\t\t}\n\n\t\treturn {\n\t\t\tvalue: {\n\t\t\t\thue: brand.asRadial(Math.round(hue)),\n\t\t\t\tsaturation: brand.asPercentile(Math.round(saturation * 100)),\n\t\t\t\tvalue: brand.asPercentile(Math.round(value * 100))\n\t\t\t},\n\t\t\tformat: 'hsv'\n\t\t};\n\t} catch (error) {\n\t\tif (logMode.error) {\n\t\t\tlogger.error(\n\t\t\t\t`rgbToHSV() error: ${error}`,\n\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t);\n\t\t}\n\n\t\treturn defaultHSVBranded;\n\t}\n}\n\nfunction rgbToXYZ(rgb: RGB): XYZ {\n\tconst thisMethod = 'rgbToXYZ()';\n\n\ttry {\n\t\tif (!validate.colorValues(rgb)) {\n\t\t\tif (logMode.error) {\n\t\t\t\tlogger.error(\n\t\t\t\t\t`Invalid RGB value ${JSON.stringify(rgb)}`,\n\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t);\n\t\t\t}\n\t\t\treturn defaultXYZBranded;\n\t\t}\n\n\t\tconst red = (rgb.value.red as unknown as number) / 255;\n\t\tconst green = (rgb.value.green as unknown as number) / 255;\n\t\tconst blue = (rgb.value.blue as unknown as number) / 255;\n\n\t\tconst correctedRed =\n\t\t\tred > 0.04045 ? Math.pow((red + 0.055) / 1.055, 2.4) : red / 12.92;\n\t\tconst correctedGreen =\n\t\t\tgreen > 0.04045\n\t\t\t\t? Math.pow((green + 0.055) / 1.055, 2.4)\n\t\t\t\t: green / 12.92;\n\t\tconst correctedBlue =\n\t\t\tblue > 0.04045\n\t\t\t\t? Math.pow((blue + 0.055) / 1.055, 2.4)\n\t\t\t\t: blue / 12.92;\n\n\t\tconst scaledRed = correctedRed * 100;\n\t\tconst scaledGreen = correctedGreen * 100;\n\t\tconst scaledBlue = correctedBlue * 100;\n\n\t\treturn {\n\t\t\tvalue: {\n\t\t\t\tx: brand.asXYZ_X(\n\t\t\t\t\tMath.round(\n\t\t\t\t\t\tscaledRed * 0.4124 +\n\t\t\t\t\t\t\tscaledGreen * 0.3576 +\n\t\t\t\t\t\t\tscaledBlue * 0.1805\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\ty: brand.asXYZ_Y(\n\t\t\t\t\tMath.round(\n\t\t\t\t\t\tscaledRed * 0.2126 +\n\t\t\t\t\t\t\tscaledGreen * 0.7152 +\n\t\t\t\t\t\t\tscaledBlue * 0.0722\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\tz: brand.asXYZ_Z(\n\t\t\t\t\tMath.round(\n\t\t\t\t\t\tscaledRed * 0.0193 +\n\t\t\t\t\t\t\tscaledGreen * 0.1192 +\n\t\t\t\t\t\t\tscaledBlue * 0.9505\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t},\n\t\t\tformat: 'xyz'\n\t\t};\n\t} catch (error) {\n\t\tif (logMode.error) {\n\t\t\tlogger.error(\n\t\t\t\t`rgbToXYZ error: ${error}`,\n\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t);\n\t\t}\n\t\treturn defaultXYZBranded;\n\t}\n}\n\nfunction xyzToHSL(xyz: XYZ): HSL {\n\tconst thisMethod = 'xyzToHSL()';\n\n\ttry {\n\t\tif (!validate.colorValues(xyz)) {\n\t\t\tif (logMode.error)\n\t\t\t\tlogger.error(\n\t\t\t\t\t`Invalid XYZ value ${JSON.stringify(xyz)}`,\n\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t);\n\n\t\t\treturn defaultHSLBranded;\n\t\t}\n\n\t\treturn rgbToHSL(xyzToRGB(clone(xyz)));\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`xyzToHSL() error: ${error}`,\n\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t);\n\n\t\treturn defaultHSLBranded;\n\t}\n}\n\nfunction xyzToLAB(xyz: XYZ): LAB {\n\tconst thisMethod = 'xyzToLAB()';\n\ttry {\n\t\tif (!validate.colorValues(xyz)) {\n\t\t\tif (logMode.error)\n\t\t\t\tlogger.error(\n\t\t\t\t\t`Invalid XYZ value ${JSON.stringify(xyz)}`,\n\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t);\n\n\t\t\treturn defaultLABBranded;\n\t\t}\n\n\t\tconst clonedXYZ = clone(xyz);\n\t\tconst refX = 95.047,\n\t\t\trefY = 100.0,\n\t\t\trefZ = 108.883;\n\n\t\tclonedXYZ.value.x = (clonedXYZ.value.x / refX) as XYZ_X;\n\t\tclonedXYZ.value.y = (clonedXYZ.value.y / refY) as XYZ_Y;\n\t\tclonedXYZ.value.z = (clonedXYZ.value.z / refZ) as XYZ_Z;\n\n\t\tclonedXYZ.value.x =\n\t\t\tclonedXYZ.value.x > 0.008856\n\t\t\t\t? (Math.pow(clonedXYZ.value.x, 1 / 3) as XYZ_X)\n\t\t\t\t: ((7.787 * clonedXYZ.value.x + 16 / 116) as XYZ_X);\n\t\tclonedXYZ.value.y =\n\t\t\tclonedXYZ.value.y > 0.008856\n\t\t\t\t? (Math.pow(clonedXYZ.value.y, 1 / 3) as XYZ_Y)\n\t\t\t\t: ((7.787 * clonedXYZ.value.y + 16 / 116) as XYZ_Y);\n\t\tclonedXYZ.value.z =\n\t\t\tclonedXYZ.value.z > 0.008856\n\t\t\t\t? (Math.pow(clonedXYZ.value.z, 1 / 3) as XYZ_Z)\n\t\t\t\t: ((7.787 * clonedXYZ.value.z + 16 / 116) as XYZ_Z);\n\n\t\tconst l = sanitize.percentile(\n\t\t\tparseFloat((116 * clonedXYZ.value.y - 16).toFixed(2))\n\t\t);\n\t\tconst a = sanitize.lab(\n\t\t\tparseFloat(\n\t\t\t\t(500 * (clonedXYZ.value.x - clonedXYZ.value.y)).toFixed(2)\n\t\t\t),\n\t\t\t'a'\n\t\t);\n\t\tconst b = sanitize.lab(\n\t\t\tparseFloat(\n\t\t\t\t(200 * (clonedXYZ.value.y - clonedXYZ.value.z)).toFixed(2)\n\t\t\t),\n\t\t\t'b'\n\t\t);\n\n\t\tconst lab: LAB = {\n\t\t\tvalue: {\n\t\t\t\tl: brand.asLAB_L(Math.round(l)),\n\t\t\t\ta: brand.asLAB_A(Math.round(a)),\n\t\t\t\tb: brand.asLAB_B(Math.round(b))\n\t\t\t},\n\t\t\tformat: 'lab'\n\t\t};\n\n\t\tif (!validate.colorValues(lab)) {\n\t\t\tif (logMode.error)\n\t\t\t\tlogger.error(\n\t\t\t\t\t`Invalid LAB value ${JSON.stringify(lab)}`,\n\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t);\n\n\t\t\treturn defaultLABBranded;\n\t\t}\n\n\t\treturn lab;\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`xyzToLab() error: ${error}`,\n\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t);\n\n\t\treturn defaultLABBranded;\n\t}\n}\n\nfunction xyzToRGB(xyz: XYZ): RGB {\n\tconst thisMethod = 'xyzToRGB()';\n\n\ttry {\n\t\tif (!validate.colorValues(xyz)) {\n\t\t\tif (logMode.error) {\n\t\t\t\tlogger.error(\n\t\t\t\t\t`Invalid XYZ value ${JSON.stringify(xyz)}`,\n\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t);\n\t\t\t}\n\t\t\treturn defaultRGBBranded;\n\t\t}\n\n\t\tconst x = (xyz.value.x as unknown as number) / 100;\n\t\tconst y = (xyz.value.y as unknown as number) / 100;\n\t\tconst z = (xyz.value.z as unknown as number) / 100;\n\n\t\tlet red = x * 3.2406 + y * -1.5372 + z * -0.4986;\n\t\tlet green = x * -0.9689 + y * 1.8758 + z * 0.0415;\n\t\tlet blue = x * 0.0557 + y * -0.204 + z * 1.057;\n\n\t\tred = applyGammaCorrection(red);\n\t\tgreen = applyGammaCorrection(green);\n\t\tblue = applyGammaCorrection(blue);\n\n\t\tconst rgb: RGB = clampRGB({\n\t\t\tvalue: {\n\t\t\t\tred: brand.asByteRange(Math.round(red)),\n\t\t\t\tgreen: brand.asByteRange(Math.round(green)),\n\t\t\t\tblue: brand.asByteRange(Math.round(blue))\n\t\t\t},\n\t\t\tformat: 'rgb'\n\t\t});\n\n\t\treturn rgb;\n\t} catch (error) {\n\t\tif (logMode.error) {\n\t\t\tlogger.error(\n\t\t\t\t`xyzToRGB error: ${error}`,\n\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t);\n\t\t}\n\t\treturn defaultRGBBranded;\n\t}\n}\n\n// ******** BUNDLED CONVERSION FUNCTIONS ********\n\nfunction hslTo(color: HSL, colorSpace: ColorSpaceExtended): Color {\n\tconst thisMethod = 'hslTo()';\n\n\ttry {\n\t\tif (!validate.colorValues(color)) {\n\t\t\tlogger.error(\n\t\t\t\t`Invalid color value ${JSON.stringify(color)}`,\n\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t);\n\n\t\t\treturn defaultRGBBranded;\n\t\t}\n\n\t\tconst clonedColor = clone(color) as HSL;\n\n\t\tswitch (colorSpace) {\n\t\t\tcase 'cmyk':\n\t\t\t\treturn hslToCMYK(clonedColor);\n\t\t\tcase 'hex':\n\t\t\t\treturn hslToHex(clonedColor);\n\t\t\tcase 'hsl':\n\t\t\t\treturn clone(clonedColor);\n\t\t\tcase 'hsv':\n\t\t\t\treturn hslToHSV(clonedColor);\n\t\t\tcase 'lab':\n\t\t\t\treturn hslToLAB(clonedColor);\n\t\t\tcase 'rgb':\n\t\t\t\treturn hslToRGB(clonedColor);\n\t\t\tcase 'sl':\n\t\t\t\treturn hslToSL(clonedColor);\n\t\t\tcase 'sv':\n\t\t\t\treturn hslToSV(clonedColor);\n\t\t\tcase 'xyz':\n\t\t\t\treturn hslToXYZ(clonedColor);\n\t\t\tdefault:\n\t\t\t\tthrow new Error('Invalid color format');\n\t\t}\n\t} catch (error) {\n\t\tthrow new Error(`hslTo() error: ${error}`);\n\t}\n}\n\nfunction toHSL(color: Exclude<Color, SL | SV>): HSL {\n\tconst thisMethod = 'toHSL()';\n\n\ttry {\n\t\tif (!validate.colorValues(color)) {\n\t\t\tlogger.error(\n\t\t\t\t`Invalid color value ${JSON.stringify(color)}`,\n\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t);\n\n\t\t\treturn defaultHSLBranded;\n\t\t}\n\n\t\tconst clonedColor = clone(color);\n\n\t\tswitch (color.format) {\n\t\t\tcase 'cmyk':\n\t\t\t\treturn cmykToHSL(clonedColor as CMYK);\n\t\t\tcase 'hex':\n\t\t\t\treturn hexToHSL(clonedColor as Hex);\n\t\t\tcase 'hsl':\n\t\t\t\treturn clone(clonedColor as HSL);\n\t\t\tcase 'hsv':\n\t\t\t\treturn hsvToHSL(clonedColor as HSV);\n\t\t\tcase 'lab':\n\t\t\t\treturn labToHSL(clonedColor as LAB);\n\t\t\tcase 'rgb':\n\t\t\t\treturn rgbToHSL(clonedColor as RGB);\n\t\t\tcase 'xyz':\n\t\t\t\treturn xyzToHSL(clonedColor as XYZ);\n\t\t\tdefault:\n\t\t\t\tthrow new Error('Invalid color format');\n\t\t}\n\t} catch (error) {\n\t\tthrow new Error(`toHSL() error: ${error}`);\n\t}\n}\n\nexport const coreConversionUtils: CommonFn_MasterInterface['convert'] = {\n\thslTo,\n\ttoHSL,\n\twrappers: {\n\t\thexToHSL: hexToHSLWrapper\n\t}\n};\n","// File: data/consts.js\n\nimport { ConstsDataInterface } from '../types/index.js';\n\nconst adjustments: ConstsDataInterface['adjustments'] = {\n\tslaValue: 10\n};\n\nconst debounce: ConstsDataInterface['debounce'] = {\n\tbtn: 300,\n\tinput: 200\n};\n\nconst limits: ConstsDataInterface['limits'] = {\n\txyz: {\n\t\tmax: {\n\t\t\tx: 95.047,\n\t\t\ty: 100,\n\t\t\tz: 108.883\n\t\t},\n\t\tmin: {\n\t\t\tx: 0,\n\t\t\ty: 0,\n\t\t\tz: 0\n\t\t}\n\t}\n};\n\nconst paletteRanges: ConstsDataInterface['paletteRanges'] = {\n\tshift: {\n\t\tcomp: { hue: 10, sat: 0, light: 0 },\n\t\tdiadic: { hue: 30, sat: 30, light: 30 },\n\t\thexad: { hue: 0, sat: 30, light: 30 },\n\t\trandom: { hue: 0, sat: 0, light: 0 },\n\t\tsplitComp: { hue: 30, sat: 30, light: 30 },\n\t\ttetra: { hue: 0, sat: 30, light: 30 },\n\t\ttriad: { hue: 0, sat: 30, light: 30 }\n\t}\n};\n\nconst probabilities: ConstsDataInterface['probabilities'] = {\n\tvalues: [40, 45, 50, 55, 60, 65, 70],\n\tweights: [0.1, 0.15, 0.2, 0.3, 0.15, 0.05, 0.05]\n};\n\nconst thresholds: ConstsDataInterface['thresholds'] = {\n\tdark: 25,\n\tgray: 20,\n\tlight: 75\n};\n\nconst timeouts: ConstsDataInterface['timeouts'] = {\n\tcopyButtonText: 1000,\n\ttoast: 3000,\n\ttooltip: 1000\n};\n\nexport const constsData: ConstsDataInterface = {\n\tadjustments,\n\tdebounce,\n\tlimits,\n\tpaletteRanges,\n\tprobabilities,\n\tthresholds,\n\ttimeouts\n} as const;\n","// File: common/helpers/dom.js\n\nimport {\n\tColor,\n\tColorInputElement,\n\tColor_StringProps,\n\tCommonFn_MasterInterface,\n\tMakePaletteBox\n} from '../../types/index.js';\nimport { constsData as consts } from '../../data/consts.js';\nimport { coreUtils } from '../core.js';\nimport { createLogger } from '../../logger/index.js';\nimport { modeData as mode } from '../../data/mode.js';\n\nconst thisModule = 'common/helpers/dom.js';\n\nconst logger = await createLogger();\n\nconst logMode = mode.logging;\nconst timeouts = consts.timeouts;\n\nlet dragSrcEl: HTMLElement | null = null;\n\nfunction attachDragAndDropListeners(element: HTMLElement | null): void {\n\tconst thisMethod = 'attachDragAndDropEventListeners()';\n\n\ttry {\n\t\tif (element) {\n\t\t\telement.addEventListener('dragstart', dragStart);\n\t\t\telement.addEventListener('dragover', dragOver);\n\t\t\telement.addEventListener('drop', drop);\n\t\t\telement.addEventListener('dragend', dragEnd);\n\t\t}\n\n\t\tif (!mode.quiet)\n\t\t\tlogger.info(\n\t\t\t\t'Drag and drop event listeners successfully attached',\n\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t);\n\t} catch (error) {\n\t\tif (!logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`Failed to execute attachDragAndDropEventListeners: ${error}`,\n\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t);\n\t}\n}\n\nfunction dragStart(e: DragEvent): void {\n\tconst thisMethod = 'handleDragStart()';\n\n\ttry {\n\t\tdragSrcEl = e.currentTarget as HTMLElement;\n\n\t\tif (e.dataTransfer) {\n\t\t\te.dataTransfer.effectAllowed = 'move';\n\t\t\te.dataTransfer.setData('text/html', dragSrcEl.outerHTML);\n\t\t}\n\n\t\tif (!mode.quiet && mode.debug && logMode.verbosity > 3)\n\t\t\tlogger.info(\n\t\t\t\t'handleDragStart complete',\n\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t);\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`Error in handleDragStart: ${error}`,\n\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t);\n\t}\n}\n\nfunction dragOver(e: DragEvent): boolean {\n\tconst thisMethod = 'handleDragOver()';\n\n\ttry {\n\t\te.preventDefault();\n\n\t\tif (e.dataTransfer) {\n\t\t\te.dataTransfer.dropEffect = 'move';\n\t\t}\n\n\t\tif (!mode.quiet && mode.debug && logMode.verbosity > 3)\n\t\t\tlogger.info(\n\t\t\t\t'handleDragOver complete',\n\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t);\n\n\t\treturn false;\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`Error in handleDragOver: ${error}`,\n\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t);\n\n\t\treturn false;\n\t}\n}\n\nfunction dragEnd(e: DragEvent): void {\n\tconst thisMethod = 'handleDragEnd()';\n\n\ttry {\n\t\tconst target = e.currentTarget as HTMLElement;\n\n\t\ttarget.classList.remove('dragging');\n\n\t\tdocument.querySelectorAll('.color-stripe').forEach(el => {\n\t\t\tel.classList.remove('dragging');\n\t\t});\n\n\t\tif (!mode.quiet && mode.debug && logMode.verbosity > 3)\n\t\t\tlogger.info(\n\t\t\t\t'handleDragEnd complete',\n\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t);\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`Error in handleDragEnd: ${error}`,\n\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t);\n\t}\n}\n\nfunction drop(e: DragEvent): void {\n\tconst thisMethod = 'drop()';\n\n\ttry {\n\t\te.stopPropagation();\n\n\t\tconst target = e.currentTarget as HTMLElement;\n\n\t\tif (dragSrcEl && dragSrcEl !== target) {\n\t\t\tconst dragSrcId = dragSrcEl.id;\n\t\t\tconst dropTargetId = target.id;\n\t\t\tconst dragSrcText = (\n\t\t\t\tdragSrcEl.querySelector(\n\t\t\t\t\t'.color-text-output-box'\n\t\t\t\t) as HTMLInputElement\n\t\t\t).value;\n\t\t\tconst dropTargetText = (\n\t\t\t\ttarget.querySelector(\n\t\t\t\t\t'.color-text-output-box'\n\t\t\t\t) as HTMLInputElement\n\t\t\t).value;\n\t\t\tconst dragSrcOuterHTML = dragSrcEl.outerHTML;\n\t\t\tconst dropTargetOuterHTML = target.outerHTML;\n\n\t\t\tdragSrcEl.outerHTML = dropTargetOuterHTML;\n\t\t\ttarget.outerHTML = dragSrcOuterHTML;\n\n\t\t\tconst newDragSrcEl = document.getElementById(\n\t\t\t\tdropTargetId\n\t\t\t) as HTMLElement;\n\t\t\tconst newDropTargetEl = document.getElementById(\n\t\t\t\tdragSrcId\n\t\t\t) as HTMLElement;\n\n\t\t\tnewDragSrcEl.id = dragSrcId;\n\t\t\tnewDropTargetEl.id = dropTargetId;\n\n\t\t\t(\n\t\t\t\tnewDragSrcEl.querySelector(\n\t\t\t\t\t'.color-text-output-box'\n\t\t\t\t) as HTMLInputElement\n\t\t\t).value = dropTargetText;\n\t\t\t(\n\t\t\t\tnewDropTargetEl.querySelector(\n\t\t\t\t\t'.color-text-output-box'\n\t\t\t\t) as HTMLInputElement\n\t\t\t).value = dragSrcText;\n\n\t\t\tif (!mode.quiet && mode.debug && logMode.verbosity > 3)\n\t\t\t\tlogger.info(\n\t\t\t\t\t'calling attachDragAndDropEventListeners for new elements',\n\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t);\n\n\t\t\tattachDragAndDropListeners(newDragSrcEl);\n\n\t\t\tattachDragAndDropListeners(newDropTargetEl);\n\t\t}\n\n\t\tif (!mode.quiet && mode.debug && logMode.verbosity > 3)\n\t\t\tlogger.info('handleDrop complete', `${thisModule} > ${thisMethod}`);\n\t} catch (error) {\n\t\tif (!logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`Error in handleDrop: ${error}`,\n\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t);\n\t}\n}\n\nasync function makePaletteBox(\n\tcolor: Color,\n\tpaletteBoxCount: number\n): Promise<MakePaletteBox> {\n\tconst thisMethod = 'makePaletteBox()';\n\n\ttry {\n\t\tif (!coreUtils.validate.colorValues(color)) {\n\t\t\tif (!logMode.error)\n\t\t\t\tlogger.error(\n\t\t\t\t\t`Invalid ${color.format} color value ${JSON.stringify(color)}`,\n\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t);\n\n\t\t\treturn {\n\t\t\t\tcolorStripe: document.createElement('div'),\n\t\t\t\tpaletteBoxCount\n\t\t\t};\n\t\t}\n\n\t\tconst clonedColor = coreUtils.base.clone(color);\n\n\t\tconst paletteBox = document.createElement('div');\n\t\tpaletteBox.className = 'palette-box';\n\t\tpaletteBox.id = `palette-box-${paletteBoxCount}`;\n\n\t\tconst paletteBoxTopHalf = document.createElement('div');\n\t\tpaletteBoxTopHalf.className = 'palette-box-half palette-box-top-half';\n\t\tpaletteBoxTopHalf.id = `palette-box-top-half-${paletteBoxCount}`;\n\n\t\tconst colorTextOutputBox = document.createElement(\n\t\t\t'input'\n\t\t) as ColorInputElement;\n\t\tcolorTextOutputBox.type = 'text';\n\t\tcolorTextOutputBox.className = 'color-text-output-box tooltip';\n\t\tcolorTextOutputBox.id = `color-text-output-box-${paletteBoxCount}`;\n\t\tcolorTextOutputBox.setAttribute('data-format', 'hex');\n\n\t\tconst colorString =\n\t\t\tawait coreUtils.convert.colorToCSSColorString(clonedColor);\n\n\t\tcolorTextOutputBox.value = colorString || '';\n\t\tcolorTextOutputBox.colorValues = clonedColor;\n\t\tcolorTextOutputBox.readOnly = false;\n\t\tcolorTextOutputBox.style.cursor = 'text';\n\t\tcolorTextOutputBox.style.pointerEvents = 'none';\n\n\t\tconst copyButton = document.createElement('button');\n\t\tcopyButton.className = 'copy-button';\n\t\tcopyButton.textContent = 'Copy';\n\n\t\tconst tooltipText = document.createElement('span');\n\t\ttooltipText.className = 'tooltiptext';\n\t\ttooltipText.textContent = 'Copied to clipboard!';\n\n\t\tcopyButton.addEventListener('click', async () => {\n\t\t\ttry {\n\t\t\t\tawait navigator.clipboard.writeText(colorTextOutputBox.value);\n\n\t\t\t\tshowTooltip(colorTextOutputBox);\n\n\t\t\t\tclearTimeout(consts.timeouts.tooltip || 1000);\n\n\t\t\t\tcopyButton.textContent = 'Copied!';\n\t\t\t\tsetTimeout(\n\t\t\t\t\t() => (copyButton.textContent = 'Copy'),\n\t\t\t\t\tconsts.timeouts.copyButtonText || 1000\n\t\t\t\t);\n\t\t\t} catch (error) {\n\t\t\t\tif (!logMode.error)\n\t\t\t\t\tlogger.error(\n\t\t\t\t\t\t`Failed to copy: ${error}`,\n\t\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t\t);\n\t\t\t}\n\t\t});\n\n\t\tcolorTextOutputBox.addEventListener(\n\t\t\t'input',\n\t\t\tcoreUtils.base.debounce((e: Event) => {\n\t\t\t\tconst target = e.target as HTMLInputElement | null;\n\t\t\t\tif (target) {\n\t\t\t\t\tconst cssColor = target.value.trim();\n\t\t\t\t\tconst boxElement = document.getElementById(\n\t\t\t\t\t\t`color-box-${paletteBoxCount}`\n\t\t\t\t\t);\n\t\t\t\t\tconst stripeElement = document.getElementById(\n\t\t\t\t\t\t`color-stripe-${paletteBoxCount}`\n\t\t\t\t\t);\n\n\t\t\t\t\tif (boxElement) boxElement.style.backgroundColor = cssColor;\n\t\t\t\t\tif (stripeElement)\n\t\t\t\t\t\tstripeElement.style.backgroundColor = cssColor;\n\t\t\t\t}\n\t\t\t}, consts.debounce.input || 200)\n\t\t);\n\n\t\tpaletteBoxTopHalf.appendChild(colorTextOutputBox);\n\t\tpaletteBoxTopHalf.appendChild(copyButton);\n\n\t\tconst paletteBoxBottomHalf = document.createElement('div');\n\t\tpaletteBoxBottomHalf.className =\n\t\t\t'palette-box-half palette-box-bottom-half';\n\t\tpaletteBoxBottomHalf.id = `palette-box-bottom-half-${paletteBoxCount}`;\n\n\t\tconst colorBox = document.createElement('div');\n\t\tcolorBox.className = 'color-box';\n\t\tcolorBox.id = `color-box-${paletteBoxCount}`;\n\t\tcolorBox.style.backgroundColor = colorString || '#ffffff';\n\n\t\tpaletteBoxBottomHalf.appendChild(colorBox);\n\t\tpaletteBox.appendChild(paletteBoxTopHalf);\n\t\tpaletteBox.appendChild(paletteBoxBottomHalf);\n\n\t\tconst colorStripe = document.createElement('div');\n\t\tcolorStripe.className = 'color-stripe';\n\t\tcolorStripe.id = `color-stripe-${paletteBoxCount}`;\n\t\tcolorStripe.style.backgroundColor = colorString || '#ffffff';\n\n\t\tcolorStripe.setAttribute('draggable', 'true');\n\n\t\tattachDragAndDropListeners(colorStripe);\n\n\t\tcolorStripe.appendChild(paletteBox);\n\n\t\treturn {\n\t\t\tcolorStripe,\n\t\t\tpaletteBoxCount: paletteBoxCount + 1\n\t\t};\n\t} catch (error) {\n\t\tif (!logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`Failed to execute makePaletteBox: ${error}`,\n\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t);\n\n\t\treturn {\n\t\t\tcolorStripe: document.createElement('div'),\n\t\t\tpaletteBoxCount\n\t\t};\n\t}\n}\n\nfunction showToast(message: string): void {\n\tconst thisMethod = 'showToast()';\n\tconst toast = document.createElement('div');\n\n\ttoast.className = 'toast-message';\n\n\ttoast.textContent = message;\n\n\tdocument.body.appendChild(toast);\n\n\tif (!mode.quiet && logMode.verbosity > 3)\n\t\tlogger.info('Toast message added', `${thisModule} > ${thisMethod}`);\n\n\tsetTimeout(() => {\n\t\ttoast.classList.add('fade-out');\n\n\t\tif (!mode.quiet && logMode.verbosity > 3)\n\t\t\tlogger.info(\n\t\t\t\t'Toast message faded out',\n\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t);\n\n\t\ttoast.addEventListener('transitioned', () => toast.remove());\n\t}, timeouts.toast || 3000);\n}\n\nfunction showTooltip(tooltipElement: HTMLElement): void {\n\tconst thisMethod = 'showTooltip()';\n\n\ttry {\n\t\tconst tooltip =\n\t\t\ttooltipElement.querySelector<HTMLElement>('.tooltiptext');\n\n\t\tif (tooltip) {\n\t\t\ttooltip.style.visibility = 'visible';\n\t\t\ttooltip.style.opacity = '1';\n\t\t\tsetTimeout(() => {\n\t\t\t\ttooltip.style.visibility = 'hidden';\n\t\t\t\ttooltip.style.opacity = '0';\n\t\t\t}, consts.timeouts.tooltip || 1000);\n\t\t}\n\n\t\tif (!mode.quiet && logMode.verbosity > 3)\n\t\t\tlogger.info(\n\t\t\t\t'showTooltip executed',\n\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t);\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`Failed to execute showTooltip: ${error}`,\n\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t);\n\t}\n}\n\nasync function validateAndConvertColor(\n\tcolor: Color | Color_StringProps | null\n): Promise<Color | null> {\n\tconst thisMethod = 'validateAndConvertColor()';\n\n\tif (!color) return null;\n\n\tconst convertedColor = coreUtils.guards.isColorString(color)\n\t\t? await coreUtils.convert.colorStringToColor(color)\n\t\t: color;\n\n\tif (!coreUtils.validate.colorValues(convertedColor)) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`Invalid color: ${JSON.stringify(convertedColor)}`,\n\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t);\n\n\t\treturn null;\n\t}\n\n\treturn convertedColor;\n}\n\nexport const domHelpers: CommonFn_MasterInterface['helpers']['dom'] = {\n\tattachDragAndDropListeners,\n\thandle: {\n\t\tdragStart,\n\t\tdragOver,\n\t\tdragEnd,\n\t\tdrop\n\t},\n\tmakePaletteBox,\n\tshowToast,\n\tshowTooltip,\n\tvalidateAndConvertColor\n} as const;\n","// File: common/helpers/index.js\n\nimport { CommonFn_MasterInterface } from '../../types/index.js';\nimport { conversionHelpers as conversion } from './conversion.js';\nimport { domHelpers as dom } from './dom.js';\n\nexport const helpers: CommonFn_MasterInterface['helpers'] = {\n\tconversion,\n\tdom\n} as const;\n","// File: data/dom/dom.js\n\nimport { DOMDataInterface } from '../types/index.js';\n\nconst dynamicIds: DOMDataInterface['ids']['dynamic'] = {\n\tbtns: {},\n\tdivs: {\n\t\tcolorBox1: 'color-box-1'\n\t},\n\tinputs: {\n\t\texport: 'export-input'\n\t},\n\tselects: {},\n\tspans: {}\n} as const;\n\nconst staticIds: DOMDataInterface['ids']['static'] = {\n\tbtns: {\n\t\tapplyCustomColor: 'apply-custom-color-btn',\n\t\tclearCustomColor: 'clear-custom-color-btn',\n\t\tcustomColorMenu: 'custom-color-menu-btn',\n\t\tdesaturate: 'desaturate-btn',\n\t\texport: 'export-btn',\n\t\tgenerate: 'generate-btn',\n\t\thelpMenu: 'help-menu-btn',\n\t\thistoryMenu: 'history-menu-btn',\n\t\tioMenu: 'io-menu-btn',\n\t\tsaturate: 'saturate-btn',\n\t\tshowAsCMYK: 'show-as-cmyk-btn',\n\t\tshowAsHex: 'show-as-hex-btn',\n\t\tshowAsHSL: 'show-as-hsl-btn',\n\t\tshowAsHSV: 'show-as-hsv-btn',\n\t\tshowAsLAB: 'show-as-lab-btn',\n\t\tshowAsRGB: 'show-as-rgb-btn'\n\t},\n\tdivs: {\n\t\tcustomColorMenu: 'custom-color-menu',\n\t\thelpMenu: 'help-menu',\n\t\thelpMenuContent: 'help-menu-content',\n\t\thistoryMenu: 'history-menu',\n\t\thistoryMenuContent: 'history-menu-content',\n\t\tioMenu: 'io-menu',\n\t\tpaletteHistory: 'palette-history'\n\t},\n\tinputs: {\n\t\tcustomColor: 'custom-color-input',\n\t\thistoryLimit: 'history-limit-input',\n\t\timport: 'import-input',\n\t\tlimitDarkChkbx: 'limit-dark-chkbx',\n\t\tlimitGrayChkbx: 'limit-gray-chkbx',\n\t\tlimitLightChkbx: 'limit-light-chkbx'\n\t},\n\tselects: {\n\t\texportFormatOption: 'export-format-option-selector',\n\t\tpaletteType: 'palette-type-selector',\n\t\tswatch: 'swatch-selector',\n\t\tswatchGen: 'swatch-gen-selector'\n\t},\n\tspans: {\n\t\tcustomColorDisplay: 'custom-color-display'\n\t}\n} as const;\n\n// ******** Helpers ********\n\nfunction getElement<T extends HTMLElement>(id: string): T | null {\n\treturn document.getElementById(id) as T | null;\n}\n\nconst dynamicDivIds = dynamicIds.divs;\n\nconst staticBtnIds = staticIds.btns;\nconst staticDivIds = staticIds.divs;\nconst staticInputIds = staticIds.inputs;\nconst staticSelectIds = staticIds.selects;\nconst staticSpanIds = staticIds.spans;\n\n// ******** Dynamic DOM Data ********\n\nconst dynamicDomElements: DOMDataInterface['elements']['dynamic'] = {\n\tget btns() {\n\t\treturn {};\n\t},\n\tget divs() {\n\t\treturn {\n\t\t\tcolorBox1: getElement<HTMLDivElement>(dynamicDivIds.colorBox1)\n\t\t};\n\t},\n\tget inputs() {\n\t\treturn {};\n\t},\n\tget selects() {\n\t\treturn {};\n\t},\n\tget spans() {\n\t\treturn {};\n\t}\n};\n\nconst dynamicDomIds: DOMDataInterface['ids']['dynamic'] = {\n\tbtns: {},\n\tdivs: {\n\t\tcolorBox1: dynamicDivIds.colorBox1\n\t},\n\tinputs: {},\n\tselects: {},\n\tspans: {}\n};\n\n// ******** Static DOM Data ********\n\nconst staticDomElements: DOMDataInterface['elements']['static'] = {\n\tget btns() {\n\t\treturn {\n\t\t\tapplyCustomColor: getElement<HTMLButtonElement>(\n\t\t\t\tstaticBtnIds.applyCustomColor\n\t\t\t),\n\t\t\tclearCustomColor: getElement<HTMLButtonElement>(\n\t\t\t\tstaticBtnIds.clearCustomColor\n\t\t\t),\n\t\t\tcustomColorMenu: getElement<HTMLButtonElement>(\n\t\t\t\tstaticBtnIds.customColorMenu\n\t\t\t),\n\t\t\tdesaturate: getElement<HTMLButtonElement>(staticBtnIds.desaturate),\n\t\t\texport: getElement<HTMLButtonElement>(staticBtnIds.export),\n\t\t\tgenerate: getElement<HTMLButtonElement>(staticBtnIds.generate),\n\t\t\thelpMenu: getElement<HTMLButtonElement>(staticBtnIds.helpMenu),\n\t\t\thistoryMenu: getElement<HTMLButtonElement>(\n\t\t\t\tstaticBtnIds.historyMenu\n\t\t\t),\n\t\t\tioMenu: getElement<HTMLButtonElement>(staticBtnIds.ioMenu),\n\t\t\tsaturate: getElement<HTMLButtonElement>(staticBtnIds.saturate),\n\t\t\tshowAsCMYK: getElement<HTMLButtonElement>(staticBtnIds.showAsCMYK),\n\t\t\tshowAsHex: getElement<HTMLButtonElement>(staticBtnIds.showAsHex),\n\t\t\tshowAsHSL: getElement<HTMLButtonElement>(staticBtnIds.showAsHSL),\n\t\t\tshowAsHSV: getElement<HTMLButtonElement>(staticBtnIds.showAsHSV),\n\t\t\tshowAsLAB: getElement<HTMLButtonElement>(staticBtnIds.showAsLAB),\n\t\t\tshowAsRGB: getElement<HTMLButtonElement>(staticBtnIds.showAsRGB)\n\t\t};\n\t},\n\tget divs() {\n\t\treturn {\n\t\t\tcustomColorMenu: getElement<HTMLDivElement>(\n\t\t\t\tstaticDivIds.customColorMenu\n\t\t\t),\n\t\t\thelpMenu: getElement<HTMLDivElement>(staticDivIds.helpMenu),\n\t\t\thelpMenuContent: getElement<HTMLDivElement>(\n\t\t\t\tstaticDivIds.helpMenuContent\n\t\t\t),\n\t\t\thistoryMenu: getElement<HTMLDivElement>(staticDivIds.historyMenu),\n\t\t\thistoryMenuContent: getElement<HTMLDivElement>(\n\t\t\t\tstaticDivIds.historyMenuContent\n\t\t\t),\n\t\t\tioMenu: getElement<HTMLDivElement>(staticDivIds.ioMenu),\n\t\t\tpaletteHistory: getElement<HTMLDivElement>(\n\t\t\t\tstaticDivIds.paletteHistory\n\t\t\t)\n\t\t};\n\t},\n\tget inputs() {\n\t\treturn {\n\t\t\tcustomColor: getElement<HTMLInputElement>(\n\t\t\t\tstaticInputIds.customColor\n\t\t\t),\n\t\t\thistoryLimit: getElement<HTMLInputElement>(\n\t\t\t\tstaticInputIds.historyLimit\n\t\t\t),\n\t\t\timport: getElement<HTMLInputElement>(staticInputIds.import),\n\t\t\tlimitDarkChkbx: getElement<HTMLInputElement>(\n\t\t\t\tstaticInputIds.limitDarkChkbx\n\t\t\t),\n\t\t\tlimitGrayChkbx: getElement<HTMLInputElement>(\n\t\t\t\tstaticInputIds.limitGrayChkbx\n\t\t\t),\n\t\t\tlimitLightChkbx: getElement<HTMLInputElement>(\n\t\t\t\tstaticInputIds.limitLightChkbx\n\t\t\t)\n\t\t};\n\t},\n\tget selects() {\n\t\treturn {\n\t\t\texportFormatOption: getElement<HTMLSelectElement>(\n\t\t\t\tstaticSelectIds.exportFormatOption\n\t\t\t),\n\t\t\tpaletteType: getElement<HTMLSelectElement>(\n\t\t\t\tstaticSelectIds.paletteType\n\t\t\t),\n\t\t\tswatch: getElement<HTMLSelectElement>(staticSelectIds.swatch),\n\t\t\tswatchGen: getElement<HTMLSelectElement>(staticSelectIds.swatchGen)\n\t\t};\n\t},\n\tget spans() {\n\t\treturn {\n\t\t\tcustomColorDisplay: getElement<HTMLSpanElement>(\n\t\t\t\tstaticSpanIds.customColorDisplay\n\t\t\t)\n\t\t};\n\t}\n};\n\nconst staticDomIds: DOMDataInterface['ids']['static'] = {\n\tbtns: {\n\t\tapplyCustomColor: staticBtnIds.applyCustomColor,\n\t\tclearCustomColor: staticBtnIds.clearCustomColor,\n\t\tcustomColorMenu: staticBtnIds.customColorMenu,\n\t\tdesaturate: staticBtnIds.desaturate,\n\t\texport: staticBtnIds.export,\n\t\tgenerate: staticBtnIds.generate,\n\t\thelpMenu: staticBtnIds.helpMenu,\n\t\thistoryMenu: staticBtnIds.historyMenu,\n\t\tioMenu: staticBtnIds.ioMenu,\n\t\tsaturate: staticBtnIds.saturate,\n\t\tshowAsCMYK: staticBtnIds.showAsCMYK,\n\t\tshowAsHex: staticBtnIds.showAsHex,\n\t\tshowAsHSL: staticBtnIds.showAsHSL,\n\t\tshowAsHSV: staticBtnIds.showAsHSV,\n\t\tshowAsLAB: staticBtnIds.showAsLAB,\n\t\tshowAsRGB: staticBtnIds.showAsRGB\n\t},\n\tdivs: {\n\t\tcustomColorMenu: staticDivIds.customColorMenu,\n\t\thelpMenu: staticDivIds.helpMenu,\n\t\thelpMenuContent: staticDivIds.helpMenuContent,\n\t\thistoryMenu: staticDivIds.historyMenu,\n\t\thistoryMenuContent: staticDivIds.historyMenuContent,\n\t\tioMenu: staticDivIds.ioMenu,\n\t\tpaletteHistory: staticDivIds.paletteHistory\n\t},\n\tinputs: {\n\t\tcustomColor: staticInputIds.customColor,\n\t\thistoryLimit: staticInputIds.historyLimit,\n\t\timport: staticInputIds.import,\n\t\tlimitDarkChkbx: staticInputIds.limitDarkChkbx,\n\t\tlimitGrayChkbx: staticInputIds.limitGrayChkbx,\n\t\tlimitLightChkbx: staticInputIds.limitLightChkbx\n\t},\n\tselects: {\n\t\texportFormatOption: staticSelectIds.exportFormatOption,\n\t\tpaletteType: staticSelectIds.paletteType,\n\t\tswatch: staticSelectIds.swatch,\n\t\tswatchGen: staticSelectIds.swatchGen\n\t},\n\tspans: {\n\t\tcustomColorDisplay: staticSpanIds.customColorDisplay\n\t}\n};\n\n// ******** Final DOM Data Object ********\n\nexport const domData: DOMDataInterface = {\n\tids: {\n\t\tdynamic: dynamicDomIds,\n\t\tstatic: staticDomIds\n\t},\n\telements: {\n\t\tdynamic: dynamicDomElements,\n\t\tstatic: staticDomElements\n\t}\n} as const;\n","// File: common/utils/conversion.js\n\nimport {\n\tCMYK,\n\tColorDataAssertion,\n\tColorDataExtended,\n\tCommonFn_MasterInterface,\n\tHex,\n\tHSL,\n\tHSV,\n\tLAB,\n\tRGB,\n\tSL,\n\tSV,\n\tXYZ\n} from '../../types/index.js';\nimport { coreConversionUtils } from '../convert.js';\nimport { createLogger } from '../../logger/index.js';\nimport { coreUtils } from '../core.js';\nimport { modeData as mode } from '../../data/mode.js';\n\nconst logMode = mode.logging;\n\nconst thisModule = 'common/utils/conversion.js';\n\nconst logger = await createLogger();\n\nfunction getConversionFn<\n\tFrom extends keyof ColorDataAssertion,\n\tTo extends keyof ColorDataAssertion\n>(\n\tfrom: From,\n\tto: To\n): ((value: ColorDataAssertion[From]) => ColorDataAssertion[To]) | undefined {\n\tconst thisMethod = 'getConversionFn()';\n\n\ttry {\n\t\tconst fnName =\n\t\t\t`${from}To${to[0].toUpperCase() + to.slice(1)}` as keyof typeof conversionUtils;\n\n\t\tif (!(fnName in conversionUtils)) return undefined;\n\n\t\tconst conversionFn = conversionUtils[fnName] as unknown as (\n\t\t\tinput: ColorDataAssertion[From]\n\t\t) => ColorDataAssertion[To];\n\n\t\treturn (value: ColorDataAssertion[From]): ColorDataAssertion[To] =>\n\t\t\tstructuredClone(conversionFn(value));\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`Error getting conversion function: ${error}`,\n\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t);\n\n\t\treturn undefined;\n\t}\n}\n\nfunction genAllColorValues(color: HSL): Partial<ColorDataExtended> {\n\tconst thisMethod = 'genAllColorValues()';\n\tconst result: Partial<ColorDataExtended> = {};\n\n\ttry {\n\t\tconst clonedColor = coreUtils.base.clone(color);\n\n\t\tif (!coreUtils.validate.colorValues(clonedColor)) {\n\t\t\tif (logMode.error)\n\t\t\t\tlogger.error(\n\t\t\t\t\t`Invalid color: ${JSON.stringify(clonedColor)}`,\n\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t);\n\n\t\t\treturn {};\n\t\t}\n\n\t\tresult.cmyk = coreConversionUtils.hslTo(clonedColor, 'cmyk') as CMYK;\n\t\tresult.hex = coreConversionUtils.hslTo(clonedColor, 'hex') as Hex;\n\t\tresult.hsl = clonedColor;\n\t\tresult.hsv = coreConversionUtils.hslTo(clonedColor, 'hsv') as HSV;\n\t\tresult.lab = coreConversionUtils.hslTo(clonedColor, 'lab') as LAB;\n\t\tresult.rgb = coreConversionUtils.hslTo(clonedColor, 'rgb') as RGB;\n\t\tresult.sl = coreConversionUtils.hslTo(clonedColor, 'sl') as SL;\n\t\tresult.sv = coreConversionUtils.hslTo(clonedColor, 'sv') as SV;\n\t\tresult.xyz = coreConversionUtils.hslTo(clonedColor, 'xyz') as XYZ;\n\n\t\treturn result;\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`Error generating all color values: ${error}`,\n\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t);\n\n\t\treturn {};\n\t}\n}\n\nexport const conversionUtils: CommonFn_MasterInterface['utils']['conversion'] =\n\t{\n\t\tgenAllColorValues,\n\t\tgetConversionFn\n\t} as const;\n","// File: common/utils/errors.js\n\nimport { CommonFn_MasterInterface } from '../../types/index.js';\nimport { createLogger } from '../../logger/index.js';\nimport { modeData as mode } from '../../data/mode.js';\n\nconst logMode = mode.logging;\n\nconst thisModule = 'common/utils/errors.ts';\n\nconst logger = await createLogger();\n\nasync function handleAsync<T>(\n\taction: () => Promise<T>,\n\terrorMessage: string,\n\tcontext?: Record<string, unknown>\n): Promise<T | null> {\n\tconst thisMethod = 'handleAsync()';\n\n\ttry {\n\t\treturn await action();\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tif (error instanceof Error) {\n\t\t\t\tlogger.error(\n\t\t\t\t\t`${errorMessage}: ${error.message}. Context: ${context}`,\n\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tlogger.error(\n\t\t\t\t\t`${errorMessage}: ${error}. Context: ${context}`,\n\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t);\n\t\t\t}\n\n\t\treturn null;\n\t}\n}\n\nexport const errorUtils: CommonFn_MasterInterface['utils']['errors'] = {\n\thandleAsync\n};\n","// File: common/utils/palette.js\n\nimport {\n\tColor,\n\tColor_StringProps,\n\tCommonFn_MasterInterface,\n\tPalette,\n\tPaletteItem\n} from '../../types/index';\nimport { coreUtils } from '../core.js';\nimport { createLogger } from '../../logger/index.js';\nimport { helpers } from '../helpers/index.js';\nimport { modeData as mode } from '../../data/mode.js';\n\nconst logMode = mode.logging;\n\nconst thisModule = 'common/utils/palette.js';\n\nconst logger = await createLogger();\n\nfunction createObject(\n\ttype: string,\n\titems: PaletteItem[],\n\tswatches: number,\n\tpaletteID: number,\n\tlimitDark: boolean,\n\tlimitGray: boolean,\n\tlimitLight: boolean\n): Palette {\n\treturn {\n\t\tid: `${type}_${paletteID}`,\n\t\titems,\n\t\tmetadata: {\n\t\t\tname: '',\n\t\t\ttimestamp: coreUtils.getFormattedTimestamp(),\n\t\t\tswatches,\n\t\t\ttype,\n\t\t\tflags: {\n\t\t\t\tlimitDarkness: limitDark,\n\t\t\t\tlimitGrayness: limitGray,\n\t\t\t\tlimitLightness: limitLight\n\t\t\t},\n\t\t\tcustomColor: {\n\t\t\t\tcolors: {\n\t\t\t\t\tmain: items[0]?.colors.main || {},\n\t\t\t\t\tstringProps: items[0]?.colors.stringProps || {},\n\t\t\t\t\tcss: items[0]?.colors.css || {}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n}\n\nexport async function populateOutputBox(\n\tcolor: Color | Color_StringProps,\n\tboxNumber: number\n): Promise<void> {\n\tconst thisMethod = 'populateOutputBox()';\n\n\ttry {\n\t\tconst clonedColor: Color = coreUtils.guards.isColor(color)\n\t\t\t? coreUtils.base.clone(color)\n\t\t\t: await coreUtils.convert.colorStringToColor(color);\n\n\t\tif (!coreUtils.validate.colorValues(clonedColor)) {\n\t\t\tif (logMode.error)\n\t\t\t\tlogger.error(\n\t\t\t\t\t'Invalid color values.',\n\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t);\n\n\t\t\thelpers.dom.showToast('Invalid color.');\n\n\t\t\treturn;\n\t\t}\n\n\t\tconst colorTextOutputBox = document.getElementById(\n\t\t\t`color-text-output-box-${boxNumber}`\n\t\t) as HTMLInputElement | null;\n\n\t\tif (!colorTextOutputBox) return;\n\n\t\tconst stringifiedColor =\n\t\t\tawait coreUtils.convert.colorToCSSColorString(clonedColor);\n\n\t\tif (!mode.quiet && logMode.info && logMode.verbosity > 0)\n\t\t\tlogger.info(\n\t\t\t\t`Adding CSS-formatted color to DOM ${stringifiedColor}`,\n\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t);\n\n\t\tcolorTextOutputBox.value = stringifiedColor;\n\t\tcolorTextOutputBox.setAttribute('data-format', color.format);\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`Failed to populate color text output box: ${error}`,\n\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t);\n\n\t\treturn;\n\t}\n}\n\nexport const paletteUtils: CommonFn_MasterInterface['utils']['palette'] = {\n\tcreateObject,\n\tpopulateOutputBox\n} as const;\n","// File: common/utils/random.js\n\nimport { CommonFn_MasterInterface, HSL, SL } from '../../types/index.js';\nimport { coreUtils } from '../core.js';\nimport { createLogger } from '../../logger/index.js';\nimport { defaultData as defaults } from '../../data/defaults.js';\nimport { modeData as mode } from '../../data/mode.js';\n\nconst logMode = mode.logging;\n\nconst thisModule = 'common/utils/random.js';\n\nconst logger = await createLogger();\n\nfunction hsl(): HSL {\n\tconst thisMethod = 'hsl()';\n\n\ttry {\n\t\tconst hsl: HSL = {\n\t\t\tvalue: {\n\t\t\t\thue: coreUtils.sanitize.radial(Math.floor(Math.random() * 360)),\n\t\t\t\tsaturation: coreUtils.sanitize.percentile(\n\t\t\t\t\tMath.floor(Math.random() * 101)\n\t\t\t\t),\n\t\t\t\tlightness: coreUtils.sanitize.percentile(\n\t\t\t\t\tMath.floor(Math.random() * 101)\n\t\t\t\t)\n\t\t\t},\n\t\t\tformat: 'hsl'\n\t\t};\n\n\t\tif (!coreUtils.validate.colorValues(hsl)) {\n\t\t\tif (logMode.error)\n\t\t\t\tlogger.error(\n\t\t\t\t\t`Invalid random HSL color value ${JSON.stringify(hsl)}`,\n\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t);\n\n\t\t\tconst unbrandedHSL = coreUtils.base.clone(\n\t\t\t\tdefaults.colors.base.unbranded.hsl\n\t\t\t);\n\n\t\t\treturn coreUtils.brandColor.asHSL(unbrandedHSL);\n\t\t}\n\n\t\tif (!mode.quiet && !logMode.info)\n\t\t\tlogger.info(\n\t\t\t\t`Generated randomHSL: ${JSON.stringify(hsl)}`,\n\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t);\n\n\t\treturn hsl;\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`Error generating random HSL color: ${error}`,\n\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t);\n\n\t\tconst unbrandedHSL = coreUtils.base.clone(\n\t\t\tdefaults.colors.base.unbranded.hsl\n\t\t);\n\n\t\treturn coreUtils.brandColor.asHSL(unbrandedHSL);\n\t}\n}\n\nfunction sl(): SL {\n\tconst thisMethod = 'sl()';\n\n\ttry {\n\t\tconst sl: SL = {\n\t\t\tvalue: {\n\t\t\t\tsaturation: coreUtils.sanitize.percentile(\n\t\t\t\t\tMath.max(0, Math.min(100, Math.random() * 100))\n\t\t\t\t),\n\t\t\t\tlightness: coreUtils.sanitize.percentile(\n\t\t\t\t\tMath.max(0, Math.min(100, Math.random() * 100))\n\t\t\t\t)\n\t\t\t},\n\t\t\tformat: 'sl'\n\t\t};\n\n\t\tif (!coreUtils.validate.colorValues(sl as SL)) {\n\t\t\tif (logMode.error)\n\t\t\t\tlogger.error(\n\t\t\t\t\t`Invalid random SV color value ${JSON.stringify(sl)}`,\n\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t);\n\n\t\t\tconst unbrandedSL = coreUtils.base.clone(\n\t\t\t\tdefaults.colors.base.unbranded.sl\n\t\t\t);\n\n\t\t\treturn coreUtils.brandColor.asSL(unbrandedSL);\n\t\t}\n\n\t\tif (!mode.quiet && logMode.info)\n\t\t\tlogger.info(\n\t\t\t\t`Generated randomSL: ${JSON.stringify(sl)}`,\n\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t);\n\n\t\treturn sl;\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`Error generating random SL color: ${error}`,\n\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t);\n\n\t\tconst unbrandedSL = coreUtils.base.clone(\n\t\t\tdefaults.colors.base.unbranded.sl\n\t\t);\n\n\t\treturn coreUtils.brandColor.asSL(unbrandedSL);\n\t}\n}\n\nexport const randomUtils: CommonFn_MasterInterface['utils']['random'] = {\n\thsl,\n\tsl\n} as const;\n","// File common/utils/index.js\n\nimport { CommonFn_MasterInterface } from '../../types/index.js';\nimport { colorUtils as color } from './color.js';\nimport { conversionUtils as conversion } from './conversion.js';\nimport { errorUtils as errors } from './errors.js';\nimport { paletteUtils as palette } from './palette.js';\nimport { randomUtils as random } from './random.js';\n\nexport const utils: CommonFn_MasterInterface['utils'] = {\n\tcolor,\n\tconversion,\n\terrors,\n\tpalette,\n\trandom\n} as const;\n","// File: common/superUtils.js\n\nimport {\n\tColorInputElement,\n\tColorSpace,\n\tCommonFn_MasterInterface,\n\tHSL,\n\tPaletteGenerationArgs\n} from '../types/index.js';\nimport { coreUtils } from './core.js';\nimport { createLogger } from '../logger/index.js';\nimport { domData } from '../data/dom.js';\nimport { helpers } from './helpers/index.js';\nimport { modeData as mode } from '../data/mode.js';\nimport { utils } from './utils/index.js';\n\nconst domElements = domData.elements.static;\nconst logMode = mode.logging;\n\nconst thisModule = 'common/superUtils/dom.js';\n\nconst logger = await createLogger();\n\nfunction getPaletteGenerationArgs(): PaletteGenerationArgs | null {\n\tconst thisMethod = 'getGenButtonArgs()';\n\n\ttry {\n\t\tconst swatchGenNumber = domElements.selects.swatchGen;\n\t\tconst paletteType = domElements.selects.paletteType;\n\t\tconst customColorRaw = domElements.inputs.customColor?.value;\n\t\tconst limitDarkChkbx = domElements.inputs.limitDarkChkbx;\n\t\tconst limitGrayChkbx = domElements.inputs.limitGrayChkbx;\n\t\tconst limitLightChkbx = domElements.inputs.limitLightChkbx;\n\n\t\tif (\n\t\t\tswatchGenNumber === null ||\n\t\t\tpaletteType === null ||\n\t\t\tlimitDarkChkbx === null ||\n\t\t\tlimitGrayChkbx === null ||\n\t\t\tlimitLightChkbx === null\n\t\t) {\n\t\t\tif (logMode.error)\n\t\t\t\tlogger.error(\n\t\t\t\t\t'One or more elements are null',\n\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t);\n\n\t\t\treturn null;\n\t\t}\n\n\t\tif (!mode.quiet && logMode.info && logMode.verbosity >= 2)\n\t\t\tlogger.info(\n\t\t\t\t`numBoxes: ${parseInt(swatchGenNumber.value, 10)}\\npaletteType: ${parseInt(paletteType.value, 10)}`,\n\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t);\n\n\t\treturn {\n\t\t\tswatches: parseInt(swatchGenNumber.value, 10),\n\t\t\ttype: parseInt(paletteType.value, 10),\n\t\t\tcustomColor: customColorRaw\n\t\t\t\t? (coreUtils.base.parseCustomColor(\n\t\t\t\t\t\tcustomColorRaw\n\t\t\t\t\t) as HSL | null)\n\t\t\t\t: null,\n\t\t\tlimitDark: limitDarkChkbx.checked,\n\t\t\tlimitGray: limitGrayChkbx.checked,\n\t\t\tlimitLight: limitLightChkbx.checked\n\t\t};\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`Failed to retrieve generateButton parameters: ${error}`,\n\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t);\n\n\t\treturn null;\n\t}\n}\n\nasync function switchColorSpace(targetFormat: ColorSpace): Promise<void> {\n\tconst thisMethod = 'switchColorSpace()';\n\n\ttry {\n\t\tconst colorTextOutputBoxes =\n\t\t\tdocument.querySelectorAll<HTMLInputElement>(\n\t\t\t\t'.color-text-output-box'\n\t\t\t);\n\n\t\tfor (const box of colorTextOutputBoxes) {\n\t\t\tconst inputBox = box as ColorInputElement;\n\t\t\tconst colorValues = inputBox.colorValues;\n\n\t\t\tif (!colorValues || !coreUtils.validate.colorValues(colorValues)) {\n\t\t\t\tif (logMode.error)\n\t\t\t\t\tlogger.error(\n\t\t\t\t\t\t'Invalid color values. Cannot display toast.',\n\t\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t\t);\n\n\t\t\t\thelpers.dom.showToast('Invalid color.');\n\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tconst currentFormat = inputBox.getAttribute(\n\t\t\t\t'data-format'\n\t\t\t) as ColorSpace;\n\n\t\t\tif (!mode.quiet && logMode.info && logMode.verbosity >= 2)\n\t\t\t\tlogger.info(\n\t\t\t\t\t`Converting from ${currentFormat} to ${targetFormat}`,\n\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t);\n\n\t\t\tconst convertFn = utils.conversion.getConversionFn(\n\t\t\t\tcurrentFormat,\n\t\t\t\ttargetFormat\n\t\t\t);\n\n\t\t\tif (!convertFn) {\n\t\t\t\tif (logMode.error)\n\t\t\t\t\tlogger.error(\n\t\t\t\t\t\t`Conversion from ${currentFormat} to ${targetFormat} is not supported.`,\n\t\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t\t);\n\n\t\t\t\thelpers.dom.showToast('Conversion not supported.');\n\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (colorValues.format === 'xyz') {\n\t\t\t\tif (logMode.error)\n\t\t\t\t\tlogger.error(\n\t\t\t\t\t\t'Cannot convert from XYZ to another color space.',\n\t\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t\t);\n\n\t\t\t\thelpers.dom.showToast('Conversion not supported.');\n\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tconst clonedColor = await utils.color.narrowToColor(colorValues);\n\n\t\t\tif (\n\t\t\t\t!clonedColor ||\n\t\t\t\tutils.color.isSLColor(clonedColor) ||\n\t\t\t\tutils.color.isSVColor(clonedColor) ||\n\t\t\t\tutils.color.isXYZ(clonedColor)\n\t\t\t) {\n\t\t\t\tif (logMode.verbosity >= 3 && logMode.error)\n\t\t\t\t\tlogger.error(\n\t\t\t\t\t\t'Cannot convert from SL, SV, or XYZ color spaces. Please convert to a supported format first.',\n\t\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t\t);\n\n\t\t\t\thelpers.dom.showToast('Conversion not supported.');\n\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (!clonedColor) {\n\t\t\t\tif (logMode.error)\n\t\t\t\t\tlogger.error(\n\t\t\t\t\t\t`Conversion to ${targetFormat} failed.`,\n\t\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t\t);\n\n\t\t\t\thelpers.dom.showToast('Conversion failed.');\n\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tconst newColor = coreUtils.base.clone(convertFn(clonedColor));\n\n\t\t\tif (!newColor) {\n\t\t\t\tif (logMode.error)\n\t\t\t\t\tlogger.error(\n\t\t\t\t\t\t`Conversion to ${targetFormat} failed.`,\n\t\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t\t);\n\n\t\t\t\thelpers.dom.showToast('Conversion failed.');\n\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tinputBox.value = String(newColor);\n\n\t\t\tinputBox.setAttribute('data-format', targetFormat);\n\t\t}\n\t} catch (error) {\n\t\thelpers.dom.showToast('Failed to convert colors.');\n\n\t\tif (!mode.quiet && logMode.warn)\n\t\t\tlogger.warn(\n\t\t\t\t'Failed to convert colors.',\n\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t);\n\t\telse if (!mode.gracefulErrors)\n\t\t\tthrow new Error(`Failed to convert colors: ${error as Error}`);\n\t\telse if (logMode.error)\n\t\t\tlogger.error(`Failed to convert colors: ${error as Error}`);\n\t}\n}\n\nexport const superUtils: CommonFn_MasterInterface['superUtils'] = {\n\tdom: {\n\t\tgetPaletteGenerationArgs,\n\t\tswitchColorSpace\n\t}\n} as const;\n","// File: common/index.js\n\nimport { CommonFn_MasterInterface } from '../types/index.js';\nimport { coreConversionUtils } from './convert.js';\nimport { coreUtils } from './core.js';\nimport { helpers } from './helpers/index.js';\nimport { superUtils } from './superUtils.js';\nimport { transformUtils } from './transform.js';\nimport { utils } from './utils/index.js';\n\nexport {\n\tcoreConversionUtils,\n\tcoreUtils,\n\thelpers,\n\tsuperUtils,\n\ttransformUtils,\n\tutils\n};\n\nexport const commonFn: CommonFn_MasterInterface = {\n\tconvert: coreConversionUtils,\n\tcore: coreUtils,\n\thelpers,\n\tsuperUtils,\n\ttransform: transformUtils,\n\tutils\n} as const;\n","const instanceOfAny = (object, constructors) => constructors.some((c) => object instanceof c);\n\nlet idbProxyableTypes;\nlet cursorAdvanceMethods;\n// This is a function to prevent it throwing up in node environments.\nfunction getIdbProxyableTypes() {\n    return (idbProxyableTypes ||\n        (idbProxyableTypes = [\n            IDBDatabase,\n            IDBObjectStore,\n            IDBIndex,\n            IDBCursor,\n            IDBTransaction,\n        ]));\n}\n// This is a function to prevent it throwing up in node environments.\nfunction getCursorAdvanceMethods() {\n    return (cursorAdvanceMethods ||\n        (cursorAdvanceMethods = [\n            IDBCursor.prototype.advance,\n            IDBCursor.prototype.continue,\n            IDBCursor.prototype.continuePrimaryKey,\n        ]));\n}\nconst transactionDoneMap = new WeakMap();\nconst transformCache = new WeakMap();\nconst reverseTransformCache = new WeakMap();\nfunction promisifyRequest(request) {\n    const promise = new Promise((resolve, reject) => {\n        const unlisten = () => {\n            request.removeEventListener('success', success);\n            request.removeEventListener('error', error);\n        };\n        const success = () => {\n            resolve(wrap(request.result));\n            unlisten();\n        };\n        const error = () => {\n            reject(request.error);\n            unlisten();\n        };\n        request.addEventListener('success', success);\n        request.addEventListener('error', error);\n    });\n    // This mapping exists in reverseTransformCache but doesn't exist in transformCache. This\n    // is because we create many promises from a single IDBRequest.\n    reverseTransformCache.set(promise, request);\n    return promise;\n}\nfunction cacheDonePromiseForTransaction(tx) {\n    // Early bail if we've already created a done promise for this transaction.\n    if (transactionDoneMap.has(tx))\n        return;\n    const done = new Promise((resolve, reject) => {\n        const unlisten = () => {\n            tx.removeEventListener('complete', complete);\n            tx.removeEventListener('error', error);\n            tx.removeEventListener('abort', error);\n        };\n        const complete = () => {\n            resolve();\n            unlisten();\n        };\n        const error = () => {\n            reject(tx.error || new DOMException('AbortError', 'AbortError'));\n            unlisten();\n        };\n        tx.addEventListener('complete', complete);\n        tx.addEventListener('error', error);\n        tx.addEventListener('abort', error);\n    });\n    // Cache it for later retrieval.\n    transactionDoneMap.set(tx, done);\n}\nlet idbProxyTraps = {\n    get(target, prop, receiver) {\n        if (target instanceof IDBTransaction) {\n            // Special handling for transaction.done.\n            if (prop === 'done')\n                return transactionDoneMap.get(target);\n            // Make tx.store return the only store in the transaction, or undefined if there are many.\n            if (prop === 'store') {\n                return receiver.objectStoreNames[1]\n                    ? undefined\n                    : receiver.objectStore(receiver.objectStoreNames[0]);\n            }\n        }\n        // Else transform whatever we get back.\n        return wrap(target[prop]);\n    },\n    set(target, prop, value) {\n        target[prop] = value;\n        return true;\n    },\n    has(target, prop) {\n        if (target instanceof IDBTransaction &&\n            (prop === 'done' || prop === 'store')) {\n            return true;\n        }\n        return prop in target;\n    },\n};\nfunction replaceTraps(callback) {\n    idbProxyTraps = callback(idbProxyTraps);\n}\nfunction wrapFunction(func) {\n    // Due to expected object equality (which is enforced by the caching in `wrap`), we\n    // only create one new func per func.\n    // Cursor methods are special, as the behaviour is a little more different to standard IDB. In\n    // IDB, you advance the cursor and wait for a new 'success' on the IDBRequest that gave you the\n    // cursor. It's kinda like a promise that can resolve with many values. That doesn't make sense\n    // with real promises, so each advance methods returns a new promise for the cursor object, or\n    // undefined if the end of the cursor has been reached.\n    if (getCursorAdvanceMethods().includes(func)) {\n        return function (...args) {\n            // Calling the original function with the proxy as 'this' causes ILLEGAL INVOCATION, so we use\n            // the original object.\n            func.apply(unwrap(this), args);\n            return wrap(this.request);\n        };\n    }\n    return function (...args) {\n        // Calling the original function with the proxy as 'this' causes ILLEGAL INVOCATION, so we use\n        // the original object.\n        return wrap(func.apply(unwrap(this), args));\n    };\n}\nfunction transformCachableValue(value) {\n    if (typeof value === 'function')\n        return wrapFunction(value);\n    // This doesn't return, it just creates a 'done' promise for the transaction,\n    // which is later returned for transaction.done (see idbObjectHandler).\n    if (value instanceof IDBTransaction)\n        cacheDonePromiseForTransaction(value);\n    if (instanceOfAny(value, getIdbProxyableTypes()))\n        return new Proxy(value, idbProxyTraps);\n    // Return the same value back if we're not going to transform it.\n    return value;\n}\nfunction wrap(value) {\n    // We sometimes generate multiple promises from a single IDBRequest (eg when cursoring), because\n    // IDB is weird and a single IDBRequest can yield many responses, so these can't be cached.\n    if (value instanceof IDBRequest)\n        return promisifyRequest(value);\n    // If we've already transformed this value before, reuse the transformed value.\n    // This is faster, but it also provides object equality.\n    if (transformCache.has(value))\n        return transformCache.get(value);\n    const newValue = transformCachableValue(value);\n    // Not all types are transformed.\n    // These may be primitive types, so they can't be WeakMap keys.\n    if (newValue !== value) {\n        transformCache.set(value, newValue);\n        reverseTransformCache.set(newValue, value);\n    }\n    return newValue;\n}\nconst unwrap = (value) => reverseTransformCache.get(value);\n\n/**\n * Open a database.\n *\n * @param name Name of the database.\n * @param version Schema version.\n * @param callbacks Additional callbacks.\n */\nfunction openDB(name, version, { blocked, upgrade, blocking, terminated } = {}) {\n    const request = indexedDB.open(name, version);\n    const openPromise = wrap(request);\n    if (upgrade) {\n        request.addEventListener('upgradeneeded', (event) => {\n            upgrade(wrap(request.result), event.oldVersion, event.newVersion, wrap(request.transaction), event);\n        });\n    }\n    if (blocked) {\n        request.addEventListener('blocked', (event) => blocked(\n        // Casting due to https://github.com/microsoft/TypeScript-DOM-lib-generator/pull/1405\n        event.oldVersion, event.newVersion, event));\n    }\n    openPromise\n        .then((db) => {\n        if (terminated)\n            db.addEventListener('close', () => terminated());\n        if (blocking) {\n            db.addEventListener('versionchange', (event) => blocking(event.oldVersion, event.newVersion, event));\n        }\n    })\n        .catch(() => { });\n    return openPromise;\n}\n/**\n * Delete a database.\n *\n * @param name Name of the database.\n */\nfunction deleteDB(name, { blocked } = {}) {\n    const request = indexedDB.deleteDatabase(name);\n    if (blocked) {\n        request.addEventListener('blocked', (event) => blocked(\n        // Casting due to https://github.com/microsoft/TypeScript-DOM-lib-generator/pull/1405\n        event.oldVersion, event));\n    }\n    return wrap(request).then(() => undefined);\n}\n\nconst readMethods = ['get', 'getKey', 'getAll', 'getAllKeys', 'count'];\nconst writeMethods = ['put', 'add', 'delete', 'clear'];\nconst cachedMethods = new Map();\nfunction getMethod(target, prop) {\n    if (!(target instanceof IDBDatabase &&\n        !(prop in target) &&\n        typeof prop === 'string')) {\n        return;\n    }\n    if (cachedMethods.get(prop))\n        return cachedMethods.get(prop);\n    const targetFuncName = prop.replace(/FromIndex$/, '');\n    const useIndex = prop !== targetFuncName;\n    const isWrite = writeMethods.includes(targetFuncName);\n    if (\n    // Bail if the target doesn't exist on the target. Eg, getAll isn't in Edge.\n    !(targetFuncName in (useIndex ? IDBIndex : IDBObjectStore).prototype) ||\n        !(isWrite || readMethods.includes(targetFuncName))) {\n        return;\n    }\n    const method = async function (storeName, ...args) {\n        // isWrite ? 'readwrite' : undefined gzipps better, but fails in Edge :(\n        const tx = this.transaction(storeName, isWrite ? 'readwrite' : 'readonly');\n        let target = tx.store;\n        if (useIndex)\n            target = target.index(args.shift());\n        // Must reject if op rejects.\n        // If it's a write operation, must reject if tx.done rejects.\n        // Must reject with op rejection first.\n        // Must resolve with op value.\n        // Must handle both promises (no unhandled rejections)\n        return (await Promise.all([\n            target[targetFuncName](...args),\n            isWrite && tx.done,\n        ]))[0];\n    };\n    cachedMethods.set(prop, method);\n    return method;\n}\nreplaceTraps((oldTraps) => ({\n    ...oldTraps,\n    get: (target, prop, receiver) => getMethod(target, prop) || oldTraps.get(target, prop, receiver),\n    has: (target, prop) => !!getMethod(target, prop) || oldTraps.has(target, prop),\n}));\n\nconst advanceMethodProps = ['continue', 'continuePrimaryKey', 'advance'];\nconst methodMap = {};\nconst advanceResults = new WeakMap();\nconst ittrProxiedCursorToOriginalProxy = new WeakMap();\nconst cursorIteratorTraps = {\n    get(target, prop) {\n        if (!advanceMethodProps.includes(prop))\n            return target[prop];\n        let cachedFunc = methodMap[prop];\n        if (!cachedFunc) {\n            cachedFunc = methodMap[prop] = function (...args) {\n                advanceResults.set(this, ittrProxiedCursorToOriginalProxy.get(this)[prop](...args));\n            };\n        }\n        return cachedFunc;\n    },\n};\nasync function* iterate(...args) {\n    // tslint:disable-next-line:no-this-assignment\n    let cursor = this;\n    if (!(cursor instanceof IDBCursor)) {\n        cursor = await cursor.openCursor(...args);\n    }\n    if (!cursor)\n        return;\n    cursor = cursor;\n    const proxiedCursor = new Proxy(cursor, cursorIteratorTraps);\n    ittrProxiedCursorToOriginalProxy.set(proxiedCursor, cursor);\n    // Map this double-proxy back to the original, so other cursor methods work.\n    reverseTransformCache.set(proxiedCursor, unwrap(cursor));\n    while (cursor) {\n        yield proxiedCursor;\n        // If one of the advancing methods was not called, call continue().\n        cursor = await (advanceResults.get(proxiedCursor) || cursor.continue());\n        advanceResults.delete(proxiedCursor);\n    }\n}\nfunction isIteratorProp(target, prop) {\n    return ((prop === Symbol.asyncIterator &&\n        instanceOfAny(target, [IDBIndex, IDBObjectStore, IDBCursor])) ||\n        (prop === 'iterate' && instanceOfAny(target, [IDBIndex, IDBObjectStore])));\n}\nreplaceTraps((oldTraps) => ({\n    ...oldTraps,\n    get(target, prop, receiver) {\n        if (isIteratorProp(target, prop))\n            return iterate;\n        return oldTraps.get(target, prop, receiver);\n    },\n    has(target, prop) {\n        return isIteratorProp(target, prop) || oldTraps.has(target, prop);\n    },\n}));\n\nexport { deleteDB, openDB, unwrap, wrap };\n","// db/initialize.js\n\n// File: db/initialize.js\n\nimport { openDB, IDBPDatabase } from 'idb';\nimport { PaletteSchema } from '../types/index.js';\nimport { configData as config } from '../data/config.js';\n\nexport async function initializeDB(): Promise<IDBPDatabase<PaletteSchema>> {\n\treturn openDB<PaletteSchema>('paletteDB', 1, {\n\t\tupgrade: db => {\n\t\t\tconst storeNames = Object.values(config.db.STORE_NAMES);\n\n\t\t\tstoreNames.forEach(storeName => {\n\t\t\t\tif (!db.objectStoreNames.contains(storeName)) {\n\t\t\t\t\tdb.createObjectStore(storeName, { keyPath: 'key' });\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n}\n","// File: db/utils.js\n\nimport { IDBPDatabase, IDBPObjectStore } from 'idb';\nimport { PaletteSchema } from '../types/index.js';\n\nexport async function withStore<\n\tStoreName extends keyof PaletteSchema,\n\tMode extends 'readonly' | 'readwrite'\n>(\n\tdb: IDBPDatabase<PaletteSchema>,\n\tstoreName: StoreName,\n\tmode: Mode,\n\tcallback: (\n\t\tstore: IDBPObjectStore<PaletteSchema, [StoreName], StoreName, Mode>\n\t) => void\n): Promise<void> {\n\tconst tx = db.transaction(storeName, mode);\n\tconst store = tx.objectStore(storeName);\n\n\tcallback(store);\n\n\tawait tx.done;\n}\n\nexport const dbUtils = {\n\tstore: { withStore }\n} as const;\n","// File: db/IDBManager.js\n\nimport { IDBPDatabase, IDBPObjectStore } from 'idb';\nimport {\n\tCommonFn_MasterInterface,\n\tConfigDataInterface,\n\tHSL,\n\tModeDataInterface,\n\tMutationLog,\n\tPalette,\n\tPaletteDB,\n\tPaletteItem,\n\tPaletteSchema,\n\tSettings,\n\tStoredPalette\n} from '../types/index.js';\nimport { configData as config } from '../data/config.js';\nimport { commonFn } from '../common/index.js';\nimport { createLogger } from '../logger/index.js';\nimport { initializeDB } from './initialize.js';\nimport { dbUtils } from './utils.js';\nimport { modeData as mode } from '../data/mode.js';\n\nconst thisModule = 'db/IDBManager.js';\n\nconst logger = await createLogger();\n\nexport class IDBManager {\n\tprivate static instance: IDBManager | null = null;\n\n\tprivate dbPromise: Promise<IDBPDatabase<PaletteSchema>>;\n\n\tprivate dbData: ConfigDataInterface['db'] = config.db;\n\tprivate mode: ModeDataInterface = mode;\n\tprivate logMode: ModeDataInterface['logging'] = mode.logging;\n\n\tprivate cache: Partial<{\n\t\tsettings: Settings;\n\t\tcustomColor: HSL;\n\t}> = {};\n\n\tdefaultKeys: ConfigDataInterface['db']['DEFAULT_KEYS'] =\n\t\tconfig.db.DEFAULT_KEYS;\n\tprivate defaultSettings: ConfigDataInterface['db']['DEFAULT_SETTINGS'] =\n\t\tconfig.db.DEFAULT_SETTINGS;\n\tprivate storeNames: ConfigDataInterface['db']['STORE_NAMES'] =\n\t\tconfig.db.STORE_NAMES;\n\n\tprivate utils: CommonFn_MasterInterface['utils'];\n\tprivate dbUtils: typeof dbUtils;\n\n\tprivate constructor() {\n\t\tthis.dbPromise = initializeDB();\n\n\t\tthis.dbData = this.dbData;\n\n\t\tthis.defaultKeys = config.db.DEFAULT_KEYS;\n\t\tthis.defaultSettings = config.db.DEFAULT_SETTINGS;\n\t\tthis.storeNames = config.db.STORE_NAMES;\n\n\t\tthis.mode = mode;\n\n\t\tthis.dbUtils = dbUtils;\n\t\tthis.utils = commonFn.utils;\n\t}\n\n\t//\n\t///\n\t//// * * * * * * * * * * * * * * * * * * * * * *\n\t///// * * * * * * STATIC METHODS * * * * * * *\n\t//// * * * * * * * * * * * * * * * * * * * * * *\n\t///\n\t//\n\n\tpublic static async getInstance(): Promise<IDBManager> {\n\t\tif (!this.instance) {\n\t\t\tthis.instance = new IDBManager();\n\n\t\t\tawait this.instance.dbPromise;\n\t\t}\n\n\t\treturn this.instance;\n\t}\n\n\tpublic static resetInstance(): void {\n\t\tthis.instance = null;\n\t}\n\n\t//\n\t///\n\t//// * * * * * * * * * * * * * * * * * * * * * *\n\t///// * * * * * * * PUBLIC METHODS * * * * * * *\n\t//// * * * * * * * * * * * * * * * * * * * * * *\n\t///\n\t//\n\n\tpublic createMutationLogger<T extends object>(obj: T, key: string): T {\n\t\tconst thisMethod = 'createMutationLogger()';\n\t\tconst self = this;\n\n\t\treturn new Proxy(obj, {\n\t\t\tset(target, property, value) {\n\t\t\t\tconst oldValue = target[property as keyof T];\n\t\t\t\tconst success = Reflect.set(target, property, value);\n\n\t\t\t\tif (success) {\n\t\t\t\t\tconst mutationLog: MutationLog = {\n\t\t\t\t\t\ttimestamp: new Date().toISOString(),\n\t\t\t\t\t\tkey,\n\t\t\t\t\t\taction: 'update',\n\t\t\t\t\t\tnewValue: { [property]: value },\n\t\t\t\t\t\toldValue: { [property]: oldValue },\n\t\t\t\t\t\torigin: 'Proxy'\n\t\t\t\t\t};\n\n\t\t\t\t\tif (self.logMode.info)\n\t\t\t\t\t\tlogger.info(\n\t\t\t\t\t\t\t`Mutation detected: ${JSON.stringify(mutationLog)}`,\n\t\t\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t\t\t);\n\n\t\t\t\t\tself.persistMutation(mutationLog).catch(err => {\n\t\t\t\t\t\tif (self.logMode.error)\n\t\t\t\t\t\t\tlogger.error(\n\t\t\t\t\t\t\t\t`Failed to persist mutation: ${err.message}`,\n\t\t\t\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t\t\t\t);\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\treturn success;\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate createPaletteObject(\n\t\ttype: string,\n\t\titems: PaletteItem[],\n\t\tpaletteID: number,\n\t\tswatches: number,\n\t\tlimitDark: boolean,\n\t\tlimitGray: boolean,\n\t\tlimitLight: boolean\n\t): Palette {\n\t\treturn this.utils.palette.createObject(\n\t\t\ttype,\n\t\t\titems,\n\t\t\tswatches,\n\t\t\tpaletteID,\n\t\t\tlimitDark,\n\t\t\tlimitGray,\n\t\t\tlimitLight\n\t\t);\n\t}\n\n\t// *DEV-NOTE* add this method to docs\n\tpublic async deleteEntry(\n\t\tstoreName: keyof PaletteSchema,\n\t\tkey: string\n\t): Promise<void | null> {\n\t\tconst thisMethod = 'deleteEntry()';\n\n\t\treturn this.utils.errors.handleAsync(async () => {\n\t\t\tif (!(await this.ensureEntryExists(storeName, key))) {\n\t\t\t\tif (this.logMode.warn) {\n\t\t\t\t\tlogger.warn(\n\t\t\t\t\t\t`Entry with key ${key} not found.`,\n\t\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst db = await this.getDB();\n\t\t\tconst store = db\n\t\t\t\t.transaction(storeName, 'readwrite')\n\t\t\t\t.objectStore(storeName);\n\n\t\t\tawait store.delete(key);\n\n\t\t\tif (!this.mode.quiet) {\n\t\t\t\tlogger.info(\n\t\t\t\t\t`Entry with key ${key} deleted successfully.`,\n\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t);\n\t\t\t}\n\t\t}, 'IDBManager.deleteData(): Error deleting entry');\n\t}\n\n\tpublic async deleteEntries(\n\t\tstoreName: keyof PaletteSchema,\n\t\tkeys: string[]\n\t): Promise<void | null> {\n\t\tconst thisMethod = 'deleteEntries()';\n\n\t\treturn this.utils.errors.handleAsync(async () => {\n\t\t\tconst db = await this.getDB();\n\t\t\tconst store = db\n\t\t\t\t.transaction(storeName, 'readwrite')\n\t\t\t\t.objectStore(storeName);\n\t\t\tconst validKeys = (\n\t\t\t\tawait Promise.all(\n\t\t\t\t\tkeys.map(async key =>\n\t\t\t\t\t\t(await this.ensureEntryExists(storeName, key))\n\t\t\t\t\t\t\t? key\n\t\t\t\t\t\t\t: null\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t).filter((key): key is string => key !== null);\n\n\t\t\tawait Promise.all(validKeys.map(key => store.delete(key)));\n\n\t\t\tif (!this.mode.quiet) {\n\t\t\t\tlogger.info(\n\t\t\t\t\t`Entries deleted successfully. Keys: ${validKeys}`,\n\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t);\n\t\t\t}\n\t\t}, 'IDBManager.deleteEntries(): Error deleting entries');\n\t}\n\n\tpublic async getCurrentPaletteID(): Promise<number> {\n\t\tconst thisMethod = 'getCurrentPaletteID()';\n\n\t\treturn this.utils.errors.handleAsync(async () => {\n\t\t\tconst db = await this.getDB();\n\t\t\tconst settings = await db.get(\n\t\t\t\tthis.storeNames['SETTINGS'],\n\t\t\t\tthis.getDefaultKey('APP_SETTINGS')\n\t\t\t);\n\n\t\t\tif (this.mode.debug)\n\t\t\t\tlogger.info(\n\t\t\t\t\t`Fetched settings from IndexedDB: ${settings}`,\n\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t);\n\n\t\t\treturn settings?.lastPaletteID ?? 0;\n\t\t}, 'IDBManager: getCurrentPaletteID(): Error fetching current palette ID');\n\t}\n\n\tpublic async getCachedSettings(): Promise<Settings> {\n\t\tif (this.cache.settings) return this.cache.settings;\n\n\t\tconst settings = await this.getSettings();\n\n\t\tif (settings) this.cache.settings = settings;\n\n\t\treturn settings;\n\t}\n\n\tpublic async getCustomColor(): Promise<HSL | null> {\n\t\tconst key = this.defaultKeys['CUSTOM_COLOR'];\n\t\tconst storeName = this.storeNames['CUSTOM_COLOR'];\n\n\t\treturn this.utils.errors.handleAsync(async () => {\n\t\t\tconst db = await this.getDB();\n\t\t\tconst entry = await db.get(storeName, key);\n\n\t\t\tif (!entry?.color) return null;\n\n\t\t\tthis.cache.customColor = entry.color;\n\n\t\t\treturn this.createMutationLogger(entry.color, storeName);\n\t\t}, 'IDBManager.getCustomColor(): Error fetching custom color');\n\t}\n\n\tpublic async getDB(): Promise<PaletteDB> {\n\t\treturn this.dbPromise;\n\t}\n\n\tpublic getLoggedObject<T extends object>(\n\t\tobj: T | null,\n\t\tkey: string\n\t): T | null {\n\t\tif (obj) {\n\t\t\treturn this.createMutationLogger(obj, key);\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tpublic async getNextPaletteID(): Promise<number | null> {\n\t\treturn this.utils.errors.handleAsync(async () => {\n\t\t\tconst currentID = await this.getCurrentPaletteID();\n\t\t\tconst newID = currentID + 1;\n\n\t\t\tawait this.updateCurrentPaletteID(newID);\n\n\t\t\treturn newID;\n\t\t}, 'IDBManager.getNextPaletteID(): Error fetching next palette ID');\n\t}\n\n\tpublic async getMutations(): Promise<MutationLog[]> {\n\t\tconst store = await this.getStore('settings', 'readonly');\n\t\tconst entries = await store.getAll();\n\n\t\treturn entries.filter(entry => entry.key.startsWith('mutation_'));\n\t}\n\n\tpublic async getNextTableID(): Promise<string | null> {\n\t\treturn this.utils.errors.handleAsync(async () => {\n\t\t\tconst settings = await this.getSettings();\n\t\t\tconst lastTableID = settings.lastTableID ?? 0;\n\t\t\tconst nextID = lastTableID + 1;\n\n\t\t\tawait this.saveData('settings', 'appSettings', {\n\t\t\t\t...settings,\n\t\t\t\tlastTableID: nextID\n\t\t\t});\n\n\t\t\treturn `palette_${nextID}`;\n\t\t}, 'IDBManager.getNextTableID(): Error fetching next table ID');\n\t}\n\n\tpublic async getPaletteHistory(): Promise<Palette[]> {\n\t\tconst thisMethod = 'getPaletteHistory()';\n\n\t\ttry {\n\t\t\tconst db = await this.getDB();\n\t\t\tconst tx = db.transaction('settings', 'readwrite');\n\t\t\tconst store = tx.objectStore('settings');\n\n\t\t\tlet entry = await store.get('paletteHistory');\n\n\t\t\tif (!entry) {\n\t\t\t\tentry = { key: 'paletteHistory', palettes: [] };\n\t\t\t\tawait store.put(entry);\n\t\t\t\tawait tx.done;\n\t\t\t}\n\n\t\t\treturn entry.palettes;\n\t\t} catch (error) {\n\t\t\tlogger.error(\n\t\t\t\t`Error retrieving palette history: ${error}`,\n\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t);\n\n\t\t\treturn [];\n\t\t}\n\t}\n\n\tpublic async getSettings(): Promise<Settings> {\n\t\treturn this.utils.errors.handleAsync(async () => {\n\t\t\tconst db = await this.getDB();\n\t\t\tconst settings = await db.get(\n\t\t\t\tthis.storeNames['SETTINGS'],\n\t\t\t\tthis.getDefaultKey('APP_SETTINGS')\n\t\t\t);\n\n\t\t\treturn settings ?? this.defaultSettings;\n\t\t}, 'IDBManager.getSettings(): Error fetching settings');\n\t}\n\n\tpublic async getStore<StoreName extends keyof PaletteSchema>(\n\t\tstoreName: StoreName,\n\t\tmode: 'readonly'\n\t): Promise<\n\t\tIDBPObjectStore<PaletteSchema, [StoreName], StoreName, 'readonly'>\n\t>;\n\n\tpublic async getStore<StoreName extends keyof PaletteSchema>(\n\t\tstoreName: StoreName,\n\t\tmode: 'readwrite'\n\t): Promise<\n\t\tIDBPObjectStore<PaletteSchema, [StoreName], StoreName, 'readwrite'>\n\t>;\n\n\tpublic async getStore<StoreName extends keyof PaletteSchema>(\n\t\tstoreName: StoreName,\n\t\tmode: 'readonly' | 'readwrite'\n\t) {\n\t\tconst db = await this.getDB();\n\n\t\treturn db.transaction(storeName, mode).objectStore(storeName);\n\t}\n\n\tpublic async persistMutation(data: MutationLog): Promise<void> {\n\t\tconst caller = 'persistMutation()';\n\t\tconst db = await this.getDB();\n\n\t\tawait db.put('mutations', data);\n\n\t\tlogger.info(\n\t\t\t`Persisted mutation: ${JSON.stringify(data)}`,\n\t\t\t`${thisModule} > ${caller}`\n\t\t);\n\t}\n\n\tpublic async resetDatabase(): Promise<void | null> {\n\t\tconst thisMethod = 'resetDatabase()';\n\n\t\treturn this.utils.errors.handleAsync(async () => {\n\t\t\tconst db = await this.getDB();\n\t\t\tconst availableStores = Array.from(db.objectStoreNames);\n\t\t\tconst expectedStores = Object.values(this.storeNames);\n\n\t\t\tfor (const storeName of expectedStores) {\n\t\t\t\tif (!availableStores.includes(storeName)) {\n\t\t\t\t\tlogger.warn(\n\t\t\t\t\t\t`Object store \"${storeName}\" not found in IndexedDB.`,\n\t\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t\t);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tconst tx = db.transaction(storeName, 'readwrite');\n\t\t\t\tconst store = tx.objectStore(storeName);\n\n\t\t\t\tawait store.clear();\n\t\t\t\tawait tx.done;\n\n\t\t\t\tconst settingsStore = db\n\t\t\t\t\t.transaction(this.storeNames['SETTINGS'], 'readwrite')\n\t\t\t\t\t.objectStore(this.storeNames['SETTINGS']);\n\t\t\t\tawait settingsStore.put(\n\t\t\t\t\tthis.defaultSettings,\n\t\t\t\t\tthis.getDefaultKey('APP_SETTINGS')\n\t\t\t\t);\n\n\t\t\t\tif (!this.mode.quiet)\n\t\t\t\t\tlogger.info(\n\t\t\t\t\t\t`IndexedDB has been reset to default settings.`,\n\t\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t\t);\n\t\t\t}\n\t\t}, 'IDBManager.resetDatabase(): Error resetting database');\n\t}\n\n\tpublic async deleteDatabase(): Promise<void> {\n\t\tconst thisMethod = 'deleteDatabase()';\n\n\t\tawait this.utils.errors.handleAsync(async () => {\n\t\t\tconst dbName = 'paletteDB';\n\t\t\tconst dbExists = await new Promise<boolean>(resolve => {\n\t\t\t\tconst request = indexedDB.open(dbName);\n\n\t\t\t\trequest.onsuccess = () => {\n\t\t\t\t\trequest.result.close();\n\t\t\t\t\tresolve(true);\n\t\t\t\t};\n\t\t\t\trequest.onerror = () => resolve(false);\n\t\t\t});\n\n\t\t\tif (dbExists) {\n\t\t\t\tconst deleteRequest = indexedDB.deleteDatabase(dbName);\n\n\t\t\t\tdeleteRequest.onsuccess = () => {\n\t\t\t\t\tif (!this.mode.quiet)\n\t\t\t\t\t\tlogger.info(\n\t\t\t\t\t\t\t`Database \"${dbName}\" deleted successfully.`,\n\t\t\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t\t\t);\n\t\t\t\t};\n\t\t\t\tdeleteRequest.onerror = event => {\n\t\t\t\t\tlogger.error(\n\t\t\t\t\t\t`Error deleting database \"${dbName}\":\\nEvent: ${event}`,\n\t\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t\t);\n\t\t\t\t};\n\t\t\t\tdeleteRequest.onblocked = () => {\n\t\t\t\t\tif (this.logMode.warn)\n\t\t\t\t\t\tlogger.warn(\n\t\t\t\t\t\t\t`Delete operation blocked. Ensure no open connections to \"${dbName}\".`,\n\t\t\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t\t\t);\n\n\t\t\t\t\tif (this.mode.showAlerts)\n\t\t\t\t\t\talert(\n\t\t\t\t\t\t\t`Unable to delete database \"${dbName}\" because it is in use. Please close all other tabs or windows accessing this database and try again.`\n\t\t\t\t\t\t);\n\n\t\t\t\t\tif (this.mode.stackTrace)\n\t\t\t\t\t\tconsole.trace(`Blocked call stack:`);\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tif (!this.mode.quiet)\n\t\t\t\t\tlogger.warn(\n\t\t\t\t\t\t`Database \"${dbName}\" does not exist.`,\n\t\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t\t);\n\t\t\t}\n\t\t}, 'IDBManager.deleteDatabase(): Error deleting database');\n\t}\n\n\t// *DEV-NOTE* add this method to docs\n\tpublic async resetPaletteID(): Promise<void | null> {\n\t\tconst thisMethod = 'resetPaletteID()';\n\n\t\treturn this.utils.errors.handleAsync(async () => {\n\t\t\tconst db = await this.getDB();\n\t\t\tconst storeName = this.storeNames['SETTINGS'];\n\t\t\tconst key = this.getDefaultKey('APP_SETTINGS');\n\t\t\tconst settings = await db.get(storeName, key);\n\n\t\t\tif (!settings)\n\t\t\t\tthrow new Error('Settings not found. Cannot reset palette ID.');\n\n\t\t\tsettings.lastPaletteID = 0;\n\n\t\t\tawait db.put(storeName, { key, ...this.defaultSettings });\n\n\t\t\tif (!this.mode.quiet)\n\t\t\t\tlogger.info(\n\t\t\t\t\t`Palette ID has successfully been reset to 0`,\n\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t);\n\t\t}, 'IDBManager.resetPaletteID(): Error resetting palette ID');\n\t}\n\n\tpublic async saveData<T>(\n\t\tstoreName: keyof PaletteSchema,\n\t\tkey: string,\n\t\tdata: T,\n\t\toldValue?: T\n\t): Promise<void | null> {\n\t\tconst thisMethod = 'saveData()';\n\n\t\treturn this.utils.errors.handleAsync(async () => {\n\t\t\tconst db = await this.getDB();\n\n\t\t\tawait this.dbUtils.store.withStore(\n\t\t\t\tdb,\n\t\t\t\tstoreName,\n\t\t\t\t'readwrite',\n\t\t\t\tasync store => {\n\t\t\t\t\tawait store.put({ key, ...data });\n\n\t\t\t\t\tlogger.mutation(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttimestamp: new Date().toISOString(),\n\t\t\t\t\t\t\tkey,\n\t\t\t\t\t\t\taction: 'update',\n\t\t\t\t\t\t\tnewValue: data,\n\t\t\t\t\t\t\toldValue: oldValue || null,\n\t\t\t\t\t\t\torigin: 'saveData'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tmutationLog => {\n\t\t\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t\t\t'Mutation log triggered for saveData:',\n\t\t\t\t\t\t\t\tmutationLog\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t},\n\t\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t);\n\t\t}, 'IDBManager.saveData(): Error saving data');\n\t}\n\n\tpublic async savePaletteToDB(\n\t\ttype: string,\n\t\titems: PaletteItem[],\n\t\tpaletteID: number,\n\t\tnumBoxes: number,\n\t\tlimitDark: boolean,\n\t\tlimitGray: boolean,\n\t\tlimitLight: boolean\n\t): Promise<Palette | null> {\n\t\treturn this.utils.errors.handleAsync(async () => {\n\t\t\tconst newPalette = this.createPaletteObject(\n\t\t\t\ttype,\n\t\t\t\titems,\n\t\t\t\tpaletteID,\n\t\t\t\tnumBoxes,\n\t\t\t\tlimitDark,\n\t\t\t\tlimitGray,\n\t\t\t\tlimitLight\n\t\t\t);\n\n\t\t\tconst idParts = newPalette.id.split('_');\n\n\t\t\tif (idParts.length !== 2 || isNaN(Number(idParts[1]))) {\n\t\t\t\tthrow new Error(`Invalid palette ID format: ${newPalette.id}`);\n\t\t\t}\n\n\t\t\tawait this.savePalette(newPalette.id, {\n\t\t\t\ttableID: parseInt(idParts[1], 10),\n\t\t\t\tpalette: newPalette\n\t\t\t});\n\n\t\t\treturn newPalette;\n\t\t}, 'IDBManager.savePaletteToDB(): Error saving palette to DB');\n\t}\n\n\tpublic async savePalette(\n\t\tid: string,\n\t\tnewPalette: StoredPalette\n\t): Promise<void | null> {\n\t\tconst thisMethod = 'savePalette()';\n\n\t\treturn this.utils.errors.handleAsync(async () => {\n\t\t\tconst store = await this.getStore('tables', 'readwrite');\n\t\t\tconst paletteToSave: StoredPalette = {\n\t\t\t\ttableID: newPalette.tableID,\n\t\t\t\tpalette: newPalette.palette\n\t\t\t};\n\n\t\t\tawait store.put({ key: id, ...paletteToSave });\n\n\t\t\tif (!this.mode.quiet && this.logMode.info)\n\t\t\t\tlogger.info(\n\t\t\t\t\t`Palette ${id} saved successfully.`,\n\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t);\n\t\t}, 'IDBManager.savePalette(): Error saving palette');\n\t}\n\n\tpublic async savePaletteHistory(paletteHistory: Palette[]): Promise<void> {\n\t\tconst db = await this.getDB();\n\t\tconst tx = db.transaction('settings', 'readwrite');\n\t\tconst store = tx.objectStore('settings');\n\n\t\tawait store.put({ key: 'paletteHistory', palettes: paletteHistory });\n\t\tawait tx.done;\n\t}\n\n\tpublic async saveSettings(newSettings: Settings): Promise<void | null> {\n\t\tconst thisMethod = 'saveSettings()';\n\n\t\treturn this.utils.errors.handleAsync(async () => {\n\t\t\tawait this.saveData('settings', 'appSettings', newSettings);\n\n\t\t\tif (!this.mode.quiet && this.logMode.info)\n\t\t\t\tlogger.info(\n\t\t\t\t\t'Settings updated',\n\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t);\n\t\t}, 'IDBManager.saveSettings(): Error saving settings');\n\t}\n\n\tpublic async updateEntryInPalette(\n\t\ttableID: string,\n\t\tentryIndex: number,\n\t\tnewEntry: PaletteItem\n\t): Promise<void | null> {\n\t\tconst thisMethod = 'updateEntryInPalette()';\n\n\t\treturn this.utils.errors.handleAsync(async () => {\n\t\t\tif (!(await this.ensureEntryExists('tables', tableID))) {\n\t\t\t\tthrow new Error(`Palette ${tableID} not found.`);\n\t\t\t}\n\n\t\t\tconst storedPalette = await this.getTable(tableID);\n\n\t\t\tif (!storedPalette)\n\t\t\t\tthrow new Error(`Palette ${tableID} not found.`);\n\n\t\t\tconst { items } = storedPalette.palette;\n\n\t\t\tif (entryIndex >= items.length) {\n\t\t\t\tif (!this.mode.gracefulErrors)\n\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t`Entry ${entryIndex} not found in palette ${tableID}.`\n\t\t\t\t\t);\n\t\t\t\tif (this.logMode.error)\n\t\t\t\t\tlogger.error(\n\t\t\t\t\t\t`Entry ${entryIndex} not found in palette ${tableID}.`,\n\t\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t\t);\n\t\t\t\tif (!this.mode.quiet && this.logMode.info)\n\t\t\t\t\tlogger.warn(\n\t\t\t\t\t\t'updateEntryInPalette: Entry not found.',\n\t\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t\t);\n\t\t\t}\n\n\t\t\tconst oldEntry = items[entryIndex];\n\n\t\t\titems[entryIndex] = newEntry;\n\n\t\t\tawait this.saveData('tables', tableID, storedPalette);\n\n\t\t\tlogger.mutation(\n\t\t\t\t{\n\t\t\t\t\ttimestamp: new Date().toISOString(),\n\t\t\t\t\tkey: `${tableID}-${entryIndex}]`,\n\t\t\t\t\taction: 'update',\n\t\t\t\t\tnewValue: newEntry,\n\t\t\t\t\toldValue: oldEntry,\n\t\t\t\t\torigin: 'updateEntryInPalette'\n\t\t\t\t},\n\t\t\t\tmutationLog =>\n\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t`Mutation log trigger for updateEntryInPalette:`,\n\t\t\t\t\t\tmutationLog\n\t\t\t\t\t),\n\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t);\n\n\t\t\tif (!this.mode.quiet && this.logMode.info)\n\t\t\t\tlogger.info(\n\t\t\t\t\t`Entry ${entryIndex} in palette ${tableID} updated.`\n\t\t\t\t);\n\t\t}, 'IDBManager.updateEntryInPalette(): Error updating entry in palette');\n\t}\n\n\t//\n\t///\n\t///// * * * *  * * * * * * * * * * * * * * * *\n\t////// * * * * * * PRIVATE METHODS * * * * * *\n\t///// * * * *  * * * * * * * * * * * * * * * *\n\t///\n\t//\n\n\tprivate async ensureEntryExists(\n\t\tstoreName: keyof PaletteSchema,\n\t\tkey: string\n\t): Promise<boolean> {\n\t\tconst db = await this.getDB();\n\t\tconst store = db\n\t\t\t.transaction(storeName, 'readonly')\n\t\t\t.objectStore(storeName);\n\n\t\treturn (await store.get(key)) !== undefined;\n\t}\n\n\tprivate getDefaultKey(\n\t\tkey: keyof ConfigDataInterface['db']['STORE_NAMES']\n\t): string {\n\t\tconst defaultKey =\n\t\t\tthis.defaultKeys[\n\t\t\t\tkey as keyof ConfigDataInterface['db']['DEFAULT_KEYS']\n\t\t\t];\n\n\t\tif (!defaultKey) {\n\t\t\tthrow new Error(`[getDefaultKey()]: Invalid default key: ${key}`);\n\t\t}\n\n\t\treturn defaultKey;\n\t}\n\n\tprivate async getTable(id: string): Promise<StoredPalette | null> {\n\t\tconst thisMethod = 'getTable()';\n\n\t\treturn this.utils.errors.handleAsync(async () => {\n\t\t\tconst db = await this.getDB();\n\t\t\tconst result = await db.get(this.storeNames.TABLES, id);\n\n\t\t\tif (!result) {\n\t\t\t\tif (this.logMode.warn)\n\t\t\t\t\tlogger.warn(\n\t\t\t\t\t\t`Table with ID ${id} not found.`,\n\t\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t\t);\n\t\t\t}\n\t\t\treturn result;\n\t\t}, 'IDBManager.getTable(): Error fetching table');\n\t}\n\n\tprivate async updateCurrentPaletteID(newID: number): Promise<void | null> {\n\t\tconst thisMethod = 'updateCurrentPaletteID()';\n\n\t\treturn this.utils.errors.handleAsync(async () => {\n\t\t\tconst db = await this.getDB();\n\t\t\tconst tx = db.transaction('settings', 'readwrite');\n\t\t\tconst store = tx.objectStore('settings');\n\n\t\t\tif (this.mode.debug)\n\t\t\t\tlogger.info(\n\t\t\t\t\t`Updating curent palette ID to ${newID}`,\n\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t);\n\n\t\t\tawait store.put({ key: 'appSettings', lastPaletteID: newID });\n\t\t\tawait tx.done;\n\n\t\t\tif (!this.mode.quiet)\n\t\t\t\tlogger.info(\n\t\t\t\t\t`Current palette ID updated to ${newID}`,\n\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t);\n\t\t}, 'IDBManager.updateCurrentPaletteID(): Error updating current palette ID');\n\t}\n}\n","// File: db/instance.js\n\nimport { IDBManager } from './IDBManager.js';\n\nlet idbInstance: IDBManager | null = null;\n\nexport const getIDBInstance = async (): Promise<IDBManager> => {\n\tif (!idbInstance) {\n\t\tidbInstance = await IDBManager.getInstance();\n\t}\n\treturn idbInstance;\n};\n","// File: dom/parse.js\n\nimport { DOMFn_MasterInterface } from '../types/index.js';\nimport { createLogger } from '../logger/index.js';\nimport { domData } from '../data/dom.js';\nimport { modeData as mode } from '../data/mode.js';\n\nconst ids = domData.ids.static;\nconst logMode = mode.logging;\n\nconst thisModule = 'dom/parse.js';\n\nconst logger = await createLogger();\n\nfunction checkbox(id: string): boolean | void {\n\tconst thisFunction = 'checkbox()';\n\tconst checkbox = document.getElementById(id) as HTMLInputElement;\n\n\tif (!checkbox) {\n\t\tif (logMode.error && !mode.quiet) {\n\t\t\tlogger.error(\n\t\t\t\t`Checkbox element ${id} not found`,\n\t\t\t\t`${thisModule} > ${thisFunction}`\n\t\t\t);\n\t\t}\n\n\t\treturn;\n\t}\n\n\tif (!(checkbox instanceof HTMLInputElement)) {\n\t\tif (logMode.error && !mode.quiet) {\n\t\t\tlogger.error(\n\t\t\t\t`Element ${id} is not a checkbox`,\n\t\t\t\t`${thisModule} > ${thisFunction}`\n\t\t\t);\n\t\t}\n\n\t\treturn;\n\t}\n\n\treturn checkbox ? checkbox.checked : undefined;\n}\n\nfunction paletteExportFormat(): string | void {\n\tconst thisFunction = 'paletteExportFormat()';\n\tconst formatSelectionMenu = document.getElementById(\n\t\tids.selects.exportFormatOption\n\t) as HTMLSelectElement;\n\n\tif (!formatSelectionMenu) {\n\t\tif (logMode.error && !mode.quiet)\n\t\t\tlogger.error(\n\t\t\t\t'Export format selection dropdown not found',\n\t\t\t\t`${thisModule} > ${thisFunction}`\n\t\t\t);\n\t}\n\n\tconst selectedFormat = formatSelectionMenu.value;\n\n\tif (\n\t\tselectedFormat !== 'CSS' &&\n\t\tselectedFormat !== 'JSON' &&\n\t\tselectedFormat !== 'XML'\n\t) {\n\t\tif (logMode.error && !mode.quiet)\n\t\t\tlogger.error(\n\t\t\t\t'Invalid export format selected',\n\t\t\t\t`${thisModule} > ${thisFunction}`\n\t\t\t);\n\n\t\treturn;\n\t} else {\n\t\treturn selectedFormat;\n\t}\n}\n\nexport const parse: DOMFn_MasterInterface['parse'] = {\n\tcheckbox,\n\tpaletteExportFormat\n};\n","// File: dom/fileUtils.js\n\nimport { DOMFn_MasterInterface } from '../types/index.js';\n\nfunction download(data: string, filename: string, type: string): void {\n\tconst blob = new Blob([data], { type });\n\tconst url = URL.createObjectURL(blob);\n\tconst a = document.createElement('a');\n\n\ta.href = url;\n\ta.download = filename;\n\ta.click();\n\n\tURL.revokeObjectURL(url);\n}\n\nfunction readFile(file: File): Promise<string> {\n\treturn new Promise((resolve, reject) => {\n\t\tconst reader = new FileReader();\n\n\t\treader.onload = () => resolve(reader.result as string);\n\t\treader.onerror = () => reject(reader.error);\n\n\t\treader.readAsText(file);\n\t});\n}\n\nexport const fileUtils: DOMFn_MasterInterface['fileUtils'] = {\n\tdownload,\n\treadFile\n};\n","// File: io/parse/color.js\n\nimport {\n\tCMYK,\n\tColor,\n\tColorParser,\n\tHex,\n\tHSL,\n\tHSV,\n\tLAB,\n\tRGB,\n\tXYZ\n} from '../../types/index.js';\nimport { commonFn } from '../../common/index.js';\nimport { configData as config } from '../../data/config.js';\n\nconst brand = commonFn.core.brand;\nconst regex = config.regex;\n\nconst colorParsers: Record<string, ColorParser> = {};\n\nconst cmykParser: ColorParser = {\n\tparse(input: string): CMYK {\n\t\tconst match = input.match(regex.colors.cmyk);\n\n\t\tif (!match) {\n\t\t\tthrow new Error(`Invalid CMYK string format: ${input}`);\n\t\t}\n\n\t\tconst [_, cyan, magenta, yellow, key = '1'] = match;\n\n\t\tconst value: CMYK['value'] = {\n\t\t\tcyan: brand.asPercentile(parseFloat(cyan) / 100),\n\t\t\tmagenta: brand.asPercentile(parseFloat(magenta) / 100),\n\t\t\tyellow: brand.asPercentile(parseFloat(yellow) / 100),\n\t\t\tkey: brand.asPercentile(parseFloat(key) / 100)\n\t\t};\n\n\t\treturn { format: 'cmyk', value };\n\t}\n};\n\nconst hexParser: ColorParser = {\n\tparse(input: string): Hex {\n\t\tconst match = input.match(regex.colors.hex);\n\n\t\tif (!match) {\n\t\t\tthrow new Error(`Invalid Hex string format: ${input}`);\n\t\t}\n\n\t\tconst hex = brand.asHexSet(match[1].substring(0, 6));\n\n\t\treturn {\n\t\t\tformat: 'hex',\n\t\t\tvalue: { hex }\n\t\t};\n\t}\n};\n\nconst hslParser: ColorParser = {\n\tparse(input: string): HSL {\n\t\tconst match = input.match(regex.colors.hsl);\n\n\t\tif (!match) {\n\t\t\tthrow new Error(`Invalid HSL string format: ${input}`);\n\t\t}\n\n\t\tconst [_, hue, saturation, lightness] = match;\n\n\t\tconst value: HSL['value'] = {\n\t\t\thue: brand.asRadial(parseFloat(hue)),\n\t\t\tsaturation: brand.asPercentile(parseFloat(saturation) / 100),\n\t\t\tlightness: brand.asPercentile(parseFloat(lightness) / 100)\n\t\t};\n\n\t\treturn { format: 'hsl', value };\n\t}\n};\n\nconst hsvParser: ColorParser = {\n\tparse(input: string): HSV {\n\t\tconst match = input.match(regex.colors.hsv);\n\n\t\tif (!match) {\n\t\t\tthrow new Error(`Invalid HSV string format: ${input}`);\n\t\t}\n\n\t\tconst [_, hue, saturation, value] = match;\n\n\t\tconst hsvValue: HSV['value'] = {\n\t\t\thue: brand.asRadial(parseFloat(hue)),\n\t\t\tsaturation: brand.asPercentile(parseFloat(saturation) / 100),\n\t\t\tvalue: brand.asPercentile(parseFloat(value) / 100)\n\t\t};\n\n\t\treturn { format: 'hsv', value: hsvValue };\n\t}\n};\n\nconst labParser: ColorParser = {\n\tparse(input: string): LAB {\n\t\tconst match = input.match(regex.colors.lab);\n\n\t\tif (!match) {\n\t\t\tthrow new Error(`Invalid LAB string format: ${input}`);\n\t\t}\n\n\t\tconst [_, l, a, b] = match;\n\n\t\tconst labValue: LAB['value'] = {\n\t\t\tl: brand.asLAB_L(parseFloat(l)),\n\t\t\ta: brand.asLAB_A(parseFloat(a)),\n\t\t\tb: brand.asLAB_B(parseFloat(b))\n\t\t};\n\n\t\treturn { format: 'lab', value: labValue };\n\t}\n};\n\nconst rgbParser: ColorParser = {\n\tparse(input: string): RGB {\n\t\tconst match = input.match(regex.colors.rgb);\n\n\t\tif (!match) {\n\t\t\tthrow new Error(`Invalid RGB string format: ${input}`);\n\t\t}\n\n\t\tconst [_, red, green, blue] = match;\n\n\t\tconst rgbValue: RGB['value'] = {\n\t\t\tred: brand.asByteRange(parseFloat(red)),\n\t\t\tgreen: brand.asByteRange(parseFloat(green)),\n\t\t\tblue: brand.asByteRange(parseFloat(blue))\n\t\t};\n\n\t\treturn { format: 'rgb', value: rgbValue };\n\t}\n};\n\nconst xyzParser: ColorParser = {\n\tparse(input: string): XYZ {\n\t\tconst match = input.match(regex.colors.xyz);\n\n\t\tif (!match) {\n\t\t\tthrow new Error(`Invalid XYZ string format: ${input}`);\n\t\t}\n\n\t\tconst [_, x, y, z] = match;\n\n\t\tconst xyzValue: XYZ['value'] = {\n\t\t\tx: brand.asXYZ_X(parseFloat(x)),\n\t\t\ty: brand.asXYZ_Y(parseFloat(y)),\n\t\t\tz: brand.asXYZ_Z(parseFloat(z))\n\t\t};\n\n\t\treturn { format: 'xyz', value: xyzValue };\n\t}\n};\n\ncolorParsers['cmyk'] = cmykParser;\ncolorParsers['hex'] = hexParser;\ncolorParsers['hsl'] = hslParser;\ncolorParsers['hsv'] = hsvParser;\ncolorParsers['lab'] = labParser;\ncolorParsers['rgb'] = rgbParser;\ncolorParsers['xyz'] = xyzParser;\n\nexport function asColorString(format: string, input: string): Color {\n\tconst parser = colorParsers[format.toLowerCase()];\n\n\tif (!parser) {\n\t\tthrow new Error(`No parser available for format: ${format}`);\n\t}\n\n\treturn parser.parse(input);\n}\n\n// ******** CSS COLOR STRINGS ********\n\nexport function asCSSColorString(format: string, input: string): string {\n\tconst color = asColorString(format, input);\n\n\tswitch (color.format) {\n\t\tcase 'cmyk':\n\t\t\tconst cmyk = color.value as CMYK['value'];\n\t\t\treturn `cmyk(${cmyk.cyan * 100}%, ${cmyk.magenta * 100}%, ${cmyk.yellow * 100}%, ${cmyk.key * 100}`;\n\n\t\tcase 'hex':\n\t\t\tconst hex = color.value as Hex['value'];\n\t\t\treturn `#${hex.hex}}`;\n\n\t\tcase 'hsl':\n\t\t\tconst hsl = color.value as HSL['value'];\n\t\t\treturn `hsl(${hsl.hue}, ${hsl.saturation * 100}%, ${hsl.lightness * 100}%})`;\n\n\t\tcase 'hsv':\n\t\t\tconst hsv = color.value as HSV['value'];\n\t\t\treturn `hsv(${hsv.hue}, ${hsv.saturation * 100}%, ${hsv.value * 100}%})`;\n\n\t\tcase 'lab':\n\t\t\tconst lab = color.value as LAB['value'];\n\t\t\treturn `lab(${lab.l}, ${lab.a}, ${lab.b}})`;\n\n\t\tcase 'rgb':\n\t\t\tconst rgb = color.value as RGB['value'];\n\t\t\treturn `rgb(${rgb.red}, ${rgb.green}, ${rgb.blue})`;\n\n\t\tcase 'xyz':\n\t\t\tconst xyz = color.value as XYZ['value'];\n\t\t\treturn `xyz(${xyz.x}, ${xyz.y}, ${xyz.z})`;\n\n\t\tdefault:\n\t\t\tthrow new Error(`Unsupported color format: ${color.format}`);\n\t}\n}\n","// File: io/parse/colorValue.js\n\nimport { CMYK, Hex, HSL, HSV, LAB, RGB, XYZ } from '../../types/index.js';\nimport { asColorString } from './color.js';\n\nfunction asCMYKValue(colorString: string): CMYK['value'] {\n\tconst parsed = asColorString('cmyk', colorString);\n\n\tif (parsed && parsed.format === 'cmyk') {\n\t\treturn parsed.value as CMYK['value'];\n\t}\n\n\tthrow new Error(`Invalid CMYK color string: ${colorString}`);\n}\n\nfunction asHexValue(colorValue: string): Hex['value'] {\n\tconst parsed = asColorString('hex', colorValue);\n\n\tif (parsed && parsed.format === 'hex') {\n\t\treturn parsed.value as Hex['value'];\n\t}\n\n\tthrow new Error(`Invalid Hex color value: ${colorValue}`);\n}\n\nfunction asHSLValue(colorValue: string): HSL['value'] {\n\tconst parsed = asColorString('hsl', colorValue);\n\n\tif (parsed && parsed.format === 'hsl') {\n\t\treturn parsed.value as HSL['value'];\n\t}\n\n\tthrow new Error(`Invalid HSL color value: ${colorValue}`);\n}\n\nfunction asHSVValue(colorValue: string): HSV['value'] {\n\tconst parsed = asColorString('hsv', colorValue);\n\n\tif (parsed && parsed.format === 'hsv') {\n\t\treturn parsed.value as HSV['value'];\n\t}\n\n\tthrow new Error(`Invalid HSV color value: ${colorValue}`);\n}\n\nfunction asLABValue(colorValue: string): LAB['value'] {\n\tconst parsed = asColorString('lab', colorValue);\n\n\tif (parsed && parsed.format === 'lab') {\n\t\treturn parsed.value as LAB['value'];\n\t}\n\n\tthrow new Error(`Invalid LAB color value: ${colorValue}`);\n}\n\nfunction asRGBValue(colorValue: string): RGB['value'] {\n\tconst parsed = asColorString('rgb', colorValue);\n\n\tif (parsed && parsed.format === 'rgb') {\n\t\treturn parsed.value as RGB['value'];\n\t}\n\n\tthrow new Error(`Invalid RGB color value: ${colorValue}`);\n}\n\nfunction asXYZValue(colorValue: string): XYZ['value'] {\n\tconst parsed = asColorString('xyz', colorValue);\n\n\tif (parsed && parsed.format === 'xyz') {\n\t\treturn parsed.value as XYZ['value'];\n\t}\n\n\tthrow new Error(`Invalid XYZ color value: ${colorValue}`);\n}\n\nexport const asColorValue = {\n\tcmyk: asCMYKValue,\n\thex: asHexValue,\n\thsl: asHSLValue,\n\thsv: asHSVValue,\n\tlab: asLABValue,\n\trgb: asRGBValue,\n\txyz: asXYZValue\n};\n","// File: io/parse/base.js\n\nimport {\n\tCMYK,\n\tHex,\n\tHSL,\n\tHSV,\n\tIOFn_MasterInterface,\n\tLAB,\n\tRGB,\n\tXYZ\n} from '../../types/index.js';\nimport { commonFn } from '../../common/index.js';\nimport { configData } from '../../data/config.js';\nimport { createLogger } from '../../logger/index.js';\nimport { modeData as mode } from '../../data/mode.js';\n\nconst brand = commonFn.core.brand;\nconst logMode = mode.logging;\nconst regex = {\n\tcmyk: configData.regex.colors.cmyk,\n\thex: configData.regex.colors.hex,\n\thsl: configData.regex.colors.hsl,\n\thsv: configData.regex.colors.hsv,\n\tlab: configData.regex.colors.lab,\n\trgb: configData.regex.colors.rgb,\n\txyz: configData.regex.colors.xyz\n};\n\nconst thisModule = 'io/parse/base.js';\n\nconst logger = await createLogger();\n\nfunction parseCMYKColorValue(rawCMYK: string | null): CMYK['value'] {\n\tconst caller = 'parseCMYKColorValue()';\n\n\tif (!rawCMYK) {\n\t\tif (!mode.quiet && logMode.warn && logMode.verbosity >= 2) {\n\t\t\tlogger.warn(\n\t\t\t\t'A CMYK element could not be found while parsing palette file. Injecting default values.',\n\t\t\t\t`${thisModule} > ${caller}`\n\t\t\t);\n\t\t} else {\n\t\t\tlogger.debug(\n\t\t\t\t'Missing CMYK element in palette file.',\n\t\t\t\t`${thisModule} > ${caller}`\n\t\t\t);\n\t\t}\n\n\t\tif (mode.stackTrace) console.trace('Stack Trace:');\n\n\t\treturn {\n\t\t\tcyan: brand.asPercentile(0),\n\t\t\tmagenta: brand.asPercentile(0),\n\t\t\tyellow: brand.asPercentile(0),\n\t\t\tkey: brand.asPercentile(0)\n\t\t};\n\t}\n\n\tconst match = rawCMYK.match(regex.cmyk);\n\n\treturn match\n\t\t? {\n\t\t\t\tcyan: brand.asPercentile(parseFloat(match[1])),\n\t\t\t\tmagenta: brand.asPercentile(parseFloat(match[2])),\n\t\t\t\tyellow: brand.asPercentile(parseFloat(match[3])),\n\t\t\t\tkey: brand.asPercentile(parseFloat(match[4]))\n\t\t\t}\n\t\t: {\n\t\t\t\tcyan: brand.asPercentile(0),\n\t\t\t\tmagenta: brand.asPercentile(0),\n\t\t\t\tyellow: brand.asPercentile(0),\n\t\t\t\tkey: brand.asPercentile(0)\n\t\t\t};\n}\n\nfunction parseHexColorValue(rawHex: string | null): Hex['value'] {\n\tconst caller = 'parseHexColorValue()';\n\n\tif (!rawHex) {\n\t\tif (!mode.quiet && logMode.warn && logMode.verbosity >= 2) {\n\t\t\tlogger.warn(\n\t\t\t\t'A Hex element could not be found while parsing palette file. Injecting default values.',\n\t\t\t\t`${thisModule} > ${caller}`\n\t\t\t);\n\t\t} else {\n\t\t\tlogger.debug(\n\t\t\t\t'Missing Hex element in palette file.',\n\t\t\t\t`${thisModule} > ${caller}`\n\t\t\t);\n\t\t}\n\n\t\tif (mode.stackTrace) console.trace('Stack Trace:');\n\n\t\treturn { hex: brand.asHexSet('#000000') };\n\t}\n\n\tconst match = rawHex.match(regex.hex);\n\n\treturn match\n\t\t? {\n\t\t\t\thex: brand.asHexSet(`#${match[1]}`)\n\t\t\t}\n\t\t: {\n\t\t\t\thex: brand.asHexSet('#000000')\n\t\t\t};\n}\n\nfunction parseHSLColorValue(rawHSL: string | null): HSL['value'] {\n\tconst caller = 'parseHSLColorValue()';\n\n\tif (!rawHSL) {\n\t\tif (!mode.quiet && logMode.warn && logMode.verbosity >= 2) {\n\t\t\tlogger.warn(\n\t\t\t\t'An HSL element could not be found while parsing palette file. Injecting default values.',\n\t\t\t\t`${thisModule} > ${caller}`\n\t\t\t);\n\t\t} else {\n\t\t\tlogger.debug(\n\t\t\t\t'Missing HSL element in palette file.',\n\t\t\t\t`${thisModule} > ${caller}`\n\t\t\t);\n\t\t}\n\n\t\tif (mode.stackTrace) console.trace('Stack Trace:');\n\n\t\treturn {\n\t\t\thue: brand.asRadial(0),\n\t\t\tsaturation: brand.asPercentile(0),\n\t\t\tlightness: brand.asPercentile(0)\n\t\t};\n\t}\n\n\tconst match = rawHSL.match(regex.hsl);\n\n\treturn match\n\t\t? {\n\t\t\t\thue: brand.asRadial(parseFloat(match[1])),\n\t\t\t\tsaturation: brand.asPercentile(parseFloat(match[2])),\n\t\t\t\tlightness: brand.asPercentile(parseFloat(match[3]))\n\t\t\t}\n\t\t: {\n\t\t\t\thue: brand.asRadial(0),\n\t\t\t\tsaturation: brand.asPercentile(0),\n\t\t\t\tlightness: brand.asPercentile(0)\n\t\t\t};\n}\n\nfunction parseHSVColorValue(rawHSV: string | null): HSV['value'] {\n\tconst caller = 'parseHSVColorValue()';\n\n\tif (!rawHSV) {\n\t\tif (!mode.quiet && logMode.warn && logMode.verbosity >= 2) {\n\t\t\tlogger.warn(\n\t\t\t\t'An HSV element could not be found while parsing palette file. Injecting default values.',\n\t\t\t\t`${thisModule} > ${caller}`\n\t\t\t);\n\t\t} else {\n\t\t\tlogger.debug(\n\t\t\t\t'Missing HSV element in palette file.',\n\t\t\t\t`${thisModule} > ${caller}`\n\t\t\t);\n\t\t}\n\n\t\tif (mode.stackTrace) console.trace('Stack Trace:');\n\n\t\treturn {\n\t\t\thue: brand.asRadial(0),\n\t\t\tsaturation: brand.asPercentile(0),\n\t\t\tvalue: brand.asPercentile(0)\n\t\t};\n\t}\n\n\tconst match = rawHSV.match(regex.hsv);\n\n\treturn match\n\t\t? {\n\t\t\t\thue: brand.asRadial(parseFloat(match[1])),\n\t\t\t\tsaturation: brand.asPercentile(parseFloat(match[2])),\n\t\t\t\tvalue: brand.asPercentile(parseFloat(match[3]))\n\t\t\t}\n\t\t: {\n\t\t\t\thue: brand.asRadial(0),\n\t\t\t\tsaturation: brand.asPercentile(0),\n\t\t\t\tvalue: brand.asPercentile(0)\n\t\t\t};\n}\n\nfunction parseLABColorValue(rawLAB: string | null): LAB['value'] {\n\tconst caller = 'parseLABColorValue()';\n\n\tif (!rawLAB) {\n\t\tif (!mode.quiet && logMode.warn && logMode.verbosity >= 2) {\n\t\t\tlogger.warn(\n\t\t\t\t'A LAB element could not be found while parsing palette file. Injecting default values.',\n\t\t\t\t`${thisModule} > ${caller}`\n\t\t\t);\n\t\t} else {\n\t\t\tlogger.debug(\n\t\t\t\t'Missing LAB element in palette file.',\n\t\t\t\t`${thisModule} > ${caller}`\n\t\t\t);\n\t\t}\n\n\t\tif (mode.stackTrace) console.trace('Stack Trace:');\n\n\t\treturn {\n\t\t\tl: brand.asLAB_L(0),\n\t\t\ta: brand.asLAB_A(0),\n\t\t\tb: brand.asLAB_B(0)\n\t\t};\n\t}\n\n\tconst match = rawLAB.match(regex.lab);\n\n\treturn match\n\t\t? {\n\t\t\t\tl: brand.asLAB_L(parseFloat(match[1])),\n\t\t\t\ta: brand.asLAB_A(parseFloat(match[2])),\n\t\t\t\tb: brand.asLAB_B(parseFloat(match[3]))\n\t\t\t}\n\t\t: {\n\t\t\t\tl: brand.asLAB_L(0),\n\t\t\t\ta: brand.asLAB_A(0),\n\t\t\t\tb: brand.asLAB_B(0)\n\t\t\t};\n}\n\nfunction parseRGBColorValue(rawRGB: string | null): RGB['value'] {\n\tconst caller = 'parseRGBColorValue()';\n\n\tif (!rawRGB) {\n\t\tif (!mode.quiet && logMode.warn && logMode.verbosity >= 2) {\n\t\t\tlogger.warn(\n\t\t\t\t'An RGB element could not be found while parsing palette file. Injecting default values.',\n\t\t\t\t`${thisModule} > ${caller}`\n\t\t\t);\n\t\t} else {\n\t\t\tlogger.debug(\n\t\t\t\t'Missing RGB element in palette file.',\n\t\t\t\t`${thisModule} > ${caller}`\n\t\t\t);\n\t\t}\n\n\t\tif (mode.stackTrace) console.trace('Stack Trace:');\n\n\t\treturn {\n\t\t\tred: brand.asByteRange(0),\n\t\t\tgreen: brand.asByteRange(0),\n\t\t\tblue: brand.asByteRange(0)\n\t\t};\n\t}\n\n\tconst match = rawRGB.match(regex.rgb);\n\n\treturn match\n\t\t? {\n\t\t\t\tred: brand.asByteRange(parseFloat(match[1])),\n\t\t\t\tgreen: brand.asByteRange(parseFloat(match[2])),\n\t\t\t\tblue: brand.asByteRange(parseFloat(match[3]))\n\t\t\t}\n\t\t: {\n\t\t\t\tred: brand.asByteRange(0),\n\t\t\t\tgreen: brand.asByteRange(0),\n\t\t\t\tblue: brand.asByteRange(0)\n\t\t\t};\n}\n\nfunction parseXYZColorValue(rawXYZ: string | null): XYZ['value'] {\n\tconst caller = 'parseXYZColorValue()';\n\n\tif (!rawXYZ) {\n\t\tif (!mode.quiet && logMode.warn && logMode.verbosity >= 2) {\n\t\t\tlogger.warn(\n\t\t\t\t'An XYZ element could not be found while parsing palette file. Injecting default values.',\n\t\t\t\t`${thisModule} > ${caller}`\n\t\t\t);\n\t\t} else {\n\t\t\tlogger.debug(\n\t\t\t\t'Missing XYZ element in palette file.',\n\t\t\t\t`${thisModule} > ${caller}`\n\t\t\t);\n\t\t}\n\n\t\tif (mode.stackTrace) console.trace('Stack Trace:');\n\n\t\treturn {\n\t\t\tx: brand.asXYZ_X(0),\n\t\t\ty: brand.asXYZ_Y(0),\n\t\t\tz: brand.asXYZ_Z(0)\n\t\t};\n\t}\n\n\tconst match = rawXYZ.match(regex.xyz);\n\n\treturn match\n\t\t? {\n\t\t\t\tx: brand.asXYZ_X(parseFloat(match[1])),\n\t\t\t\ty: brand.asXYZ_Y(parseFloat(match[2])),\n\t\t\t\tz: brand.asXYZ_Z(parseFloat(match[3]))\n\t\t\t}\n\t\t: {\n\t\t\t\tx: brand.asXYZ_X(0),\n\t\t\t\ty: brand.asXYZ_Y(0),\n\t\t\t\tz: brand.asXYZ_Z(0)\n\t\t\t};\n}\n\nexport const color: IOFn_MasterInterface['parse']['color'] = {\n\tcmyk: parseCMYKColorValue,\n\thex: parseHexColorValue,\n\thsl: parseHSLColorValue,\n\thsv: parseHSVColorValue,\n\tlab: parseLABColorValue,\n\trgb: parseRGBColorValue,\n\txyz: parseXYZColorValue\n};\n","// File: io/parse/json.js\n\nimport { Palette } from '../../types/index.js';\nimport { createLogger } from '../../logger/factory.js';\nimport { modeData } from '../../data/mode.js';\n\nconst logMode = modeData.logging;\nconst mode = modeData;\nconst thisModule = 'io/parse/json.ts';\n\nconst logger = await createLogger();\n\nfunction file(jsonData: string): Promise<Palette | null> {\n\tconst caller = 'file()';\n\n\ttry {\n\t\tconst parsed = JSON.parse(jsonData);\n\n\t\t// Validate that the parsed object matches the expected structure\n\t\tif (!parsed.items || !Array.isArray(parsed.items)) {\n\t\t\tthrow new Error('Invalid JSON structure for Palette');\n\t\t}\n\n\t\treturn Promise.resolve(parsed as Palette);\n\t} catch (error) {\n\t\tif (!mode.quiet && logMode.error && logMode.verbosity > 1) {\n\t\t\tlogger.error(\n\t\t\t\t`Error parsing JSON file: ${error}`,\n\t\t\t\t`${thisModule} > ${caller}`\n\t\t\t);\n\n\t\t\tif (mode.showAlerts)\n\t\t\t\talert(`Error parsing JSON file. See console for details.`);\n\t\t}\n\n\t\treturn Promise.resolve(null);\n\t}\n}\n\nexport const json = {\n\tfile\n};\n","// File: io/parse/index.js\n\nimport { IOFn_MasterInterface } from '../../types/index.js';\nimport { asColorValue } from './colorValue.js';\nimport { asColorString, asCSSColorString } from './color.js';\nimport { color } from './base.js';\nimport { json } from './json.js';\n\nexport const ioParseUtils: IOFn_MasterInterface['parse'] = {\n\tasColorValue,\n\tasColorString,\n\tasCSSColorString,\n\tcolor,\n\tjson\n};\n","// File: io/deserialize.js\n\nimport {\n\tCMYK_StringProps,\n\tHex_StringProps,\n\tHSL_StringProps,\n\tHSV_StringProps,\n\tIOFn_MasterInterface,\n\tLAB_StringProps,\n\tPalette,\n\tPaletteItem,\n\tRGB_StringProps,\n\tXYZ_StringProps\n} from '../types/index.js';\nimport { commonFn } from '../common/index.js';\nimport { configData as config } from '../data/config.js';\nimport { createLogger } from '../logger/factory.js';\nimport { defaultData as defaults } from '../data/defaults.js';\nimport { ioParseUtils } from './parse/index.js';\nimport { modeData as mode } from '../data/mode.js';\n\nconst defaultColors = {\n\tcmyk: defaults.colors.base.branded.cmyk,\n\thex: defaults.colors.base.branded.hex,\n\thsl: defaults.colors.base.branded.hsl,\n\thsv: defaults.colors.base.branded.hsv,\n\tlab: defaults.colors.base.branded.lab,\n\trgb: defaults.colors.base.branded.rgb,\n\txyz: defaults.colors.base.branded.xyz\n};\nconst logMode = mode.logging;\nconst regex = config.regex;\nconst thisModule = 'io/deserialize.js';\n\nconst logger = await createLogger();\n\nconst getFormattedTimestamp = commonFn.core.getFormattedTimestamp;\nconst convertToColorString = commonFn.utils.color.colorToColorString;\nconst convertToCSSColorString = commonFn.core.convert.colorToCSSColorString;\n\nasync function fromCSS(data: string): Promise<Palette> {\n\tconst caller = 'fromCSS()';\n\n\ttry {\n\t\t// 1. parse metadata\n\t\tconst metadataMatch = data.match(regex.file.palette.css.metadata);\n\t\tconst metadataRaw = metadataMatch ? metadataMatch[1] : '{}';\n\t\tconst metadataJSON = JSON.parse(metadataRaw);\n\n\t\t// 2. extract individual metadata properties\n\t\tconst id = metadataJSON.id || 'ERROR_(PALETTE_ID)';\n\t\tconst name = metadataJSON.name || undefined;\n\t\tconst swatches = metadataJSON.swatches || 1;\n\t\tconst type = metadataJSON.type || '???';\n\t\tconst timestamp = metadataJSON.timestamp || getFormattedTimestamp();\n\n\t\t// 3. parse flags\n\t\tconst flags = {\n\t\t\tenableAlpha: metadataJSON.flags?.enableAlpha || false,\n\t\t\tlimitDarkness: metadataJSON.flags?.limitDarkness || false,\n\t\t\tlimitGrayness: metadataJSON.flags?.limitGrayness || false,\n\t\t\tlimitLightness: metadataJSON.flags?.limitLightness || false\n\t\t};\n\n\t\t// 4. parse custom color if provided\n\t\tconst { customColor: rawCustomColor } = metadataJSON;\n\t\tconst customColor =\n\t\t\trawCustomColor && rawCustomColor.hslColor\n\t\t\t\t? {\n\t\t\t\t\t\tcolors: {\n\t\t\t\t\t\t\tmain: {\n\t\t\t\t\t\t\t\tcmyk:\n\t\t\t\t\t\t\t\t\trawCustomColor.convertedColors?.cmyk ??\n\t\t\t\t\t\t\t\t\tdefaultColors.cmyk.value,\n\t\t\t\t\t\t\t\thex:\n\t\t\t\t\t\t\t\t\trawCustomColor.convertedColors?.hex ??\n\t\t\t\t\t\t\t\t\tdefaultColors.hex.value,\n\t\t\t\t\t\t\t\thsl:\n\t\t\t\t\t\t\t\t\trawCustomColor.convertedColors?.hsl ??\n\t\t\t\t\t\t\t\t\tdefaultColors.hsl.value,\n\t\t\t\t\t\t\t\thsv:\n\t\t\t\t\t\t\t\t\trawCustomColor.convertedColors?.hsv ??\n\t\t\t\t\t\t\t\t\tdefaultColors.hsv.value,\n\t\t\t\t\t\t\t\tlab:\n\t\t\t\t\t\t\t\t\trawCustomColor.convertedColors?.lab ??\n\t\t\t\t\t\t\t\t\tdefaultColors.lab.value,\n\t\t\t\t\t\t\t\trgb:\n\t\t\t\t\t\t\t\t\trawCustomColor.convertedColors?.rgb ??\n\t\t\t\t\t\t\t\t\tdefaultColors.rgb.value,\n\t\t\t\t\t\t\t\txyz:\n\t\t\t\t\t\t\t\t\trawCustomColor.convertedColors?.xyz ??\n\t\t\t\t\t\t\t\t\tdefaultColors.xyz.value\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tstringProps: {\n\t\t\t\t\t\t\t\tcmyk: convertToColorString({\n\t\t\t\t\t\t\t\t\tvalue:\n\t\t\t\t\t\t\t\t\t\trawCustomColor.convertedColors?.cmyk ??\n\t\t\t\t\t\t\t\t\t\tdefaultColors.cmyk,\n\t\t\t\t\t\t\t\t\tformat: 'cmyk'\n\t\t\t\t\t\t\t\t}).value as CMYK_StringProps['value'],\n\t\t\t\t\t\t\t\thex: convertToColorString({\n\t\t\t\t\t\t\t\t\tvalue:\n\t\t\t\t\t\t\t\t\t\trawCustomColor.convertedColors?.hex ??\n\t\t\t\t\t\t\t\t\t\tdefaultColors.hex,\n\t\t\t\t\t\t\t\t\tformat: 'hex'\n\t\t\t\t\t\t\t\t}).value as Hex_StringProps['value'],\n\t\t\t\t\t\t\t\thsl: convertToColorString({\n\t\t\t\t\t\t\t\t\tvalue:\n\t\t\t\t\t\t\t\t\t\trawCustomColor.convertedColors?.hsl ??\n\t\t\t\t\t\t\t\t\t\tdefaultColors.hsl,\n\t\t\t\t\t\t\t\t\tformat: 'hsl'\n\t\t\t\t\t\t\t\t}).value as HSL_StringProps['value'],\n\t\t\t\t\t\t\t\thsv: convertToColorString({\n\t\t\t\t\t\t\t\t\tvalue:\n\t\t\t\t\t\t\t\t\t\trawCustomColor.convertedColors?.hsv ??\n\t\t\t\t\t\t\t\t\t\tdefaultColors.hsv,\n\t\t\t\t\t\t\t\t\tformat: 'hsv'\n\t\t\t\t\t\t\t\t}).value as HSV_StringProps['value'],\n\t\t\t\t\t\t\t\tlab: convertToColorString({\n\t\t\t\t\t\t\t\t\tvalue:\n\t\t\t\t\t\t\t\t\t\trawCustomColor.convertedColors?.lab ??\n\t\t\t\t\t\t\t\t\t\tdefaultColors.lab,\n\t\t\t\t\t\t\t\t\tformat: 'lab'\n\t\t\t\t\t\t\t\t}).value as LAB_StringProps['value'],\n\t\t\t\t\t\t\t\trgb: convertToColorString({\n\t\t\t\t\t\t\t\t\tvalue:\n\t\t\t\t\t\t\t\t\t\trawCustomColor.convertedColors?.rgb ??\n\t\t\t\t\t\t\t\t\t\tdefaultColors.rgb,\n\t\t\t\t\t\t\t\t\tformat: 'rgb'\n\t\t\t\t\t\t\t\t}).value as RGB_StringProps['value'],\n\t\t\t\t\t\t\t\txyz: convertToColorString({\n\t\t\t\t\t\t\t\t\tvalue:\n\t\t\t\t\t\t\t\t\t\trawCustomColor.convertedColors?.xyz ??\n\t\t\t\t\t\t\t\t\t\tdefaultColors.xyz,\n\t\t\t\t\t\t\t\t\tformat: 'xyz'\n\t\t\t\t\t\t\t\t}).value as XYZ_StringProps['value']\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcss: {\n\t\t\t\t\t\t\t\tcmyk: await convertToCSSColorString({\n\t\t\t\t\t\t\t\t\tvalue:\n\t\t\t\t\t\t\t\t\t\trawCustomColor.convertedColors?.cmyk ??\n\t\t\t\t\t\t\t\t\t\tdefaultColors.cmyk,\n\t\t\t\t\t\t\t\t\tformat: 'cmyk'\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\thex: await convertToCSSColorString({\n\t\t\t\t\t\t\t\t\tvalue:\n\t\t\t\t\t\t\t\t\t\trawCustomColor.convertedColors?.hex ??\n\t\t\t\t\t\t\t\t\t\tdefaultColors.hex,\n\t\t\t\t\t\t\t\t\tformat: 'hex'\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\thsl: await convertToCSSColorString({\n\t\t\t\t\t\t\t\t\tvalue:\n\t\t\t\t\t\t\t\t\t\trawCustomColor.convertedColors?.hsl ??\n\t\t\t\t\t\t\t\t\t\tdefaultColors.hsl,\n\t\t\t\t\t\t\t\t\tformat: 'hsl'\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\thsv: await convertToCSSColorString({\n\t\t\t\t\t\t\t\t\tvalue:\n\t\t\t\t\t\t\t\t\t\trawCustomColor.convertedColors?.hsv ??\n\t\t\t\t\t\t\t\t\t\tdefaultColors.hsv,\n\t\t\t\t\t\t\t\t\tformat: 'hsv'\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\tlab: await convertToCSSColorString({\n\t\t\t\t\t\t\t\t\tvalue:\n\t\t\t\t\t\t\t\t\t\trawCustomColor.convertedColors?.lab ??\n\t\t\t\t\t\t\t\t\t\tdefaultColors.lab,\n\t\t\t\t\t\t\t\t\tformat: 'lab'\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\trgb: await convertToCSSColorString({\n\t\t\t\t\t\t\t\t\tvalue:\n\t\t\t\t\t\t\t\t\t\trawCustomColor.convertedColors?.rgb ??\n\t\t\t\t\t\t\t\t\t\tdefaultColors.rgb,\n\t\t\t\t\t\t\t\t\tformat: 'rgb'\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\txyz: await convertToCSSColorString({\n\t\t\t\t\t\t\t\t\tvalue:\n\t\t\t\t\t\t\t\t\t\trawCustomColor.convertedColors?.xyz ??\n\t\t\t\t\t\t\t\t\t\tdefaultColors.xyz,\n\t\t\t\t\t\t\t\t\tformat: 'xyz'\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t: false;\n\t\tif (!customColor) {\n\t\t\tif (!mode.quiet && logMode.info && logMode.verbosity > 1) {\n\t\t\t\tlogger.info(\n\t\t\t\t\t`No custom color data found in CSS file. Assigning boolean value 'false' for Palette property Palette['metadata']['customColor'].`,\n\t\t\t\t\t`${thisModule} > ${caller}`\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\t// 5. parse palette items\n\t\tconst items: PaletteItem[] = [];\n\t\tconst itemBlocks = Array.from(\n\t\t\tdata.matchAll(regex.file.palette.css.color)\n\t\t);\n\n\t\tfor (const match of itemBlocks) {\n\t\t\tconst properties = match[2].split(';').reduce(\n\t\t\t\t(acc, line) => {\n\t\t\t\t\tconst [key, value] = line.split(':').map(s => s.trim());\n\n\t\t\t\t\tif (key && value) {\n\t\t\t\t\t\tacc[key.replace('--', '')] = value.replace(/[\";]/g, '');\n\t\t\t\t\t}\n\n\t\t\t\t\treturn acc;\n\t\t\t\t},\n\t\t\t\t{} as Record<string, string>\n\t\t\t);\n\n\t\t\t// 2.1. create each PaletteItem with required properties\n\t\t\titems.push({\n\t\t\t\tcolors: {\n\t\t\t\t\tmain: {\n\t\t\t\t\t\tcmyk:\n\t\t\t\t\t\t\tioParseUtils.asColorValue.cmyk(properties.cmyk) ??\n\t\t\t\t\t\t\tdefaultColors.cmyk.value,\n\t\t\t\t\t\thex:\n\t\t\t\t\t\t\tioParseUtils.asColorValue.hex(properties.hex) ??\n\t\t\t\t\t\t\tdefaultColors.hex.value,\n\t\t\t\t\t\thsl:\n\t\t\t\t\t\t\tioParseUtils.asColorValue.hsl(properties.hsl) ??\n\t\t\t\t\t\t\tdefaultColors.hsl.value,\n\t\t\t\t\t\thsv:\n\t\t\t\t\t\t\tioParseUtils.asColorValue.hsv(properties.hsv) ??\n\t\t\t\t\t\t\tdefaultColors.hsv.value,\n\t\t\t\t\t\tlab:\n\t\t\t\t\t\t\tioParseUtils.asColorValue.lab(properties.lab) ??\n\t\t\t\t\t\t\tdefaultColors.lab.value,\n\t\t\t\t\t\trgb:\n\t\t\t\t\t\t\tioParseUtils.asColorValue.rgb(properties.rgb) ??\n\t\t\t\t\t\t\tdefaultColors.rgb.value,\n\t\t\t\t\t\txyz:\n\t\t\t\t\t\t\tioParseUtils.asColorValue.xyz(properties.xyz) ??\n\t\t\t\t\t\t\tdefaultColors.xyz.value\n\t\t\t\t\t},\n\t\t\t\t\tstringProps: {\n\t\t\t\t\t\tcmyk: convertToColorString({\n\t\t\t\t\t\t\tvalue:\n\t\t\t\t\t\t\t\tioParseUtils.asColorValue.cmyk(\n\t\t\t\t\t\t\t\t\tproperties.cmyk\n\t\t\t\t\t\t\t\t) ?? defaultColors.cmyk,\n\t\t\t\t\t\t\tformat: 'cmyk'\n\t\t\t\t\t\t}).value as CMYK_StringProps['value'],\n\t\t\t\t\t\thex: convertToColorString({\n\t\t\t\t\t\t\tvalue:\n\t\t\t\t\t\t\t\tioParseUtils.asColorValue.hex(properties.hex) ??\n\t\t\t\t\t\t\t\tdefaultColors.hex,\n\t\t\t\t\t\t\tformat: 'hex'\n\t\t\t\t\t\t}).value as Hex_StringProps['value'],\n\t\t\t\t\t\thsl: convertToColorString({\n\t\t\t\t\t\t\tvalue:\n\t\t\t\t\t\t\t\tioParseUtils.asColorValue.hsl(properties.hsl) ??\n\t\t\t\t\t\t\t\tdefaultColors.hsl,\n\t\t\t\t\t\t\tformat: 'hsl'\n\t\t\t\t\t\t}).value as HSL_StringProps['value'],\n\t\t\t\t\t\thsv: convertToColorString({\n\t\t\t\t\t\t\tvalue:\n\t\t\t\t\t\t\t\tioParseUtils.asColorValue.hsv(properties.hsv) ??\n\t\t\t\t\t\t\t\tdefaultColors.hsv,\n\t\t\t\t\t\t\tformat: 'hsv'\n\t\t\t\t\t\t}).value as HSV_StringProps['value'],\n\t\t\t\t\t\tlab: convertToColorString({\n\t\t\t\t\t\t\tvalue:\n\t\t\t\t\t\t\t\tioParseUtils.asColorValue.lab(properties.lab) ??\n\t\t\t\t\t\t\t\tdefaultColors.lab,\n\t\t\t\t\t\t\tformat: 'lab'\n\t\t\t\t\t\t}).value as LAB_StringProps['value'],\n\t\t\t\t\t\trgb: convertToColorString({\n\t\t\t\t\t\t\tvalue:\n\t\t\t\t\t\t\t\tioParseUtils.asColorValue.rgb(properties.rgb) ??\n\t\t\t\t\t\t\t\tdefaultColors.rgb,\n\t\t\t\t\t\t\tformat: 'rgb'\n\t\t\t\t\t\t}).value as RGB_StringProps['value'],\n\t\t\t\t\t\txyz: convertToColorString({\n\t\t\t\t\t\t\tvalue:\n\t\t\t\t\t\t\t\tioParseUtils.asColorValue.xyz(properties.xyz) ??\n\t\t\t\t\t\t\t\tdefaultColors.xyz,\n\t\t\t\t\t\t\tformat: 'xyz'\n\t\t\t\t\t\t}).value as XYZ_StringProps['value']\n\t\t\t\t\t},\n\t\t\t\t\tcss: {\n\t\t\t\t\t\tcmyk: await convertToCSSColorString({\n\t\t\t\t\t\t\tvalue:\n\t\t\t\t\t\t\t\tioParseUtils.asColorValue.cmyk(\n\t\t\t\t\t\t\t\t\tproperties.cmyk\n\t\t\t\t\t\t\t\t) ?? defaultColors.cmyk,\n\t\t\t\t\t\t\tformat: 'cmyk'\n\t\t\t\t\t\t}),\n\t\t\t\t\t\thex: await convertToCSSColorString({\n\t\t\t\t\t\t\tvalue:\n\t\t\t\t\t\t\t\tioParseUtils.asColorValue.hex(properties.hex) ??\n\t\t\t\t\t\t\t\tdefaultColors.hex,\n\t\t\t\t\t\t\tformat: 'hex'\n\t\t\t\t\t\t}),\n\t\t\t\t\t\thsl: await convertToCSSColorString({\n\t\t\t\t\t\t\tvalue:\n\t\t\t\t\t\t\t\tioParseUtils.asColorValue.hsl(properties.hsl) ??\n\t\t\t\t\t\t\t\tdefaultColors.hsl,\n\t\t\t\t\t\t\tformat: 'hsl'\n\t\t\t\t\t\t}),\n\t\t\t\t\t\thsv: await convertToCSSColorString({\n\t\t\t\t\t\t\tvalue:\n\t\t\t\t\t\t\t\tioParseUtils.asColorValue.hsv(properties.hsv) ??\n\t\t\t\t\t\t\t\tdefaultColors.hsv,\n\t\t\t\t\t\t\tformat: 'hsv'\n\t\t\t\t\t\t}),\n\t\t\t\t\t\tlab: await convertToCSSColorString({\n\t\t\t\t\t\t\tvalue:\n\t\t\t\t\t\t\t\tioParseUtils.asColorValue.lab(properties.lab) ??\n\t\t\t\t\t\t\t\tdefaultColors.lab,\n\t\t\t\t\t\t\tformat: 'lab'\n\t\t\t\t\t\t}),\n\t\t\t\t\t\trgb: await convertToCSSColorString({\n\t\t\t\t\t\t\tvalue:\n\t\t\t\t\t\t\t\tioParseUtils.asColorValue.rgb(properties.rgb) ??\n\t\t\t\t\t\t\t\tdefaultColors.rgb,\n\t\t\t\t\t\t\tformat: 'rgb'\n\t\t\t\t\t\t}),\n\t\t\t\t\t\txyz: await convertToCSSColorString({\n\t\t\t\t\t\t\tvalue:\n\t\t\t\t\t\t\t\tioParseUtils.asColorValue.xyz(properties.xyz) ??\n\t\t\t\t\t\t\t\tdefaultColors.xyz,\n\t\t\t\t\t\t\tformat: 'xyz'\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\t// 4. construct and return the palette object\n\t\treturn {\n\t\t\tid,\n\t\t\titems,\n\t\t\tmetadata: {\n\t\t\t\tcustomColor,\n\t\t\t\tflags,\n\t\t\t\tname,\n\t\t\t\tswatches,\n\t\t\t\ttype,\n\t\t\t\ttimestamp\n\t\t\t}\n\t\t};\n\t} catch (error) {\n\t\tif (logMode.error && logMode.verbosity > 1)\n\t\t\tlogger.error(\n\t\t\t\t`Error occurred during CSS deserialization: ${error}`,\n\t\t\t\t`${thisModule} > ${caller}`\n\t\t\t);\n\n\t\tthrow new Error('Failed to deserialize CSS Palette.');\n\t}\n}\n\nasync function fromJSON(data: string): Promise<Palette> {\n\tconst caller = 'fromJSON()';\n\n\ttry {\n\t\tconst parsedData = JSON.parse(data);\n\n\t\tif (!parsedData.items || !Array.isArray(parsedData.items)) {\n\t\t\tthrow new Error(\n\t\t\t\t'Invalid JSON format: Missing or invalid `items` property.'\n\t\t\t);\n\t\t}\n\n\t\treturn parsedData as Palette;\n\t} catch (error) {\n\t\tif (error instanceof Error) {\n\t\t\tif (logMode.error)\n\t\t\t\tlogger.error(\n\t\t\t\t\t`Failed to deserialize JSON: ${error.message}`,\n\t\t\t\t\t`${thisModule} > ${caller}`\n\t\t\t\t);\n\n\t\t\tthrow new Error('Failed to deserialize palette from JSPM file');\n\t\t} else {\n\t\t\tif (logMode.error)\n\t\t\t\tlogger.error(\n\t\t\t\t\t`Failed to deserialize JSON: ${error}`,\n\t\t\t\t\t`${thisModule} > ${caller}`\n\t\t\t\t);\n\n\t\t\tthrow new Error('Failed to deserialize palette from JSPM file');\n\t\t}\n\t}\n}\n\nasync function fromXML(data: string): Promise<Palette> {\n\tconst parser = new DOMParser();\n\tconst xmlDoc = parser.parseFromString(data, 'application/xml');\n\tconst parseError = xmlDoc.querySelector('parsererror');\n\n\tif (parseError) {\n\t\tthrow new Error(`Invalid XML format: ${parseError.textContent}`);\n\t}\n\n\tconst paletteElement = xmlDoc.querySelector('Palette');\n\n\tif (!paletteElement) {\n\t\tthrow new Error('Missing <Palette> root element.');\n\t}\n\n\t// 1. parse metadata\n\tconst id = paletteElement.getAttribute('id') || 'ERROR_(PALETTE_ID)';\n\tconst metadataElement = paletteElement.querySelector('Metadata');\n\n\tif (!metadataElement) {\n\t\tthrow new Error('Missing <Metadata> element in XML.');\n\t}\n\n\tconst name =\n\t\tmetadataElement.querySelector('Name')?.textContent || 'Unnamed Palette';\n\tconst timestamp =\n\t\tmetadataElement.querySelector('Timestamp')?.textContent ||\n\t\tnew Date().toISOString();\n\tconst swatches = parseInt(\n\t\tmetadataElement.querySelector('Swatches')?.textContent || '0',\n\t\t10\n\t);\n\tconst type = metadataElement.querySelector('Type')?.textContent || '???';\n\n\tconst flagsElement = metadataElement.querySelector('Flags');\n\tconst flags = {\n\t\tenableAlpha:\n\t\t\tflagsElement?.querySelector('EnableAlpha')?.textContent === 'true',\n\t\tlimitDarkness:\n\t\t\tflagsElement?.querySelector('LimitDarkness')?.textContent ===\n\t\t\t'true',\n\t\tlimitGrayness:\n\t\t\tflagsElement?.querySelector('LimitGrayness')?.textContent ===\n\t\t\t'true',\n\t\tlimitLightness:\n\t\t\tflagsElement?.querySelector('LimitLightness')?.textContent ===\n\t\t\t'true'\n\t};\n\n\tconst customColorElement = metadataElement.querySelector('CustomColor');\n\n\tlet customColor: Palette['metadata']['customColor'] = false;\n\n\tif (customColorElement && customColorElement.textContent !== 'false') {\n\t\tconst customCMYKValue = ioParseUtils.color.cmyk(\n\t\t\tcustomColorElement.querySelector('CMYK')?.textContent || null\n\t\t);\n\t\tconst customHexValue = ioParseUtils.color.hex(\n\t\t\tcustomColorElement.querySelector('Hex')?.textContent || null\n\t\t);\n\t\tconst customHSLValue = ioParseUtils.color.hsl(\n\t\t\tcustomColorElement.querySelector('HSL')?.textContent || null\n\t\t);\n\t\tconst customHSVValue = ioParseUtils.color.hsv(\n\t\t\tcustomColorElement.querySelector('HSV')?.textContent || null\n\t\t);\n\t\tconst customLABValue = ioParseUtils.color.lab(\n\t\t\tcustomColorElement.querySelector('LAB')?.textContent || null\n\t\t);\n\t\tconst customRGBValue = ioParseUtils.color.rgb(\n\t\t\tcustomColorElement.querySelector('RGB')?.textContent || null\n\t\t);\n\t\tconst customXYZValue = ioParseUtils.color.xyz(\n\t\t\tcustomColorElement.querySelector('XYZ')?.textContent || null\n\t\t);\n\n\t\tconst customCMYKStringValue = convertToColorString({\n\t\t\tvalue: customCMYKValue,\n\t\t\tformat: 'cmyk'\n\t\t}).value as CMYK_StringProps['value'];\n\t\tconst customHexStringValue = convertToColorString({\n\t\t\tvalue: customHexValue,\n\t\t\tformat: 'hex'\n\t\t}).value as Hex_StringProps['value'];\n\t\tconst customHSLStringValue = convertToColorString({\n\t\t\tvalue: customHSLValue,\n\t\t\tformat: 'hsl'\n\t\t}).value as HSL_StringProps['value'];\n\t\tconst customHSVStringValue = convertToColorString({\n\t\t\tvalue: customHSVValue,\n\t\t\tformat: 'hsv'\n\t\t}).value as HSV_StringProps['value'];\n\t\tconst customLABStringValue = convertToColorString({\n\t\t\tvalue: customLABValue,\n\t\t\tformat: 'lab'\n\t\t}).value as LAB_StringProps['value'];\n\t\tconst customRGBStringValue = convertToColorString({\n\t\t\tvalue: customRGBValue,\n\t\t\tformat: 'rgb'\n\t\t}).value as RGB_StringProps['value'];\n\t\tconst customXYZStringValue = convertToColorString({\n\t\t\tvalue: customXYZValue,\n\t\t\tformat: 'xyz'\n\t\t}).value as XYZ_StringProps['value'];\n\n\t\tconst customCMYKCSSStringValue = await convertToCSSColorString({\n\t\t\tvalue: customCMYKValue,\n\t\t\tformat: 'cmyk'\n\t\t});\n\t\tconst customHexCSSStringValue = await convertToCSSColorString({\n\t\t\tvalue: customHexValue,\n\t\t\tformat: 'hex'\n\t\t});\n\t\tconst customHSLCSSStringValue = await convertToCSSColorString({\n\t\t\tvalue: customHSLValue,\n\t\t\tformat: 'hsl'\n\t\t});\n\t\tconst customHSVCSSStringValue = await convertToCSSColorString({\n\t\t\tvalue: customHSVValue,\n\t\t\tformat: 'hsv'\n\t\t});\n\t\tconst customLABCSSStringValue = await convertToCSSColorString({\n\t\t\tvalue: customLABValue,\n\t\t\tformat: 'lab'\n\t\t});\n\t\tconst customRGBCSSStringValue = await convertToCSSColorString({\n\t\t\tvalue: customRGBValue,\n\t\t\tformat: 'rgb'\n\t\t});\n\t\tconst customXYZCSSStringValue = await convertToCSSColorString({\n\t\t\tvalue: customXYZValue,\n\t\t\tformat: 'xyz'\n\t\t});\n\n\t\tcustomColor = {\n\t\t\tcolors: {\n\t\t\t\tmain: {\n\t\t\t\t\tcmyk: customCMYKValue,\n\t\t\t\t\thex: customHexValue,\n\t\t\t\t\thsl: customHSLValue,\n\t\t\t\t\thsv: customHSVValue,\n\t\t\t\t\tlab: customLABValue,\n\t\t\t\t\trgb: customRGBValue,\n\t\t\t\t\txyz: customXYZValue\n\t\t\t\t},\n\t\t\t\tstringProps: {\n\t\t\t\t\tcmyk: customCMYKStringValue,\n\t\t\t\t\thex: customHexStringValue,\n\t\t\t\t\thsl: customHSLStringValue,\n\t\t\t\t\thsv: customHSVStringValue,\n\t\t\t\t\tlab: customLABStringValue,\n\t\t\t\t\trgb: customRGBStringValue,\n\t\t\t\t\txyz: customXYZStringValue\n\t\t\t\t},\n\t\t\t\tcss: {\n\t\t\t\t\tcmyk: customCMYKCSSStringValue,\n\t\t\t\t\thex: customHexCSSStringValue,\n\t\t\t\t\thsl: customHSLCSSStringValue,\n\t\t\t\t\thsv: customHSVCSSStringValue,\n\t\t\t\t\tlab: customLABCSSStringValue,\n\t\t\t\t\trgb: customRGBCSSStringValue,\n\t\t\t\t\txyz: customXYZCSSStringValue\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n\n\t// 2. parse palette items\n\tconst items: PaletteItem[] = Array.from(\n\t\tpaletteElement.querySelectorAll('PaletteItem')\n\t).map(itemElement => {\n\t\tconst id = parseInt(itemElement.getAttribute('id') || '0', 10);\n\n\t\t// 2.1 parse main colors\n\t\tconst mainColors: PaletteItem['colors']['main'] = {\n\t\t\tcmyk: ioParseUtils.color.cmyk(\n\t\t\t\titemElement.querySelector('Colors > Main > CMYK')\n\t\t\t\t\t?.textContent || null\n\t\t\t),\n\t\t\thex: ioParseUtils.color.hex(\n\t\t\t\titemElement.querySelector('Colors > Main > Hex')?.textContent ||\n\t\t\t\t\tnull\n\t\t\t),\n\t\t\thsl: ioParseUtils.color.hsl(\n\t\t\t\titemElement.querySelector('Colors > Main > HSL')?.textContent ||\n\t\t\t\t\tnull\n\t\t\t),\n\t\t\thsv: ioParseUtils.color.hsv(\n\t\t\t\titemElement.querySelector('Colors > Main > HSV')?.textContent ||\n\t\t\t\t\tnull\n\t\t\t),\n\t\t\tlab: ioParseUtils.color.lab(\n\t\t\t\titemElement.querySelector('Colors > Main > LAB')?.textContent ||\n\t\t\t\t\tnull\n\t\t\t),\n\t\t\trgb: ioParseUtils.color.rgb(\n\t\t\t\titemElement.querySelector('Colors > Main > RGB')?.textContent ||\n\t\t\t\t\tnull\n\t\t\t),\n\t\t\txyz: ioParseUtils.color.xyz(\n\t\t\t\titemElement.querySelector('Colors > Main > XYZ')?.textContent ||\n\t\t\t\t\tnull\n\t\t\t)\n\t\t};\n\n\t\t// 2.2 derive color strings from colors\n\t\tconst stringPropColors: PaletteItem['colors']['stringProps'] = {\n\t\t\tcmyk: convertToColorString({\n\t\t\t\tvalue: mainColors.cmyk,\n\t\t\t\tformat: 'cmyk'\n\t\t\t}).value as CMYK_StringProps['value'],\n\t\t\thex: convertToColorString({\n\t\t\t\tvalue: mainColors.hex,\n\t\t\t\tformat: 'hex'\n\t\t\t}).value as Hex_StringProps['value'],\n\t\t\thsl: convertToColorString({\n\t\t\t\tvalue: mainColors.hsl,\n\t\t\t\tformat: 'hsl'\n\t\t\t}).value as HSL_StringProps['value'],\n\t\t\thsv: convertToColorString({\n\t\t\t\tvalue: mainColors.hsv,\n\t\t\t\tformat: 'hsv'\n\t\t\t}).value as HSV_StringProps['value'],\n\t\t\tlab: convertToColorString({\n\t\t\t\tvalue: mainColors.lab,\n\t\t\t\tformat: 'lab'\n\t\t\t}).value as LAB_StringProps['value'],\n\t\t\trgb: convertToColorString({\n\t\t\t\tvalue: mainColors.rgb,\n\t\t\t\tformat: 'rgb'\n\t\t\t}).value as RGB_StringProps['value'],\n\t\t\txyz: convertToColorString({\n\t\t\t\tvalue: mainColors.xyz,\n\t\t\t\tformat: 'xyz'\n\t\t\t}).value as XYZ_StringProps['value']\n\t\t};\n\n\t\t// 2.3 derive CSS strings from colors\n\t\tconst cssColors: PaletteItem['colors']['css'] = {\n\t\t\tcmyk:\n\t\t\t\titemElement.querySelector('Colors > CSS > CMYK')?.textContent ||\n\t\t\t\t'',\n\t\t\thex:\n\t\t\t\titemElement.querySelector('Colors > CSS > Hex')?.textContent ||\n\t\t\t\t'',\n\t\t\thsl:\n\t\t\t\titemElement.querySelector('Colors > CSS > HSL')?.textContent ||\n\t\t\t\t'',\n\t\t\thsv:\n\t\t\t\titemElement.querySelector('Colors > CSS > HSV')?.textContent ||\n\t\t\t\t'',\n\t\t\tlab:\n\t\t\t\titemElement.querySelector('Colors > CSS > LAB')?.textContent ||\n\t\t\t\t'',\n\t\t\trgb:\n\t\t\t\titemElement.querySelector('Colors > CSS > RGB')?.textContent ||\n\t\t\t\t'',\n\t\t\txyz:\n\t\t\t\titemElement.querySelector('Colors > CSS > XYZ')?.textContent ||\n\t\t\t\t''\n\t\t};\n\n\t\treturn {\n\t\t\tid,\n\t\t\tcolors: {\n\t\t\t\tmain: mainColors,\n\t\t\t\tstringProps: stringPropColors,\n\t\t\t\tcss: cssColors\n\t\t\t}\n\t\t};\n\t});\n\n\t// 3. return the constructed Palette\n\treturn {\n\t\tid,\n\t\titems,\n\t\tmetadata: { name, timestamp, swatches, type, flags, customColor }\n\t};\n}\n\nexport const deserialize: IOFn_MasterInterface['deserialize'] = {\n\tfromCSS,\n\tfromJSON,\n\tfromXML\n};\n","// File: io/deserialize.js\n\nimport { IOFn_MasterInterface, Palette } from '../types/index.js';\nimport { createLogger } from '../logger/index.js';\nimport { modeData as mode } from '../data/mode.js';\n\nconst logMode = mode.logging;\n\nconst thisModule = 'io/serialize.js';\n\nconst logger = await createLogger();\n\nasync function toCSS(palette: Palette): Promise<string> {\n\tconst thisMethod = 'toCSS()';\n\n\treturn new Promise((resolve, reject) => {\n\t\ttry {\n\t\t\t// 1. serialize metadata\n\t\t\tconst metadata = `\n\t\t\t\t/* Palette Metadata */\n\t\t\t\t.palette {\n\t\t\t\t\t--id: \"${palette.id}\";\n\t\t\t\t\t--name: \"${palette.metadata.name ?? 'Unnamed Palette'}\";\n\t\t\t\t\t--swatches: ${palette.metadata.swatches};\n\t\t\t\t\t--type: \"${palette.metadata.type}\";\n\t\t\t\t\t--timestamp: \"${palette.metadata.timestamp}\";\n\t\t\t\t\t--limitDarkness: ${palette.metadata.flags.limitDarkness};\n\t\t\t\t\t--limitGrayness: ${palette.metadata.flags.limitGrayness};\n\t\t\t\t\t--limitLightness: ${palette.metadata.flags.limitLightness};\n\t\t\t\t}`.trim();\n\n\t\t\t// 2. serialize custom color if present\n\t\t\tconst customColor = palette.metadata.customColor\n\t\t\t\t? `\n\t\t\t\t/* Optional Custom Color */\n\t\t\t\t.palette-custom {\n\t\t\t\t\t--custom-cmyk-color: \"${palette.metadata.customColor.colors.main.cmyk}\";\n\t\t\t\t\t--custom-hex-color: \"${palette.metadata.customColor.colors.main.hex}\";\n\t\t\t\t\t--custom-hsl-color: \"${palette.metadata.customColor.colors.main.hsl}\";\n\t\t\t\t\t--custom-hsv-color: \"${palette.metadata.customColor.colors.main.hsv}\";\n\t\t\t\t\t--custom-lab-color: \"${palette.metadata.customColor.colors.main.lab}\";\n\t\t\t\t\t--custom-rgb-color: \"${palette.metadata.customColor.colors.main.rgb}\";\n\t\t\t\t\t--custom-xyz-color: \"${palette.metadata.customColor.colors.main.xyz}\";\n\t\t\t\t}`.trim()\n\t\t\t\t: '';\n\n\t\t\t// 3. serialize palette items\n\t\t\tconst items = palette.items\n\t\t\t\t.map(item => {\n\t\t\t\t\tconst backgroundColor = item.colors.css.hsl;\n\n\t\t\t\t\treturn `\n\t\t\t\t\t/* Palette Item */\n\t\t\t\t\t.color {\n\t\t\t\t\t\t--cmyk-color: \"${item.colors.css.cmyk}\";\n\t\t\t\t\t\t--hex-color: \"${item.colors.css.hex}\";\n\t\t\t\t\t\t--hsl-color: \"${item.colors.css.hsl}\";\n\t\t\t\t\t\t--hsv-color: \"${item.colors.css.hsv}\";\n\t\t\t\t\t\t--lab-color: \"${item.colors.css.lab}\";\n\t\t\t\t\t\t--rgb-color: \"${item.colors.css.rgb}\";\n\t\t\t\t\t\t--xyz-color: \"${item.colors.css.xyz}\";\n\t\t\t\t\t\tbackground-color: ${backgroundColor};\n\t\t\t\t\t}`.trim();\n\t\t\t\t})\n\t\t\t\t.join('\\n\\n');\n\n\t\t\t// 4. combine CSS data\n\t\t\tconst cssData = [metadata, customColor, items]\n\t\t\t\t.filter(Boolean)\n\t\t\t\t.join('\\n\\n');\n\n\t\t\t// 5. resolve serialized CSS data\n\t\t\tresolve(cssData.trim());\n\t\t} catch (error) {\n\t\t\tif (!mode.quiet && logMode.error) {\n\t\t\t\tif (logMode.verbosity > 1) {\n\t\t\t\t\tlogger.error(\n\t\t\t\t\t\t`Failed to convert palette to CSS: ${error}`,\n\t\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\tlogger.error(\n\t\t\t\t\t\t'Failed to convert palette to CSS',\n\t\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (mode.stackTrace) {\n\t\t\t\tconsole.trace('Stack Trace:');\n\t\t\t}\n\n\t\t\treject(new Error(`Failed to convert palette to CSS: ${error}`));\n\t\t}\n\t});\n}\n\nasync function toJSON(palette: Palette): Promise<string> {\n\tconst thisMethod = 'toJSON()';\n\n\treturn new Promise((resolve, reject) => {\n\t\ttry {\n\t\t\tconst jsonData = JSON.stringify(palette, null, 2);\n\n\t\t\tresolve(jsonData);\n\t\t} catch (error) {\n\t\t\tif (!mode.quiet && logMode.error) {\n\t\t\t\tif (logMode.verbosity > 1) {\n\t\t\t\t\tlogger.error(\n\t\t\t\t\t\t`Failed to convert palette to JSON: ${error}`,\n\t\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\tlogger.error(\n\t\t\t\t\t\t'Failed to convert palette to JSON',\n\t\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (mode.stackTrace) {\n\t\t\t\tconsole.trace('Stack Trace:');\n\t\t\t}\n\n\t\t\treject(new Error(`Failed to convert palette to JSON: ${error}`));\n\t\t}\n\t});\n}\n\nasync function toXML(palette: Palette): Promise<string> {\n\tconst thisMethod = 'toXML()';\n\n\treturn new Promise((resolve, reject) => {\n\t\ttry {\n\t\t\t// 1. serialize palette metadata\n\t\t\tconst customColorXML = palette.metadata.customColor\n\t\t\t\t? `\n\t\t\t\t<CustomColor>\n\t\t\t\t\t<CMYK>${palette.metadata.customColor.colors.main.cmyk}</CMYK>\n\t\t\t\t\t<Hex>${palette.metadata.customColor.colors.main.hex}</Hex>\n\t\t\t\t\t<HSL>${palette.metadata.customColor.colors.main.hsl}</HSL>\n\t\t\t\t\t<HSV>${palette.metadata.customColor.colors.main.hsv}</HSV>\n\t\t\t\t\t<LAB>${palette.metadata.customColor.colors.main.lab}</LAB>\n\t\t\t\t\t<RGB>${palette.metadata.customColor.colors.main.rgb}</RGB>\n\t\t\t\t\t<XYZ>${palette.metadata.customColor.colors.main.xyz}</XYZ>\n\t\t\t\t</CustomColor>`.trim()\n\t\t\t\t: '<CustomColor>false</CustomColor>';\n\n\t\t\tconst metadata = `\n\t\t\t\t<Metadata>\n\t\t\t\t\t<Name>${palette.metadata.name ?? 'Unnamed Palette'}</Name>\n\t\t\t\t\t<Timestamp>${palette.metadata.timestamp}</Timestamp>\n\t\t\t\t\t<Swatches>${palette.metadata.swatches}</Swatches>\n\t\t\t\t\t<Type>${palette.metadata.type}</Type>\n\t\t\t\t\t${customColorXML}\n\t\t\t\t\t<Flags>\n\t\t\t\t\t\t<LimitDarkness>${palette.metadata.flags.limitDarkness}</LimitDarkness>\n\t\t\t\t\t\t<LimitGrayness>${palette.metadata.flags.limitGrayness}</LimitGrayness>\n\t\t\t\t\t\t<LimitLightness>${palette.metadata.flags.limitLightness}</LimitLightness>\n\t\t\t\t\t</Flags>\n\t\t\t\t</Metadata>`.trim();\n\n\t\t\t// 2. serialize palette items\n\t\t\tconst xmlItems = palette.items\n\t\t\t\t.map((item, index) =>\n\t\t\t\t\t`\n\t\t\t\t\t<PaletteItem id=\"${index + 1}\">\n\t\t\t\t\t\t<Colors>\n\t\t\t\t\t\t\t<Main>\n\t\t\t\t\t\t\t\t<CMYK>${item.colors.main.cmyk}</CMYK>\n\t\t\t\t\t\t\t\t<Hex>${item.colors.main.hex}</Hex>\n\t\t\t\t\t\t\t\t<HSL>${item.colors.main.hsl}</HSL>\n\t\t\t\t\t\t\t\t<HSV>${item.colors.main.hsv}</HSV>\n\t\t\t\t\t\t\t\t<LAB>${item.colors.main.lab}</LAB>\n\t\t\t\t\t\t\t\t<RGB>${item.colors.main.rgb}</RGB>\n\t\t\t\t\t\t\t\t<XYZ>${item.colors.main.xyz}</XYZ>\n\t\t\t\t\t\t\t</Main>\n\t\t\t\t\t\t\t<CSS>\n\t\t\t\t\t\t\t\t<CMYK>${item.colors.css.cmyk}</CMYK>\n\t\t\t\t\t\t\t\t<Hex>${item.colors.css.hex}</Hex>\n\t\t\t\t\t\t\t\t<HSL>${item.colors.css.hsl}</HSL>\n\t\t\t\t\t\t\t\t<HSV>${item.colors.css.hsv}</HSV>\n\t\t\t\t\t\t\t\t<LAB>${item.colors.css.lab}</LAB>\n\t\t\t\t\t\t\t\t<RGB>${item.colors.css.rgb}</RGB>\n\t\t\t\t\t\t\t\t<XYZ>${item.colors.css.xyz}</XYZ>\n\t\t\t\t\t\t\t</CSS>\n\t\t\t\t\t\t</Colors>\n\t\t\t\t\t</PaletteItem>`.trim()\n\t\t\t\t)\n\t\t\t\t.join('\\n');\n\n\t\t\t// 3. combine metadata and items into the palette XML\n\t\t\tconst xmlData = `\n\t\t\t\t<Palette id=${palette.id}>\n\t\t\t\t\t${metadata}\n\t\t\t\t\t<Items>\n\t\t\t\t\t\t${xmlItems}\n\t\t\t\t\t</Items>\n\t\t\t\t</Palette>`.trim();\n\n\t\t\tresolve(xmlData.trim());\n\t\t} catch (error) {\n\t\t\tif (!mode.quiet && logMode.error) {\n\t\t\t\tif (logMode.verbosity > 1) {\n\t\t\t\t\tlogger.error(\n\t\t\t\t\t\t`Failed to convert palette to XML: ${error}`,\n\t\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\tlogger.error(\n\t\t\t\t\t\t'Failed to convert palette to XML',\n\t\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (mode.stackTrace) {\n\t\t\t\tconsole.trace('Stack Trace:');\n\t\t\t}\n\n\t\t\treject(new Error(`Failed to convert palette to XML: ${error}`));\n\t\t}\n\t});\n}\n\nexport const serialize: IOFn_MasterInterface['serialize'] = {\n\ttoCSS,\n\ttoJSON,\n\ttoXML\n};\n","// File: io/base.js\n\nimport { Palette } from '../types/index.js';\nimport { deserialize } from './deserialize.js';\nimport { fileUtils } from '../dom/fileUtils.js';\nimport { serialize } from './serialize.js';\n\n// *DEV-NOTE* improve error handling and logging throughout\n\nexport const file = {\n\tasync importFromFile(file: File): Promise<Palette> {\n\t\treturn file.text().then(importPalette);\n\t},\n\tasync exportToFile(\n\t\tpalette: Palette,\n\t\tformat: 'css' | 'json' | 'xml'\n\t): Promise<void> {\n\t\tconst data = await exportPalette(palette, format);\n\t\tconst mimeType = {\n\t\t\tcss: 'text/css',\n\t\t\tjson: 'application/json',\n\t\t\txml: 'application/xml'\n\t\t}[format];\n\n\t\tfileUtils.download(data, `palette_${palette.id}.${format}`, mimeType);\n\t}\n};\n\nfunction detectFileType(data: string): 'css' | 'json' | 'xml' {\n\tif (data.trim().startsWith('{')) return 'json';\n\tif (data.trim().startsWith('<')) return 'xml';\n\n\treturn 'css';\n}\n\nexport async function exportPalette(\n\tpalette: Palette,\n\tformat: 'css' | 'json' | 'xml'\n): Promise<string> {\n\tswitch (format) {\n\t\tcase 'css':\n\t\t\tconst cssData = await serialize.toCSS(palette);\n\n\t\t\treturn cssData;\n\t\tcase 'json':\n\t\t\tconst jsonData = await serialize.toJSON(palette);\n\n\t\t\treturn jsonData;\n\t\tcase 'xml':\n\t\t\tconst xmlData = await serialize.toXML(palette);\n\n\t\t\treturn xmlData;\n\t\tdefault:\n\t\t\tthrow new Error('Unsupported export format');\n\t}\n}\n\nexport async function importPalette(data: string): Promise<Palette> {\n\tconst fileType = detectFileType(data);\n\n\tswitch (fileType) {\n\t\tcase 'css':\n\t\t\tconst cssPalette = await deserialize.fromCSS(data);\n\n\t\t\tif (!cssPalette) throw new Error('Invalid CSS');\n\n\t\t\treturn cssPalette;\n\t\tcase 'json':\n\t\t\tconst jsonPalette = await deserialize.fromJSON(data);\n\n\t\t\tif (!jsonPalette) throw new Error('Invalid JSON');\n\n\t\t\treturn jsonPalette;\n\t\tcase 'xml':\n\t\t\tconst xmlPalette = await deserialize.fromXML(data);\n\n\t\t\tif (!xmlPalette) throw new Error('Invalid XML');\n\n\t\t\treturn xmlPalette;\n\t\tdefault:\n\t\t\tthrow new Error('Unsupported file format');\n\t}\n}\n","// File: io/index.js\n\nimport { IOFn_MasterInterface } from '../types/index.js';\nimport { file, exportPalette, importPalette } from './base.js';\nimport { deserialize } from './deserialize.js';\nimport { ioParseUtils } from './parse/index.js';\nimport { serialize } from './serialize.js';\n\nexport const ioFn: IOFn_MasterInterface = {\n\tdeserialize,\n\texportPalette,\n\tfile,\n\timportPalette,\n\tparse: ioParseUtils,\n\tserialize\n};\n","// File: src/ui/UIManager.ts\n\nimport {\n\tColor,\n\tColorSpace,\n\tCommonFn_MasterInterface,\n\tConstsDataInterface,\n\tDOMDataInterface,\n\tDOMFn_MasterInterface,\n\tHSL,\n\tIOFn_MasterInterface,\n\tModeDataInterface,\n\tPalette,\n\tSL,\n\tStoredPalette,\n\tSV,\n\tUIManager_ClassInterface\n} from '../types/index.js';\nimport { IDBManager } from '../db/IDBManager.js';\nimport { commonFn } from '../common/index.js';\nimport { createLogger } from '../logger/index.js';\nimport { constsData as consts } from '../data/consts.js';\nimport { domData } from '../data/dom.js';\nimport { fileUtils } from '../dom/fileUtils.js';\nimport { ioFn } from '../io/index.js';\nimport { modeData as mode } from '../data/mode.js';\n\nconst thisModule = 'ui/UIManager.ts';\n\nconst logger = await createLogger();\n\nexport class UIManager implements UIManager_ClassInterface {\n\tprivate static instanceCounter = 0; // static instance ID counter\n\tprivate static instances = new Map<number, UIManager>(); // instance registry\n\tprivate id: number; // unique instance ID\n\tprivate currentPalette: Palette | null = null;\n\tprivate paletteHistory: Palette[] = [];\n\n\tprivate idbManager: IDBManager | null = null;\n\n\tprivate consts: ConstsDataInterface;\n\tprivate domData: DOMDataInterface;\n\tprivate logMode: ModeDataInterface['logging'];\n\tprivate mode: ModeDataInterface;\n\n\tprivate conversionUtils: CommonFn_MasterInterface['convert'];\n\tprivate coreUtils: CommonFn_MasterInterface['core'];\n\tprivate helpers: CommonFn_MasterInterface['helpers'];\n\tprivate utils: CommonFn_MasterInterface['utils'];\n\n\tprivate fileUtils: DOMFn_MasterInterface['fileUtils'];\n\tprivate ioFn: IOFn_MasterInterface;\n\n\tprivate getCurrentPaletteFn?: () => Promise<Palette | null>;\n\tprivate getStoredPalette?: (id: string) => Promise<StoredPalette | null>;\n\n\tconstructor() {\n\t\tthis.init();\n\n\t\tthis.id = UIManager.instanceCounter++;\n\n\t\tUIManager.instances.set(this.id, this);\n\n\t\tthis.paletteHistory = [];\n\n\t\tthis.consts = consts;\n\t\tthis.domData = domData;\n\t\tthis.logMode = mode.logging;\n\t\tthis.mode = mode;\n\n\t\tthis.coreUtils = commonFn.core;\n\t\tthis.helpers = commonFn.helpers;\n\t\tthis.utils = commonFn.utils;\n\t\tthis.conversionUtils = commonFn.convert;\n\n\t\tthis.fileUtils = fileUtils;\n\t\tthis.ioFn = ioFn;\n\t}\n\n\t/* PUBLIC METHODS */\n\n\tpublic async addPaletteToHistory(palette: Palette): Promise<void> {\n\t\tconst thisMethod = 'addPaletteToHistory()';\n\n\t\tconst idbManager = await IDBManager.getInstance();\n\t\tconst maxHistory = (await idbManager.getSettings()).maxHistory;\n\n\t\ttry {\n\t\t\tconst history = await idbManager.getPaletteHistory();\n\t\t\tconst newID = await idbManager.getNextPaletteID();\n\t\t\tconst idString = `${palette.metadata.type}_${newID}`;\n\n\t\t\tawait idbManager.savePaletteHistory(history);\n\n\t\t\tif (\n\t\t\t\t!this.mode.quiet &&\n\t\t\t\tthis.mode.debug &&\n\t\t\t\tthis.logMode.verbosity > 2\n\t\t\t)\n\t\t\t\tlogger.info(\n\t\t\t\t\t`Added palette with ID ${idString} to history`,\n\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t);\n\t\t} catch (error) {\n\t\t\tlogger.error(\n\t\t\t\t`Error adding palette to history: ${error}`,\n\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t);\n\t\t}\n\n\t\tthis.paletteHistory.unshift(palette);\n\n\t\tif (this.paletteHistory.length > maxHistory) this.paletteHistory.pop();\n\n\t\tif (this.idbManager) {\n\t\t\tawait this.idbManager.savePaletteHistory(this.paletteHistory);\n\t\t} else {\n\t\t\tconst idbManager = await IDBManager.getInstance();\n\t\t\tawait idbManager.savePaletteHistory(this.paletteHistory);\n\t\t}\n\n\t\tthis.updateHistoryUI();\n\t}\n\n\tpublic applyCustomColor(): HSL {\n\t\tconst thisMethod = 'applyCustomColor()';\n\n\t\ttry {\n\t\t\tconst colorPicker = document.getElementById(\n\t\t\t\t'custom-color-picker'\n\t\t\t) as HTMLInputElement | null;\n\n\t\t\tif (!colorPicker) {\n\t\t\t\tthrow new Error('Color picker element not found');\n\t\t\t}\n\n\t\t\tconst rawValue = colorPicker.value.trim();\n\n\t\t\t// *DEV-NOTE* Add this to the Data object\n\t\t\tconst selectedFormat = (\n\t\t\t\tdocument.getElementById(\n\t\t\t\t\t'custom-color-format'\n\t\t\t\t) as HTMLSelectElement | null\n\t\t\t)?.value as ColorSpace;\n\n\t\t\tif (!this.utils.color.isColorSpace(selectedFormat)) {\n\t\t\t\tif (!this.mode.gracefulErrors)\n\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t`Unsupported color format: ${selectedFormat}`\n\t\t\t\t\t);\n\t\t\t}\n\n\t\t\tconst parsedColor = this.utils.color.parseColor(\n\t\t\t\tselectedFormat,\n\t\t\t\trawValue\n\t\t\t) as Exclude<Color, SL | SV>;\n\n\t\t\tif (!parsedColor) {\n\t\t\t\tif (!this.mode.gracefulErrors)\n\t\t\t\t\tthrow new Error(`Invalid color value: ${rawValue}`);\n\t\t\t}\n\n\t\t\tconst hslColor = this.utils.color.isHSLColor(parsedColor)\n\t\t\t\t? parsedColor\n\t\t\t\t: this.conversionUtils.toHSL(parsedColor);\n\n\t\t\treturn hslColor;\n\t\t} catch (error) {\n\t\t\tif (this.logMode.error)\n\t\t\t\tlogger.error(\n\t\t\t\t\t`Failed to apply custom color: ${error}. Returning randomly generated hex color`,\n\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t);\n\n\t\t\treturn this.utils.random.hsl() as HSL;\n\t\t}\n\t}\n\n\tpublic async applyFirstColorToUI(color: HSL): Promise<HSL> {\n\t\tconst thisMethod = 'applyFirstColorToUI()';\n\t\ttry {\n\t\t\tconst colorBox1 = this.domData.elements.dynamic.divs.colorBox1;\n\n\t\t\tif (!colorBox1) {\n\t\t\t\tif (this.logMode.error)\n\t\t\t\t\tlogger.error(\n\t\t\t\t\t\t'color-box-1 is null',\n\t\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t\t);\n\n\t\t\t\treturn color;\n\t\t\t}\n\n\t\t\tconst formatColorString =\n\t\t\t\tawait this.coreUtils.convert.colorToCSSColorString(color);\n\n\t\t\tif (!formatColorString) {\n\t\t\t\tif (this.logMode.error)\n\t\t\t\t\tlogger.error(\n\t\t\t\t\t\t'Unexpected or unsupported color format.',\n\t\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t\t);\n\n\t\t\t\treturn color;\n\t\t\t}\n\n\t\t\tcolorBox1.style.backgroundColor = formatColorString;\n\n\t\t\tthis.utils.palette.populateOutputBox(color, 1);\n\n\t\t\treturn color;\n\t\t} catch (error) {\n\t\t\tif (this.logMode.error)\n\t\t\t\tlogger.error(\n\t\t\t\t\t`Failed to apply first color to UI: ${error}`,\n\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t);\n\t\t\treturn this.utils.random.hsl() as HSL;\n\t\t}\n\t}\n\n\tpublic copyToClipboard(text: string, tooltipElement: HTMLElement): void {\n\t\tconst thisMethod = 'copyToClipboard()';\n\n\t\ttry {\n\t\t\tconst colorValue = text.replace('Copied to clipboard!', '').trim();\n\n\t\t\tnavigator.clipboard\n\t\t\t\t.writeText(colorValue)\n\t\t\t\t.then(() => {\n\t\t\t\t\tthis.helpers.dom.showTooltip(tooltipElement);\n\n\t\t\t\t\tif (\n\t\t\t\t\t\t!this.mode.quiet &&\n\t\t\t\t\t\tthis.mode.debug &&\n\t\t\t\t\t\tthis.logMode.verbosity > 2 &&\n\t\t\t\t\t\tthis.logMode.info\n\t\t\t\t\t) {\n\t\t\t\t\t\tlogger.info(\n\t\t\t\t\t\t\t`Copied color value: ${colorValue}`,\n\t\t\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\tsetTimeout(\n\t\t\t\t\t\t() => tooltipElement.classList.remove('show'),\n\t\t\t\t\t\tthis.consts.timeouts.tooltip || 1000\n\t\t\t\t\t);\n\t\t\t\t})\n\t\t\t\t.catch(err => {\n\t\t\t\t\tif (this.logMode.error)\n\t\t\t\t\t\tlogger.error(\n\t\t\t\t\t\t\t`Error copying to clipboard: ${err}`,\n\t\t\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t\t\t);\n\t\t\t\t});\n\t\t} catch (error) {\n\t\t\tif (this.logMode.error)\n\t\t\t\tlogger.error(\n\t\t\t\t\t`Failed to copy to clipboard: ${error}`,\n\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t);\n\t\t}\n\t}\n\n\tpublic createPaletteTable(palette: StoredPalette): HTMLElement {\n\t\tconst fragment = document.createDocumentFragment();\n\t\tconst table = document.createElement('table');\n\t\ttable.classList.add('palette-table');\n\n\t\tpalette.palette.items.forEach((item, index) => {\n\t\t\tconst row = document.createElement('tr');\n\t\t\tconst cell = document.createElement('td');\n\t\t\tconst colorBox = document.createElement('div');\n\n\t\t\tcell.textContent = `Color ${index + 1}`;\n\t\t\tcolorBox.classList.add('color-box');\n\t\t\tcolorBox.style.backgroundColor = item.colors.css.hex;\n\n\t\t\trow.appendChild(colorBox);\n\t\t\trow.appendChild(cell);\n\t\t\ttable.appendChild(row);\n\t\t});\n\n\t\tfragment.appendChild(table);\n\n\t\treturn fragment as unknown as HTMLElement;\n\t}\n\n\tpublic desaturateColor(selectedColor: number): void {\n\t\tconst thisMethod = 'desaturateColor()';\n\n\t\ttry {\n\t\t\tthis.getElementsForSelectedColor(selectedColor);\n\t\t} catch (error) {\n\t\t\tif (this.logMode.error)\n\t\t\t\tlogger.error(\n\t\t\t\t\t`Failed to desaturate color: ${error}`,\n\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t);\n\t\t}\n\t}\n\n\tpublic getElementsForSelectedColor(selectedColor: number): {\n\t\tselectedColorTextOutputBox: HTMLElement | null;\n\t\tselectedColorBox: HTMLElement | null;\n\t\tselectedColorStripe: HTMLElement | null;\n\t} {\n\t\tconst thisMethod = 'getElementsForSelectedColor()';\n\t\tconst selectedColorBox = document.getElementById(\n\t\t\t`color-box-${selectedColor}`\n\t\t);\n\n\t\tif (!selectedColorBox) {\n\t\t\tif (this.logMode.warn)\n\t\t\t\tlogger.warn(\n\t\t\t\t\t`Element not found for color ${selectedColor}`,\n\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t);\n\n\t\t\tthis.helpers.dom.showToast('Please select a valid color.');\n\n\t\t\treturn {\n\t\t\t\tselectedColorTextOutputBox: null,\n\t\t\t\tselectedColorBox: null,\n\t\t\t\tselectedColorStripe: null\n\t\t\t};\n\t\t}\n\n\t\treturn {\n\t\t\tselectedColorTextOutputBox: document.getElementById(\n\t\t\t\t`color-text-output-box-${selectedColor}`\n\t\t\t),\n\t\t\tselectedColorBox,\n\t\t\tselectedColorStripe: document.getElementById(\n\t\t\t\t`color-stripe-${selectedColor}`\n\t\t\t)\n\t\t};\n\t}\n\n\tpublic getID(): number {\n\t\treturn this.id;\n\t}\n\n\tpublic static getAllInstances(): UIManager[] {\n\t\treturn Array.from(UIManager.instances.values());\n\t}\n\n\tpublic async getCurrentPalette(): Promise<Palette | null> {\n\t\tif (this.getCurrentPaletteFn) {\n\t\t\treturn await this.getCurrentPaletteFn();\n\t\t}\n\t\treturn (\n\t\t\tthis.currentPalette ||\n\t\t\t(this.paletteHistory.length > 0 ? this.paletteHistory[0] : null)\n\t\t);\n\t}\n\n\tpublic static getInstanceById(id: number): UIManager | undefined {\n\t\treturn UIManager.instances.get(id);\n\t}\n\n\tpublic static deleteInstanceById(id: number): void {\n\t\tUIManager.instances.delete(id);\n\t}\n\n\tpublic async handleExport(format: string): Promise<void> {\n\t\tconst thisMethod = 'handleExport()';\n\n\t\ttry {\n\t\t\tconst palette = await this.getCurrentPalette();\n\n\t\t\tif (!palette) {\n\t\t\t\tlogger.error(\n\t\t\t\t\t'No palette available for export',\n\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t);\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tswitch (format) {\n\t\t\t\tcase 'css':\n\t\t\t\t\tthis.ioFn.exportPalette(palette, format);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'json':\n\t\t\t\t\tthis.ioFn.exportPalette(palette, format);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'xml':\n\t\t\t\t\tthis.ioFn.exportPalette(palette, format);\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new Error(`Unsupported export format: ${format}`);\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tif (this.logMode.error && this.logMode.verbosity > 1)\n\t\t\t\tlogger.error(\n\t\t\t\t\t`Failed to export palette: ${error}`,\n\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t);\n\t\t}\n\t}\n\n\tpublic async handleImport(\n\t\tfile: File,\n\t\tformat: 'JSON' | 'XML' | 'CSS'\n\t): Promise<void> {\n\t\ttry {\n\t\t\tconst thisMethod = 'handleImport()';\n\t\t\tconst data = await this.fileUtils.readFile(file);\n\n\t\t\tlet palette: Palette | null = null;\n\n\t\t\tswitch (format) {\n\t\t\t\tcase 'JSON':\n\t\t\t\t\tpalette = await this.ioFn.deserialize.fromJSON(data);\n\t\t\t\t\tif (!palette) {\n\t\t\t\t\t\tif (this.logMode.error && this.logMode.verbosity > 1) {\n\t\t\t\t\t\t\tlogger.error(\n\t\t\t\t\t\t\t\t'Failed to deserialize JSON data',\n\t\t\t\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'XML':\n\t\t\t\t\tpalette =\n\t\t\t\t\t\t(await this.ioFn.deserialize.fromXML(data)) || null;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'CSS':\n\t\t\t\t\tpalette =\n\t\t\t\t\t\t(await this.ioFn.deserialize.fromCSS(data)) || null;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new Error(`Unsupported format: ${format}`);\n\t\t\t}\n\n\t\t\tif (!palette) {\n\t\t\t\tif (this.logMode.error && this.logMode.verbosity > 1) {\n\t\t\t\t\tlogger.error(\n\t\t\t\t\t\t`Failed to deserialize ${format} data`,\n\t\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.addPaletteToHistory(palette);\n\n\t\t\tif (this.logMode.info && this.logMode.verbosity > 1) {\n\t\t\t\tlogger.info(\n\t\t\t\t\t`Successfully imported palette in ${format} format.`,\n\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t);\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tlogger.error(\n\t\t\t\t`Failed to import file: ${error}`,\n\t\t\t\t`${thisModule} > handleImport()`\n\t\t\t);\n\t\t}\n\t}\n\n\tpublic pullParamsFromUI(): {\n\t\ttype: number;\n\t\tswatches: number;\n\t\tlimitDark: boolean;\n\t\tlimitGray: boolean;\n\t\tlimitLight: boolean;\n\t} {\n\t\tconst thisMethod = 'pullParamsFromUI()';\n\n\t\ttry {\n\t\t\tconst paletteTypeElement =\n\t\t\t\tdomData.elements.static.selects.paletteType;\n\t\t\tconst numSwatchesElement =\n\t\t\t\tdomData.elements.static.selects.swatchGen;\n\t\t\tconst limitDarkChkbx =\n\t\t\t\tdomData.elements.static.inputs.limitDarkChkbx;\n\t\t\tconst limitGrayChkbx =\n\t\t\t\tdomData.elements.static.inputs.limitGrayChkbx;\n\t\t\tconst limitLightChkbx =\n\t\t\t\tdomData.elements.static.inputs.limitLightChkbx;\n\n\t\t\tif (\n\t\t\t\t!paletteTypeElement &&\n\t\t\t\t!this.mode.quiet &&\n\t\t\t\tthis.logMode.debug &&\n\t\t\t\tthis.logMode.verbosity >= 2\n\t\t\t) {\n\t\t\t\tlogger.warn(\n\t\t\t\t\t'paletteTypeOptions DOM element not found',\n\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t);\n\t\t\t}\n\t\t\tif (\n\t\t\t\t!numSwatchesElement &&\n\t\t\t\t!this.mode.quiet &&\n\t\t\t\tthis.logMode.debug &&\n\t\t\t\tthis.logMode.verbosity >= 2\n\t\t\t) {\n\t\t\t\tlogger.warn(\n\t\t\t\t\t`numBoxes DOM element not found`,\n\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t);\n\t\t\t}\n\t\t\tif (\n\t\t\t\t(!limitDarkChkbx || !limitGrayChkbx || !limitLightChkbx) &&\n\t\t\t\t!this.mode.quiet &&\n\t\t\t\tthis.logMode.debug &&\n\t\t\t\tthis.logMode.verbosity >= 2\n\t\t\t) {\n\t\t\t\tlogger.warn(\n\t\t\t\t\t`One or more checkboxes not found`,\n\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\ttype: paletteTypeElement\n\t\t\t\t\t? parseInt(paletteTypeElement.value, 10)\n\t\t\t\t\t: 0,\n\t\t\t\tswatches: numSwatchesElement\n\t\t\t\t\t? parseInt(numSwatchesElement.value, 10)\n\t\t\t\t\t: 0,\n\t\t\t\tlimitDark: limitDarkChkbx?.checked || false,\n\t\t\t\tlimitGray: limitGrayChkbx?.checked || false,\n\t\t\t\tlimitLight: limitLightChkbx?.checked || false\n\t\t\t};\n\t\t} catch (error) {\n\t\t\tif (this.logMode.error)\n\t\t\t\tlogger.error(\n\t\t\t\t\t`Failed to pull parameters from UI: ${error}`,\n\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t);\n\n\t\t\treturn {\n\t\t\t\ttype: 0,\n\t\t\t\tswatches: 0,\n\t\t\t\tlimitDark: false,\n\t\t\t\tlimitGray: false,\n\t\t\t\tlimitLight: false\n\t\t\t};\n\t\t}\n\t}\n\n\tpublic async removePaletteFromHistory(paletteID: string): Promise<void> {\n\t\tconst thisMethod = 'removePaletteFromHistory()';\n\n\t\ttry {\n\t\t\tconst entry = document.getElementById(`palette_${paletteID}`);\n\n\t\t\tif (!entry) return;\n\n\t\t\tentry.remove();\n\n\t\t\tconst idbManager = await IDBManager.getInstance();\n\t\t\tthis.paletteHistory = this.paletteHistory.filter(\n\t\t\t\tp => p.id !== paletteID\n\t\t\t);\n\t\t\tawait idbManager.savePaletteHistory(this.paletteHistory);\n\t\t\tif (!this.mode.quiet)\n\t\t\t\tlogger.info(\n\t\t\t\t\t`Removed palette ${paletteID} from history`,\n\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t);\n\t\t} catch (error) {\n\t\t\tlogger.error(\n\t\t\t\t`Error removing palette ${paletteID}: ${error}`,\n\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t);\n\t\t}\n\t}\n\n\tpublic async renderPalette(tableId: string): Promise<void | null> {\n\t\tconst thisMethod = 'renderPalette()';\n\n\t\tif (!this.getStoredPalette) {\n\t\t\tthrow new Error('Palette fetching function has not been set.');\n\t\t}\n\n\t\treturn this.utils.errors.handleAsync(async () => {\n\t\t\tconst storedPalette = await this.getStoredPalette!(tableId);\n\t\t\tconst paletteRow = document.getElementById('palette-row');\n\n\t\t\tif (!storedPalette)\n\t\t\t\tthrow new Error(`Palette ${tableId} not found.`);\n\t\t\tif (!paletteRow) throw new Error('Palette row element not found.');\n\n\t\t\tpaletteRow.innerHTML = '';\n\n\t\t\tconst tableElement = this.createPaletteTable(storedPalette);\n\t\t\tpaletteRow.appendChild(tableElement);\n\n\t\t\tif (!this.mode.quiet)\n\t\t\t\tlogger.info(\n\t\t\t\t\t`Rendered palette ${tableId}.`,\n\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t);\n\t\t}, 'UIManager.renderPalette(): Error rendering palette');\n\t}\n\n\tpublic saturateColor(selectedColor: number): void {\n\t\tconst thisMethod = 'saturateColor()';\n\n\t\ttry {\n\t\t\tthis.getElementsForSelectedColor(selectedColor);\n\t\t\t// *DEV-NOTE* unfinished function\n\t\t} catch (error) {\n\t\t\tif (this.logMode.error)\n\t\t\t\tlogger.error(\n\t\t\t\t\t`Failed to saturate color: ${error}`,\n\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t);\n\t\t}\n\t}\n\n\tpublic setCurrentPalette(palette: Palette): void {\n\t\tthis.currentPalette = palette;\n\t}\n\n\tpublic setGetCurrentPaletteFn(fn: () => Promise<Palette | null>): void {\n\t\tthis.getCurrentPaletteFn = fn;\n\t}\n\n\tpublic setGetStoredPalette(\n\t\tgetter: (id: string) => Promise<StoredPalette | null>\n\t): void {\n\t\tthis.getStoredPalette = getter;\n\t}\n\n\tpublic async setHistoryLimit(limit: number): Promise<void> {\n\t\tconst thisMethod = 'setHistoryLimit()';\n\n\t\ttry {\n\t\t\tif (limit < 1 || limit > 1000) {\n\t\t\t\tif (this.logMode.warn)\n\t\t\t\t\tlogger.warn(\n\t\t\t\t\t\t`Invalid history limit: ${limit}. Keeping current limit.`,\n\t\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t\t);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst idbManager = await IDBManager.getInstance();\n\t\t\tconst settings = await idbManager.getSettings();\n\n\t\t\tsettings.maxHistory = limit;\n\t\t\tawait idbManager.saveSettings(settings);\n\n\t\t\tif (this.paletteHistory.length > limit) {\n\t\t\t\tthis.paletteHistory = this.paletteHistory.slice(0, limit);\n\t\t\t\tawait idbManager.savePaletteHistory(this.paletteHistory);\n\t\t\t}\n\n\t\t\tthis.updateHistoryUI();\n\n\t\t\tif (!this.mode.quiet)\n\t\t\t\tlogger.info(\n\t\t\t\t\t`History limit set to ${limit}`,\n\t\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t\t);\n\t\t} catch (error) {\n\t\t\tlogger.error(\n\t\t\t\t`Error setting history limit: ${error}`,\n\t\t\t\t`${thisModule} > ${thisMethod}`\n\t\t\t);\n\t\t}\n\t}\n\n\t/* PRIVATE METHODS */\n\n\tprivate async init(): Promise<void> {\n\t\tthis.idbManager = await IDBManager.getInstance();\n\n\t\tawait this.loadPaletteHistory();\n\t}\n\n\tprivate async loadPaletteHistory(): Promise<void> {\n\t\tif (!this.idbManager) return;\n\n\t\tconst history = await this.idbManager.getPaletteHistory();\n\t\tconst settings = await this.idbManager.getSettings();\n\n\t\tconst maxHistory = settings.maxHistory || 50;\n\n\t\tif (history) {\n\t\t\tthis.paletteHistory = history.slice(0, maxHistory);\n\t\t\tthis.updateHistoryUI();\n\t\t}\n\t}\n\n\tprivate updateHistoryUI(): void {\n\t\tconst historyList = this.domData.elements.static.divs.paletteHistory;\n\n\t\tif (!historyList) return;\n\n\t\thistoryList.innerHTML = '';\n\n\t\tthis.paletteHistory.forEach(palette => {\n\t\t\tconst entryID = `palette_${palette.id}`;\n\t\t\tconst entry = document.createElement('div');\n\t\t\tentry.classList.add('history-item');\n\t\t\tentry.id = entryID;\n\n\t\t\tconst colors = palette.items\n\t\t\t\t.map(\n\t\t\t\t\titem =>\n\t\t\t\t\t\t/*html*/\n\t\t\t\t\t\t`<span class=\"color-box\" style=\"background: ${item.colors.css.hex};\">\n\t\t\t\t\t\t</span>`\n\t\t\t\t)\n\t\t\t\t.join(' ');\n\n\t\t\tconst removeBtn = document.createElement('button');\n\n\t\t\tremoveBtn.textContent = 'Remove';\n\t\t\tremoveBtn.classList.add('remove-history-item');\n\t\t\tremoveBtn.dataset.id = `${palette.id}-history-remove-btn`;\n\n\t\t\tremoveBtn.addEventListener('click', async () => {\n\t\t\t\tawait this.removePaletteFromHistory(palette.id);\n\t\t\t});\n\n\t\t\tentry.innerHTML =\n\t\t\t\t/*html*/\n\t\t\t\t`\n\t\t\t\t<p>Palette #${palette.metadata.name || palette.id}</p>\n\t\t\t\t<div class=\"color-preview\">${colors}</div>\n\t\t\t\t`;\n\n\t\t\thistoryList.appendChild(entry);\n\t\t});\n\t}\n}\n","// File: palette/common/helpers/limits.js\n\nimport { HSL } from '../../../types/index.js';\nimport { coreUtils } from '../../../common/index.js';\nimport { constsData as consts } from '../../../data/consts.js';\nimport { createLogger } from '../../../logger/index.js';\nimport { modeData as mode } from '../../../data/mode.js';\n\nconst logMode = mode.logging;\nconst thisModule = 'palette/common/helpers/limits.js';\n\nconst logger = await createLogger();\n\nfunction isColorInBounds(hsl: HSL): boolean {\n\tconst thisFunction = 'paletteHelpers > limits > isColorInBounds()';\n\n\tif (!coreUtils.validate.colorValues(hsl)) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`isColorInBounds: Invalid HSL value ${JSON.stringify(hsl)}`,\n\t\t\t\t`${thisModule} > ${thisFunction}`\n\t\t\t);\n\n\t\treturn false;\n\t}\n\n\treturn isTooDark(hsl) || isTooGray(hsl) || isTooLight(hsl);\n}\n\nfunction isTooDark(hsl: HSL): boolean {\n\tconst thisFunction = 'isTooDark()';\n\n\tif (!coreUtils.validate.colorValues(hsl)) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`isTooDark: Invalid HSL value ${JSON.stringify(hsl)}`,\n\t\t\t\t`${thisModule} > ${thisFunction}`\n\t\t\t);\n\n\t\treturn false;\n\t}\n\n\treturn coreUtils.base.clone(hsl).value.lightness < consts.thresholds.dark;\n}\n\nfunction isTooGray(hsl: HSL): boolean {\n\tconst thisFunction = 'isTooGray()';\n\n\tif (!coreUtils.validate.colorValues(hsl)) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`isTooGray: Invalid HSL value ${JSON.stringify(hsl)}`,\n\t\t\t\t`${thisModule} > ${thisFunction}`\n\t\t\t);\n\n\t\treturn false;\n\t}\n\n\treturn coreUtils.base.clone(hsl).value.saturation < consts.thresholds.gray;\n}\n\nfunction isTooLight(hsl: HSL): boolean {\n\tconst thisFunction = 'isTooLight()';\n\n\tif (!coreUtils.validate.colorValues(hsl)) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`isTooLight: Invalid HSL value ${JSON.stringify(hsl)}`,\n\t\t\t\t`${thisModule} > ${thisFunction}`\n\t\t\t);\n\n\t\treturn false;\n\t}\n\n\treturn coreUtils.base.clone(hsl).value.lightness > consts.thresholds.light;\n}\n\nexport const limits = {\n\tisColorInBounds,\n\tisTooDark,\n\tisTooGray,\n\tisTooLight\n} as const;\n","// File: palette/common/helpers/update.js\n\nimport { Color, HSL } from '../../../types/index.js';\nimport { coreUtils, utils } from '../../../common/index.js';\n\nasync function colorBox(color: HSL, index: number): Promise<void> {\n\tconst colorBox = document.getElementById(`color-box-${index + 1}`);\n\n\tif (colorBox) {\n\t\tconst colorValues = utils.conversion.genAllColorValues(color);\n\t\tconst selectedColor = colorValues as Color;\n\n\t\tif (selectedColor) {\n\t\t\tconst hslColor = colorValues.hsl as HSL;\n\t\t\tconst hslCSSString =\n\t\t\t\tawait coreUtils.convert.colorToCSSColorString(hslColor);\n\n\t\t\tcolorBox.style.backgroundColor = hslCSSString;\n\n\t\t\tutils.palette.populateOutputBox(selectedColor, index + 1);\n\t\t}\n\t}\n}\n\nexport const update = { colorBox } as const;\n","// File: palette/common/helpers/index.js\n\nimport { Palette_CommonFn_MasterInterface } from '../../../types/index.js';\nimport { limits } from './limits.js';\nimport { update } from './update.js';\n\nexport const helpers: Palette_CommonFn_MasterInterface['helpers'] = {\n\tlimits,\n\tupdate\n} as const;\n","// File: palette/common/superUtils/create.js\n\nimport {\n\tCMYK,\n\tCMYK_StringProps,\n\tHex,\n\tHex_StringProps,\n\tHSL,\n\tHSL_StringProps,\n\tHSV,\n\tHSV_StringProps,\n\tLAB,\n\tLAB_StringProps,\n\tPaletteItem,\n\tRGB,\n\tRGB_StringProps,\n\tSL,\n\tXYZ,\n\tXYZ_StringProps\n} from '../../../types/index.js';\nimport {\n\tcoreConversionUtils,\n\tcoreUtils,\n\tutils\n} from '../../../common/index.js';\nimport { helpers as paletteHelpers } from '../helpers/index.js';\n\nconst limits = paletteHelpers.limits;\nconst update = paletteHelpers.update;\n\nconst hslTo = coreConversionUtils.hslTo;\n\nfunction baseColor(customColor: HSL | null): HSL {\n\tconst color = coreUtils.base.clone(customColor);\n\n\treturn color as HSL;\n}\n\nasync function paletteItem(color: HSL): Promise<PaletteItem> {\n\tconst clonedColor = coreUtils.base.clone(color) as HSL;\n\n\treturn {\n\t\tcolors: {\n\t\t\tmain: {\n\t\t\t\tcmyk: (hslTo(clonedColor, 'cmyk') as CMYK).value,\n\t\t\t\thex: (hslTo(clonedColor, 'hex') as Hex).value,\n\t\t\t\thsl: clonedColor.value,\n\t\t\t\thsv: (hslTo(clonedColor, 'hsv') as HSV).value,\n\t\t\t\tlab: (hslTo(clonedColor, 'lab') as LAB).value,\n\t\t\t\trgb: (hslTo(clonedColor, 'rgb') as RGB).value,\n\t\t\t\txyz: (hslTo(clonedColor, 'xyz') as XYZ).value\n\t\t\t},\n\t\t\tstringProps: {\n\t\t\t\tcmyk: (\n\t\t\t\t\tutils.color.colorToColorString(\n\t\t\t\t\t\thslTo(clonedColor, 'cmyk')\n\t\t\t\t\t) as CMYK_StringProps\n\t\t\t\t).value,\n\t\t\t\thex: (\n\t\t\t\t\tutils.color.colorToColorString(\n\t\t\t\t\t\thslTo(clonedColor, 'hex')\n\t\t\t\t\t) as Hex_StringProps\n\t\t\t\t).value,\n\t\t\t\thsl: (\n\t\t\t\t\tutils.color.colorToColorString(\n\t\t\t\t\t\tclonedColor\n\t\t\t\t\t) as HSL_StringProps\n\t\t\t\t).value,\n\t\t\t\thsv: (\n\t\t\t\t\tutils.color.colorToColorString(\n\t\t\t\t\t\thslTo(clonedColor, 'hsv')\n\t\t\t\t\t) as HSV_StringProps\n\t\t\t\t).value,\n\t\t\t\tlab: (\n\t\t\t\t\tutils.color.colorToColorString(\n\t\t\t\t\t\thslTo(clonedColor, 'lab')\n\t\t\t\t\t) as LAB_StringProps\n\t\t\t\t).value,\n\t\t\t\trgb: (\n\t\t\t\t\tutils.color.colorToColorString(\n\t\t\t\t\t\thslTo(clonedColor, 'rgb')\n\t\t\t\t\t) as RGB_StringProps\n\t\t\t\t).value,\n\t\t\t\txyz: (\n\t\t\t\t\tutils.color.colorToColorString(\n\t\t\t\t\t\thslTo(clonedColor, 'xyz')\n\t\t\t\t\t) as XYZ_StringProps\n\t\t\t\t).value\n\t\t\t},\n\t\t\tcss: {\n\t\t\t\tcmyk: await coreUtils.convert.colorToCSSColorString(\n\t\t\t\t\thslTo(clonedColor, 'cmyk')\n\t\t\t\t),\n\t\t\t\thex: await coreUtils.convert.colorToCSSColorString(\n\t\t\t\t\thslTo(clonedColor, 'hex')\n\t\t\t\t),\n\t\t\t\thsl: await coreUtils.convert.colorToCSSColorString(clonedColor),\n\t\t\t\thsv: await coreUtils.convert.colorToCSSColorString(\n\t\t\t\t\thslTo(clonedColor, 'hsv')\n\t\t\t\t),\n\t\t\t\tlab: await coreUtils.convert.colorToCSSColorString(\n\t\t\t\t\thslTo(clonedColor, 'lab')\n\t\t\t\t),\n\t\t\t\trgb: await coreUtils.convert.colorToCSSColorString(\n\t\t\t\t\thslTo(clonedColor, 'rgb')\n\t\t\t\t),\n\t\t\t\txyz: await coreUtils.convert.colorToCSSColorString(\n\t\t\t\t\thslTo(clonedColor, 'xyz')\n\t\t\t\t)\n\t\t\t}\n\t\t}\n\t};\n}\n\nasync function paletteItemArray(\n\tbaseColor: HSL,\n\thues: number[],\n\tlimitDark: boolean,\n\tlimitGray: boolean,\n\tlimitLight: boolean\n): Promise<PaletteItem[]> {\n\tconst paletteItems: PaletteItem[] = [await paletteItem(baseColor)];\n\n\tfor (const [i, hue] of hues.entries()) {\n\t\tlet newColor: HSL | null = null;\n\n\t\tdo {\n\t\t\tconst sl = utils.random.sl() as SL;\n\n\t\t\tnewColor = utils.conversion.genAllColorValues({\n\t\t\t\tvalue: {\n\t\t\t\t\thue: coreUtils.brand.asRadial(hue),\n\t\t\t\t\t...sl.value\n\t\t\t\t},\n\t\t\t\tformat: 'hsl'\n\t\t\t}).hsl as HSL;\n\t\t} while (\n\t\t\tnewColor &&\n\t\t\t((limitGray && limits.isTooGray(newColor)) ||\n\t\t\t\t(limitDark && limits.isTooDark(newColor)) ||\n\t\t\t\t(limitLight && limits.isTooLight(newColor)))\n\t\t);\n\n\t\tif (newColor) {\n\t\t\tconst newPaletteItem = await paletteItem(newColor);\n\n\t\t\tpaletteItems.push(newPaletteItem);\n\n\t\t\tupdate.colorBox(newColor, i + 1);\n\t\t}\n\t}\n\n\treturn paletteItems;\n}\n\nexport const create = {\n\tbaseColor,\n\tpaletteItem,\n\tpaletteItemArray\n} as const;\n","// File: palette/common/utils/adjust.js\n\nimport { HSL } from '../../../types/index.js';\nimport { constsData as consts } from '../../../data/consts.js';\nimport { coreUtils, helpers } from '../../../common/index.js';\nimport { createLogger } from '../../../logger/index.js';\nimport { modeData as mode } from '../../../data/mode.js';\n\nconst adjustments = consts.adjustments;\nconst logMode = mode.logging;\n\nconst thisModule = 'palette/common/utils/adjust.js';\n\nconst logger = await createLogger();\n\nfunction sl(color: HSL): HSL {\n\tconst thisFunction = 'sl()';\n\n\ttry {\n\t\tif (!coreUtils.validate.colorValues(color)) {\n\t\t\tif (logMode.error)\n\t\t\t\tlogger.error(\n\t\t\t\t\t'Invalid color valus for adjustment.',\n\t\t\t\t\t`${thisModule} > ${thisFunction}`\n\t\t\t\t);\n\n\t\t\thelpers.dom.showToast('Invalid color values');\n\n\t\t\treturn color;\n\t\t}\n\n\t\tconst adjustedSaturation = Math.min(\n\t\t\tMath.max(color.value.saturation + adjustments.slaValue, 0),\n\t\t\t100\n\t\t);\n\t\tconst adjustedLightness = Math.min(100);\n\n\t\treturn {\n\t\t\tvalue: {\n\t\t\t\thue: color.value.hue,\n\t\t\t\tsaturation: coreUtils.brand.asPercentile(adjustedSaturation),\n\t\t\t\tlightness: coreUtils.brand.asPercentile(adjustedLightness)\n\t\t\t},\n\t\t\tformat: 'hsl'\n\t\t};\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`Error adjusting saturation and lightness: ${error}`,\n\t\t\t\t`${thisModule} > ${thisFunction}`\n\t\t\t);\n\n\t\treturn color;\n\t}\n}\n\nexport const adjust = { sl } as const;\n","// File: paelette/common/utils/probability.js\n\nimport { constsData as consts } from '../../../data/consts.js';\nimport { createLogger } from '../../../logger/index.js';\nimport { modeData as mode } from '../../../data/mode.js';\n\nconst logMode = mode.logging;\nconst probabilities = consts.probabilities;\n\nconst thisModule = 'common/utils/probabilities.js';\n\nconst logger = await createLogger();\n\nfunction getWeightedRandomInterval(): number {\n\tconst thisFunction = 'getWeightedRandomInterval()';\n\n\ttry {\n\t\tconst weights = probabilities.weights;\n\t\tconst probabilityValues = probabilities.values;\n\t\tconst cumulativeProbabilities: number[] = probabilityValues.reduce(\n\t\t\t(acc: number[], prob: number, i: number) => {\n\t\t\t\tacc[i] = (acc[i - 1] || 0) + prob;\n\n\t\t\t\treturn acc;\n\t\t\t},\n\t\t\t[]\n\t\t);\n\t\tconst random = Math.random();\n\n\t\tfor (let i = 0; i < cumulativeProbabilities.length; i++) {\n\t\t\tif (random < cumulativeProbabilities[i]) return weights[i];\n\t\t}\n\n\t\treturn weights[weights.length - 1];\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`Error generating weighted random interval: ${error}`,\n\t\t\t\t`${thisModule} > ${thisFunction}`\n\t\t\t);\n\n\t\treturn 50;\n\t}\n}\n\nexport const probability = {\n\tgetWeightedRandomInterval\n} as const;\n","// File: palette/common/utils/index.js\n\nimport { Palette_CommonFn_MasterInterface } from '../../../types/index.js';\nimport { adjust } from './adjust.js';\nimport { probability } from './probability.js';\n\nexport const utils: Palette_CommonFn_MasterInterface['utils'] = {\n\tadjust,\n\tprobability\n} as const;\n","// File: palette/common/superUtils/genHues.js\n\nimport { HSL } from '../../../types/index.js';\nimport { coreUtils, utils } from '../../../common/index.js';\nimport { createLogger } from '../../../logger/index.js';\nimport { modeData as mode } from '../../../data/mode.js';\nimport { utils as paletteUtils } from '../utils/index.js';\n\nconst logMode = mode.logging;\nconst thisModule = 'palette/common/superUtils/genHues.js';\n\nconst logger = await createLogger();\n\nconst genAllColorValues = utils.conversion.genAllColorValues;\nconst getWeightedRandomInterval =\n\tpaletteUtils.probability.getWeightedRandomInterval;\nconst validateColorValues = coreUtils.validate.colorValues;\n\nfunction analogous(color: HSL, numBoxes: number): number[] {\n\tconst thisFunction = 'analogous()';\n\n\ttry {\n\t\tif (!validateColorValues(color)) {\n\t\t\tif (logMode.error)\n\t\t\t\tlogger.error(\n\t\t\t\t\t`Invalid color value ${JSON.stringify(color)}`,\n\t\t\t\t\t`${thisModule} > ${thisFunction}`\n\t\t\t\t);\n\n\t\t\treturn [];\n\t\t}\n\n\t\tconst clonedColor = coreUtils.base.clone(color) as HSL;\n\n\t\tconst analogousHues: number[] = [];\n\t\tconst baseHue = clonedColor.value.hue;\n\t\tconst maxTotalDistance = 60;\n\t\tconst minTotalDistance = Math.max(20, 10 + (numBoxes - 2) * 12);\n\t\tconst totalIncrement =\n\t\t\tMath.floor(\n\t\t\t\tMath.random() * (maxTotalDistance - minTotalDistance + 1)\n\t\t\t) + minTotalDistance;\n\t\tconst increment = Math.floor(totalIncrement / (numBoxes - 1));\n\n\t\tfor (let i = 1; i < numBoxes; i++) {\n\t\t\tanalogousHues.push((baseHue + increment * i) % 360);\n\t\t}\n\n\t\treturn analogousHues;\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`Error generating analogous hues: ${error}`,\n\t\t\t\t`${thisModule} > ${thisFunction}`\n\t\t\t);\n\n\t\treturn [];\n\t}\n}\n\nfunction diadic(baseHue: number): number[] {\n\tconst thisFunction = 'diadic()';\n\n\ttry {\n\t\tconst clonedBaseHue = coreUtils.base.clone(baseHue);\n\t\tconst diadicHues = [];\n\t\tconst randomDistance = getWeightedRandomInterval();\n\t\tconst hue1 = clonedBaseHue;\n\t\tconst hue2 = (hue1 + randomDistance) % 360;\n\n\t\tdiadicHues.push(hue1, hue2);\n\n\t\treturn diadicHues;\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`Error generating diadic hues: ${error}`,\n\t\t\t\t`${thisModule} > ${thisFunction}`\n\t\t\t);\n\n\t\treturn [];\n\t}\n}\n\nfunction hexadic(color: HSL): number[] {\n\tconst thisFunction = 'hexadic()';\n\n\ttry {\n\t\tconst clonedColor = coreUtils.base.clone(color);\n\n\t\tif (!validateColorValues(clonedColor)) {\n\t\t\tif (logMode.error)\n\t\t\t\tlogger.error(\n\t\t\t\t\t`Invalid color value ${JSON.stringify(clonedColor)}`,\n\t\t\t\t\t`${thisModule} > ${thisFunction}`\n\t\t\t\t);\n\n\t\t\treturn [];\n\t\t}\n\n\t\tconst clonedBaseHSL = genAllColorValues(clonedColor).hsl as HSL;\n\n\t\tif (!clonedBaseHSL) {\n\t\t\tif (!mode.gracefulErrors)\n\t\t\t\tthrow new Error(\n\t\t\t\t\t'Unable to generate hexadic hues - missing HSL values'\n\t\t\t\t);\n\t\t\telse if (logMode.error)\n\t\t\t\tlogger.error(\n\t\t\t\t\t'Unable to generate hexadic hues - missing HSL values',\n\t\t\t\t\t`${thisModule} > ${thisFunction}`\n\t\t\t\t);\n\t\t\telse if (!mode.quiet && logMode.verbosity > 0)\n\t\t\t\tlogger.error(\n\t\t\t\t\t'Error generating hexadic hues',\n\t\t\t\t\t`${thisModule} > ${thisFunction}`\n\t\t\t\t);\n\n\t\t\treturn [];\n\t\t}\n\n\t\tconst hexadicHues: number[] = [];\n\t\tconst baseHue = clonedBaseHSL.value.hue;\n\t\tconst hue1 = baseHue;\n\t\tconst hue2 = (hue1 + 180) % 360;\n\t\tconst randomDistance = Math.floor(Math.random() * 61 + 30);\n\t\tconst hue3 = (hue1 + randomDistance) % 360;\n\t\tconst hue4 = (hue3 + 180) % 360;\n\t\tconst hue5 = (hue1 + 360 - randomDistance) % 360;\n\t\tconst hue6 = (hue5 + 180) % 360;\n\n\t\thexadicHues.push(hue1, hue2, hue3, hue4, hue5, hue6);\n\n\t\treturn hexadicHues;\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`Error generating hexadic hues: ${error}`,\n\t\t\t\t`${thisModule} > ${thisFunction}`\n\t\t\t);\n\n\t\treturn [];\n\t}\n}\n\nfunction splitComplementary(baseHue: number): number[] {\n\tconst thisFunction = 'splitComplementary()';\n\n\ttry {\n\t\tconst clonedBaseHue = coreUtils.base.clone(baseHue);\n\t\tconst modifier = Math.floor(Math.random() * 11) + 20;\n\n\t\treturn [\n\t\t\t(clonedBaseHue + 180 + modifier) % 360,\n\t\t\t(clonedBaseHue + 180 - modifier + 360) % 360\n\t\t];\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`Error generating split complementary hues: ${error}`,\n\t\t\t\t`${thisModule} > ${thisFunction}`\n\t\t\t);\n\n\t\treturn [];\n\t}\n}\n\nfunction tetradic(baseHue: number): number[] {\n\tconst thisFunction = 'tetradic()';\n\n\ttry {\n\t\tconst clonedBaseHue = coreUtils.base.clone(baseHue);\n\t\tconst randomOffset = Math.floor(Math.random() * 46) + 20;\n\t\tconst distance =\n\t\t\t90 + (Math.random() < 0.5 ? -randomOffset : randomOffset);\n\n\t\treturn [\n\t\t\tclonedBaseHue,\n\t\t\t(clonedBaseHue + 180) % 360,\n\t\t\t(clonedBaseHue + distance) % 360,\n\t\t\t(clonedBaseHue + distance + 180) % 360\n\t\t];\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`Error generating tetradic hues: ${error}`,\n\t\t\t\t`${thisModule} > ${thisFunction}`\n\t\t\t);\n\n\t\treturn [];\n\t}\n}\n\nfunction triadic(baseHue: number): number[] {\n\tconst thisFunction = 'triadic()';\n\n\ttry {\n\t\tconst clonedBaseHue = coreUtils.base.clone(baseHue);\n\n\t\treturn [120, 240].map(increment => (clonedBaseHue + increment) % 360);\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`Error generating triadic hues: ${error}`,\n\t\t\t\t`${thisModule} > ${thisFunction}`\n\t\t\t);\n\n\t\treturn [];\n\t}\n}\n\nexport const genHues = {\n\tanalogous,\n\tdiadic,\n\thexadic,\n\tsplitComplementary,\n\ttetradic,\n\ttriadic\n} as const;\n","// File: palette/common/superUtils.js\n\nimport { Palette_CommonFn_MasterInterface } from '../../../types/index.js';\nimport { create } from './create.js';\nimport { genHues } from './genHues.js';\n\nexport const superUtils: Palette_CommonFn_MasterInterface['superUtils'] = {\n\tcreate,\n\tgenHues\n} as const;\n","// File: dom/events/palette.js\n\nimport { UIFn_BaseInterface } from '../types/index.js';\nimport { domData } from '../data/dom.js';\nimport { createLogger } from '../logger/index.js';\nimport { modeData as mode } from '../data/mode.js';\n\nconst domIDs = domData.ids;\nconst logMode = mode.logging;\nconst thisModule = 'ui/base.js';\n\nconst logger = await createLogger();\n\nfunction enforceSwatchRules(\n\tminimumSwatches: number,\n\tmaximumSwatches?: number\n): void {\n\tconst thisFunction = 'enforceSwatchRules()';\n\tconst swatchNumberSelector = document.getElementById(\n\t\tdomIDs.static.selects.swatchGen\n\t) as HTMLSelectElement;\n\n\tif (!swatchNumberSelector) {\n\t\tif (logMode.error) {\n\t\t\tlogger.error(\n\t\t\t\t'paletteDropdown not found',\n\t\t\t\t`${thisModule} > ${thisFunction}`\n\t\t\t);\n\t\t}\n\t\tif (mode.stackTrace && logMode.verbosity > 3) {\n\t\t\tconsole.trace('enforceMinimumSwatches stack trace');\n\t\t}\n\n\t\treturn;\n\t}\n\n\tconst currentValue = parseInt(swatchNumberSelector.value, 10);\n\n\tlet newValue = currentValue;\n\n\t// ensue the value is within the allowed range\n\tif (currentValue < minimumSwatches) {\n\t\tnewValue = minimumSwatches;\n\t} else if (\n\t\tmaximumSwatches !== undefined &&\n\t\tcurrentValue > maximumSwatches\n\t) {\n\t\tnewValue = maximumSwatches;\n\t}\n\n\tif (newValue !== currentValue) {\n\t\t// update value in the dropdown menu\n\t\tswatchNumberSelector.value = newValue.toString();\n\n\t\t// trigger a change event to notify the application\n\t\tconst event = new Event('change', { bubbles: true });\n\t\ttry {\n\t\t\tswatchNumberSelector.dispatchEvent(event);\n\t\t} catch (error) {\n\t\t\tif (logMode.error) {\n\t\t\t\tlogger.error(\n\t\t\t\t\t`Failed to dispatch change event to palette-number-options dropdown menu: ${error}`,\n\t\t\t\t\t`${thisModule} > ${thisFunction}`\n\t\t\t\t);\n\t\t\t}\n\t\t\tthrow new Error(`Failed to dispatch change event: ${error}`);\n\t\t}\n\t}\n}\n\nexport const base: UIFn_BaseInterface = {\n\tenforceSwatchRules\n};\n","// File: ui/index.js\n\nimport { UIFn_MasterInterface } from '../types/index.js';\nimport { base } from './base.js';\n\nexport { UIManager } from './UIManager.js';\n\nexport const uiFn: UIFn_MasterInterface = {\n\t...base\n};\n","// File: palette/main/types/analogous.js\n\nimport {\n\tHSL,\n\tPalette,\n\tPaletteGenerationArgs,\n\tPaletteItem\n} from '../../../types/index.js';\nimport { IDBManager } from '../../../db/IDBManager.js';\nimport { coreUtils } from '../../../common/index.js';\nimport { superUtils as paletteSuperUtils } from '../../common/index.js';\nimport { uiFn } from '../../../ui/index.js';\n\nconst create = paletteSuperUtils.create;\nconst genHues = paletteSuperUtils.genHues;\n\nexport async function analogous(args: PaletteGenerationArgs): Promise<Palette> {\n\t// ensure at least 2 color swatches\n\tif (args.swatches < 2) uiFn.enforceSwatchRules(2);\n\n\tconst baseColor = create.baseColor(args.customColor);\n\tconst hues = genHues.analogous(baseColor, args.swatches);\n\tconst paletteItems: PaletteItem[] = [];\n\n\tfor (const [i, hue] of hues.entries()) {\n\t\tconst newColor: HSL = {\n\t\t\tvalue: {\n\t\t\t\thue: coreUtils.brand.asRadial(hue),\n\t\t\t\tsaturation: coreUtils.brand.asPercentile(\n\t\t\t\t\tMath.min(\n\t\t\t\t\t\t100,\n\t\t\t\t\t\tMath.max(\n\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\tbaseColor.value.saturation +\n\t\t\t\t\t\t\t\t(Math.random() - 0.5) * 10\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\tlightness: coreUtils.brand.asPercentile(\n\t\t\t\t\tMath.min(\n\t\t\t\t\t\t100,\n\t\t\t\t\t\tMath.max(\n\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\tbaseColor.value.lightness + (i % 2 === 0 ? 5 : -5)\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t},\n\t\t\tformat: 'hsl'\n\t\t};\n\n\t\tconst paletteItem = await create.paletteItem(newColor);\n\n\t\tpaletteItems.push(paletteItem);\n\t}\n\n\tconst idbManager = await IDBManager.getInstance();\n\n\tconst paletteID = await idbManager.getNextPaletteID();\n\n\tif (!paletteID) throw new Error('Palette ID is either null or undefined.');\n\n\tconst analogousPalette = await idbManager.savePaletteToDB(\n\t\t'analogous',\n\t\tpaletteItems,\n\t\tpaletteID,\n\t\targs.swatches,\n\t\targs.limitDark,\n\t\targs.limitGray,\n\t\targs.limitLight\n\t);\n\n\tif (!analogousPalette)\n\t\tthrow new Error('Analogous palette is null or undefined.');\n\telse return analogousPalette;\n}\n","// File: palette/main/types/complementary.js\n\nimport { HSL, Palette, PaletteGenerationArgs } from '../../../types/index.js';\nimport { IDBManager } from '../../../db/IDBManager.js';\nimport { commonFn } from '../../../common/index.js';\nimport { superUtils as paletteSuperUtils } from '../../common/index.js';\nimport { uiFn } from '../../../ui/index.js';\n\nconst brand = commonFn.core.brand;\nconst create = paletteSuperUtils.create;\n\nexport async function complementary(\n\targs: PaletteGenerationArgs\n): Promise<Palette> {\n\t// ensure at least 2 color swatches\n\tif (args.swatches !== 2) uiFn.enforceSwatchRules(2);\n\n\tconst swatches = 2;\n\n\tconst baseColor = create.baseColor(args.customColor);\n\tconst complementaryHue = (baseColor.value.hue + 180) % 360;\n\tconst complementaryColor: HSL = {\n\t\tvalue: {\n\t\t\thue: brand.asRadial(complementaryHue),\n\t\t\tsaturation: baseColor.value.saturation,\n\t\t\tlightness: baseColor.value.lightness\n\t\t},\n\t\tformat: 'hsl'\n\t};\n\tconst basePaletteItem = await create.paletteItem(baseColor);\n\n\tconst complementaryPaletteItem =\n\t\tawait create.paletteItem(complementaryColor);\n\n\tconst idbManager = await IDBManager.getInstance();\n\tconst paletteID = await idbManager.getNextPaletteID();\n\n\tif (!paletteID) throw new Error('Palette ID is either null or undefined.');\n\n\tconst complementaryPalette = await idbManager.savePaletteToDB(\n\t\t'complementary',\n\t\t[basePaletteItem, complementaryPaletteItem],\n\t\tpaletteID,\n\t\tswatches,\n\t\targs.limitDark,\n\t\targs.limitGray,\n\t\targs.limitLight\n\t);\n\n\tif (!complementaryPalette) {\n\t\tthrow new Error('Complementary palette is null or undefined.');\n\t}\n\n\treturn complementaryPalette;\n}\n","// File: palette/main/types/diadic.js\n\nimport {\n\tHSL,\n\tPalette,\n\tPaletteGenerationArgs,\n\tPaletteItem\n} from '../../../types/index.js';\nimport { IDBManager } from '../../../db/IDBManager.js';\nimport { coreUtils } from '../../../common/index.js';\nimport { constsData as consts } from '../../../data/consts.js';\nimport { superUtils as paletteSuperUtils } from '../../common/index.js';\nimport { uiFn } from '../../../ui/index.js';\n\nconst create = paletteSuperUtils.create;\nconst genHues = paletteSuperUtils.genHues;\nconst paletteRanges = consts.paletteRanges;\n\nexport async function diadic(args: PaletteGenerationArgs): Promise<Palette> {\n\t// ensure exactly 2 color swatches\n\tif (args.swatches !== 2) uiFn.enforceSwatchRules(2, 2);\n\n\tconst baseColor = create.baseColor(args.customColor);\n\tconst hues = genHues.diadic(baseColor.value.hue);\n\tconst paletteItems: PaletteItem[] = [];\n\n\tfor (let i = 0; i < 2; i++) {\n\t\tconst saturationShift =\n\t\t\tMath.random() * paletteRanges.shift.diadic.sat -\n\t\t\tpaletteRanges.shift.diadic.sat / 2;\n\t\tconst lightnessShift =\n\t\t\tMath.random() * paletteRanges.shift.diadic.light -\n\t\t\tpaletteRanges.shift.diadic.light / 2;\n\t\tconst newColor: HSL = {\n\t\t\tvalue: {\n\t\t\t\thue: coreUtils.brand.asRadial(hues[i % hues.length]),\n\t\t\t\tsaturation: coreUtils.brand.asPercentile(\n\t\t\t\t\tMath.min(\n\t\t\t\t\t\t100,\n\t\t\t\t\t\tMath.max(\n\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\tbaseColor.value.saturation + saturationShift\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\tlightness: coreUtils.brand.asPercentile(\n\t\t\t\t\tMath.min(\n\t\t\t\t\t\t100,\n\t\t\t\t\t\tMath.max(0, baseColor.value.lightness + lightnessShift)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t},\n\t\t\tformat: 'hsl'\n\t\t};\n\n\t\tconst paletteItem = await create.paletteItem(newColor);\n\t\tpaletteItems.push(paletteItem);\n\t}\n\n\tconst idbManager = await IDBManager.getInstance();\n\tconst paletteID = await idbManager.getNextPaletteID();\n\n\tif (!paletteID) throw new Error('Palette ID is either null or undefined.');\n\n\tconst diadicPalette = await idbManager.savePaletteToDB(\n\t\t'diadic',\n\t\tpaletteItems,\n\t\tpaletteID,\n\t\t2,\n\t\targs.limitDark,\n\t\targs.limitGray,\n\t\targs.limitLight\n\t);\n\n\tif (!diadicPalette)\n\t\tthrow new Error(`Diadic palette is either null or undefined.`);\n\telse return diadicPalette;\n}\n","// File: palette/main/types/hexadic.js\n\nimport {\n\tHSL,\n\tPalette,\n\tPaletteGenerationArgs,\n\tPaletteItem\n} from '../../../types/index.js';\nimport { IDBManager } from '../../../db/IDBManager.js';\nimport { coreUtils } from '../../../common/index.js';\nimport { constsData as consts } from '../../../data/consts.js';\nimport { superUtils as paletteSuperUtils } from '../../common/index.js';\nimport { uiFn } from '../../../ui/index.js';\n\nconst create = paletteSuperUtils.create;\nconst genHues = paletteSuperUtils.genHues;\nconst paletteRanges = consts.paletteRanges;\n\nexport async function hexadic(args: PaletteGenerationArgs): Promise<Palette> {\n\t// ensure exactly 6 color swatches\n\tif (args.swatches !== 6) uiFn.enforceSwatchRules(6, 6);\n\n\tconst baseColor = create.baseColor(args.customColor);\n\tconst hues = genHues.hexadic(baseColor);\n\n\tconst paletteItems: PaletteItem[] = [];\n\tfor (const hue of hues) {\n\t\tconst saturationShift =\n\t\t\tMath.random() * paletteRanges.shift.hexad.sat -\n\t\t\tpaletteRanges.shift.hexad.sat / 2;\n\t\tconst lightnessShift =\n\t\t\tMath.random() * paletteRanges.shift.hexad.light -\n\t\t\tpaletteRanges.shift.hexad.light / 2;\n\t\tconst newColor: HSL = {\n\t\t\tvalue: {\n\t\t\t\thue: coreUtils.brand.asRadial(hue),\n\t\t\t\tsaturation: coreUtils.brand.asPercentile(\n\t\t\t\t\tMath.min(\n\t\t\t\t\t\t100,\n\t\t\t\t\t\tMath.max(\n\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\tbaseColor.value.saturation + saturationShift\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\tlightness: coreUtils.brand.asPercentile(\n\t\t\t\t\tMath.min(\n\t\t\t\t\t\t100,\n\t\t\t\t\t\tMath.max(0, baseColor.value.lightness + lightnessShift)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t},\n\t\t\tformat: 'hsl'\n\t\t};\n\n\t\tconst paletteItem = await create.paletteItem(newColor);\n\n\t\tpaletteItems.push(paletteItem);\n\t}\n\n\tconst idbManager = await IDBManager.getInstance();\n\tconst paletteID = await idbManager.getNextPaletteID();\n\n\tif (!paletteID) throw new Error('Palette ID is either null or undefined.');\n\n\tconst hexadicPalette = await idbManager.savePaletteToDB(\n\t\t'hexadic',\n\t\tpaletteItems,\n\t\tpaletteID,\n\t\targs.swatches,\n\t\targs.limitDark,\n\t\targs.limitGray,\n\t\targs.limitLight\n\t);\n\n\tif (!hexadicPalette) {\n\t\tthrow new Error('Hexadic palette is either null or undefined.');\n\t} else {\n\t\treturn hexadicPalette;\n\t}\n}\n","// File: palette/main/types/monochromatic.js\n\nimport {\n\tPalette,\n\tPaletteGenerationArgs,\n\tPaletteItem\n} from '../../../types/index.js';\nimport { IDBManager } from '../../../db/IDBManager.js';\nimport { coreUtils, utils } from '../../../common/index.js';\nimport { superUtils as paletteSuperUtils } from '../../common/index.js';\nimport { uiFn } from '../../../ui/index.js';\n\nconst create = paletteSuperUtils.create;\n\nexport async function monochromatic(\n\targs: PaletteGenerationArgs\n): Promise<Palette> {\n\t// ensure at least 2 color swatches\n\tif (args.swatches < 2) uiFn.enforceSwatchRules(2);\n\n\tconst baseColor = create.baseColor(args.customColor);\n\tconst paletteItems: PaletteItem[] = [];\n\tconst basePaletteItem = await create.paletteItem(baseColor);\n\n\tpaletteItems.push(basePaletteItem);\n\n\tfor (let i = 1; i < args.swatches; i++) {\n\t\tconst hueShift = Math.random() * 10 - 5;\n\t\tconst newColor = utils.conversion.genAllColorValues({\n\t\t\tvalue: {\n\t\t\t\thue: coreUtils.brand.asRadial(\n\t\t\t\t\t(baseColor.value.hue + hueShift + 360) % 360\n\t\t\t\t),\n\t\t\t\tsaturation: coreUtils.brand.asPercentile(\n\t\t\t\t\tMath.min(\n\t\t\t\t\t\t100,\n\t\t\t\t\t\tMath.max(0, baseColor.value.saturation - i * 5)\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\tlightness: coreUtils.brand.asPercentile(\n\t\t\t\t\tMath.min(\n\t\t\t\t\t\t100,\n\t\t\t\t\t\tMath.max(0, baseColor.value.lightness + (i * 10 - 20))\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t},\n\t\t\tformat: 'hsl'\n\t\t}).hsl;\n\n\t\tif (newColor) {\n\t\t\tconst paletteItem = await create.paletteItem(newColor);\n\n\t\t\tpaletteItems.push(paletteItem);\n\t\t}\n\t}\n\n\tconst idbManager = await IDBManager.getInstance();\n\tconst paletteID = await idbManager.getNextPaletteID();\n\n\tif (!paletteID) throw new Error('Palette ID is either null or undefined.');\n\n\tconst monochromaticPalette = await idbManager.savePaletteToDB(\n\t\t'monochromatic',\n\t\tpaletteItems,\n\t\tpaletteID,\n\t\targs.swatches,\n\t\targs.limitDark,\n\t\targs.limitGray,\n\t\targs.limitLight\n\t);\n\n\tif (!monochromaticPalette) {\n\t\tthrow new Error('Monochromatic palette is either null or undefined.');\n\t} else {\n\t\treturn monochromaticPalette;\n\t}\n}\n","// File: paletteGen/palettes/types/random.js\n\nimport {\n\tPalette,\n\tPaletteGenerationArgs,\n\tPaletteItem\n} from '../../../types/index.js';\nimport { IDBManager } from '../../../db/IDBManager.js';\nimport {\n\thelpers as paletteHelpers,\n\tsuperUtils as paletteSuperUtils\n} from '../../common/index.js';\nimport { utils } from '../../../common/index.js';\n\nconst create = paletteSuperUtils.create;\nconst update = paletteHelpers.update;\n\nexport async function random(args: PaletteGenerationArgs): Promise<Palette> {\n\tconst baseColor = create.baseColor(args.customColor);\n\tconst paletteItems: PaletteItem[] = [await create.paletteItem(baseColor)];\n\n\tfor (let i = 1; i < args.swatches; i++) {\n\t\tconst randomColor = utils.random.hsl();\n\t\tconst nextPaletteItem = await create.paletteItem(randomColor);\n\n\t\tpaletteItems.push(nextPaletteItem);\n\n\t\tupdate.colorBox(randomColor, i);\n\t}\n\n\tconst idbManager = await IDBManager.getInstance();\n\tconst paletteID = await idbManager.getNextPaletteID();\n\n\tif (!paletteID) throw new Error('Palette ID is either null or undefined.');\n\n\tconst randomPalette = await idbManager.savePaletteToDB(\n\t\t'random',\n\t\tpaletteItems,\n\t\tpaletteID,\n\t\targs.swatches,\n\t\targs.limitDark,\n\t\targs.limitGray,\n\t\targs.limitLight\n\t);\n\n\tif (!randomPalette)\n\t\tthrow new Error('Random palette is either null or undefined.');\n\telse return randomPalette;\n}\n","// File: palette/main/types/splitComplementary.js\n\nimport {\n\tHSL,\n\tPalette,\n\tPaletteGenerationArgs,\n\tPaletteItem\n} from '../../../types/index.js';\nimport { IDBManager } from '../../../db/IDBManager.js';\nimport { coreUtils, utils } from '../../../common/index.js';\nimport { constsData as consts } from '../../../data/consts.js';\nimport { superUtils as paletteSuperUtils } from '../../common/index.js';\nimport { uiFn } from '../../../ui/index.js';\n\nconst create = paletteSuperUtils.create;\nconst genHues = paletteSuperUtils.genHues;\nconst paletteRanges = consts.paletteRanges;\n\nexport async function splitComplementary(\n\targs: PaletteGenerationArgs\n): Promise<Palette> {\n\t// ensure exactly 3 color swatches\n\tif (args.swatches !== 3) uiFn.enforceSwatchRules(3, 3);\n\n\t// base color setup\n\tconst baseColor = create.baseColor(args.customColor);\n\n\t// generate split complementary hues\n\tconst [hue1, hue2] = genHues.splitComplementary(baseColor.value.hue);\n\n\t// initialize palette items array\n\tconst paletteItems: PaletteItem[] = [];\n\n\t// add base color as the first item in the array\n\tconst basePaletteItem = await create.paletteItem(baseColor);\n\tpaletteItems.push(basePaletteItem);\n\n\tfor (const [index, hue] of [hue1, hue2].entries()) {\n\t\tconst adjustedHSL: HSL = {\n\t\t\tvalue: {\n\t\t\t\thue: coreUtils.brand.asRadial(hue),\n\t\t\t\tsaturation: coreUtils.brand.asPercentile(\n\t\t\t\t\tMath.max(\n\t\t\t\t\t\t0,\n\t\t\t\t\t\tMath.min(\n\t\t\t\t\t\t\tbaseColor.value.saturation +\n\t\t\t\t\t\t\t\t(index === 0\n\t\t\t\t\t\t\t\t\t? -paletteRanges.shift.splitComp.sat\n\t\t\t\t\t\t\t\t\t: paletteRanges.shift.splitComp.sat),\n\t\t\t\t\t\t\t100\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\tlightness: coreUtils.brand.asPercentile(\n\t\t\t\t\tMath.max(\n\t\t\t\t\t\t0,\n\t\t\t\t\t\tMath.min(\n\t\t\t\t\t\t\tbaseColor.value.lightness +\n\t\t\t\t\t\t\t\t(index === 0\n\t\t\t\t\t\t\t\t\t? -paletteRanges.shift.splitComp.light\n\t\t\t\t\t\t\t\t\t: paletteRanges.shift.splitComp.light),\n\t\t\t\t\t\t\t100\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t},\n\t\t\tformat: 'hsl'\n\t\t};\n\n\t\tconst adjustedColor =\n\t\t\tutils.conversion.genAllColorValues(adjustedHSL).hsl;\n\n\t\tif (adjustedColor) {\n\t\t\tconst paletteItem = await create.paletteItem(adjustedColor);\n\n\t\t\tpaletteItems.push(paletteItem);\n\t\t}\n\t}\n\n\tconst idbManager = await IDBManager.getInstance();\n\tconst paletteID = await idbManager.getNextPaletteID();\n\n\tif (!paletteID) throw new Error('Palette ID is either null or undefined.');\n\n\tconst splitComplementaryPalette = await idbManager.savePaletteToDB(\n\t\t'splitComplementary',\n\t\tpaletteItems,\n\t\tpaletteID,\n\t\targs.swatches,\n\t\targs.limitDark,\n\t\targs.limitGray,\n\t\targs.limitLight\n\t);\n\n\tif (!splitComplementaryPalette) {\n\t\tthrow new Error(\n\t\t\t'Split complementary palette is either null or undefined.'\n\t\t);\n\t}\n\n\treturn splitComplementaryPalette;\n}\n","// File: palette/main/types/tetradic.js\n\nimport {\n\tHSL,\n\tPalette,\n\tPaletteGenerationArgs,\n\tPaletteItem\n} from '../../../types/index.js';\nimport { IDBManager } from '../../../db/IDBManager.js';\nimport { coreUtils, utils } from '../../../common/index.js';\nimport { constsData as consts } from '../../../data/consts.js';\nimport { superUtils as paletteSuperUtils } from '../../common/index.js';\nimport { uiFn } from '../../../ui/index.js';\n\nconst create = paletteSuperUtils.create;\nconst genHues = paletteSuperUtils.genHues;\nconst paletteRanges = consts.paletteRanges;\n\nexport async function tetradic(args: PaletteGenerationArgs): Promise<Palette> {\n\t// ensure exactly 4 swatches\n\tif (args.swatches !== 4) uiFn.enforceSwatchRules(4, 4);\n\n\t// base color setup\n\tconst baseColor = create.baseColor(args.customColor);\n\n\t// generate tetradic hues\n\tconst tetradicHues = genHues.tetradic(baseColor.value.hue);\n\n\t// initialize palette items array\n\tconst paletteItems: PaletteItem[] = [];\n\n\t// add the base color as the first palette item\n\tconst basePaletteItem = await create.paletteItem(baseColor);\n\n\tpaletteItems.push(basePaletteItem);\n\n\t// add the tetradic colors sequentially\n\tfor (let index = 0; index < tetradicHues.length; index++) {\n\t\tconst hue = tetradicHues[index];\n\t\tconst adjustedHSL: HSL = {\n\t\t\tvalue: {\n\t\t\t\thue: coreUtils.brand.asRadial(hue),\n\t\t\t\tsaturation: coreUtils.brand.asPercentile(\n\t\t\t\t\tMath.max(\n\t\t\t\t\t\t0,\n\t\t\t\t\t\tMath.min(\n\t\t\t\t\t\t\tbaseColor.value.saturation +\n\t\t\t\t\t\t\t\t(index % 2 === 0\n\t\t\t\t\t\t\t\t\t? -paletteRanges.shift.tetra.sat\n\t\t\t\t\t\t\t\t\t: paletteRanges.shift.tetra.sat),\n\t\t\t\t\t\t\t100\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\tlightness: coreUtils.brand.asPercentile(\n\t\t\t\t\tMath.max(\n\t\t\t\t\t\t0,\n\t\t\t\t\t\tMath.min(\n\t\t\t\t\t\t\tbaseColor.value.lightness +\n\t\t\t\t\t\t\t\t(index % 2 === 0\n\t\t\t\t\t\t\t\t\t? -paletteRanges.shift.tetra.light\n\t\t\t\t\t\t\t\t\t: paletteRanges.shift.tetra.light),\n\t\t\t\t\t\t\t100\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t},\n\t\t\tformat: 'hsl'\n\t\t};\n\n\t\t// generate all color values and create the palette item\n\t\tconst adjustedColor = utils.conversion.genAllColorValues(adjustedHSL)\n\t\t\t.hsl as HSL;\n\t\tconst paletteItem = await create.paletteItem(adjustedColor);\n\t\tpaletteItems.push(paletteItem);\n\t}\n\n\tconst idbManager = await IDBManager.getInstance();\n\tconst paletteID = await idbManager.getNextPaletteID();\n\n\tif (!paletteID) throw new Error('Palette ID is either null or undefined.');\n\n\t// save the palette to the database\n\tconst tetradicPalette = await idbManager.savePaletteToDB(\n\t\t'tetradic',\n\t\tpaletteItems,\n\t\tpaletteID,\n\t\targs.swatches,\n\t\targs.limitDark,\n\t\targs.limitGray,\n\t\targs.limitLight\n\t);\n\n\t// handle null or undefined palette\n\tif (!tetradicPalette) {\n\t\tthrow new Error('Tetradic palette is either null or undefined.');\n\t}\n\n\treturn tetradicPalette;\n}\n","// File: palette/main/types/triadic.js\n\nimport {\n\tHSL,\n\tPalette,\n\tPaletteGenerationArgs,\n\tPaletteItem\n} from '../../../types/index.js';\nimport { IDBManager } from '../../../db/IDBManager.js';\nimport { coreUtils, utils } from '../../../common/index.js';\nimport { constsData as consts } from '../../../data/consts.js';\nimport { superUtils as paletteSuperUtils } from '../../common/index.js';\nimport { uiFn } from '../../../ui/index.js';\n\nconst conversion = utils.conversion;\nconst create = paletteSuperUtils.create;\nconst genHues = paletteSuperUtils.genHues;\nconst paletteRanges = consts.paletteRanges;\n\nexport async function triadic(args: PaletteGenerationArgs): Promise<Palette> {\n\t// ensure exactly 3 swatches\n\tif (args.swatches !== 3) uiFn.enforceSwatchRules(3, 3);\n\n\t// base color setup\n\tconst baseColor = create.baseColor(args.customColor);\n\n\t// generate triadic hues\n\tconst hues = genHues.triadic(baseColor.value.hue);\n\n\t// initialize palette items array\n\tconst paletteItems: PaletteItem[] = [];\n\n\t// add the base color as the first palette item\n\tconst basePaletteItem = await create.paletteItem(baseColor);\n\tpaletteItems.push(basePaletteItem);\n\n\t// add the triadic colors sequentially\n\tfor (let index = 0; index < hues.length; index++) {\n\t\tconst hue = hues[index];\n\t\tconst adjustedHSL: HSL = {\n\t\t\tvalue: {\n\t\t\t\thue: coreUtils.brand.asRadial(hue),\n\t\t\t\tsaturation: coreUtils.brand.asPercentile(\n\t\t\t\t\tMath.max(\n\t\t\t\t\t\t0,\n\t\t\t\t\t\tMath.min(\n\t\t\t\t\t\t\tbaseColor.value.saturation +\n\t\t\t\t\t\t\t\t(index % 2 === 0\n\t\t\t\t\t\t\t\t\t? -paletteRanges.shift.triad.sat\n\t\t\t\t\t\t\t\t\t: paletteRanges.shift.triad.sat),\n\t\t\t\t\t\t\t100\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\tlightness: coreUtils.brand.asPercentile(\n\t\t\t\t\tMath.max(\n\t\t\t\t\t\t0,\n\t\t\t\t\t\tMath.min(\n\t\t\t\t\t\t\tbaseColor.value.lightness +\n\t\t\t\t\t\t\t\t(index % 2 === 0\n\t\t\t\t\t\t\t\t\t? -paletteRanges.shift.triad.light\n\t\t\t\t\t\t\t\t\t: paletteRanges.shift.triad.light),\n\t\t\t\t\t\t\t100\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t},\n\t\t\tformat: 'hsl'\n\t\t};\n\n\t\t// generate all color values and create the palette item\n\t\tconst adjustedColor = conversion.genAllColorValues(adjustedHSL)\n\t\t\t.hsl as HSL;\n\t\tconst paletteItem = await create.paletteItem(adjustedColor);\n\t\tpaletteItems.push(paletteItem);\n\t}\n\n\tconst idbManager = await IDBManager.getInstance();\n\tconst paletteID = await idbManager.getNextPaletteID();\n\n\tif (!paletteID) throw new Error('Palette ID is either null or undefined.');\n\n\t// save the palette to the database\n\tconst triadicPalette = await idbManager.savePaletteToDB(\n\t\t'triadic',\n\t\tpaletteItems,\n\t\tpaletteID,\n\t\targs.swatches,\n\t\targs.limitDark,\n\t\targs.limitGray,\n\t\targs.limitLight\n\t);\n\n\t// handle null or undefined palette\n\tif (!triadicPalette) {\n\t\tthrow new Error('Triadic palette is either null or undefined.');\n\t}\n\n\treturn triadicPalette;\n}\n","// File: palette/main/index.js\n\nimport { PaletteGenerationInterface } from '../../types/index.js';\nimport { analogous } from './types/analogous.js';\nimport { complementary } from './types/complementary.js';\nimport { diadic } from './types/diadic.js';\nimport { hexadic } from './types/hexadic.js';\nimport { monochromatic } from './types/monochromatic.js';\nimport { random } from './types/random.js';\nimport { splitComplementary } from './types/splitComplementary.js';\nimport { tetradic } from './types/tetradic.js';\nimport { triadic } from './types/triadic.js';\n\nexport const genPalette: PaletteGenerationInterface = {\n\tanalogous,\n\tcomplementary,\n\tdiadic,\n\thexadic,\n\tmonochromatic,\n\trandom,\n\tsplitComplementary,\n\ttetradic,\n\ttriadic\n};\n","// File: palette/main.js\n\nimport {\n\tHSL,\n\tPalette,\n\tPaletteFn_MasterInterface,\n\tPaletteGenerationArgs,\n\tPaletteItem,\n\tPaletteOptions\n} from '../types/index.js';\nimport { IDBManager } from '../db/IDBManager.js';\nimport { UIManager } from '../ui/UIManager.js';\nimport { coreUtils, helpers, transformUtils, utils } from '../common/index.js';\nimport { createLogger } from '../logger/index.js';\nimport { defaultData as defaults } from '../data/defaults.js';\nimport { genPalette as genPaletteType } from './main/index.js';\nimport { helpers as paletteHelpers } from './common/index.js';\nimport { modeData as mode } from '../data/mode.js';\n\nconst defaultPalette = defaults.palette.unbranded.data;\nconst defaultBrandedPalete = transformUtils.brandPalette(defaultPalette);\n\nconst limits = paletteHelpers.limits;\nconst logMode = mode.logging;\nconst thisModule = 'palette/main.js';\n\nconst logger = await createLogger();\n\nconst isTooDark = limits.isTooDark;\nconst isTooGray = limits.isTooGray;\nconst isTooLight = limits.isTooLight;\n\nasync function paletteGeneration(options: PaletteOptions): Promise<void> {\n\tconst thisFunction = 'paletteGeneration()';\n\n\ttry {\n\t\tlet { swatches, customColor } = options;\n\n\t\tif (logMode.info && logMode.verbosity > 2)\n\t\t\tlogger.info(\n\t\t\t\t'Retrieving existing IDBManager instance.',\n\t\t\t\t`${thisModule} > ${thisFunction}`\n\t\t\t);\n\n\t\tconst idb = await IDBManager.getInstance();\n\n\t\tif (customColor === null || customColor === undefined) {\n\t\t\tif (logMode.error)\n\t\t\t\tlogger.error(\n\t\t\t\t\t'Custom color is null or undefined.',\n\t\t\t\t\t`${thisModule} > ${thisFunction}`\n\t\t\t\t);\n\n\t\t\treturn;\n\t\t}\n\n\t\tconst validatedCustomColor: HSL =\n\t\t\t((await helpers.dom.validateAndConvertColor(customColor)) as HSL) ??\n\t\t\tutils.random.hsl();\n\n\t\toptions.customColor = validatedCustomColor;\n\n\t\tif (!customColor) {\n\t\t\tlogger.error(\n\t\t\t\t'Custom color is null or undefined.',\n\t\t\t\t`${thisModule} > ${thisFunction}`\n\t\t\t);\n\t\t\treturn;\n\t\t}\n\t\tif (mode.debug && logMode.info && logMode.verbosity > 2) {\n\t\t\tlogger.info(\n\t\t\t\t`Validated custom color: ${JSON.stringify(customColor)}`,\n\t\t\t\t`${thisModule} > ${thisFunction}`\n\t\t\t);\n\t\t}\n\n\t\tconst palette = await generate.selectedPalette(options);\n\n\t\tif (palette.items.length === 0) {\n\t\t\tif (logMode.error)\n\t\t\t\tlogger.error(\n\t\t\t\t\t'Colors array is empty or invalid.',\n\t\t\t\t\t`${thisModule} > ${thisFunction}`\n\t\t\t\t);\n\n\t\t\treturn;\n\t\t}\n\n\t\tif (!mode.quiet && logMode.info && logMode.verbosity > 0)\n\t\t\tlogger.info(\n\t\t\t\t`Colors array generated: ${JSON.stringify(palette.items)}`,\n\t\t\t\t`${thisModule} > ${thisFunction}`\n\t\t\t);\n\n\t\tconst tableId = await idb.getNextTableID();\n\n\t\tif (!tableId) throw new Error('Table ID is null or undefined.');\n\n\t\tconst uiManager = new UIManager();\n\n\t\tuiManager.addPaletteToHistory(palette);\n\n\t\tawait paletteDomBoxGeneration(palette.items, swatches, tableId);\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`Error starting palette generation: ${error}`,\n\t\t\t\t`${thisModule} > ${thisFunction}`\n\t\t\t);\n\t}\n}\n\nasync function paletteDomBoxGeneration(\n\titems: PaletteItem[],\n\tnumBoxes: number,\n\ttableId: string\n): Promise<void> {\n\tconst thisFunction = 'paletteDomBoxGeneration()';\n\n\ttry {\n\t\tconst paletteRow = document.getElementById('palette-row');\n\t\tconst idbManager = await IDBManager.getInstance();\n\n\t\tif (!paletteRow) {\n\t\t\tif (logMode.error)\n\t\t\t\tlogger.error(\n\t\t\t\t\t'paletteRow is undefined.',\n\t\t\t\t\t`${thisModule} > ${thisFunction}`\n\t\t\t\t);\n\n\t\t\treturn;\n\t\t}\n\n\t\tpaletteRow.innerHTML = '';\n\n\t\tconst fragment = document.createDocumentFragment();\n\n\t\tfor (let i = 0; i < Math.min(items.length, numBoxes); i++) {\n\t\t\tconst item = items[i];\n\t\t\tconst color: HSL = { value: item.colors.main.hsl, format: 'hsl' };\n\t\t\tconst { colorStripe } = await helpers.dom.makePaletteBox(\n\t\t\t\tcolor,\n\t\t\t\ti + 1\n\t\t\t);\n\n\t\t\tfragment.appendChild(colorStripe);\n\n\t\t\tutils.palette.populateOutputBox(color, i + 1);\n\t\t}\n\n\t\tpaletteRow.appendChild(fragment);\n\n\t\tif (!mode.quiet && logMode.info && logMode.verbosity > 1)\n\t\t\tlogger.info(\n\t\t\t\t'Palette boxes generated and rendered.',\n\t\t\t\t`${thisModule} > ${thisFunction}`\n\t\t\t);\n\n\t\tawait idbManager.saveData('tables', tableId, { palette: items });\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`Error generating palette box: ${error}`,\n\t\t\t\t`${thisModule} > ${thisFunction}`\n\t\t\t);\n\t}\n}\n\nexport const start: PaletteFn_MasterInterface['start'] = {\n\tpaletteDomBoxGeneration,\n\tpaletteGeneration\n} as const;\n\n// ******** GENERATE ********\n\nfunction limitedHSL(\n\tbaseHue: number,\n\tlimitDark: boolean,\n\tlimitGray: boolean,\n\tlimitLight: boolean\n): HSL {\n\tlet hsl: HSL;\n\n\tdo {\n\t\thsl = {\n\t\t\tvalue: {\n\t\t\t\thue: coreUtils.brand.asRadial(baseHue),\n\t\t\t\tsaturation: coreUtils.brand.asPercentile(Math.random() * 100),\n\t\t\t\tlightness: coreUtils.brand.asPercentile(Math.random() * 100)\n\t\t\t},\n\t\t\tformat: 'hsl'\n\t\t};\n\t} while (\n\t\t(limitGray && isTooGray(hsl)) ||\n\t\t(limitDark && isTooDark(hsl)) ||\n\t\t(limitLight && isTooLight(hsl))\n\t);\n\n\treturn hsl;\n}\n\nasync function selectedPalette(options: PaletteOptions): Promise<Palette> {\n\tconst thisFunction = 'selectedPalette()';\n\n\ttry {\n\t\tconst { customColor, flags, swatches, type } = options;\n\n\t\tconst args: PaletteGenerationArgs = {\n\t\t\tswatches,\n\t\t\ttype,\n\t\t\tcustomColor,\n\t\t\tlimitDark: flags.limitDark,\n\t\t\tlimitGray: flags.limitGray,\n\t\t\tlimitLight: flags.limitLight\n\t\t};\n\n\t\tif (!mode.quiet && logMode.debug && logMode.verbosity > 2) {\n\t\t\tlogger.debug(\n\t\t\t\t`Generating palette with type #: ${type}`,\n\t\t\t\t`${thisModule} > ${thisFunction}`\n\t\t\t);\n\t\t}\n\n\t\tswitch (type) {\n\t\t\tcase 1:\n\t\t\t\treturn genPaletteType.random(args);\n\t\t\tcase 2:\n\t\t\t\treturn genPaletteType.complementary(args);\n\t\t\tcase 3:\n\t\t\t\treturn genPaletteType.triadic(args);\n\t\t\tcase 4:\n\t\t\t\treturn genPaletteType.tetradic(args);\n\t\t\tcase 5:\n\t\t\t\treturn genPaletteType.splitComplementary(args);\n\t\t\tcase 6:\n\t\t\t\treturn genPaletteType.analogous(args);\n\t\t\tcase 7:\n\t\t\t\treturn genPaletteType.hexadic(args);\n\t\t\tcase 8:\n\t\t\t\treturn genPaletteType.diadic(args);\n\t\t\tcase 9:\n\t\t\t\treturn genPaletteType.monochromatic(args);\n\t\t\tdefault:\n\t\t\t\tif (logMode.error)\n\t\t\t\t\tlogger.error(\n\t\t\t\t\t\t'Invalid palette type.',\n\t\t\t\t\t\t`${thisModule} > ${thisFunction}`\n\t\t\t\t\t);\n\n\t\t\t\treturn Promise.resolve(defaultBrandedPalete);\n\t\t}\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`Error generating palette: ${error}`,\n\t\t\t\t`${thisModule} > ${thisFunction}`\n\t\t\t);\n\n\t\treturn Promise.resolve(defaultBrandedPalete);\n\t}\n}\n\nexport const generate: PaletteFn_MasterInterface['generate'] = {\n\tlimitedHSL,\n\tselectedPalette\n} as const;\n","// File: dom/eventListeners.js\n\nimport {\n\tColorSpace,\n\tDOMFn_MasterInterface,\n\tHSL,\n\tPaletteOptions\n} from '../types/index.js';\nimport { IDBManager } from '../db/IDBManager.js';\nimport { coreUtils, superUtils, utils } from '../common/index.js';\nimport { constsData as consts } from '../data/consts.js';\nimport { createLogger } from '../logger/index.js';\nimport { domData } from '../data/dom.js';\nimport { parse } from './parse.js';\nimport { modeData as mode } from '../data/mode.js';\nimport { start } from '../palette/index.js';\nimport { UIManager } from '../ui/index.js';\n\nconst btnDebounce = consts.debounce.btn || 300;\nconst logMode = mode.logging;\nconst uiElements = domData.elements.static;\nconst uiElementIDs = domData.ids.static;\n\nconst thisModule = 'dom/eventListeners.js';\n\nconst logger = await createLogger();\n\nconst idb = await IDBManager.getInstance();\nconst uiManager = new UIManager();\n\nfunction addEventListener<K extends keyof HTMLElementEventMap>(\n\tid: string,\n\teventType: K,\n\tcallback: (ev: HTMLElementEventMap[K]) => void\n): void {\n\tconst thisFunction = 'addEventListener()';\n\tconst element = document.getElementById(id);\n\n\tif (element) {\n\t\telement.addEventListener(eventType, callback);\n\t} else if (logMode.warn) {\n\t\tif (mode.debug && logMode.warn && logMode.verbosity > 2)\n\t\t\tlogger.warn(\n\t\t\t\t`Element with id \"${id}\" not found.`,\n\t\t\t\t`${thisModule} > ${thisFunction}`\n\t\t\t);\n\t}\n}\n\nfunction initializeEventListeners(): void {\n\tconst thisFunction = 'initializeEventListeners()';\n\n\tconst addConversionListener = (id: string, colorSpace: string) => {\n\t\tconst btn = document.getElementById(id) as HTMLButtonElement | null;\n\n\t\tif (btn) {\n\t\t\tif (coreUtils.guards.isColorSpace(colorSpace)) {\n\t\t\t\tbtn.addEventListener('click', () =>\n\t\t\t\t\tsuperUtils.dom.switchColorSpace(colorSpace as ColorSpace)\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tif (logMode.warn) {\n\t\t\t\t\tlogger.warn(\n\t\t\t\t\t\t`Invalid color space provided: ${colorSpace}`,\n\t\t\t\t\t\t`${thisModule} > ${thisFunction}`\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tif (logMode.warn)\n\t\t\t\tlogger.warn(\n\t\t\t\t\t`Element with id \"${id}\" not found.`,\n\t\t\t\t\t`${thisModule} > ${thisFunction}`\n\t\t\t\t);\n\t\t}\n\t};\n\n\taddConversionListener(String(uiElementIDs.btns.showAsCMYK), 'cmyk');\n\taddConversionListener(String(uiElementIDs.btns.showAsHex), 'hex');\n\taddConversionListener(String(uiElementIDs.btns.showAsHSL), 'hsl');\n\taddConversionListener(String(uiElementIDs.btns.showAsHSV), 'hsv');\n\taddConversionListener(String(uiElementIDs.btns.showAsLAB), 'lab');\n\taddConversionListener(String(uiElementIDs.btns.showAsRGB), 'rgb');\n\n\taddEventListener(\n\t\tuiElementIDs.btns.applyCustomColor,\n\t\t'click',\n\t\tasync (e: MouseEvent) => {\n\t\t\te.preventDefault();\n\n\t\t\tconst customHSLColor = uiManager.applyCustomColor();\n\t\t\tconst customHSLColorClone = coreUtils.base.clone(customHSLColor);\n\n\t\t\tawait idb.saveData(\n\t\t\t\t'customColor',\n\t\t\t\t'appSettings',\n\t\t\t\tcustomHSLColorClone\n\t\t\t);\n\n\t\t\tif (!mode.quiet && logMode.info)\n\t\t\t\tlogger.info(\n\t\t\t\t\t'Custom color saved to IndexedDB',\n\t\t\t\t\t`${thisModule} > applyCustomColorButton click event`\n\t\t\t\t);\n\n\t\t\t// *DEV-NOTE* unfinished, I think? Double-check this\n\t\t}\n\t);\n\n\taddEventListener(\n\t\tuiElementIDs.btns.clearCustomColor,\n\t\t'click',\n\t\tasync (e: MouseEvent) => {\n\t\t\te.preventDefault();\n\n\t\t\tuiElements.inputs.customColor!.value = '#ff0000';\n\n\t\t\tif (!mode.quiet && logMode.info)\n\t\t\t\tlogger.info(\n\t\t\t\t\t'Custom color cleared',\n\t\t\t\t\t`${thisModule} > clearCustomColorButton click event`\n\t\t\t\t);\n\t\t}\n\t);\n\n\taddEventListener(\n\t\tuiElementIDs.btns.customColorMenu,\n\t\t'click',\n\t\tasync (e: MouseEvent) => {\n\t\t\te.preventDefault();\n\n\t\t\tuiElements.divs.customColorMenu?.classList.add('hidden');\n\t\t\tuiElements.divs.customColorMenu?.setAttribute(\n\t\t\t\t'aria-hidden',\n\t\t\t\t'true'\n\t\t\t);\n\t\t}\n\t);\n\n\tif (!uiElements.inputs.customColor)\n\t\tthrow new Error('Custom color input element not found');\n\n\tuiElements.inputs.customColor.addEventListener('input', () => {\n\t\tif (!uiElements.spans.customColorDisplay)\n\t\t\tthrow new Error('Custom color display element not found');\n\n\t\tuiElements.spans.customColorDisplay.textContent =\n\t\t\tuiElements.inputs.customColor!.value;\n\t});\n\n\taddEventListener(\n\t\tuiElementIDs.btns.desaturate,\n\t\t'click',\n\t\tasync (e: MouseEvent) => {\n\t\t\te.preventDefault();\n\n\t\t\tconst selectedColor = uiElements.selects.swatch\n\t\t\t\t? parseInt(uiElements.selects.swatch.value, 10)\n\t\t\t\t: 0;\n\n\t\t\tif (!mode.quiet && logMode.clicks)\n\t\t\t\tlogger.info(\n\t\t\t\t\t'desaturateButton clicked',\n\t\t\t\t\t`${thisModule} > desaturateButton click event`\n\t\t\t\t);\n\n\t\t\tuiManager.desaturateColor(selectedColor);\n\t\t}\n\t);\n\n\taddEventListener(\n\t\tuiElementIDs.btns.export,\n\t\t'click',\n\t\tasync (e: MouseEvent) => {\n\t\t\te.preventDefault();\n\n\t\t\tconst format = parse.paletteExportFormat();\n\n\t\t\tif (mode.debug && logMode.info && logMode.verbosity > 1)\n\t\t\t\tlogger.info(\n\t\t\t\t\t`Export Button click event: Export format selected: ${format}`,\n\t\t\t\t\t`${thisModule} > exportButton click event`\n\t\t\t\t);\n\n\t\t\tif (!format) {\n\t\t\t\tif (logMode.error && !mode.quiet && logMode.verbosity > 1) {\n\t\t\t\t\tlogger.error(\n\t\t\t\t\t\t'Export format not selected',\n\t\t\t\t\t\t`${thisModule} > exportButton click event`\n\t\t\t\t\t);\n\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tuiManager.handleExport(format);\n\t\t\t}\n\t\t}\n\t);\n\n\taddEventListener(\n\t\tuiElementIDs.btns.generate,\n\t\t'click',\n\t\tasync (e: MouseEvent) => {\n\t\t\te.preventDefault();\n\n\t\t\tconst { type, swatches, limitDark, limitGray, limitLight } =\n\t\t\t\tuiManager.pullParamsFromUI();\n\n\t\t\tif (logMode.info && logMode.verbosity > 1)\n\t\t\t\tlogger.info(\n\t\t\t\t\t'Generate Button click event: Retrieved parameters from UI.',\n\t\t\t\t\t`${thisModule} > generateButton click event`\n\t\t\t\t);\n\n\t\t\tif (logMode.info && mode.debug && logMode.verbosity > 1)\n\t\t\t\tlogger.info(\n\t\t\t\t\t`Type: ${type}\\nSwatches: ${swatches}\\nLimit Dark: ${limitDark}\\nLimit Gray: ${limitGray}\\nLimit Light${limitLight}.`,\n\t\t\t\t\t`${thisModule} > generateButton click event`\n\t\t\t\t);\n\n\t\t\tlet customColor = (await idb.getCustomColor()) as HSL | null;\n\n\t\t\tif (!customColor) {\n\t\t\t\tcustomColor = utils.random.hsl();\n\t\t\t} else {\n\t\t\t\tif (mode.debug && logMode.info)\n\t\t\t\t\tlogger.info(\n\t\t\t\t\t\t`User-generated Custom Color found in IndexedDB: ${JSON.stringify(\n\t\t\t\t\t\t\tcustomColor\n\t\t\t\t\t\t)}`,\n\t\t\t\t\t\t`${thisModule} > generateButton click event`\n\t\t\t\t\t);\n\t\t\t}\n\n\t\t\tconst paletteOptions: PaletteOptions = {\n\t\t\t\tcustomColor: coreUtils.base.clone(customColor),\n\t\t\t\tflags: {\n\t\t\t\t\tlimitDark,\n\t\t\t\t\tlimitGray,\n\t\t\t\t\tlimitLight\n\t\t\t\t},\n\t\t\t\tswatches,\n\t\t\t\ttype\n\t\t\t};\n\n\t\t\tawait start.paletteGeneration(paletteOptions);\n\t\t}\n\t);\n\n\taddEventListener(\n\t\tuiElementIDs.btns.helpMenu,\n\t\t'click',\n\t\tasync (e: MouseEvent) => {\n\t\t\te.preventDefault();\n\n\t\t\tuiElements.divs.helpMenu?.classList.remove('hidden');\n\t\t}\n\t);\n\n\taddEventListener(\n\t\tuiElementIDs.btns.historyMenu,\n\t\t'click',\n\t\tasync (e: MouseEvent) => {\n\t\t\te.preventDefault();\n\n\t\t\tuiElements.divs.historyMenu?.classList.remove('hidden');\n\t\t}\n\t);\n\n\taddEventListener(\n\t\tuiElementIDs.inputs.historyLimit,\n\t\t'input',\n\t\tasync (e: Event) => {\n\t\t\tconst input = e.target as HTMLInputElement;\n\t\t\tconst newLimit = parseInt(input.value, 10);\n\n\t\t\tif (isNaN(newLimit) || newLimit < 1 || newLimit > 1000) {\n\t\t\t\tinput.value = '50';\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst uiManager = new UIManager();\n\t\t\tawait uiManager.setHistoryLimit(newLimit);\n\t\t}\n\t);\n\n\taddEventListener(\n\t\tuiElementIDs.btns.ioMenu,\n\t\t'click',\n\t\tasync (e: MouseEvent) => {\n\t\t\te.preventDefault();\n\n\t\t\tuiElements.divs.ioMenu?.classList.remove('hidden');\n\t\t}\n\t);\n\n\taddEventListener(uiElementIDs.inputs.import, 'change', async (e: Event) => {\n\t\tconst input = e.target as HTMLInputElement;\n\n\t\tif (input.files && input.files.length > 0) {\n\t\t\tconst file = input.files[0];\n\n\t\t\t// *DEV-NOTE* implement a way to determine whether file describes CSS, JSON, or XML import\n\t\t\tconst format = 'JSON';\n\n\t\t\tawait uiManager.handleImport(file, format);\n\t\t}\n\t});\n\n\taddEventListener(\n\t\tuiElementIDs.btns.saturate,\n\t\t'click',\n\t\tasync (e: MouseEvent) => {\n\t\t\te.preventDefault();\n\n\t\t\tif (!uiElements.selects.swatch) {\n\t\t\t\tthrow new Error('Selected color option not found');\n\t\t\t}\n\n\t\t\tconst selectedColor = uiElements.selects.swatch\n\t\t\t\t? parseInt(uiElements.selects.swatch.value, 10)\n\t\t\t\t: 0;\n\n\t\t\tuiManager.saturateColor(selectedColor);\n\t\t}\n\t);\n\n\twindow.addEventListener('click', async (e: MouseEvent) => {\n\t\tif (uiElements.divs.customColorMenu)\n\t\t\tif (e.target === uiElements.divs.customColorMenu) {\n\t\t\t\tuiElements.divs.customColorMenu.classList.add('hidden');\n\t\t\t}\n\t});\n\n\twindow.addEventListener('click', async (e: MouseEvent) => {\n\t\tif (uiElements.divs.helpMenu)\n\t\t\tif (e.target === uiElements.divs.helpMenu) {\n\t\t\t\tuiElements.divs.helpMenu.classList.add('hidden');\n\t\t\t}\n\t});\n\n\twindow.addEventListener('click', async (e: MouseEvent) => {\n\t\tif (uiElements.divs.historyMenu)\n\t\t\tif (e.target === uiElements.divs.historyMenu) {\n\t\t\t\tuiElements.divs.historyMenu.classList.add('hidden');\n\t\t\t}\n\t});\n\n\twindow.addEventListener('click', async (e: MouseEvent) => {\n\t\tif (uiElements.divs.ioMenu)\n\t\t\tif (e.target === uiElements.divs.ioMenu) {\n\t\t\t\tuiElements.divs.ioMenu.classList.add('hidden');\n\t\t\t}\n\t});\n}\n\nconst processPaletteGeneration = coreUtils.base.debounce(async () => {\n\tconst thisFunction = 'processPaletteGeneration';\n\n\ttry {\n\t\tconst params = superUtils.dom.getPaletteGenerationArgs();\n\n\t\tif (!params) {\n\t\t\tif (logMode.error) {\n\t\t\t\tlogger.error(\n\t\t\t\t\t'Failed to retrieve generateButton parameters',\n\t\t\t\t\t`${thisModule} > ${thisFunction}`\n\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\tconst {\n\t\t\tswatches,\n\t\t\tcustomColor,\n\t\t\ttype,\n\t\t\tlimitDark,\n\t\t\tlimitGray,\n\t\t\tlimitLight\n\t\t} = params;\n\n\t\tif (!type || !swatches) {\n\t\t\tif (logMode.error) {\n\t\t\t\tlogger.error(\n\t\t\t\t\t'paletteType and/or swatches are undefined',\n\t\t\t\t\t`${thisModule} > ${thisFunction}`\n\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\tconst options: PaletteOptions = {\n\t\t\tcustomColor,\n\t\t\tflags: {\n\t\t\t\tlimitDark,\n\t\t\t\tlimitGray,\n\t\t\t\tlimitLight\n\t\t\t},\n\t\t\tswatches,\n\t\t\ttype\n\t\t};\n\n\t\tstart.paletteGeneration(options);\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`Failed to handle generate button click: ${error}`,\n\t\t\t\t`${thisModule} > ${thisFunction}`\n\t\t\t);\n\t}\n}, btnDebounce);\n\nexport const base: DOMFn_MasterInterface['events'] = {\n\taddEventListener,\n\tinitializeEventListeners,\n\tprocessPaletteGeneration\n};\n","// File: dom/validate.js\n\nimport { DOMFn_MasterInterface } from '../types/index.js';\nimport { domData } from '../data/dom.js';\nimport { createLogger } from '../logger/index.js';\nimport { modeData as mode } from '../data/mode.js';\n\nconst logMode = mode.logging;\nconst thisModule = 'dom/validate.js';\n\nconst logger = await createLogger();\n\nfunction validateStaticElements(): void {\n\tconst thisFunction = 'validateElements()';\n\tconst ids = domData.ids.static;\n\tconst missingElements: string[] = [];\n\n\t// flattens the nested structure into a single array of IDs, then extracts their values\n\tconst allIDs: string[] = Object.values(ids).flatMap(category =>\n\t\tObject.values(category)\n\t);\n\n\tallIDs.forEach((id: string) => {\n\t\tconst element = document.getElementById(id);\n\n\t\tif (!element) {\n\t\t\tif (logMode.error)\n\t\t\t\tlogger.error(\n\t\t\t\t\t`Element with ID \"${id}\" not found`,\n\t\t\t\t\t`${thisModule} > ${thisFunction}`\n\t\t\t\t);\n\n\t\t\tmissingElements.push(id);\n\t\t}\n\t});\n\n\tif (missingElements.length) {\n\t\tif (logMode.warn)\n\t\t\tlogger.warn(\n\t\t\t\t`Some DOM elements are missing (${missingElements.length}): ${missingElements.join(\n\t\t\t\t\t', '\n\t\t\t\t)}`,\n\t\t\t\t`${thisModule} > ${thisFunction}`\n\t\t\t);\n\t} else {\n\t\tif (logMode.info && mode.debug && logMode.verbosity > 1)\n\t\t\tlogger.info(\n\t\t\t\t'All required DOM elements are present.',\n\t\t\t\t`${thisModule} > ${thisFunction}`\n\t\t\t);\n\t}\n}\n\nexport const validate: DOMFn_MasterInterface['validate'] = {\n\tstaticElements: validateStaticElements\n};\n","// File: dom/index.js\n\nimport { DOMFn_MasterInterface } from '../types/index.js';\nimport { base } from './eventListeners.js';\nimport { fileUtils } from './fileUtils.js';\nimport { parse } from './parse.js';\nimport { validate } from './validate.js';\n\nconst events = { ...base };\n\nexport const domFn: DOMFn_MasterInterface = {\n\tevents,\n\tfileUtils,\n\tparse,\n\tvalidate\n};\n","// ColorGen - version 0.6.0-dev\n\n// Author: Viihna Leraine (viihna@ViihnaTech.com / viihna.78 (Signal) / Viihna-Lehraine (Github))\n// Licensed under GNU GPLv3 (https://www.gnu.org/licenses/gpl-3.0.html)\n\n// You may use this code for any purpose EXCEPT for the creation of proprietary derivatives. I encourage you to improve on my code or to include it in other projects if you find it helpful. Please credit me as the original author.\n\n// This application comes with ABSOLUTELY NO WARRANTY OR GUARANTEE OF ANY KIND.\n\n// File: src/app.js\n\nimport { getIDBInstance } from './db/instance.js';\nimport { createLogger } from './logger/index.js';\nimport { domData } from './data/dom.js';\nimport { domFn } from './dom/index.js';\nimport { modeData as mode } from './data/mode.js';\n\nconst logMode = mode.logging;\n\nconst thisModule = 'app.js';\n\nconst logger = await createLogger();\n\nif (mode.debug)\n\tlogger.info(\n\t\t'Executing main application script',\n\t\t`${thisModule} > ANONYMOUS`\n\t);\n\nif (document.readyState === 'loading') {\n\tif (mode.debug)\n\t\tlogger.info(\n\t\t\t'DOM content not yet loaded. Adding DOMContentLoaded event listener and awaiting...',\n\t\t\t`${thisModule} > ANONYMOUS`\n\t\t);\n\n\tdocument.addEventListener('DOMContentLoaded', initializeApp);\n} else {\n\tif (mode.debug)\n\t\tlogger.info(\n\t\t\t'DOM content already loaded. Initializing application immediately.',\n\t\t\t`${thisModule} > ANONYMOUS`\n\t\t);\n\n\tinitializeApp();\n}\n\nasync function initializeApp(): Promise<void> {\n\tconst thisFunction = 'initializeApp()';\n\n\tlogger.info(\n\t\t'DOM content loaded - Initializing application',\n\t\t`${thisModule} > ${thisFunction}`\n\t);\n\n\ttry {\n\t\tif (mode.logging.verbosity > 1)\n\t\t\tlogger.info(\n\t\t\t\t'Creating new IDBManager instance. Initializing database and its dependencies.',\n\t\t\t\t`${thisModule} > ${thisFunction}`\n\t\t\t);\n\n\t\tif (mode.expose.idbManager) {\n\t\t\tif (mode.debug && mode.logging.verbosity > 1)\n\t\t\t\tlogger.info(\n\t\t\t\t\t'Exposing IDBManager instance to window.',\n\t\t\t\t\t`${thisModule} > ${thisFunction}`\n\t\t\t\t);\n\n\t\t\ttry {\n\t\t\t\t(async () => {\n\t\t\t\t\tconst idbManager = await getIDBInstance();\n\n\t\t\t\t\tlogger.info(\n\t\t\t\t\t\t`IDBManager instance successfully initialized.`,\n\t\t\t\t\t\t`${thisModule} > ${thisFunction}`\n\t\t\t\t\t);\n\n\t\t\t\t\t// binds the IDBManager instance to the window object\n\t\t\t\t\twindow.idbManager = idbManager;\n\n\t\t\t\t\tlogger.info(\n\t\t\t\t\t\t'IDBManager instance successfully exposed to window.',\n\t\t\t\t\t\t`${thisModule} > ${thisFunction}`\n\t\t\t\t\t);\n\t\t\t\t})();\n\t\t\t} catch (error) {\n\t\t\t\tif (logMode.error)\n\t\t\t\t\tlogger.warn(\n\t\t\t\t\t\t`Failed to expose IDBManager instance to window. Error: ${error}`,\n\t\t\t\t\t\t`${thisModule} > ${thisFunction}`\n\t\t\t\t\t);\n\n\t\t\t\tif (mode.showAlerts)\n\t\t\t\t\talert('An error occurred. Check console for details.');\n\t\t\t}\n\t\t}\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`Failed to create initial IDBManager instance. Error: ${error}`,\n\t\t\t\t`${thisModule} > ${thisFunction}`\n\t\t\t);\n\n\t\tif (mode.showAlerts)\n\t\t\talert('An error occurred. Check console for details.');\n\t}\n\n\tconst selectedSwatch = domData.elements.static.selects.swatch;\n\n\tif (mode.debug) {\n\t\tif (logMode.debug)\n\t\t\tif (!mode.quiet && logMode.verbosity > 1) {\n\t\t\t\tlogger.debug(\n\t\t\t\t\t'Validating DOM elements',\n\t\t\t\t\t`${thisModule} > ${thisFunction}`\n\t\t\t\t);\n\t\t\t}\n\n\t\tdomFn.validate.staticElements();\n\t} else {\n\t\tif (!mode.quiet) {\n\t\t\tlogger.info(\n\t\t\t\t'Skipping DOM element validation',\n\t\t\t\t`${thisModule} > ${thisFunction}`\n\t\t\t);\n\t\t}\n\t}\n\n\tconst selectedColor = selectedSwatch\n\t\t? parseInt(selectedSwatch.value, 10)\n\t\t: 0;\n\n\tif (!mode.quiet && mode.debug)\n\t\tlogger.debug(\n\t\t\t`Selected color: ${selectedColor}`,\n\t\t\t`${thisModule} > ${thisFunction}`\n\t\t);\n\n\ttry {\n\t\tdomFn.events.initializeEventListeners();\n\n\t\tif (!mode.quiet)\n\t\t\tlogger.info(\n\t\t\t\t'Event listeners have been successfully initialized',\n\t\t\t\t`${thisModule} > ${thisFunction}`\n\t\t\t);\n\t} catch (error) {\n\t\tif (logMode.error)\n\t\t\tlogger.error(\n\t\t\t\t`Failed to initialize event listeners.\\n${error}`,\n\t\t\t\t`${thisModule} > ${thisFunction}`\n\t\t\t);\n\n\t\tif (mode.showAlerts)\n\t\t\talert('An error occurred. Check console for details.');\n\t}\n\n\tif (!mode.quiet && logMode.info)\n\t\tlogger.info(\n\t\t\t'Application successfully initialized. Awaiting user input.',\n\t\t\t`${thisModule} > ${thisFunction}`\n\t\t);\n}\n"],"names":["regex","mode","sets","validate","brand","debounce","base","isColorSpace","isColorString","getFormattedTimestamp","idb","logMode","thisModule","logger","defaults","defaultColors","hslTo","adjustments","limits","paletteRanges","probabilities","timeouts","consts","helpers","conversion","dom","genAllColorValues","sl","utils","color","errors","palette","random","superUtils","config","file","isTooDark","isTooGray","isTooLight","update","paletteHelpers","create","getWeightedRandomInterval","paletteUtils","analogous","diadic","hexadic","splitComplementary","tetradic","triadic","genHues","paletteSuperUtils","genPaletteType"],"mappings":"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","x_google_ignoreList":[22]}