{"version":3,"file":"main.js","sources":["../../../../src/app/main.ts"],"sourcesContent":["// File: app/main.js\n\nimport { EventManager } from '../events/EventManager.js';\nimport { initialize } from './init.js';\nimport { data } from '../data/index.js';\n\nconst mode = data.mode;\n\nconsole.log('[main-1] Loading main.js...');\n\nconsole.log(`[main-3] Calling initialize()`);\nconst init = await initialize();\n\nconsole.log('[main-4] Initialization complete.');\nconst log = init.common.services?.log;\nconsole.log(`[main-5] Executing main loop...`);\n\nif (log) {\n\tif (mode.debug)\n\t\tlog('debug', 'Executing main application script', '[main-5]', 2);\n\n\tif (document.readyState === 'loading') {\n\t\tlog(\n\t\t\t'debug',\n\t\t\t'DOM content not yet loaded. Adding DOMContentLoaded event listener and awaiting...',\n\t\t\t'[main-5.1]',\n\t\t\t2\n\t\t);\n\n\t\tdocument.addEventListener('DOMContentLoaded', () => main());\n\t} else {\n\t\tlog(\n\t\t\t'debug',\n\t\t\t'DOM content already loaded. Initializing application immediately.',\n\t\t\t'[main-5.1]',\n\t\t\t2\n\t\t);\n\n\t\tmain();\n\t}\n} else {\n\tconsole.error('[main-5E] > log function is undefined.');\n}\n\nconst errorHandler = init.common.services.errors;\n\nasync function main() {\n\tawait errorHandler.handleAsync(\n\t\tasync () => {\n\t\t\tlog(\n\t\t\t\t'debug',\n\t\t\t\t'DOM content loaded - Application initialized.',\n\t\t\t\t'[main-6]',\n\t\t\t\t1\n\t\t\t);\n\n\t\t\tif (mode.debug) {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tEventManager.listAll();\n\t\t\t\t}, 100);\n\t\t\t}\n\t\t},\n\t\t'Application initialization failed',\n\t\t'[main-ERROR]'\n\t);\n\n\tif (mode.showAlerts) {\n\t\talert('An error occurred during startup. Check console for details.');\n\t}\n}\n"],"names":[],"mappings":";;;;AAAA;AAQA,OAAO,CAAC,GAAG,CAAC,6BAA6B,CAAC;AAE1C,OAAO,CAAC,GAAG,CAAC,CAAA,6BAAA,CAA+B,CAAC;AAC5C,MAAM,IAAI,GAAG,MAAM,UAAU,EAAE;AAE/B,OAAO,CAAC,GAAG,CAAC,mCAAmC,CAAC;AAChD,MAAM,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,GAAG;AACrC,OAAO,CAAC,GAAG,CAAC,CAAA,+BAAA,CAAiC,CAAC;AAE9C,IAAI,GAAG,EAAE;IAEP,GAAG,CAAC,OAAO,EAAE,mCAAmC,EAAE,UAAU,EAAE,CAAC,CAAC;AAEjE,IAAA,IAAI,QAAQ,CAAC,UAAU,KAAK,SAAS,EAAE;QACtC,GAAG,CACF,OAAO,EACP,oFAAoF,EACpF,YAAY,EACZ,CAAC,CACD;QAED,QAAQ,CAAC,gBAAgB,CAAC,kBAAkB,EAAE,MAAM,IAAI,EAAE,CAAC;;SACrD;QACN,GAAG,CACF,OAAO,EACP,mEAAmE,EACnE,YAAY,EACZ,CAAC,CACD;AAED,QAAA,IAAI,EAAE;;AAER;KAAO;AACN,IAAA,OAAO,CAAC,KAAK,CAAC,wCAAwC,CAAC;AACxD;AAEA,MAAM,YAAY,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,MAAM;AAEhD,eAAe,IAAI,GAAA;AAClB,IAAA,MAAM,YAAY,CAAC,WAAW,CAC7B,YAAW;QACV,GAAG,CACF,OAAO,EACP,+CAA+C,EAC/C,UAAU,EACV,CAAC,CACD;AAED,QAAgB;YACf,UAAU,CAAC,MAAK;gBACf,YAAY,CAAC,OAAO,EAAE;aACtB,EAAE,GAAG,CAAC;;AAET,KAAC,EACD,mCAAmC,EACnC,cAAc,CACd;AAKF"}