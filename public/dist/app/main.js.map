{"version":3,"file":"main.js","sources":["../../../../src/app/main.ts"],"sourcesContent":["// File: app/main.ts\n\nimport { EventManager } from '../events/EventManager.js';\nimport { initializeApp, initializeServices } from './init.js';\nimport { config } from '../config/index.js';\n\nconst mode = config.mode;\n\nconsole.log('[MAIN-1] Loading main.js...');\n\nconsole.log('[MAIN-2] Calling initializeServices()');\nconst services = initializeServices();\nconst { log } = services;\n\nlog(`[MAIN-3] Calling initialize()`, 'info');\nconst init = (await initializeApp(services))!;\nconst { errors } = init.common.services;\n\nlog('[MAIN-4] Initialization complete.');\nlog(`[MAIN-5] Executing main loop...`);\n\nif (log) {\n\tlog('[MAIN-6] Executing main application script', 'debug');\n\n\tif (document.readyState === 'loading') {\n\t\tlog(\n\t\t\t'[MAIN-7A] DOM content not yet loaded. Adding DOMContentLoaded event listener and awaiting...'\n\t\t);\n\n\t\tdocument.addEventListener('DOMContentLoaded', () => main());\n\t} else {\n\t\tlog(\n\t\t\t'[MAIN-7B] DOM content already loaded. Initializing application immediately.'\n\t\t);\n\n\t\tmain();\n\t}\n} else {\n\tconsole.error('[main-5E] > log function is undefined.');\n}\n\nasync function main() {\n\tawait errors.handleAsync(async () => {\n\t\tlog('[1] DOM content loaded - Application initialized.');\n\n\t\tif (mode.debugLevel >= 3) {\n\t\t\tsetTimeout(() => {\n\t\t\t\tEventManager.listAll();\n\t\t\t}, 100);\n\t\t}\n\t}, 'Application initialization failed');\n\n\tif (mode.showAlerts) {\n\t\talert('An error occurred during startup. Check console for details.');\n\t}\n}\n"],"names":[],"mappings":";;;;AAAA;AAQA,OAAO,CAAC,GAAG,CAAC,6BAA6B,CAAC;AAE1C,OAAO,CAAC,GAAG,CAAC,uCAAuC,CAAC;AACpD,MAAM,QAAQ,GAAG,kBAAkB,EAAE;AACrC,MAAM,EAAE,GAAG,EAAE,GAAG,QAAQ;AAExB,GAAG,CAAC,CAAA,6BAAA,CAA+B,EAAE,MAAM,CAAC;AAC5C,MAAM,IAAI,IAAI,MAAM,aAAa,CAAC,QAAQ,CAAC,CAAE;AAC7C,MAAM,EAAE,MAAM,EAAE,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ;AAEvC,GAAG,CAAC,mCAAmC,CAAC;AACxC,GAAG,CAAC,CAAiC,+BAAA,CAAA,CAAC;AAEtC,IAAI,GAAG,EAAE;AACR,IAAA,GAAG,CAAC,4CAA4C,EAAE,OAAO,CAAC;AAE1D,IAAA,IAAI,QAAQ,CAAC,UAAU,KAAK,SAAS,EAAE;QACtC,GAAG,CACF,8FAA8F,CAC9F;QAED,QAAQ,CAAC,gBAAgB,CAAC,kBAAkB,EAAE,MAAM,IAAI,EAAE,CAAC;;SACrD;QACN,GAAG,CACF,6EAA6E,CAC7E;AAED,QAAA,IAAI,EAAE;;AAER;KAAO;AACN,IAAA,OAAO,CAAC,KAAK,CAAC,wCAAwC,CAAC;AACxD;AAEA,eAAe,IAAI,GAAA;AAClB,IAAA,MAAM,MAAM,CAAC,WAAW,CAAC,YAAW;QACnC,GAAG,CAAC,mDAAmD,CAAC;AAExD,QAA0B;YACzB,UAAU,CAAC,MAAK;gBACf,YAAY,CAAC,OAAO,EAAE;aACtB,EAAE,GAAG,CAAC;;KAER,EAAE,mCAAmC,CAAC;AAKxC"}