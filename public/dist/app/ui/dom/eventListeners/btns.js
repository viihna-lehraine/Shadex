// File: app/ui/dom/eventListeners/btns.js
import { createLogger } from '../../../../logger/factory.js';
import { domData } from '../../../../data/dom.js';
import { modeData as mode } from '../../../../data/mode.js';
import { parse as parseDom } from '../parse.js';
import { uiFn } from '../../../ui/main.js';
import { utils as domUtils } from '../utils.js';
const btnIds = domData.ids.static.btns;
const divElements = domData.elements.static.divs;
const logMode = mode.logging;
const selectionElements = domData.elements.static.selects;
const thisModule = 'dom/eventListeners/groups/btns.js';
const addConversionListener = domUtils.event.addConversionListener;
const addEventListener = domUtils.event.addEventListener;
const logger = await createLogger();
async function initBtnEventListeners(uiManager) {
    // 1. DESATURATE BUTTON
    addEventListener(btnIds.desaturate, 'click', async (e) => {
        e.preventDefault();
        const selectedColor = selectionElements.swatch
            ? parseInt(selectionElements.swatch.value, 10)
            : 0;
        if (logMode.clicks)
            logger.info('desaturateButton clicked', `${thisModule} > desaturateButton click event`);
        uiManager.desaturateColor(selectedColor);
    });
    // 2. EXPORT BUTTON
    addEventListener(btnIds.export, 'click', async (e) => {
        e.preventDefault();
        const format = parseDom.paletteExportFormat();
        if (mode.debug && logMode.verbosity > 1)
            logger.info(`Export Button click event: Export format selected: ${format}`, `${thisModule} > exportButton click event`);
        if (!format) {
            if (logMode.error && logMode.verbosity > 1) {
                logger.error('Export format not selected', `${thisModule} > exportButton click event`);
                return;
            }
        }
        else {
            uiManager.handleExport(format);
        }
    });
    // 3. GENERATE BUTTON
    addEventListener(btnIds.generate, 'click', async (e) => {
        e.preventDefault();
        const { type, swatches, limitDark, limitGray, limitLight } = uiManager.pullParamsFromUI();
        if (logMode.debug && logMode.verbosity > 1)
            logger.debug('Generate Button click event: Retrieved parameters from UI.', `${thisModule} > generateButton click event`);
        if (logMode.debug && logMode.verbosity > 1)
            logger.debug(`Type: ${type}\nSwatches: ${swatches}\nLimit Dark: ${limitDark}\nLimit Gray: ${limitGray}\nLimit Light${limitLight}.`, `${thisModule} > generateButton click event`);
        const paletteOptions = {
            flags: {
                limitDark,
                limitGray,
                limitLight
            },
            swatches,
            type
        };
        await uiFn.startPaletteGeneration(paletteOptions);
    });
    // 4. HELP MENU BUTTON
    addEventListener(btnIds.helpMenu, 'click', async (e) => {
        e.preventDefault();
        divElements.helpMenu?.classList.remove('hidden');
    });
    // 5. HISTORY MENU BUTTON
    addEventListener(btnIds.historyMenu, 'click', async (e) => {
        e.preventDefault();
        divElements.historyMenu?.classList.remove('hidden');
    });
    // 6. SATURATE BUTTON
    addEventListener(btnIds.saturate, 'click', async (e) => {
        e.preventDefault();
        if (!selectionElements.swatch) {
            throw new Error('Selected color option not found');
        }
        const selectedColor = selectionElements.swatch
            ? parseInt(selectionElements.swatch.value, 10)
            : 0;
        uiManager.saturateColor(selectedColor);
    });
}
function initConversionBtnEventListeners() {
    addConversionListener(String(btnIds.showAsCMYK), 'cmyk');
    addConversionListener(String(btnIds.showAsHex), 'hex');
    addConversionListener(String(btnIds.showAsHSL), 'hsl');
    addConversionListener(String(btnIds.showAsHSV), 'hsv');
    addConversionListener(String(btnIds.showAsLAB), 'lab');
    addConversionListener(String(btnIds.showAsRGB), 'rgb');
}
export const btnListeners = {
    initialize: {
        conversionBtns: initConversionBtnEventListeners,
        main: initBtnEventListeners
    }
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnRucy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL3NyYy9hcHAvdWkvZG9tL2V2ZW50TGlzdGVuZXJzL2J0bnMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsMENBQTBDO0FBSTFDLE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSwrQkFBK0IsQ0FBQztBQUM3RCxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0seUJBQXlCLENBQUM7QUFDbEQsT0FBTyxFQUFFLFFBQVEsSUFBSSxJQUFJLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQztBQUM1RCxPQUFPLEVBQUUsS0FBSyxJQUFJLFFBQVEsRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUNoRCxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0scUJBQXFCLENBQUM7QUFDM0MsT0FBTyxFQUFFLEtBQUssSUFBSSxRQUFRLEVBQUUsTUFBTSxhQUFhLENBQUM7QUFFaEQsTUFBTSxNQUFNLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDO0FBQ3ZDLE1BQU0sV0FBVyxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQztBQUNqRCxNQUFNLE9BQU8sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDO0FBQzdCLE1BQU0saUJBQWlCLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDO0FBRTFELE1BQU0sVUFBVSxHQUFHLG1DQUFtQyxDQUFDO0FBRXZELE1BQU0scUJBQXFCLEdBQUcsUUFBUSxDQUFDLEtBQUssQ0FBQyxxQkFBcUIsQ0FBQztBQUNuRSxNQUFNLGdCQUFnQixHQUFHLFFBQVEsQ0FBQyxLQUFLLENBQUMsZ0JBQWdCLENBQUM7QUFFekQsTUFBTSxNQUFNLEdBQUcsTUFBTSxZQUFZLEVBQUUsQ0FBQztBQUVwQyxLQUFLLFVBQVUscUJBQXFCLENBQUMsU0FBb0I7SUFDeEQsdUJBQXVCO0lBQ3ZCLGdC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TUFBTSxDQUFDLFNBQVMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDO0lBQ3ZELHFCQUFxQixDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDdkQscUJBQXFCLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQztBQUN4RCxDQUFDO0FBRUQsTUFBTSxDQUFDLE1BQU0sWUFBWSxHQUFHO0lBQzNCLFVBQVUsRUFBRTtRQUNYLGNBQWMsRUFBRSwrQkFBK0I7UUFDL0MsSUFBSSxFQUFFLHFCQUFxQjtLQUMzQjtDQUNELENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBGaWxlOiBhcHAvdWkvZG9tL2V2ZW50TGlzdGVuZXJzL2J0bnMuanNcblxuaW1wb3J0IHsgUGFsZXR0ZU9wdGlvbnMgfSBmcm9tICcuLi8uLi8uLi8uLi90eXBlcy9pbmRleC5qcyc7XG5pbXBvcnQgdHlwZSB7IFVJTWFuYWdlciB9IGZyb20gJy4uLy4uLy4uL3VpL1VJTWFuYWdlci5qcyc7XG5pbXBvcnQgeyBjcmVhdGVMb2dnZXIgfSBmcm9tICcuLi8uLi8uLi8uLi9sb2dnZXIvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBkb21EYXRhIH0gZnJvbSAnLi4vLi4vLi4vLi4vZGF0YS9kb20uanMnO1xuaW1wb3J0IHsgbW9kZURhdGEgYXMgbW9kZSB9IGZyb20gJy4uLy4uLy4uLy4uL2RhdGEvbW9kZS5qcyc7XG5pbXBvcnQgeyBwYXJzZSBhcyBwYXJzZURvbSB9IGZyb20gJy4uL3BhcnNlLmpzJztcbmltcG9ydCB7IHVpRm4gfSBmcm9tICcuLi8uLi8uLi91aS9tYWluLmpzJztcbmltcG9ydCB7IHV0aWxzIGFzIGRvbVV0aWxzIH0gZnJvbSAnLi4vdXRpbHMuanMnO1xuXG5jb25zdCBidG5JZHMgPSBkb21EYXRhLmlkcy5zdGF0aWMuYnRucztcbmNvbnN0IGRpdkVsZW1lbnRzID0gZG9tRGF0YS5lbGVtZW50cy5zdGF0aWMuZGl2cztcbmNvbnN0IGxvZ01vZGUgPSBtb2RlLmxvZ2dpbmc7XG5jb25zdCBzZWxlY3Rpb25FbGVtZW50cyA9IGRvbURhdGEuZWxlbWVudHMuc3RhdGljLnNlbGVjdHM7XG5cbmNvbnN0IHRoaXNNb2R1bGUgPSAnZG9tL2V2ZW50TGlzdGVuZXJzL2dyb3Vwcy9idG5zLmpzJztcblxuY29uc3QgYWRkQ29udmVyc2lvbkxpc3RlbmVyID0gZG9tVXRpbHMuZXZlbnQuYWRkQ29udmVyc2lvbkxpc3RlbmVyO1xuY29uc3QgYWRkRXZlbnRMaXN0ZW5lciA9IGRvbVV0aWxzLmV2ZW50LmFkZEV2ZW50TGlzdGVuZXI7XG5cbmNvbnN0IGxvZ2dlciA9IGF3YWl0IGNyZWF0ZUxvZ2dlcigpO1xuXG5hc3luYyBmdW5jdGlvbiBpbml0QnRuRXZlbnRMaXN0ZW5lcnModWlNYW5hZ2VyOiBVSU1hbmFnZXIpOiBQcm9taXNlPHZvaWQ+IHtcblx0Ly8gMS4gREVTQVRVUkFURSBCVVRUT05cblx0YWRkRXZlbnRMaXN0ZW5lcihidG5JZHMuZGVzYXR1cmF0ZSwgJ2NsaWNrJywgYXN5bmMgKGU6IE1vdXNlRXZlbnQpID0+IHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRjb25zdCBzZWxlY3RlZENvbG9yID0gc2VsZWN0aW9uRWxlbWVudHMuc3dhdGNoXG5cdFx0XHQ/IHBhcnNlSW50KHNlbGVjdGlvbkVsZW1lbnRzLnN3YXRjaC52YWx1ZSwgMTApXG5cdFx0XHQ6IDA7XG5cblx0XHRpZiAobG9nTW9kZS5jbGlja3MpXG5cdFx0XHRsb2dnZXIuaW5mbyhcblx0XHRcdFx0J2Rlc2F0dXJhdGVCdXR0b24gY2xpY2tlZCcsXG5cdFx0XHRcdGAke3RoaXNNb2R1bGV9ID4gZGVzYXR1cmF0ZUJ1dHRvbiBjbGljayBldmVudGBcblx0XHRcdCk7XG5cblx0XHR1aU1hbmFnZXIhLmRlc2F0dXJhdGVDb2xvcihzZWxlY3RlZENvbG9yKTtcblx0fSk7XG5cblx0Ly8gMi4gRVhQT1JUIEJVVFRPTlxuXHRhZGRFdmVudExpc3RlbmVyKGJ0bklkcy5leHBvcnQsICdjbGljaycsIGFzeW5jIChlOiBNb3VzZUV2ZW50KSA9PiB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0Y29uc3QgZm9ybWF0ID0gcGFyc2VEb20ucGFsZXR0ZUV4cG9ydEZvcm1hdCgpO1xuXG5cdFx0aWYgKG1vZGUuZGVidWcgJiYgbG9nTW9kZS52ZXJib3NpdHkgPiAxKVxuXHRcdFx0bG9nZ2VyLmluZm8oXG5cdFx0XHRcdGBFeHBvcnQgQnV0dG9uIGNsaWNrIGV2ZW50OiBFeHBvcnQgZm9ybWF0IHNlbGVjdGVkOiAke2Zvcm1hdH1gLFxuXHRcdFx0XHRgJHt0aGlzTW9kdWxlfSA+IGV4cG9ydEJ1dHRvbiBjbGljayBldmVudGBcblx0XHRcdCk7XG5cblx0XHRpZiAoIWZvcm1hdCkge1xuXHRcdFx0aWYgKGxvZ01vZGUuZXJyb3IgJiYgbG9nTW9kZS52ZXJib3NpdHkgPiAxKSB7XG5cdFx0XHRcdGxvZ2dlci5lcnJvcihcblx0XHRcdFx0XHQnRXhwb3J0IGZvcm1hdCBub3Qgc2VsZWN0ZWQnLFxuXHRcdFx0XHRcdGAke3RoaXNNb2R1bGV9ID4gZXhwb3J0QnV0dG9uIGNsaWNrIGV2ZW50YFxuXHRcdFx0XHQpO1xuXG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0dWlNYW5hZ2VyIS5oYW5kbGVFeHBvcnQoZm9ybWF0KTtcblx0XHR9XG5cdH0pO1xuXG5cdC8vIDMuIEdFTkVSQVRFIEJVVFRPTlxuXHRhZGRFdmVudExpc3RlbmVyKGJ0bklkcy5nZW5lcmF0ZSwgJ2NsaWNrJywgYXN5bmMgKGU6IE1vdXNlRXZlbnQpID0+IHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRjb25zdCB7IHR5cGUsIHN3YXRjaGVzLCBsaW1pdERhcmssIGxpbWl0R3JheSwgbGltaXRMaWdodCB9ID1cblx0XHRcdHVpTWFuYWdlciEucHVsbFBhcmFtc0Zyb21VSSgpO1xuXG5cdFx0aWYgKGxvZ01vZGUuZGVidWcgJiYgbG9nTW9kZS52ZXJib3NpdHkgPiAxKVxuXHRcdFx0bG9nZ2VyLmRlYnVnKFxuXHRcdFx0XHQnR2VuZXJhdGUgQnV0dG9uIGNsaWNrIGV2ZW50OiBSZXRyaWV2ZWQgcGFyYW1ldGVycyBmcm9tIFVJLicsXG5cdFx0XHRcdGAke3RoaXNNb2R1bGV9ID4gZ2VuZXJhdGVCdXR0b24gY2xpY2sgZXZlbnRgXG5cdFx0XHQpO1xuXG5cdFx0aWYgKGxvZ01vZGUuZGVidWcgJiYgbG9nTW9kZS52ZXJib3NpdHkgPiAxKVxuXHRcdFx0bG9nZ2VyLmRlYnVnKFxuXHRcdFx0XHRgVHlwZTogJHt0eXBlfVxcblN3YXRjaGVzOiAke3N3YXRjaGVzfVxcbkxpbWl0IERhcms6ICR7bGltaXREYXJrfVxcbkxpbWl0IEdyYXk6ICR7bGltaXRHcmF5fVxcbkxpbWl0IExpZ2h0JHtsaW1pdExpZ2h0fS5gLFxuXHRcdFx0XHRgJHt0aGlzTW9kdWxlfSA+IGdlbmVyYXRlQnV0dG9uIGNsaWNrIGV2ZW50YFxuXHRcdFx0KTtcblxuXHRcdGNvbnN0IHBhbGV0dGVPcHRpb25zOiBQYWxldHRlT3B0aW9ucyA9IHtcblx0XHRcdGZsYWdzOiB7XG5cdFx0XHRcdGxpbWl0RGFyayxcblx0XHRcdFx0bGltaXRHcmF5LFxuXHRcdFx0XHRsaW1pdExpZ2h0XG5cdFx0XHR9LFxuXHRcdFx0c3dhdGNoZXMsXG5cdFx0XHR0eXBlXG5cdFx0fTtcblxuXHRcdGF3YWl0IHVpRm4uc3RhcnRQYWxldHRlR2VuZXJhdGlvbihwYWxldHRlT3B0aW9ucyk7XG5cdH0pO1xuXG5cdC8vIDQuIEhFTFAgTUVOVSBCVVRUT05cblx0YWRkRXZlbnRMaXN0ZW5lcihidG5JZHMuaGVscE1lbnUsICdjbGljaycsIGFzeW5jIChlOiBNb3VzZUV2ZW50KSA9PiB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0ZGl2RWxlbWVudHMuaGVscE1lbnU/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuXHR9KTtcblxuXHQvLyA1LiBISVNUT1JZIE1FTlUgQlVUVE9OXG5cdGFkZEV2ZW50TGlzdGVuZXIoYnRuSWRzLmhpc3RvcnlNZW51LCAnY2xpY2snLCBhc3luYyAoZTogTW91c2VFdmVudCkgPT4ge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblxuXHRcdGRpdkVsZW1lbnRzLmhpc3RvcnlNZW51Py5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcblx0fSk7XG5cblx0Ly8gNi4gU0FUVVJBVEUgQlVUVE9OXG5cdGFkZEV2ZW50TGlzdGVuZXIoYnRuSWRzLnNhdHVyYXRlLCAnY2xpY2snLCBhc3luYyAoZTogTW91c2VFdmVudCkgPT4ge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblxuXHRcdGlmICghc2VsZWN0aW9uRWxlbWVudHMuc3dhdGNoKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ1NlbGVjdGVkIGNvbG9yIG9wdGlvbiBub3QgZm91bmQnKTtcblx0XHR9XG5cblx0XHRjb25zdCBzZWxlY3RlZENvbG9yID0gc2VsZWN0aW9uRWxlbWVudHMuc3dhdGNoXG5cdFx0XHQ/IHBhcnNlSW50KHNlbGVjdGlvbkVsZW1lbnRzLnN3YXRjaC52YWx1ZSwgMTApXG5cdFx0XHQ6IDA7XG5cblx0XHR1aU1hbmFnZXIhLnNhdHVyYXRlQ29sb3Ioc2VsZWN0ZWRDb2xvcik7XG5cdH0pO1xufVxuXG5mdW5jdGlvbiBpbml0Q29udmVyc2lvbkJ0bkV2ZW50TGlzdGVuZXJzKCk6IHZvaWQge1xuXHRhZGRDb252ZXJzaW9uTGlzdGVuZXIoU3RyaW5nKGJ0bklkcy5zaG93QXNDTVlLKSwgJ2NteWsnKTtcblx0YWRkQ29udmVyc2lvbkxpc3RlbmVyKFN0cmluZyhidG5JZHMuc2hvd0FzSGV4KSwgJ2hleCcpO1xuXHRhZGRDb252ZXJzaW9uTGlzdGVuZXIoU3RyaW5nKGJ0bklkcy5zaG93QXNIU0wpLCAnaHNsJyk7XG5cdGFkZENvbnZlcnNpb25MaXN0ZW5lcihTdHJpbmcoYnRuSWRzLnNob3dBc0hTViksICdoc3YnKTtcblx0YWRkQ29udmVyc2lvbkxpc3RlbmVyKFN0cmluZyhidG5JZHMuc2hvd0FzTEFCKSwgJ2xhYicpO1xuXHRhZGRDb252ZXJzaW9uTGlzdGVuZXIoU3RyaW5nKGJ0bklkcy5zaG93QXNSR0IpLCAncmdiJyk7XG59XG5cbmV4cG9ydCBjb25zdCBidG5MaXN0ZW5lcnMgPSB7XG5cdGluaXRpYWxpemU6IHtcblx0XHRjb252ZXJzaW9uQnRuczogaW5pdENvbnZlcnNpb25CdG5FdmVudExpc3RlbmVycyxcblx0XHRtYWluOiBpbml0QnRuRXZlbnRMaXN0ZW5lcnNcblx0fVxufTtcbiJdfQ==