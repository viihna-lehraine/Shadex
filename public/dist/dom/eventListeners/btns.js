// File: dom/eventListeners/btns.js
import { createLogger } from '../../logger/factory.js';
import { domData } from '../../data/dom.js';
import { modeData as mode } from '../../data/mode.js';
import { parse as parseDom } from '../parse.js';
import { uiFn } from '../../ui/main.js';
import { utils as domUtils } from '../utils.js';
const btnIds = domData.ids.static.btns;
const divElements = domData.elements.static.divs;
const logMode = mode.logging;
const selectionElements = domData.elements.static.selects;
const thisModule = 'dom/eventListeners/groups/btns.js';
const addConversionListener = domUtils.event.addConversionListener;
const addEventListener = domUtils.event.addEventListener;
const logger = await createLogger();
async function initBtnEventListeners(uiManager) {
    // 1. DESATURATE BUTTON
    addEventListener(btnIds.desaturate, 'click', async (e) => {
        e.preventDefault();
        const selectedColor = selectionElements.swatch
            ? parseInt(selectionElements.swatch.value, 10)
            : 0;
        if (logMode.clicks)
            logger.info('desaturateButton clicked', `${thisModule} > desaturateButton click event`);
        uiManager.desaturateColor(selectedColor);
    });
    // 2. EXPORT BUTTON
    addEventListener(btnIds.export, 'click', async (e) => {
        e.preventDefault();
        const format = parseDom.paletteExportFormat();
        if (mode.debug && logMode.verbosity > 1)
            logger.info(`Export Button click event: Export format selected: ${format}`, `${thisModule} > exportButton click event`);
        if (!format) {
            if (logMode.error && logMode.verbosity > 1) {
                logger.error('Export format not selected', `${thisModule} > exportButton click event`);
                return;
            }
        }
        else {
            uiManager.handleExport(format);
        }
    });
    // 3. GENERATE BUTTON
    addEventListener(btnIds.generate, 'click', async (e) => {
        e.preventDefault();
        const { type, swatches, limitDark, limitGray, limitLight } = uiManager.pullParamsFromUI();
        if (logMode.debug && logMode.verbosity > 1)
            logger.debug('Generate Button click event: Retrieved parameters from UI.', `${thisModule} > generateButton click event`);
        if (logMode.debug && logMode.verbosity > 1)
            logger.debug(`Type: ${type}\nSwatches: ${swatches}\nLimit Dark: ${limitDark}\nLimit Gray: ${limitGray}\nLimit Light${limitLight}.`, `${thisModule} > generateButton click event`);
        const paletteOptions = {
            flags: {
                limitDark,
                limitGray,
                limitLight
            },
            swatches,
            type
        };
        await uiFn.startPaletteGeneration(paletteOptions);
    });
    // 4. HELP MENU BUTTON
    addEventListener(btnIds.helpMenu, 'click', async (e) => {
        e.preventDefault();
        divElements.helpMenu?.classList.remove('hidden');
    });
    // 5. HISTORY MENU BUTTON
    addEventListener(btnIds.historyMenu, 'click', async (e) => {
        e.preventDefault();
        divElements.historyMenu?.classList.remove('hidden');
    });
    // 6. SATURATE BUTTON
    addEventListener(btnIds.saturate, 'click', async (e) => {
        e.preventDefault();
        if (!selectionElements.swatch) {
            throw new Error('Selected color option not found');
        }
        const selectedColor = selectionElements.swatch
            ? parseInt(selectionElements.swatch.value, 10)
            : 0;
        uiManager.saturateColor(selectedColor);
    });
}
function initConversionBtnEventListeners() {
    addConversionListener(String(btnIds.showAsCMYK), 'cmyk');
    addConversionListener(String(btnIds.showAsHex), 'hex');
    addConversionListener(String(btnIds.showAsHSL), 'hsl');
    addConversionListener(String(btnIds.showAsHSV), 'hsv');
    addConversionListener(String(btnIds.showAsLAB), 'lab');
    addConversionListener(String(btnIds.showAsRGB), 'rgb');
}
export const btnListeners = {
    initialize: {
        conversionBtns: initConversionBtnEventListeners,
        main: initBtnEventListeners
    }
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnRucy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9kb20vZXZlbnRMaXN0ZW5lcnMvYnRucy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxtQ0FBbUM7QUFJbkMsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLHlCQUF5QixDQUFDO0FBQ3ZELE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxtQkFBbUIsQ0FBQztBQUM1QyxPQUFPLEVBQUUsUUFBUSxJQUFJLElBQUksRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBQ3RELE9BQU8sRUFBRSxLQUFLLElBQUksUUFBUSxFQUFFLE1BQU0sYUFBYSxDQUFDO0FBQ2hELE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUN4QyxPQUFPLEVBQUUsS0FBSyxJQUFJLFFBQVEsRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUVoRCxNQUFNLE1BQU0sR0FBRyxPQUFPLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUM7QUFDdkMsTUFBTSxXQUFXLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDO0FBQ2pELE1BQU0sT0FBTyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUM7QUFDN0IsTUFBTSxpQkFBaUIsR0FBRyxPQUFPLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUM7QUFFMUQsTUFBTSxVQUFVLEdBQUcsbUNBQW1DLENBQUM7QUFFdkQsTUFBTSxxQkFBcUIsR0FBRyxRQUFRLENBQUMsS0FBSyxDQUFDLHFCQUFxQixDQUFDO0FBQ25FLE1BQU0sZ0JBQWdCLEdBQUcsUUFBUSxDQUFDLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQztBQUV6RCxNQUFNLE1BQU0sR0FBRyxNQUFNLFlBQVksRUFBRSxDQUFDO0FBRXBDLEtBQUssVUFBVSxxQkFBcUIsQ0FBQyxTQUFvQjtJQUN4RCx1QkFBdUI7SUFDdkIsZ0JBQWdCLENBQUMsTUFB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UyxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDdkQscUJBQXFCLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQztJQUN2RCxxQkFBcUIsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDO0FBQ3hELENBQUM7QUFFRCxNQUFNLENBQUMsTUFBTSxZQUFZLEdBQUc7SUFDM0IsVUFBVSxFQUFFO1FBQ1gsY0FBYyxFQUFFLCtCQUErQjtRQUMvQyxJQUFJLEVBQUUscUJBQXFCO0tBQzNCO0NBQ0QsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8vIEZpbGU6IGRvbS9ldmVudExpc3RlbmVycy9idG5zLmpzXG5cbmltcG9ydCB7IFBhbGV0dGVPcHRpb25zIH0gZnJvbSAnLi4vLi4vdHlwZXMvaW5kZXguanMnO1xuaW1wb3J0IHR5cGUgeyBVSU1hbmFnZXIgfSBmcm9tICcuLi8uLi91aS9VSU1hbmFnZXIuanMnO1xuaW1wb3J0IHsgY3JlYXRlTG9nZ2VyIH0gZnJvbSAnLi4vLi4vbG9nZ2VyL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgZG9tRGF0YSB9IGZyb20gJy4uLy4uL2RhdGEvZG9tLmpzJztcbmltcG9ydCB7IG1vZGVEYXRhIGFzIG1vZGUgfSBmcm9tICcuLi8uLi9kYXRhL21vZGUuanMnO1xuaW1wb3J0IHsgcGFyc2UgYXMgcGFyc2VEb20gfSBmcm9tICcuLi9wYXJzZS5qcyc7XG5pbXBvcnQgeyB1aUZuIH0gZnJvbSAnLi4vLi4vdWkvbWFpbi5qcyc7XG5pbXBvcnQgeyB1dGlscyBhcyBkb21VdGlscyB9IGZyb20gJy4uL3V0aWxzLmpzJztcblxuY29uc3QgYnRuSWRzID0gZG9tRGF0YS5pZHMuc3RhdGljLmJ0bnM7XG5jb25zdCBkaXZFbGVtZW50cyA9IGRvbURhdGEuZWxlbWVudHMuc3RhdGljLmRpdnM7XG5jb25zdCBsb2dNb2RlID0gbW9kZS5sb2dnaW5nO1xuY29uc3Qgc2VsZWN0aW9uRWxlbWVudHMgPSBkb21EYXRhLmVsZW1lbnRzLnN0YXRpYy5zZWxlY3RzO1xuXG5jb25zdCB0aGlzTW9kdWxlID0gJ2RvbS9ldmVudExpc3RlbmVycy9ncm91cHMvYnRucy5qcyc7XG5cbmNvbnN0IGFkZENvbnZlcnNpb25MaXN0ZW5lciA9IGRvbVV0aWxzLmV2ZW50LmFkZENvbnZlcnNpb25MaXN0ZW5lcjtcbmNvbnN0IGFkZEV2ZW50TGlzdGVuZXIgPSBkb21VdGlscy5ldmVudC5hZGRFdmVudExpc3RlbmVyO1xuXG5jb25zdCBsb2dnZXIgPSBhd2FpdCBjcmVhdGVMb2dnZXIoKTtcblxuYXN5bmMgZnVuY3Rpb24gaW5pdEJ0bkV2ZW50TGlzdGVuZXJzKHVpTWFuYWdlcjogVUlNYW5hZ2VyKTogUHJvbWlzZTx2b2lkPiB7XG5cdC8vIDEuIERFU0FUVVJBVEUgQlVUVE9OXG5cdGFkZEV2ZW50TGlzdGVuZXIoYnRuSWRzLmRlc2F0dXJhdGUsICdjbGljaycsIGFzeW5jIChlOiBNb3VzZUV2ZW50KSA9PiB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0Y29uc3Qgc2VsZWN0ZWRDb2xvciA9IHNlbGVjdGlvbkVsZW1lbnRzLnN3YXRjaFxuXHRcdFx0PyBwYXJzZUludChzZWxlY3Rpb25FbGVtZW50cy5zd2F0Y2gudmFsdWUsIDEwKVxuXHRcdFx0OiAwO1xuXG5cdFx0aWYgKGxvZ01vZGUuY2xpY2tzKVxuXHRcdFx0bG9nZ2VyLmluZm8oXG5cdFx0XHRcdCdkZXNhdHVyYXRlQnV0dG9uIGNsaWNrZWQnLFxuXHRcdFx0XHRgJHt0aGlzTW9kdWxlfSA+IGRlc2F0dXJhdGVCdXR0b24gY2xpY2sgZXZlbnRgXG5cdFx0XHQpO1xuXG5cdFx0dWlNYW5hZ2VyIS5kZXNhdHVyYXRlQ29sb3Ioc2VsZWN0ZWRDb2xvcik7XG5cdH0pO1xuXG5cdC8vIDIuIEVYUE9SVCBCVVRUT05cblx0YWRkRXZlbnRMaXN0ZW5lcihidG5JZHMuZXhwb3J0LCAnY2xpY2snLCBhc3luYyAoZTogTW91c2VFdmVudCkgPT4ge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblxuXHRcdGNvbnN0IGZvcm1hdCA9IHBhcnNlRG9tLnBhbGV0dGVFeHBvcnRGb3JtYXQoKTtcblxuXHRcdGlmIChtb2RlLmRlYnVnICYmIGxvZ01vZGUudmVyYm9zaXR5ID4gMSlcblx0XHRcdGxvZ2dlci5pbmZvKFxuXHRcdFx0XHRgRXhwb3J0IEJ1dHRvbiBjbGljayBldmVudDogRXhwb3J0IGZvcm1hdCBzZWxlY3RlZDogJHtmb3JtYXR9YCxcblx0XHRcdFx0YCR7dGhpc01vZHVsZX0gPiBleHBvcnRCdXR0b24gY2xpY2sgZXZlbnRgXG5cdFx0XHQpO1xuXG5cdFx0aWYgKCFmb3JtYXQpIHtcblx0XHRcdGlmIChsb2dNb2RlLmVycm9yICYmIGxvZ01vZGUudmVyYm9zaXR5ID4gMSkge1xuXHRcdFx0XHRsb2dnZXIuZXJyb3IoXG5cdFx0XHRcdFx0J0V4cG9ydCBmb3JtYXQgbm90IHNlbGVjdGVkJyxcblx0XHRcdFx0XHRgJHt0aGlzTW9kdWxlfSA+IGV4cG9ydEJ1dHRvbiBjbGljayBldmVudGBcblx0XHRcdFx0KTtcblxuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdHVpTWFuYWdlciEuaGFuZGxlRXhwb3J0KGZvcm1hdCk7XG5cdFx0fVxuXHR9KTtcblxuXHQvLyAzLiBHRU5FUkFURSBCVVRUT05cblx0YWRkRXZlbnRMaXN0ZW5lcihidG5JZHMuZ2VuZXJhdGUsICdjbGljaycsIGFzeW5jIChlOiBNb3VzZUV2ZW50KSA9PiB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0Y29uc3QgeyB0eXBlLCBzd2F0Y2hlcywgbGltaXREYXJrLCBsaW1pdEdyYXksIGxpbWl0TGlnaHQgfSA9XG5cdFx0XHR1aU1hbmFnZXIhLnB1bGxQYXJhbXNGcm9tVUkoKTtcblxuXHRcdGlmIChsb2dNb2RlLmRlYnVnICYmIGxvZ01vZGUudmVyYm9zaXR5ID4gMSlcblx0XHRcdGxvZ2dlci5kZWJ1Zyhcblx0XHRcdFx0J0dlbmVyYXRlIEJ1dHRvbiBjbGljayBldmVudDogUmV0cmlldmVkIHBhcmFtZXRlcnMgZnJvbSBVSS4nLFxuXHRcdFx0XHRgJHt0aGlzTW9kdWxlfSA+IGdlbmVyYXRlQnV0dG9uIGNsaWNrIGV2ZW50YFxuXHRcdFx0KTtcblxuXHRcdGlmIChsb2dNb2RlLmRlYnVnICYmIGxvZ01vZGUudmVyYm9zaXR5ID4gMSlcblx0XHRcdGxvZ2dlci5kZWJ1Zyhcblx0XHRcdFx0YFR5cGU6ICR7dHlwZX1cXG5Td2F0Y2hlczogJHtzd2F0Y2hlc31cXG5MaW1pdCBEYXJrOiAke2xpbWl0RGFya31cXG5MaW1pdCBHcmF5OiAke2xpbWl0R3JheX1cXG5MaW1pdCBMaWdodCR7bGltaXRMaWdodH0uYCxcblx0XHRcdFx0YCR7dGhpc01vZHVsZX0gPiBnZW5lcmF0ZUJ1dHRvbiBjbGljayBldmVudGBcblx0XHRcdCk7XG5cblx0XHRjb25zdCBwYWxldHRlT3B0aW9uczogUGFsZXR0ZU9wdGlvbnMgPSB7XG5cdFx0XHRmbGFnczoge1xuXHRcdFx0XHRsaW1pdERhcmssXG5cdFx0XHRcdGxpbWl0R3JheSxcblx0XHRcdFx0bGltaXRMaWdodFxuXHRcdFx0fSxcblx0XHRcdHN3YXRjaGVzLFxuXHRcdFx0dHlwZVxuXHRcdH07XG5cblx0XHRhd2FpdCB1aUZuLnN0YXJ0UGFsZXR0ZUdlbmVyYXRpb24ocGFsZXR0ZU9wdGlvbnMpO1xuXHR9KTtcblxuXHQvLyA0LiBIRUxQIE1FTlUgQlVUVE9OXG5cdGFkZEV2ZW50TGlzdGVuZXIoYnRuSWRzLmhlbHBNZW51LCAnY2xpY2snLCBhc3luYyAoZTogTW91c2VFdmVudCkgPT4ge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblxuXHRcdGRpdkVsZW1lbnRzLmhlbHBNZW51Py5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcblx0fSk7XG5cblx0Ly8gNS4gSElTVE9SWSBNRU5VIEJVVFRPTlxuXHRhZGRFdmVudExpc3RlbmVyKGJ0bklkcy5oaXN0b3J5TWVudSwgJ2NsaWNrJywgYXN5bmMgKGU6IE1vdXNlRXZlbnQpID0+IHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRkaXZFbGVtZW50cy5oaXN0b3J5TWVudT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG5cdH0pO1xuXG5cdC8vIDYuIFNBVFVSQVRFIEJVVFRPTlxuXHRhZGRFdmVudExpc3RlbmVyKGJ0bklkcy5zYXR1cmF0ZSwgJ2NsaWNrJywgYXN5bmMgKGU6IE1vdXNlRXZlbnQpID0+IHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRpZiAoIXNlbGVjdGlvbkVsZW1lbnRzLnN3YXRjaCkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdTZWxlY3RlZCBjb2xvciBvcHRpb24gbm90IGZvdW5kJyk7XG5cdFx0fVxuXG5cdFx0Y29uc3Qgc2VsZWN0ZWRDb2xvciA9IHNlbGVjdGlvbkVsZW1lbnRzLnN3YXRjaFxuXHRcdFx0PyBwYXJzZUludChzZWxlY3Rpb25FbGVtZW50cy5zd2F0Y2gudmFsdWUsIDEwKVxuXHRcdFx0OiAwO1xuXG5cdFx0dWlNYW5hZ2VyIS5zYXR1cmF0ZUNvbG9yKHNlbGVjdGVkQ29sb3IpO1xuXHR9KTtcbn1cblxuZnVuY3Rpb24gaW5pdENvbnZlcnNpb25CdG5FdmVudExpc3RlbmVycygpOiB2b2lkIHtcblx0YWRkQ29udmVyc2lvbkxpc3RlbmVyKFN0cmluZyhidG5JZHMuc2hvd0FzQ01ZSyksICdjbXlrJyk7XG5cdGFkZENvbnZlcnNpb25MaXN0ZW5lcihTdHJpbmcoYnRuSWRzLnNob3dBc0hleCksICdoZXgnKTtcblx0YWRkQ29udmVyc2lvbkxpc3RlbmVyKFN0cmluZyhidG5JZHMuc2hvd0FzSFNMKSwgJ2hzbCcpO1xuXHRhZGRDb252ZXJzaW9uTGlzdGVuZXIoU3RyaW5nKGJ0bklkcy5zaG93QXNIU1YpLCAnaHN2Jyk7XG5cdGFkZENvbnZlcnNpb25MaXN0ZW5lcihTdHJpbmcoYnRuSWRzLnNob3dBc0xBQiksICdsYWInKTtcblx0YWRkQ29udmVyc2lvbkxpc3RlbmVyKFN0cmluZyhidG5JZHMuc2hvd0FzUkdCKSwgJ3JnYicpO1xufVxuXG5leHBvcnQgY29uc3QgYnRuTGlzdGVuZXJzID0ge1xuXHRpbml0aWFsaXplOiB7XG5cdFx0Y29udmVyc2lvbkJ0bnM6IGluaXRDb252ZXJzaW9uQnRuRXZlbnRMaXN0ZW5lcnMsXG5cdFx0bWFpbjogaW5pdEJ0bkV2ZW50TGlzdGVuZXJzXG5cdH1cbn07XG4iXX0=