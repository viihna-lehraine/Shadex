{"version":3,"file":"color.js","sources":["../../../../../src/core/helpers/color.ts"],"sourcesContent":["// File: core/helpers/color.ts\n\nimport {\n\tColorDataAssertion,\n\tColorHelpers,\n\tHelpers\n} from '../../types/index.js';\n\nexport const colorHelpersFactory = (helpers: Helpers): ColorHelpers =>\n\t({\n\t\tgetConversionFn<\n\t\t\tFrom extends keyof ColorDataAssertion,\n\t\t\tTo extends keyof ColorDataAssertion\n\t\t>(\n\t\t\tfrom: From,\n\t\t\tto: To\n\t\t):\n\t\t\t| ((value: ColorDataAssertion[From]) => ColorDataAssertion[To])\n\t\t\t| undefined {\n\t\t\ttry {\n\t\t\t\tconst fnName =\n\t\t\t\t\t`${from}To${to[0].toUpperCase() + to.slice(1)}` as keyof typeof helpers.color;\n\t\t\t\tif (!(fnName in helpers.color)) return undefined;\n\t\t\t\tconst conversionFn = helpers.color[fnName] as unknown as (\n\t\t\t\t\tinput: ColorDataAssertion[From]\n\t\t\t\t) => ColorDataAssertion[To];\n\t\t\t\treturn (value: ColorDataAssertion[From]): ColorDataAssertion[To] =>\n\t\t\t\t\tstructuredClone(conversionFn(value));\n\t\t\t} catch (error) {\n\t\t\t\tthrow new Error(\n\t\t\t\t\t`Error getting conversion function: ${error instanceof Error ? error.message : 'Unknown error'}`\n\t\t\t\t);\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t},\n\t\thueToRGB(p: number, q: number, t: number): number {\n\t\t\ttry {\n\t\t\t\tconst clonedP = helpers.data.deepClone(p);\n\t\t\t\tconst clonedQ = helpers.data.deepClone(q);\n\t\t\t\tlet clonedT = helpers.data.deepClone(t);\n\t\t\t\tif (clonedT < 0) clonedT += 1;\n\t\t\t\tif (clonedT > 1) clonedT -= 1;\n\t\t\t\tif (clonedT < 1 / 6) return clonedP + (clonedQ - clonedP) * 6 * clonedT;\n\t\t\t\tif (clonedT < 1 / 2) return clonedQ;\n\t\t\t\tif (clonedT < 2 / 3)\n\t\t\t\t\treturn clonedP + (clonedQ - clonedP) * (2 / 3 - clonedT) * 6;\n\t\t\t\treturn clonedP;\n\t\t\t} catch (error) {\n\t\t\t\tthrow new Error(\n\t\t\t\t\t`Error converting hue to RGB: ${error instanceof Error ? error.message : 'Unknown error'}`\n\t\t\t\t);\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t}\n\t}) as const;\n"],"names":[],"mappings":"AAAA;MAQa,mBAAmB,GAAG,CAAC,OAAgB,MAClD;IACA,eAAe,CAId,IAAU,EACV,EAAM,EAAA;AAIN,QAAA,IAAI;YACH,MAAM,MAAM,GACX,CAAG,EAAA,IAAI,KAAK,EAAE,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,GAAG,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,EAAgC;AAC9E,YAAA,IAAI,EAAE,MAAM,IAAI,OAAO,CAAC,KAAK,CAAC;AAAE,gBAAA,OAAO,SAAS;YAChD,MAAM,YAAY,GAAG,OAAO,CAAC,KAAK,CAAC,MAAM,CAEd;AAC3B,YAAA,OAAO,CAAC,KAA+B,KACtC,eAAe,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;;QACpC,OAAO,KAAK,EAAE;AACf,YAAA,MAAM,IAAI,KAAK,CACd,sCAAsC,KAAK,YAAY,KAAK,GAAG,KAAK,CAAC,OAAO,GAAG,eAAe,CAAA,CAAE,CAChG;;KAGF;AACD,IAAA,QAAQ,CAAC,CAAS,EAAE,CAAS,EAAE,CAAS,EAAA;AACvC,QAAA,IAAI;YACH,MAAM,OAAO,GAAG,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;YACzC,MAAM,OAAO,GAAG,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;YACzC,IAAI,OAAO,GAAG,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;YACvC,IAAI,OAAO,GAAG,CAAC;gBAAE,OAAO,IAAI,CAAC;YAC7B,IAAI,OAAO,GAAG,CAAC;gBAAE,OAAO,IAAI,CAAC;AAC7B,YAAA,IAAI,OAAO,GAAG,CAAC,GAAG,CAAC;gBAAE,OAAO,OAAO,GAAG,CAAC,OAAO,GAAG,OAAO,IAAI,CAAC,GAAG,OAAO;AACvE,YAAA,IAAI,OAAO,GAAG,CAAC,GAAG,CAAC;AAAE,gBAAA,OAAO,OAAO;AACnC,YAAA,IAAI,OAAO,GAAG,CAAC,GAAG,CAAC;AAClB,gBAAA,OAAO,OAAO,GAAG,CAAC,OAAO,GAAG,OAAO,KAAK,CAAC,GAAG,CAAC,GAAG,OAAO,CAAC,GAAG,CAAC;AAC7D,YAAA,OAAO,OAAO;;QACb,OAAO,KAAK,EAAE;AACf,YAAA,MAAM,IAAI,KAAK,CACd,gCAAgC,KAAK,YAAY,KAAK,GAAG,KAAK,CAAC,OAAO,GAAG,eAAe,CAAA,CAAE,CAC1F;;;AAIH,CAAA;;;;"}