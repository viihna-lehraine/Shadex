// File: core/helpers/color.ts
export const colorHelpersFactory = (helpers) => ({
    getConversionFn(from, to) {
        try {
            const fnName = `${from}To${to[0].toUpperCase() + to.slice(1)}`;
            if (!(fnName in helpers.color))
                return undefined;
            const conversionFn = helpers.color[fnName];
            return (value) => structuredClone(conversionFn(value));
        }
        catch (error) {
            throw new Error(`Error getting conversion function: ${error instanceof Error ? error.message : 'Unknown error'}`);
            return undefined;
        }
    },
    hueToRGB(p, q, t) {
        try {
            const clonedP = helpers.data.clone(p);
            const clonedQ = helpers.data.clone(q);
            let clonedT = helpers.data.clone(t);
            if (clonedT < 0)
                clonedT += 1;
            if (clonedT > 1)
                clonedT -= 1;
            if (clonedT < 1 / 6)
                return clonedP + (clonedQ - clonedP) * 6 * clonedT;
            if (clonedT < 1 / 2)
                return clonedQ;
            if (clonedT < 2 / 3)
                return (clonedP + (clonedQ - clonedP) * (2 / 3 - clonedT) * 6);
            return clonedP;
        }
        catch (error) {
            throw new Error(`Error converting hue to RGB: ${error instanceof Error ? error.message : 'Unknown error'}`);
            return 0;
        }
    }
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29sb3IuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvY29yZS9oZWxwZXJzL2NvbG9yLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLDhCQUE4QjtBQVE5QixNQUFNLENBQUMsTUFBTSxtQkFBbUIsR0FBRyxDQUFDLE9BQWdCLEVBQWdCLEVBQUUsQ0FDckUsQ0FBQztJQUNBLGVBQWUsQ0FJZCxJQUFVLEVBQ1YsRUFBTTtRQUlOLElBQUksQ0FBQztZQUNKLE1BQU0sTUFBTSxHQUNYLEdBQUcsSUFBSSxLQUFLLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxXQUFXLEVBQUUsR0FBRyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFnQyxDQUFDO1lBQy9FLElBQUksQ0FBQyxDQUFDLE1BQU0sSUFBSSxPQUFPLENBQUMsS0FBSyxDQUFDO2dCQUFFLE9BQU8sU0FBUyxDQUFDO1lBQ2pELE1BQU0sWUFBWSxHQUFHLE9BQU8sQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUVkLENBQUM7WUFDNUIsT0FBTyxDQUNOLEtBQStCLEVBQ04sRUFBRSxDQUMzQixlQUFlLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7UUFDdkMsQ0FBQztRQUFDLE9BQU8sS0FBSyxFQUFFLENBQUM7WUFDaEIsTUFBTSxJQUFJLEtBQUssQ0FDZCxzQ0FBc0MsS0FBSyxZQUFZLEtBQUssQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsZUFBZSxFQUFFLENBQ2hHLENBQUM7WUFDRixPQUFPLFNBQVMsQ0FBQztRQUNsQixDQUFDO0lBQ0YsQ0FBQztJQUNELFFBQVEsQ0FBQyxDQUFTLEVBQUUsQ0FBUyxFQUFFLENBQVM7UUFDdkMsSUFBSSxDQUFDO1lBQ0osTUFBTSxPQUFPLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDdEMsTUFBTSxPQUFPLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDdEMsSUFBSSxPQUFPLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDcEMsSUFBSSxPQUFPLEdBQUcsQ0FBQztnQkFBRSxPQUFPLElBQUksQ0FBQyxDQUFDO1lBQzlCLElBQUksT0FBTyxHQUFHLENBQUM7Z0JBQUUsT0FBTyxJQUFJLENBQUMsQ0FBQztZQUM5QixJQUFJLE9BQU8sR0FBRyxDQUFDLEdBQUcsQ0FBQztnQkFDbEIsT0FBTyxPQUFPLEdBQUcsQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLE9BQU8sQ0FBQztZQUNwRCxJQUFJLE9BQU8sR0FBRyxDQUFDLEdBQUcsQ0FBQztnQkFBRSxPQUFPLE9BQU8sQ0FBQztZQUNwQyxJQUFJLE9BQU8sR0FBRyxDQUFDLEdBQUcsQ0FBQztnQkFDbEIsT0FBTyxDQUNOLE9BQU8sR0FBRyxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUNyRCxDQUFDO1lBQ0gsT0FBTyxPQUFPLENBQUM7UUFDaEIsQ0FBQztRQUFDLE9BQU8sS0FBSyxFQUFFLENBQUM7WUFDaEIsTUFBTSxJQUFJLEtBQUssQ0FDZCxnQ0FBZ0MsS0FBSyxZQUFZLEtBQUssQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsZUFBZSxFQUFFLENBQzFGLENBQUM7WUFDRixPQUFPLENBQUMsQ0FBQztRQUNWLENBQUM7SUFDRixDQUFDO0NBQ0QsQ0FBVSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLy8gRmlsZTogY29yZS9oZWxwZXJzL2NvbG9yLnRzXG5cbmltcG9ydCB7XG5cdENvbG9yRGF0YUFzc2VydGlvbixcblx0Q29sb3JIZWxwZXJzLFxuXHRIZWxwZXJzXG59IGZyb20gJy4uLy4uL3R5cGVzL2luZGV4LmpzJztcblxuZXhwb3J0IGNvbnN0IGNvbG9ySGVscGVyc0ZhY3RvcnkgPSAoaGVscGVyczogSGVscGVycyk6IENvbG9ySGVscGVycyA9PlxuXHQoe1xuXHRcdGdldENvbnZlcnNpb25Gbjxcblx0XHRcdEZyb20gZXh0ZW5kcyBrZXlvZiBDb2xvckRhdGFBc3NlcnRpb24sXG5cdFx0XHRUbyBleHRlbmRzIGtleW9mIENvbG9yRGF0YUFzc2VydGlvblxuXHRcdD4oXG5cdFx0XHRmcm9tOiBGcm9tLFxuXHRcdFx0dG86IFRvXG5cdFx0KTpcblx0XHRcdHwgKCh2YWx1ZTogQ29sb3JEYXRhQXNzZXJ0aW9uW0Zyb21dKSA9PiBDb2xvckRhdGFBc3NlcnRpb25bVG9dKVxuXHRcdFx0fCB1bmRlZmluZWQge1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0Y29uc3QgZm5OYW1lID1cblx0XHRcdFx0XHRgJHtmcm9tfVRvJHt0b1swXS50b1VwcGVyQ2FzZSgpICsgdG8uc2xpY2UoMSl9YCBhcyBrZXlvZiB0eXBlb2YgaGVscGVycy5jb2xvcjtcblx0XHRcdFx0aWYgKCEoZm5OYW1lIGluIGhlbHBlcnMuY29sb3IpKSByZXR1cm4gdW5kZWZpbmVkO1xuXHRcdFx0XHRjb25zdCBjb252ZXJzaW9uRm4gPSBoZWxwZXJzLmNvbG9yW2ZuTmFtZV0gYXMgdW5rbm93biBhcyAoXG5cdFx0XHRcdFx0aW5wdXQ6IENvbG9yRGF0YUFzc2VydGlvbltGcm9tXVxuXHRcdFx0XHQpID0+IENvbG9yRGF0YUFzc2VydGlvbltUb107XG5cdFx0XHRcdHJldHVybiAoXG5cdFx0XHRcdFx0dmFsdWU6IENvbG9yRGF0YUFzc2VydGlvbltGcm9tXVxuXHRcdFx0XHQpOiBDb2xvckRhdGFBc3NlcnRpb25bVG9dID0+XG5cdFx0XHRcdFx0c3RydWN0dXJlZENsb25lKGNvbnZlcnNpb25Gbih2YWx1ZSkpO1xuXHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFxuXHRcdFx0XHRcdGBFcnJvciBnZXR0aW5nIGNvbnZlcnNpb24gZnVuY3Rpb246ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcid9YFxuXHRcdFx0XHQpO1xuXHRcdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0aHVlVG9SR0IocDogbnVtYmVyLCBxOiBudW1iZXIsIHQ6IG51bWJlcik6IG51bWJlciB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRjb25zdCBjbG9uZWRQID0gaGVscGVycy5kYXRhLmNsb25lKHApO1xuXHRcdFx0XHRjb25zdCBjbG9uZWRRID0gaGVscGVycy5kYXRhLmNsb25lKHEpO1xuXHRcdFx0XHRsZXQgY2xvbmVkVCA9IGhlbHBlcnMuZGF0YS5jbG9uZSh0KTtcblx0XHRcdFx0aWYgKGNsb25lZFQgPCAwKSBjbG9uZWRUICs9IDE7XG5cdFx0XHRcdGlmIChjbG9uZWRUID4gMSkgY2xvbmVkVCAtPSAxO1xuXHRcdFx0XHRpZiAoY2xvbmVkVCA8IDEgLyA2KVxuXHRcdFx0XHRcdHJldHVybiBjbG9uZWRQICsgKGNsb25lZFEgLSBjbG9uZWRQKSAqIDYgKiBjbG9uZWRUO1xuXHRcdFx0XHRpZiAoY2xvbmVkVCA8IDEgLyAyKSByZXR1cm4gY2xvbmVkUTtcblx0XHRcdFx0aWYgKGNsb25lZFQgPCAyIC8gMylcblx0XHRcdFx0XHRyZXR1cm4gKFxuXHRcdFx0XHRcdFx0Y2xvbmVkUCArIChjbG9uZWRRIC0gY2xvbmVkUCkgKiAoMiAvIDMgLSBjbG9uZWRUKSAqIDZcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHRyZXR1cm4gY2xvbmVkUDtcblx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcihcblx0XHRcdFx0XHRgRXJyb3IgY29udmVydGluZyBodWUgdG8gUkdCOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InfWBcblx0XHRcdFx0KTtcblx0XHRcdFx0cmV0dXJuIDA7XG5cdFx0XHR9XG5cdFx0fVxuXHR9KSBhcyBjb25zdDtcbiJdfQ==