// File: core/factories/utils.ts
export async function utilitiesFactory(helpers, services) {
    const { errors, log } = services;
    const utilities = {};
    log.info('Executing utilitiesFactory.', `[UTILITIES_FACTORY]`);
    return await errors.handleAndReturn(async () => {
        log.info('Importing utility group sub-factories.', `[UTILITIES_FACTORY]`);
        const [{ adjustmentUtilitiesFactory }, { brandingUtilitiesFactory }, { colorUtilitiesFactory }, { domUtilitiesFactory }, { formattingUtilitiesFactory }, { paletteUtilitiesFactory }, { sanitationUtilitiesFactory }, { validationUtilitiesFactory }] = await Promise.all([
            import('../utils/adjust.js'),
            import('../utils/brand.js'),
            import('../utils/color.js'),
            import('../utils/dom.js'),
            import('../utils/format.js'),
            import('../utils/palette.js'),
            import('../utils/sanitize.js'),
            import('../utils/validate.js')
        ]);
        log.info('Utility group sub-factories imported successfully.', `[UTILITIES_FACTORY]`);
        log.info('Calling validationUtilsFactory.', `[UTILITIES_FACTORY]`);
        utilities.validate = validationUtilitiesFactory(helpers, services);
        log.info('Initializing branding utilities.', `[UTILITIES_FACTORY]`);
        utilities.brand = brandingUtilitiesFactory(services, utilities.validate);
        log.info('Initializing adjustment utilities.', `[UTILITIES_FACTORY]`);
        utilities.adjust = adjustmentUtilitiesFactory(utilities.brand, services, utilities.validate);
        log.info('Initializing formatting utilities.', `[UTILITIES_FACTORY]`);
        utilities.format = formattingUtilitiesFactory(utilities.brand, services, utilities.validate);
        log.info('Initializing sanitation utilities.', `[UTILITIES_FACTORY]`);
        utilities.sanitize = sanitationUtilitiesFactory(utilities.brand, services, utilities.validate);
        // 7. Initialize color utilities
        log.info('Initializing color utilities.', `[UTILITIES_FACTORY]`);
        utilities.color = await colorUtilitiesFactory(utilities.adjust, utilities.brand, utilities.format, helpers, utilities.sanitize, services, utilities.validate);
        // 8. Initialize DOM utilities
        log.info('Initializing DOM utilities.', `[UTILITIES_FACTORY]`);
        utilities.dom = await domUtilitiesFactory(utilities.brand, utilities.color, helpers, services, utilities.validate);
        log.info('Initializing palette utilities.', `[UTILITIES_FACTORY]`);
        utilities.palette = paletteUtilitiesFactory(utilities.brand, utilities.color, utilities.dom, helpers, services, utilities.validate);
        log.info('Utilities initialized successfully.', `[UTILITIES_FACTORY]`);
        return utilities;
    }, 'Error initializing utilities', { context: { utilities } });
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXRpbHMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvY29yZS9mYWN0b3JpZXMvdXRpbHMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsZ0NBQWdDO0FBSWhDLE1BQU0sQ0FBQyxLQUFLLFVBQVUsZ0JBQWdCLENBQ3JDLE9BQWdCLEVBQ2hCLFFBQWtCO0lBRWxCLE1BQU0sRUFBRSxNQUFNLEVBQUUsR0FBRyxFQUFFLEdBQUcsUUFBUSxDQUFDO0lBQ2pDLE1BQU0sU0FBUyxHQUFHLEVBQWUsQ0FBQztJQUVsQyxHQUFHLENBQUMsSUFBSSxDQUFDLDZCQUE2QixFQUFFLHFCQUFxQixDQUFDLENBQUM7SUFFL0QsT0FBTyxNQUFNLE1BQU0sQ0FBQyxlQUFlLENBQ2xDLEtBQUssSUFBSSxFQUFFO1FBQ1YsR0FBRyxDQUFDLElBQUksQ0FDUCx3Q0FBd0MsRUFDeEMscUJBQXFCLENBQ3JCLENBQUM7UUFDRixNQUFNLENBQ0wsRUFBRSwwQkFBMEIsRUFBRSxFQUM5QixFQUFFLHdCQUF3QixFQUFFLEVBQzVCLEVBQUUscUJBQXFCLEVBQUUsRUFDekIsRUFBRSxtQkFBbUIsRUFBRSxFQUN2QixFQUFFLDBCQUEwQixFQUFFLEVBQzlCLEVBQUUsdUJBQXVCLEVBQUUsRUFDM0IsRUFBRSwwQkFBMEIsRUFBRSxFQUM5QixFQUFFLDBCQUEwQixFQUFFLENBQzlCLEdBQUcsTUFBTSxPQUFPLENBQUMsR0FBRyxDQUFDO1lBQ3JCLE1BQU0sQ0FBQyxvQkFBb0IsQ0FBQztZQUM1QixNQUFNLENBQUMsbUJBQW1CLENBQUM7WUFDM0IsTUFBTSxDQUFDLG1CQUFtQixDQUFDO1lBQzNCLE1BQU0sQ0FBQyxpQkFBaUIsQ0FBQztZQUN6QixNQUFNLENBQUMsb0JBQW9CLENBQUM7WUFDNUIsTUFBTSxDQUFDLHFCQUFxQixDQUFDO1lBQzdCLE1BQU0sQ0FBQyxzQkFBc0IsQ0FBQztZQUM5QixNQUFNLENBQUMsc0JBQXNCLENBQUM7U0FDOUIsQ0FBQyxDQUFDO1FBQ0gsR0FBRyxDQUFDLElBQUksQ0FDUCxvREFBb0QsRUFDcEQscUJBQXFCLENBQ3JCLENBQUM7UUFFRixHQUFHLENBQUMsSUFBSSxDQUFDLGlDQUFpQyxFQUFFLHFCQUFxQixDQUFDLENBQUM7UUFDbkUsU0FBUyxDQUFDLFFBQVEsR0FBRywwQkFBMEIsQ0FBQyxPQUFPLEVBQUUsUUFBUSxDQUFDLENBQUM7UUFFbkUsR0FBRyxDQUFDLElBQUksQ0FBQyxrQ0FBa0MsRUFBRSxxQkFBcUIsQ0FBQyxDQUFDO1FBQ3BFLFNBQVMsQ0FBQyxLQUFLLEdBQUcsd0JBQXdCLENBQ3pDLFFBQVEsRUFDUixTQUFTLENBQUMsUUFBUSxDQUNsQixDQUFDO1FBRUYsR0FBRyxDQUFDLElBQUksQ0FDUCxvQ0FBb0MsRUFDcEMscUJBQXFCLENBQ3JCLENBQUM7UUFDRixTQUFTLENBQUMsTUFBTSxHQUFHLDBCQUEwQixDQUM1QyxTQUFTLENBQUMsS0FBSyxFQUNmLFFBQVEsRUFDUixTQUFTLENBQUMsUUFBUSxDQUNsQixDQUFDO1FBRUYsR0FBRyxDQUFDLElBQUksQ0FDUCxvQ0FBb0MsRUFDcEMscUJBQXFCLENBQ3JCLENBQUM7UUFDRixTQUFTLENBQUMsTUFBTSxHQUFHLDBCQUEwQixDQUM1QyxTQUFTLENBQUMsS0FBSyxFQUNmLFFBQVEsRUFDUixTQUFTLENBQUMsUUFBUSxDQUNsQixDQUFDO1FBRUYsR0FBRyxDQUFDLElBQUksQ0FDUCxvQ0FBb0MsRUFDcEMscUJBQXFCLENBQ3JCLENBQUM7UUFDRixTQUFTLENBQUMsUUFBUSxHQUFHLDBCQUEwQixDQUM5QyxTQUFTLENBQUMsS0FBSyxFQUNmLFFBQVEsRUFDUixTQUFTLENBQUMsUUFBUSxDQUNsQixDQUFDO1FBRUYsZ0NBQWdDO1FBQ2hDLEdBQUcsQ0FBQyxJQUFJLENBQUMsK0JBQStCLEVBQUUscUJBQXFCLENBQUMsQ0FBQztRQUNqRSxTQUFTLENBQUMsS0FBSyxHQUFHLE1BQU0scUJBQXFCLENBQzVDLFNBQVMsQ0FBQyxNQUFNLEVBQ2hCLFNBQVMsQ0FBQyxLQUFLLEVBQ2YsU0FBUyxDQUFDLE1BQU0sRUFDaEIsT0FBTyxFQUNQLFNBQVMsQ0FBQyxRQUFRLEVBQ2xCLFFBQVEsRUFDUixTQUFTLENBQUMsUUFBUSxDQUNsQixDQUFDO1FBRUYsOEJBQThCO1FBQzlCLEdBQUcsQ0FBQyxJQUFJLENBQUMsNkJBQTZCLEVBQUUscUJBQXFCLENBQUMsQ0FBQztRQUMvRCxTQUFTLENBQUMsR0FBRyxHQUFHLE1BQU0sbUJBQW1CLENBQ3hDLFNBQVMsQ0FBQyxLQUFLLEVBQ2YsU0FBUyxDQUFDLEtBQUssRUFDZixPQUFPLEVBQ1AsUUFBUSxFQUNSLFNBQVMsQ0FBQyxRQUFRLENBQ2xCLENBQUM7UUFFRixHQUFHLENBQUMsSUFBSSxDQUFDLGlDQUFpQyxFQUFFLHFCQUFxQixDQUFDLENBQUM7UUFDbkUsU0FBUyxDQUFDLE9BQU8sR0FBRyx1QkFBdUIsQ0FDMUMsU0FBUyxDQUFDLEtBQUssRUFDZixTQUFTLENBQUMsS0FBSyxFQUNmLFNBQVMsQ0FBQyxHQUFHLEVBQ2IsT0FBTyxFQUNQLFFBQVEsRUFDUixTQUFTLENBQUMsUUFBUSxDQUNsQixDQUFDO1FBRUYsR0FBRyxDQUFDLElBQUksQ0FDUCxxQ0FBcUMsRUFDckMscUJBQXFCLENBQ3JCLENBQUM7UUFFRixPQUFPLFNBQWdDLENBQUM7SUFDekMsQ0FBQyxFQUNELDhCQUE4QixFQUM5QixFQUFFLE9BQU8sRUFBRSxFQUFFLFNBQVMsRUFBRSxFQUFFLENBQzFCLENBQUM7QUFDSCxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLy8gRmlsZTogY29yZS9mYWN0b3JpZXMvdXRpbHMudHNcblxuaW1wb3J0IHsgSGVscGVycywgU2VydmljZXMsIFV0aWxpdGllcyB9IGZyb20gJy4uLy4uL3R5cGVzL2luZGV4LmpzJztcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHV0aWxpdGllc0ZhY3RvcnkoXG5cdGhlbHBlcnM6IEhlbHBlcnMsXG5cdHNlcnZpY2VzOiBTZXJ2aWNlc1xuKTogUHJvbWlzZTxVdGlsaXRpZXM+IHtcblx0Y29uc3QgeyBlcnJvcnMsIGxvZyB9ID0gc2VydmljZXM7XG5cdGNvbnN0IHV0aWxpdGllcyA9IHt9IGFzIFV0aWxpdGllcztcblxuXHRsb2cuaW5mbygnRXhlY3V0aW5nIHV0aWxpdGllc0ZhY3RvcnkuJywgYFtVVElMSVRJRVNfRkFDVE9SWV1gKTtcblxuXHRyZXR1cm4gYXdhaXQgZXJyb3JzLmhhbmRsZUFuZFJldHVybihcblx0XHRhc3luYyAoKSA9PiB7XG5cdFx0XHRsb2cuaW5mbyhcblx0XHRcdFx0J0ltcG9ydGluZyB1dGlsaXR5IGdyb3VwIHN1Yi1mYWN0b3JpZXMuJyxcblx0XHRcdFx0YFtVVElMSVRJRVNfRkFDVE9SWV1gXG5cdFx0XHQpO1xuXHRcdFx0Y29uc3QgW1xuXHRcdFx0XHR7IGFkanVzdG1lbnRVdGlsaXRpZXNGYWN0b3J5IH0sXG5cdFx0XHRcdHsgYnJhbmRpbmdVdGlsaXRpZXNGYWN0b3J5IH0sXG5cdFx0XHRcdHsgY29sb3JVdGlsaXRpZXNGYWN0b3J5IH0sXG5cdFx0XHRcdHsgZG9tVXRpbGl0aWVzRmFjdG9yeSB9LFxuXHRcdFx0XHR7IGZvcm1hdHRpbmdVdGlsaXRpZXNGYWN0b3J5IH0sXG5cdFx0XHRcdHsgcGFsZXR0ZVV0aWxpdGllc0ZhY3RvcnkgfSxcblx0XHRcdFx0eyBzYW5pdGF0aW9uVXRpbGl0aWVzRmFjdG9yeSB9LFxuXHRcdFx0XHR7IHZhbGlkYXRpb25VdGlsaXRpZXNGYWN0b3J5IH1cblx0XHRcdF0gPSBhd2FpdCBQcm9taXNlLmFsbChbXG5cdFx0XHRcdGltcG9ydCgnLi4vdXRpbHMvYWRqdXN0LmpzJyksXG5cdFx0XHRcdGltcG9ydCgnLi4vdXRpbHMvYnJhbmQuanMnKSxcblx0XHRcdFx0aW1wb3J0KCcuLi91dGlscy9jb2xvci5qcycpLFxuXHRcdFx0XHRpbXBvcnQoJy4uL3V0aWxzL2RvbS5qcycpLFxuXHRcdFx0XHRpbXBvcnQoJy4uL3V0aWxzL2Zvcm1hdC5qcycpLFxuXHRcdFx0XHRpbXBvcnQoJy4uL3V0aWxzL3BhbGV0dGUuanMnKSxcblx0XHRcdFx0aW1wb3J0KCcuLi91dGlscy9zYW5pdGl6ZS5qcycpLFxuXHRcdFx0XHRpbXBvcnQoJy4uL3V0aWxzL3ZhbGlkYXRlLmpzJylcblx0XHRcdF0pO1xuXHRcdFx0bG9nLmluZm8oXG5cdFx0XHRcdCdVdGlsaXR5IGdyb3VwIHN1Yi1mYWN0b3JpZXMgaW1wb3J0ZWQgc3VjY2Vzc2Z1bGx5LicsXG5cdFx0XHRcdGBbVVRJTElUSUVTX0ZBQ1RPUlldYFxuXHRcdFx0KTtcblxuXHRcdFx0bG9nLmluZm8oJ0NhbGxpbmcgdmFsaWRhdGlvblV0aWxzRmFjdG9yeS4nLCBgW1VUSUxJVElFU19GQUNUT1JZXWApO1xuXHRcdFx0dXRpbGl0aWVzLnZhbGlkYXRlID0gdmFsaWRhdGlvblV0aWxpdGllc0ZhY3RvcnkoaGVscGVycywgc2VydmljZXMpO1xuXG5cdFx0XHRsb2cuaW5mbygnSW5pdGlhbGl6aW5nIGJyYW5kaW5nIHV0aWxpdGllcy4nLCBgW1VUSUxJVElFU19GQUNUT1JZXWApO1xuXHRcdFx0dXRpbGl0aWVzLmJyYW5kID0gYnJhbmRpbmdVdGlsaXRpZXNGYWN0b3J5KFxuXHRcdFx0XHRzZXJ2aWNlcyxcblx0XHRcdFx0dXRpbGl0aWVzLnZhbGlkYXRlXG5cdFx0XHQpO1xuXG5cdFx0XHRsb2cuaW5mbyhcblx0XHRcdFx0J0luaXRpYWxpemluZyBhZGp1c3RtZW50IHV0aWxpdGllcy4nLFxuXHRcdFx0XHRgW1VUSUxJVElFU19GQUNUT1JZXWBcblx0XHRcdCk7XG5cdFx0XHR1dGlsaXRpZXMuYWRqdXN0ID0gYWRqdXN0bWVudFV0aWxpdGllc0ZhY3RvcnkoXG5cdFx0XHRcdHV0aWxpdGllcy5icmFuZCxcblx0XHRcdFx0c2VydmljZXMsXG5cdFx0XHRcdHV0aWxpdGllcy52YWxpZGF0ZVxuXHRcdFx0KTtcblxuXHRcdFx0bG9nLmluZm8oXG5cdFx0XHRcdCdJbml0aWFsaXppbmcgZm9ybWF0dGluZyB1dGlsaXRpZXMuJyxcblx0XHRcdFx0YFtVVElMSVRJRVNfRkFDVE9SWV1gXG5cdFx0XHQpO1xuXHRcdFx0dXRpbGl0aWVzLmZvcm1hdCA9IGZvcm1hdHRpbmdVdGlsaXRpZXNGYWN0b3J5KFxuXHRcdFx0XHR1dGlsaXRpZXMuYnJhbmQsXG5cdFx0XHRcdHNlcnZpY2VzLFxuXHRcdFx0XHR1dGlsaXRpZXMudmFsaWRhdGVcblx0XHRcdCk7XG5cblx0XHRcdGxvZy5pbmZvKFxuXHRcdFx0XHQnSW5pdGlhbGl6aW5nIHNhbml0YXRpb24gdXRpbGl0aWVzLicsXG5cdFx0XHRcdGBbVVRJTElUSUVTX0ZBQ1RPUlldYFxuXHRcdFx0KTtcblx0XHRcdHV0aWxpdGllcy5zYW5pdGl6ZSA9IHNhbml0YXRpb25VdGlsaXRpZXNGYWN0b3J5KFxuXHRcdFx0XHR1dGlsaXRpZXMuYnJhbmQsXG5cdFx0XHRcdHNlcnZpY2VzLFxuXHRcdFx0XHR1dGlsaXRpZXMudmFsaWRhdGVcblx0XHRcdCk7XG5cblx0XHRcdC8vIDcuIEluaXRpYWxpemUgY29sb3IgdXRpbGl0aWVzXG5cdFx0XHRsb2cuaW5mbygnSW5pdGlhbGl6aW5nIGNvbG9yIHV0aWxpdGllcy4nLCBgW1VUSUxJVElFU19GQUNUT1JZXWApO1xuXHRcdFx0dXRpbGl0aWVzLmNvbG9yID0gYXdhaXQgY29sb3JVdGlsaXRpZXNGYWN0b3J5KFxuXHRcdFx0XHR1dGlsaXRpZXMuYWRqdXN0LFxuXHRcdFx0XHR1dGlsaXRpZXMuYnJhbmQsXG5cdFx0XHRcdHV0aWxpdGllcy5mb3JtYXQsXG5cdFx0XHRcdGhlbHBlcnMsXG5cdFx0XHRcdHV0aWxpdGllcy5zYW5pdGl6ZSxcblx0XHRcdFx0c2VydmljZXMsXG5cdFx0XHRcdHV0aWxpdGllcy52YWxpZGF0ZVxuXHRcdFx0KTtcblxuXHRcdFx0Ly8gOC4gSW5pdGlhbGl6ZSBET00gdXRpbGl0aWVzXG5cdFx0XHRsb2cuaW5mbygnSW5pdGlhbGl6aW5nIERPTSB1dGlsaXRpZXMuJywgYFtVVElMSVRJRVNfRkFDVE9SWV1gKTtcblx0XHRcdHV0aWxpdGllcy5kb20gPSBhd2FpdCBkb21VdGlsaXRpZXNGYWN0b3J5KFxuXHRcdFx0XHR1dGlsaXRpZXMuYnJhbmQsXG5cdFx0XHRcdHV0aWxpdGllcy5jb2xvcixcblx0XHRcdFx0aGVscGVycyxcblx0XHRcdFx0c2VydmljZXMsXG5cdFx0XHRcdHV0aWxpdGllcy52YWxpZGF0ZVxuXHRcdFx0KTtcblxuXHRcdFx0bG9nLmluZm8oJ0luaXRpYWxpemluZyBwYWxldHRlIHV0aWxpdGllcy4nLCBgW1VUSUxJVElFU19GQUNUT1JZXWApO1xuXHRcdFx0dXRpbGl0aWVzLnBhbGV0dGUgPSBwYWxldHRlVXRpbGl0aWVzRmFjdG9yeShcblx0XHRcdFx0dXRpbGl0aWVzLmJyYW5kLFxuXHRcdFx0XHR1dGlsaXRpZXMuY29sb3IsXG5cdFx0XHRcdHV0aWxpdGllcy5kb20sXG5cdFx0XHRcdGhlbHBlcnMsXG5cdFx0XHRcdHNlcnZpY2VzLFxuXHRcdFx0XHR1dGlsaXRpZXMudmFsaWRhdGVcblx0XHRcdCk7XG5cblx0XHRcdGxvZy5pbmZvKFxuXHRcdFx0XHQnVXRpbGl0aWVzIGluaXRpYWxpemVkIHN1Y2Nlc3NmdWxseS4nLFxuXHRcdFx0XHRgW1VUSUxJVElFU19GQUNUT1JZXWBcblx0XHRcdCk7XG5cblx0XHRcdHJldHVybiB1dGlsaXRpZXMgYXMgUmVxdWlyZWQ8VXRpbGl0aWVzPjtcblx0XHR9LFxuXHRcdCdFcnJvciBpbml0aWFsaXppbmcgdXRpbGl0aWVzJyxcblx0XHR7IGNvbnRleHQ6IHsgdXRpbGl0aWVzIH0gfVxuXHQpO1xufVxuIl19