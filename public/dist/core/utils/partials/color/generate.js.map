{"version":3,"file":"generate.js","sources":["../../../../../../../src/core/utils/partials/color/generate.ts"],"sourcesContent":["// File: core/utils/partials/color/generate.ts\n\nimport {\n\tColorGenerationUtilities,\n\tHSL,\n\tSL,\n\tSanitationUtilities,\n\tServices,\n\tValidationUtilities\n} from '../../../../types/index.js';\nimport { defaults } from '../../../../config/index.js';\n\nconst defaultColors = defaults.colors;\n\nexport function colorGenerationUtilitiesFactory(\n\tsanitize: SanitationUtilities,\n\tservices: Services,\n\tvalidate: ValidationUtilities\n): ColorGenerationUtilities {\n\tconst { errors, log } = services;\n\n\tfunction generateRandomHSL(): HSL {\n\t\treturn errors.handleSync(() => {\n\t\t\tconst hsl: HSL = {\n\t\t\t\tvalue: {\n\t\t\t\t\thue: sanitize.radial(Math.floor(Math.random() * 360)),\n\t\t\t\t\tsaturation: sanitize.percentile(Math.floor(Math.random() * 101)),\n\t\t\t\t\tlightness: sanitize.percentile(Math.floor(Math.random() * 101))\n\t\t\t\t},\n\t\t\t\tformat: 'hsl'\n\t\t\t};\n\n\t\t\tif (!validate.colorValue(hsl)) {\n\t\t\t\tlog.error(\n\t\t\t\t\t`Invalid random HSL color value ${JSON.stringify(hsl)}`,\n\t\t\t\t\t`generateRandomHSL`\n\t\t\t\t);\n\n\t\t\t\treturn defaultColors.hsl;\n\t\t\t}\n\n\t\t\tlog.debug(\n\t\t\t\t`Generated randomHSL: ${JSON.stringify(hsl)}`,\n\t\t\t\t`generateRandomHSL`\n\t\t\t);\n\n\t\t\treturn hsl;\n\t\t}, 'Error generating random HSL color.');\n\t}\n\n\tfunction generateRandomSL(): SL {\n\t\treturn errors.handleSync(() => {\n\t\t\tconst sl: SL = {\n\t\t\t\tvalue: {\n\t\t\t\t\tsaturation: sanitize.percentile(\n\t\t\t\t\t\tMath.max(0, Math.min(100, Math.random() * 100))\n\t\t\t\t\t),\n\t\t\t\t\tlightness: sanitize.percentile(\n\t\t\t\t\t\tMath.max(0, Math.min(100, Math.random() * 100))\n\t\t\t\t\t)\n\t\t\t\t},\n\t\t\t\tformat: 'sl'\n\t\t\t};\n\n\t\t\tif (!validate.colorValue(sl as SL)) {\n\t\t\t\tlog.error(\n\t\t\t\t\t`Invalid random SV color value ${JSON.stringify(sl)}`,\n\t\t\t\t\t`generateRandomSL`\n\t\t\t\t);\n\n\t\t\t\treturn defaultColors.sl;\n\t\t\t}\n\n\t\t\tlog.debug(\n\t\t\t\t`Generated randomSL: ${JSON.stringify(sl)}`,\n\t\t\t\t`generateRandomSL`\n\t\t\t);\n\n\t\t\treturn sl;\n\t\t}, 'Error generating random SL color');\n\t}\n\n\tconst colorGenerationUtilities: ColorGenerationUtilities = {\n\t\tgenerateRandomHSL,\n\t\tgenerateRandomSL\n\t};\n\n\treturn errors.handleSync(\n\t\t() => colorGenerationUtilities,\n\t\t'Error creating color generation sub-utilities group.'\n\t);\n}\n"],"names":[],"mappings":";;;AAAA;AAYA,MAAM,aAAa,GAAG,QAAQ,CAAC,MAAM;SAErB,+BAA+B,CAC9C,QAA6B,EAC7B,QAAkB,EAClB,QAA6B,EAAA;AAE7B,IAAA,MAAM,EAAE,MAAM,EAAE,GAAG,EAAE,GAAG,QAAQ;AAEhC,IAAA,SAAS,iBAAiB,GAAA;AACzB,QAAA,OAAO,MAAM,CAAC,UAAU,CAAC,MAAK;AAC7B,YAAA,MAAM,GAAG,GAAQ;AAChB,gBAAA,KAAK,EAAE;AACN,oBAAA,GAAG,EAAE,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,GAAG,CAAC,CAAC;AACrD,oBAAA,UAAU,EAAE,QAAQ,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,GAAG,CAAC,CAAC;AAChE,oBAAA,SAAS,EAAE,QAAQ,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,GAAG,CAAC;AAC9D,iBAAA;AACD,gBAAA,MAAM,EAAE;aACR;YAED,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,GAAG,CAAC,EAAE;AAC9B,gBAAA,GAAG,CAAC,KAAK,CACR,CAAA,+BAAA,EAAkC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAA,CAAE,EACvD,CAAA,iBAAA,CAAmB,CACnB;gBAED,OAAO,aAAa,CAAC,GAAG;;AAGzB,YAAA,GAAG,CAAC,KAAK,CACR,CAAA,qBAAA,EAAwB,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAA,CAAE,EAC7C,CAAA,iBAAA,CAAmB,CACnB;AAED,YAAA,OAAO,GAAG;SACV,EAAE,oCAAoC,CAAC;;AAGzC,IAAA,SAAS,gBAAgB,GAAA;AACxB,QAAA,OAAO,MAAM,CAAC,UAAU,CAAC,MAAK;AAC7B,YAAA,MAAM,EAAE,GAAO;AACd,gBAAA,KAAK,EAAE;oBACN,UAAU,EAAE,QAAQ,CAAC,UAAU,CAC9B,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,IAAI,CAAC,MAAM,EAAE,GAAG,GAAG,CAAC,CAAC,CAC/C;oBACD,SAAS,EAAE,QAAQ,CAAC,UAAU,CAC7B,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,IAAI,CAAC,MAAM,EAAE,GAAG,GAAG,CAAC,CAAC;AAEhD,iBAAA;AACD,gBAAA,MAAM,EAAE;aACR;YAED,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,EAAQ,CAAC,EAAE;AACnC,gBAAA,GAAG,CAAC,KAAK,CACR,CAAA,8BAAA,EAAiC,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,CAAA,CAAE,EACrD,CAAA,gBAAA,CAAkB,CAClB;gBAED,OAAO,aAAa,CAAC,EAAE;;AAGxB,YAAA,GAAG,CAAC,KAAK,CACR,CAAA,oBAAA,EAAuB,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,CAAA,CAAE,EAC3C,CAAA,gBAAA,CAAkB,CAClB;AAED,YAAA,OAAO,EAAE;SACT,EAAE,kCAAkC,CAAC;;AAGvC,IAAA,MAAM,wBAAwB,GAA6B;QAC1D,iBAAiB;QACjB;KACA;IAED,OAAO,MAAM,CAAC,UAAU,CACvB,MAAM,wBAAwB,EAC9B,sDAAsD,CACtD;AACF;;;;"}