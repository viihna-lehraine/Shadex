{"version":3,"file":"brand.js","sources":["../../../../../../../src/core/utils/partials/color/brand.ts"],"sourcesContent":["import {\n\tBrandingUtilities,\n\tCMYK,\n\tCMYKStringMap,\n\tColor,\n\tColorBrandUtilities,\n\tColorStringMap,\n\tHelpers,\n\tHex,\n\tHexStringMap,\n\tHSL,\n\tHSLStringMap,\n\tHSV,\n\tHSVStringMap,\n\tLAB,\n\tLABStringMap,\n\tRGB,\n\tRGBStringMap,\n\tServices,\n\tSL,\n\tSV,\n\tXYZ,\n\tXYZStringMap\n} from '../../../../types/index.js';\nimport { defaults } from '../../../../config/index.js';\n\nconst defaultColors = defaults.colors;\n\nexport function colorBrandingUtilitiesFactory(\n\tbrand: BrandingUtilities, helpers: Helpers, services: Services\n): ColorBrandUtilities {\n\tconst { data: { deepClone, parseValue } } = helpers;\n\tconst { errors, log } = services;\n\n\tfunction brandCMYKString(\n\t\tcmyk: CMYKStringMap['value']\n\t): CMYK['value'] {\n\t\treturn errors.handleSync(() => {\n\t\t\treturn {\n\t\t\t\tcyan: brand.asPercentile(parseFloat(cmyk.cyan) / 100),\n\t\t\t\tmagenta: brand.asPercentile(parseFloat(cmyk.magenta) / 100),\n\t\t\t\tyellow: brand.asPercentile(parseFloat(cmyk.yellow) / 100),\n\t\t\t\tkey: brand.asPercentile(parseFloat(cmyk.key) / 100)\n\t\t\t};\n\t\t}, 'Error occurred while branding CMYK string.');\n\t}\n\n\tfunction brandColorString(color: ColorStringMap): Color {\n\t\treturn errors.handleSync(() => {\n\t\t\tconst clonedColor = deepClone(color);\n\n\t\t\tconst newValue = Object.entries(clonedColor.value).reduce(\n\t\t\t\t(acc, [key, val]) => {\n\t\t\t\t\tacc[key as keyof (typeof clonedColor)['value']] =\n\t\t\t\t\t\tparseValue(val) as never;\n\n\t\t\t\t\treturn acc;\n\t\t\t\t},\n\t\t\t\t{} as Record<keyof (typeof clonedColor)['value'], number>\n\t\t\t);\n\n\t\t\tswitch (clonedColor.format) {\n\t\t\t\tcase 'cmyk':\n\t\t\t\t\treturn { format: 'cmyk', value: newValue as CMYK['value'] };\n\t\t\t\tcase 'hsl':\n\t\t\t\t\treturn { format: 'hsl', value: newValue as HSL['value'] };\n\t\t\t\tcase 'hsv':\n\t\t\t\t\treturn { format: 'hsv', value: newValue as HSV['value'] };\n\t\t\t\tcase 'sl':\n\t\t\t\t\treturn { format: 'sl', value: newValue as SL['value'] };\n\t\t\t\tcase 'sv':\n\t\t\t\t\treturn { format: 'sv', value: newValue as SV['value'] };\n\t\t\t\tdefault:\n\t\t\t\t\tlog.error(\n\t\t\t\t\t\t'Unsupported format for colorStringToColor',\n\t\t\t\t\t\t'utils.color.brandColorString',\n\t\t\t\t\t);\n\n\t\t\t\t\tconst unbrandedHSL = defaultColors.hsl;\n\n\t\t\t\t\tconst brandedHue = brand.asRadial(\n\t\t\t\t\t\tunbrandedHSL.value.hue\n\t\t\t\t\t);\n\t\t\t\t\tconst brandedSaturation = brand.asPercentile(\n\t\t\t\t\t\tunbrandedHSL.value.saturation\n\t\t\t\t\t);\n\t\t\t\t\tconst brandedLightness = brand.asPercentile(\n\t\t\t\t\t\tunbrandedHSL.value.lightness\n\t\t\t\t\t);\n\n\t\t\t\t\treturn {\n\t\t\t\t\t\tvalue: {\n\t\t\t\t\t\t\thue: brandedHue,\n\t\t\t\t\t\t\tsaturation: brandedSaturation,\n\t\t\t\t\t\t\tlightness: brandedLightness\n\t\t\t\t\t\t},\n\t\t\t\t\t\tformat: 'hsl'\n\t\t\t\t\t};\n\t\t\t}\n\t\t}, 'Error occurred while branding color string map value.');\n\t}\n\n\tfunction brandHexString(hex: HexStringMap['value']): Hex['value'] {\n\t\treturn errors.handleSync(() => {\n\t\t\treturn { hex: brand.asHexSet(hex.hex) };\n\t\t}, 'Error occurred while branding hex string.');\n\t}\n\n\tfunction brandHSLString(\n\t\thsl: HSLStringMap['value']\n\t): HSL['value'] {\n\t\treturn errors.handleSync(() => {\n\t\t\treturn {\n\t\t\t\thue: brand.asRadial(parseFloat(hsl.hue)),\n\t\t\t\tsaturation: brand.asPercentile(\n\t\t\t\t\tparseFloat(hsl.saturation) / 100\n\t\t\t\t),\n\t\t\t\tlightness: brand.asPercentile(\n\t\t\t\t\tparseFloat(hsl.lightness) / 100\n\t\t\t\t)\n\t\t\t};\n\t\t}, 'Error occurred while branding HSL string.');\n\t}\n\n\tfunction brandHSVString(\n\t\thsv: HSVStringMap['value']\n\t): HSV['value'] {\n\t\treturn errors.handleSync(() => {\n\t\t\treturn {\n\t\t\t\thue: brand.asRadial(parseFloat(hsv.hue)),\n\t\t\t\tsaturation: brand.asPercentile(\n\t\t\t\t\tparseFloat(hsv.saturation) / 100\n\t\t\t\t),\n\t\t\t\tvalue: brand.asPercentile(parseFloat(hsv.value) / 100)\n\t\t\t};\n\t\t}, 'Error occurred while branding HSV string.');\n\t}\n\n\tfunction brandLABString(\n\t\tlab: LABStringMap['value']\n\t): LAB['value'] {\n\t\treturn errors.handleSync(() => {\n\t\t\treturn {\n\t\t\t\tl: brand.asLAB_L(parseFloat(lab.l)),\n\t\t\t\ta: brand.asLAB_A(parseFloat(lab.a)),\n\t\t\t\tb: brand.asLAB_B(parseFloat(lab.b))\n\t\t\t};\n\t\t}, 'Error occurred while branding LAB string.');\n\t}\n\n\tfunction brandRGBString(\n\t\trgb: RGBStringMap['value']\n\t): RGB['value'] {\n\t\treturn errors.handleSync(() => {\n\t\t\treturn {\n\t\t\t\tred: brand.asByteRange(parseFloat(rgb.red)),\n\t\t\t\tgreen: brand.asByteRange(parseFloat(rgb.green)),\n\t\t\t\tblue: brand.asByteRange(parseFloat(rgb.blue))\n\t\t\t};\n\t\t}, 'Error occurred while branding RGB string.');\n\t}\n\n\tfunction brandXYZString(xyz: XYZStringMap['value']): XYZ['value'] {\n\t\treturn errors.handleSync(() => {\n\t\t\treturn {\n\t\t\t\tx: brand.asXYZ_X(parseFloat(xyz.x)),\n\t\t\t\ty: brand.asXYZ_Y(parseFloat(xyz.y)),\n\t\t\t\tz: brand.asXYZ_Z(parseFloat(xyz.z))\n\t\t\t};\n\t\t}, 'Error occurred while branding XYZ string.');\n\t}\n\n\tconst colorBrandingUtilities: ColorBrandUtilities = {\n\t\tbrandCMYKString,\n\t\tbrandColorString,\n\t\tbrandHexString,\n\t\tbrandHSLString,\n\t\tbrandHSVString,\n\t\tbrandLABString,\n\t\tbrandRGBString,\n\t\tbrandXYZString\n\t};\n\n\treturn errors.handleSync(() => colorBrandingUtilities, 'Error creating color branding utilities sub-group.');\n}\n"],"names":[],"mappings":"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"}