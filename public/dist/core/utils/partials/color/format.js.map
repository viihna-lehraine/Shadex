{"version":3,"file":"format.js","sources":["../../../../../../../src/core/utils/partials/color/format.ts"],"sourcesContent":["// File: core/utils/partials/color/format.ts\n\nimport {\n\tCMYK,\n\tCMYKStringMap,\n\tColor,\n\tColorFormatUtilities,\n\tColorStringMap,\n\tFormattingUtilities,\n\tHelpers,\n\tHex,\n\tHexStringMap,\n\tHSL,\n\tHSLStringMap,\n\tHSV,\n\tHSVStringMap,\n\tLAB,\n\tLABStringMap,\n\tRGB,\n\tRGBStringMap,\n\tServices,\n\tSL,\n\tSV,\n\tXYZ,\n\tXYZStringMap\n} from '../../../../types/index.js';\nimport { defaults, regex } from '../../../../config/index.js';\n\nconst defaultColors = defaults.colors;\n\nexport function colorFormattingUtilitiesFactory(\n\tformat: FormattingUtilities,\n\thelpers: Helpers,\n\tservices: Services\n): ColorFormatUtilities {\n\tconst {\n\t\tdata: { deepClone },\n\t\ttypeGuards\n\t} = helpers;\n\tconst { errors, log } = services;\n\n\tfunction formatColorAsCSS(color: Color): string {\n\t\terrors.handleSync(() => {\n\t\t\tswitch (color.format) {\n\t\t\t\tcase 'cmyk':\n\t\t\t\t\treturn `cmyk(${color.value.cyan}, ${color.value.magenta}, ${color.value.yellow}, ${color.value.key})`;\n\t\t\t\tcase 'hex':\n\t\t\t\t\treturn String(color.value.hex);\n\t\t\t\tcase 'hsl':\n\t\t\t\t\treturn `hsl(${Math.round(color.value.hue)},\n\t\t\t\t\t\t\t\t${Math.round(color.value.saturation)}%,\n\t\t\t\t\t\t\t\t${Math.round(color.value.lightness)}%)`;\n\t\t\t\tcase 'hsv':\n\t\t\t\t\treturn `hsv(${color.value.hue}, ${color.value.saturation}%, ${color.value.value}%)`;\n\t\t\t\tcase 'lab':\n\t\t\t\t\treturn `lab(${color.value.l}, ${color.value.a}, ${color.value.b})`;\n\t\t\t\tcase 'rgb':\n\t\t\t\t\treturn `rgb(${color.value.red}, ${color.value.green}, ${color.value.blue})`;\n\t\t\t\tcase 'xyz':\n\t\t\t\t\treturn `xyz(${color.value.x}, ${color.value.y}, ${color.value.z})`;\n\t\t\t\tdefault:\n\t\t\t\t\tconsole.error(`Unexpected color format: ${color.format}`);\n\n\t\t\t\t\treturn defaults.colors.hexCSS;\n\t\t\t}\n\t\t}, 'Error formatting color as CSS');\n\t\treturn defaults.colors.hexCSS;\n\t}\n\n\tfunction formatColorAsStringMap(color: Color): ColorStringMap {\n\t\terrors.handleSync(() => {\n\t\t\tconst clonedColor = deepClone(color);\n\n\t\t\tif (typeGuards.isHex(clonedColor)) {\n\t\t\t\treturn {\n\t\t\t\t\tformat: 'hex',\n\t\t\t\t\tvalue: {\n\t\t\t\t\t\thex: `${clonedColor.value.hex}`\n\t\t\t\t\t} as HexStringMap['value']\n\t\t\t\t};\n\t\t\t} else if (typeGuards.isColorStringMap(clonedColor)) {\n\t\t\t\tlog.info(\n\t\t\t\t\t`Already formatted as color string: ${JSON.stringify(color)}`,\n\t\t\t\t\t`formatColorAsStringMap`\n\t\t\t\t);\n\n\t\t\t\treturn clonedColor;\n\t\t\t} else if (typeGuards.isCMYK(clonedColor)) {\n\t\t\t\tconst newValue = format.formatPercentageValues(\n\t\t\t\t\tclonedColor.value\n\t\t\t\t) as CMYK['value'];\n\n\t\t\t\treturn {\n\t\t\t\t\tformat: 'cmyk',\n\t\t\t\t\tvalue: {\n\t\t\t\t\t\tcyan: `${newValue.cyan}%`,\n\t\t\t\t\t\tmagenta: `${newValue.magenta}%`,\n\t\t\t\t\t\tyellow: `${newValue.yellow}%`,\n\t\t\t\t\t\tkey: `${newValue.key}%`\n\t\t\t\t\t} as CMYKStringMap['value']\n\t\t\t\t};\n\t\t\t} else if (typeGuards.isHSL(clonedColor)) {\n\t\t\t\tconst newValue = format.formatPercentageValues(\n\t\t\t\t\tclonedColor.value\n\t\t\t\t) as HSL['value'];\n\n\t\t\t\treturn {\n\t\t\t\t\tformat: 'hsl',\n\t\t\t\t\tvalue: {\n\t\t\t\t\t\thue: `${newValue.hue}`,\n\t\t\t\t\t\tsaturation: `${newValue.saturation}%`,\n\t\t\t\t\t\tlightness: `${newValue.lightness}%`\n\t\t\t\t\t} as HSLStringMap['value']\n\t\t\t\t};\n\t\t\t} else if (typeGuards.isHSV(clonedColor)) {\n\t\t\t\tconst newValue = format.formatPercentageValues(\n\t\t\t\t\tclonedColor.value\n\t\t\t\t) as HSV['value'];\n\n\t\t\t\treturn {\n\t\t\t\t\tformat: 'hsv',\n\t\t\t\t\tvalue: {\n\t\t\t\t\t\thue: `${newValue.hue}`,\n\t\t\t\t\t\tsaturation: `${newValue.saturation}%`,\n\t\t\t\t\t\tvalue: `${newValue.value}%`\n\t\t\t\t\t} as HSVStringMap['value']\n\t\t\t\t};\n\t\t\t} else if (typeGuards.isLAB(clonedColor)) {\n\t\t\t\tconst newValue = format.formatPercentageValues(\n\t\t\t\t\tclonedColor.value\n\t\t\t\t) as LAB['value'];\n\n\t\t\t\treturn {\n\t\t\t\t\tformat: 'lab',\n\t\t\t\t\tvalue: {\n\t\t\t\t\t\tl: `${newValue.l}`,\n\t\t\t\t\t\ta: `${newValue.a}`,\n\t\t\t\t\t\tb: `${newValue.b}`\n\t\t\t\t\t} as LABStringMap['value']\n\t\t\t\t};\n\t\t\t} else if (typeGuards.isRGB(clonedColor)) {\n\t\t\t\tconst newValue = format.formatPercentageValues(\n\t\t\t\t\tclonedColor.value\n\t\t\t\t) as RGB['value'];\n\n\t\t\t\treturn {\n\t\t\t\t\tformat: 'rgb',\n\t\t\t\t\tvalue: {\n\t\t\t\t\t\tred: `${newValue.red}`,\n\t\t\t\t\t\tgreen: `${newValue.green}`,\n\t\t\t\t\t\tblue: `${newValue.blue}`\n\t\t\t\t\t} as RGBStringMap['value']\n\t\t\t\t};\n\t\t\t} else if (typeGuards.isXYZ(clonedColor)) {\n\t\t\t\tconst newValue = format.formatPercentageValues(\n\t\t\t\t\tclonedColor.value\n\t\t\t\t) as XYZ['value'];\n\n\t\t\t\treturn {\n\t\t\t\t\tformat: 'xyz',\n\t\t\t\t\tvalue: {\n\t\t\t\t\t\tx: `${newValue.x}`,\n\t\t\t\t\t\ty: `${newValue.y}`,\n\t\t\t\t\t\tz: `${newValue.z}`\n\t\t\t\t\t} as XYZStringMap['value']\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tlog.warn(\n\t\t\t\t\t`Unsupported format: ${clonedColor.format}`,\n\t\t\t\t\t`formatColorAsStringMap`\n\t\t\t\t);\n\n\t\t\t\treturn defaultColors.hslString;\n\t\t\t}\n\t\t}, 'Error formatting color as string map');\n\t\treturn defaults.colors.hexString;\n\t}\n\n\tfunction formatCSSAsColor(color: string): Exclude<Color, SL | SV> | null {\n\t\terrors.handleSync(() => {\n\t\t\tcolor = color.trim().toLowerCase();\n\n\t\t\tconst cmykMatch = color.match(regex.css.cmyk);\n\t\t\tconst hslMatch = color.match(regex.css.hsl);\n\t\t\tconst hsvMatch = color.match(regex.css.hsv);\n\t\t\tconst labMatch = color.match(regex.css.lab);\n\t\t\tconst rgbMatch = color.match(regex.css.rgb);\n\t\t\tconst xyzMatch = color.match(regex.css.xyz);\n\n\t\t\tif (cmykMatch) {\n\t\t\t\treturn {\n\t\t\t\t\tvalue: {\n\t\t\t\t\t\tcyan: parseInt(cmykMatch[1], 10),\n\t\t\t\t\t\tmagenta: parseInt(cmykMatch[2], 10),\n\t\t\t\t\t\tyellow: parseInt(cmykMatch[3], 10),\n\t\t\t\t\t\tkey: parseInt(cmykMatch[4], 10)\n\t\t\t\t\t},\n\t\t\t\t\tformat: 'cmyk'\n\t\t\t\t} as CMYK;\n\t\t\t}\n\n\t\t\tif (color.startsWith('#')) {\n\t\t\t\tconst hexValue =\n\t\t\t\t\tcolor.length === 7 ? color : format.convertShortHexToLong(color);\n\t\t\t\treturn {\n\t\t\t\t\tvalue: { hex: hexValue },\n\t\t\t\t\tformat: 'hex'\n\t\t\t\t} as Hex;\n\t\t\t}\n\n\t\t\tif (hslMatch) {\n\t\t\t\treturn {\n\t\t\t\t\tvalue: {\n\t\t\t\t\t\thue: parseInt(hslMatch[1], 10),\n\t\t\t\t\t\tsaturation: parseInt(hslMatch[2], 10),\n\t\t\t\t\t\tlightness: parseInt(hslMatch[3], 10)\n\t\t\t\t\t},\n\t\t\t\t\tformat: 'hsl'\n\t\t\t\t} as HSL;\n\t\t\t}\n\n\t\t\tif (hsvMatch) {\n\t\t\t\treturn {\n\t\t\t\t\tvalue: {\n\t\t\t\t\t\thue: parseInt(hsvMatch[1], 10),\n\t\t\t\t\t\tsaturation: parseInt(hsvMatch[2], 10),\n\t\t\t\t\t\tvalue: parseInt(hsvMatch[3], 10)\n\t\t\t\t\t},\n\t\t\t\t\tformat: 'hsv'\n\t\t\t\t} as HSV;\n\t\t\t}\n\n\t\t\tif (labMatch) {\n\t\t\t\treturn {\n\t\t\t\t\tvalue: {\n\t\t\t\t\t\tl: parseFloat(labMatch[1]),\n\t\t\t\t\t\ta: parseFloat(labMatch[2]),\n\t\t\t\t\t\tb: parseFloat(labMatch[3])\n\t\t\t\t\t},\n\t\t\t\t\tformat: 'lab'\n\t\t\t\t} as LAB;\n\t\t\t}\n\n\t\t\tif (rgbMatch) {\n\t\t\t\treturn {\n\t\t\t\t\tvalue: {\n\t\t\t\t\t\tred: parseInt(rgbMatch[1], 10),\n\t\t\t\t\t\tgreen: parseInt(rgbMatch[2], 10),\n\t\t\t\t\t\tblue: parseInt(rgbMatch[3], 10)\n\t\t\t\t\t},\n\t\t\t\t\tformat: 'rgb'\n\t\t\t\t} as RGB;\n\t\t\t}\n\n\t\t\tif (xyzMatch) {\n\t\t\t\treturn {\n\t\t\t\t\tvalue: {\n\t\t\t\t\t\tx: parseFloat(xyzMatch[1]),\n\t\t\t\t\t\ty: parseFloat(xyzMatch[2]),\n\t\t\t\t\t\tz: parseFloat(xyzMatch[3])\n\t\t\t\t\t},\n\t\t\t\t\tformat: 'xyz'\n\t\t\t\t} as XYZ;\n\t\t\t}\n\n\t\t\treturn null;\n\t\t}, 'Error formatting CSS as color');\n\t\treturn null;\n\t}\n\n\tconst colorFormattingUtilities: ColorFormatUtilities = {\n\t\tformatColorAsCSS,\n\t\tformatColorAsStringMap,\n\t\tformatCSSAsColor\n\t};\n\n\treturn errors.handleSync(\n\t\t() => colorFormattingUtilities,\n\t\t'Error creating color formatting utilities sub-group.'\n\t);\n}\n"],"names":[],"mappings":"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"}